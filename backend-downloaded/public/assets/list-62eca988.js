import{e as k,aN as B,Q as I,r,f as L,bF as M,bT as O,bH as m,j as t,X as E,d4 as Q,ao as C,c$ as N,w as T,D as V,aq as H,ca as U,aB as W,m as _,ar as q,as as z,at as G,au as K,d6 as X,bM as Z,bN as $,av as J,bO as Y,bP as ee,W as te}from"./index-b5422eae.js";import{u as se,c as ae,d as oe,e as le}from"./product-shop-details-view-623cad96.js";import"./_baseToString-ddfaf6f7.js";import"./color-picker-e9a3d8c9.js";import"./sumBy-177e2243.js";import"./_baseIteratee-8de60f2f.js";import"./Rating-460f127d.js";import"./Pagination-9e63f5f7.js";import"./use-light-box-03271df8.js";import"./lightbox-bbab6fe8.js";import"./carousel-arrow-index-2fd86e94.js";import"./ResizeObserver.es-eef8c2d8.js";import"./use-carousel-f04f3d9d.js";import"./markdown-6bcee500.js";const ne=[{id:"name",label:"Product"},{id:"createdAt",label:"Create at",width:160},{id:"inventoryType",label:"Stock",width:160},{id:"price",label:"Price",width:140},{id:"publish",label:"Publish",width:110},{id:"",width:88}],re=[{value:"published",label:"Published"},{value:"draft",label:"Draft"}],x={name:"",publish:[],stock:[]},ie=[{value:"AQI05",label:"Vigilante AQS V2 <sub>TM</sub>"},{value:"AQI02",label:"Vigilante AQS V1 <sub>TM</sub>"},{value:"PSW01",label:"Plexus PowerNet <sub>TM</sub>"},{value:"AQI04",label:"Zephyr AQS <sub>TM</sub>"},{value:"MRQ05",label:"SuperBrite <sub>TM</sub> Marquee Display"},{value:"MOD05",label:"ModuDrive"}];function de(){const o=k(),e=B(),P=I(),[l,c]=r.useState([]),[i,h]=r.useState(x),{products:a,productsLoading:u,productsEmpty:b}=se(),g=L();r.useEffect(()=>{a.length&&c(a)},[a]);const d=ce({inputData:l,comparator:M(e.order,e.orderBy),filters:i}),p=d.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage),R=e.dense?60:80,j=!O(x,i),S=!d.length&&j||b,f=r.useCallback((s,n)=>{e.onResetPage(),h(w=>({...w,[s]:n}))},[e]),v=r.useCallback(s=>{const n=l.filter(w=>w.id!==s);c(n),e.onUpdatePageDeleteRow(p.length)},[p.length,e,l]),y=r.useCallback(()=>{const s=l.filter(n=>!e.selected.includes(n.id));c(s),e.onUpdatePageDeleteRows({totalRows:l.length,totalRowsInPage:p.length,totalRowsFiltered:d.length})},[d.length,p.length,e,l]),D=r.useCallback(s=>{o.push(m.dashboard.product.edit(s))},[o]),F=r.useCallback(s=>{o.push(m.dashboard.product.details(s))},[o]),A=r.useCallback(()=>{h(x)},[]);return t.jsxs(t.Fragment,{children:[t.jsxs(E,{maxWidth:P.themeStretch?!1:"lg",children:[t.jsx(Q,{heading:"Devices",links:[{name:"Device Management",href:m.dashboard.root},{name:"Device List"}],action:t.jsx(C,{component:N,href:m.dashboard.product.new,variant:"contained",startIcon:t.jsx(T,{icon:"mingcute:add-line"}),children:"New Device"}),sx:{mb:{xs:3,md:5}}}),t.jsxs(V,{children:[t.jsx(ae,{filters:i,onFilters:f,stockOptions:ie,publishOptions:re}),j&&t.jsx(oe,{filters:i,onFilters:f,onResetFilters:A,results:d.length,sx:{p:2.5,pt:0}}),t.jsxs(H,{sx:{position:"relative",overflow:"unset"},children:[t.jsx(U,{dense:e.dense,numSelected:e.selected.length,rowCount:l.length,onSelectAllRows:s=>e.onSelectAllRows(s,l.map(n=>n.id)),action:t.jsx(W,{title:"Delete",children:t.jsx(_,{color:"primary",onClick:g.onTrue,children:t.jsx(T,{icon:"solar:trash-bin-trash-bold"})})})}),t.jsx(q,{children:t.jsxs(z,{size:e.dense?"small":"medium",sx:{minWidth:960},children:[t.jsx(G,{order:e.order,orderBy:e.orderBy,headLabel:ne,rowCount:l.length,numSelected:e.selected.length,onSort:e.onSort,onSelectAllRows:s=>e.onSelectAllRows(s,l.map(n=>n.id))}),t.jsxs(K,{children:[u?[...Array(e.rowsPerPage)].map((s,n)=>t.jsx(X,{sx:{height:R}},n)):t.jsx(t.Fragment,{children:d.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage).map(s=>t.jsx(le,{row:s,selected:e.selected.includes(s.id),onSelectRow:()=>e.onSelectRow(s.id),onDeleteRow:()=>v(s.id),onEditRow:()=>D(s.id),onViewRow:()=>F(s.id)},s.id))}),t.jsx(Z,{height:R,emptyRows:$(e.page,e.rowsPerPage,l.length)}),t.jsx(J,{notFound:S})]})]})})]}),t.jsx(Y,{count:d.length,page:e.page,rowsPerPage:e.rowsPerPage,onPageChange:e.onChangePage,onRowsPerPageChange:e.onChangeRowsPerPage,dense:e.dense,onChangeDense:e.onChangeDense})]})]}),t.jsx(ee,{open:g.value,onClose:g.onFalse,title:"Delete",content:t.jsxs(t.Fragment,{children:["Are you sure want to delete ",t.jsxs("strong",{children:[" ",e.selected.length," "]})," items?"]}),action:t.jsx(C,{variant:"contained",color:"error",onClick:()=>{y(),g.onFalse()},children:"Delete"})})]})}function ce({inputData:o,comparator:e,filters:P}){const{name:l,stock:c,publish:i}=P,h=o.map((a,u)=>[a,u]);return h.sort((a,u)=>{const b=e(a[0],u[0]);return b!==0?b:a[1]-u[1]}),o=h.map(a=>a[0]),l&&(o=o.filter(a=>a.name.toLowerCase().indexOf(l.toLowerCase())!==-1)),c.length&&(o=o.filter(a=>c.includes(a.inventoryType))),i.length&&(o=o.filter(a=>i.includes(a.publish))),o}function Se(){return t.jsxs(t.Fragment,{children:[t.jsx(te,{children:t.jsx("title",{children:" Dashboard: Product List"})}),t.jsx(de,{})]})}export{Se as default};
