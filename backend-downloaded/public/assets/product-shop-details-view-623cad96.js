import{d7 as Fe,d8 as qe,r as u,N as ze,e as Ee,bG as hs,d as ms,g as B,h as z,d9 as ge,da as ne,db as ye,i as de,bH as E,j as e,Z as C,T as b,D as G,C as se,S as c,B as g,R as S,dc as Ae,dd as us,de as fe,df as bs,dg as js,dh as gs,di as ys,_ as ae,dj as fs,dk as vs,aw as Q,dl as ve,F as xe,o as We,dm as ws,dn as Cs,I as H,ba as we,cn as Ce,L as pe,q as n,Q as Ne,X as Ve,d4 as ks,be as F,f as $e,s as he,aA as Ts,az as W,bb as ie,aj as me,aC as te,aD as U,V as ke,cx as Ue,cw as re,aE as oe,m as V,w as m,y as ue,M as D,bP as Ss,ao as A,bV as Te,bW as Se,bX as Ie,bZ as Re,bU as Is,P as Rs,dp as Ls,aH as Ds,aI as Os,bA as Fs,dq as Me,dr as qs,bY as zs,c8 as le,bc as be,ds as Es,c$ as _,aB as Le,b as As,cv as Ws,K as Ns,cu as Vs,aV as $s,dt as Us,aJ as Ms,aK as Bs}from"./index-b5422eae.js";import{a as Gs}from"./color-picker-e9a3d8c9.js";import{s as Hs}from"./sumBy-177e2243.js";import{R as Y}from"./Rating-460f127d.js";import{P as _s,p as Qs}from"./Pagination-9e63f5f7.js";import{u as Ys}from"./use-light-box-03271df8.js";import{L as Zs}from"./lightbox-bbab6fe8.js";import{a as De,c as Ks}from"./carousel-arrow-index-2fd86e94.js";import{u as Oe}from"./use-carousel-f04f3d9d.js";import{M as Xs}from"./markdown-6bcee500.js";function gn(){const s=ze.product.list,{data:a,isLoading:t,error:o,isValidating:r}=Fe(s,qe);return u.useMemo(()=>{var h;return{products:(a==null?void 0:a.products)||[],productsLoading:t,productsError:o,productsValidating:r,productsEmpty:!t&&!((h=a==null?void 0:a.products)!=null&&h.length)}},[a==null?void 0:a.products,o,t,r])}function Be(s){const a=s?[ze.product.details,{params:{productId:s}}]:null,{data:t,isLoading:o,error:r,isValidating:d}=Fe(a,qe);return u.useMemo(()=>({product:t==null?void 0:t.product,productLoading:o,productError:r,productValidating:d}),[t==null?void 0:t.product,r,o,d])}function Ge({currentProduct:s}){const a=Ee(),t=hs("up","md"),{enqueueSnackbar:o}=ms(),[r,d]=u.useState(!1),h=B().shape({name:z().required("Name is required"),images:ge().min(1,"Images is required"),tags:ge().min(2,"Must have at least 2 tags"),category:z().required("Category is required"),price:ne().moreThan(0,"Price should not be $0.00"),description:z().required("Description is required"),taxes:ne(),newLabel:B().shape({enabled:ye(),content:z()}),saleLabel:B().shape({enabled:ye(),content:z()})}),x=u.useMemo(()=>({name:(s==null?void 0:s.name)||"",description:(s==null?void 0:s.description)||"",subDescription:(s==null?void 0:s.subDescription)||"",images:(s==null?void 0:s.images)||[],code:(s==null?void 0:s.code)||"",sku:(s==null?void 0:s.sku)||"",price:(s==null?void 0:s.price)||0,quantity:(s==null?void 0:s.quantity)||0,priceSale:(s==null?void 0:s.priceSale)||0,tags:(s==null?void 0:s.tags)||[],taxes:(s==null?void 0:s.taxes)||0,gender:(s==null?void 0:s.gender)||"",category:(s==null?void 0:s.category)||"",colors:(s==null?void 0:s.colors)||[],sizes:(s==null?void 0:s.sizes)||[],newLabel:(s==null?void 0:s.newLabel)||{enabled:!1,content:""},saleLabel:(s==null?void 0:s.saleLabel)||{enabled:!1,content:""}}),[s]),i=de({resolver:We(h),defaultValues:x}),{reset:l,watch:k,setValue:v,handleSubmit:I,formState:{isSubmitting:w}}=i,p=k();u.useEffect(()=>{s&&l(x)},[s,x,l]),u.useEffect(()=>{r?v("taxes",0):v("taxes",(s==null?void 0:s.taxes)||0)},[s==null?void 0:s.taxes,r,v]);const R=I(async j=>{try{await new Promise(y=>setTimeout(y,500)),l(),o(s?"Update success!":"Create success!"),a.push(E.dashboard.product.root),console.info("DATA",j)}catch(y){console.error(y)}}),T=u.useCallback(j=>{const y=p.images||[],O=j.map(q=>Object.assign(q,{preview:URL.createObjectURL(q)}));v("images",[...y,...O],{shouldValidate:!0})},[v,p.images]),Z=u.useCallback(j=>{var O;const y=p.images&&((O=p.images)==null?void 0:O.filter(q=>q!==j));v("images",y)},[v,p.images]),K=u.useCallback(()=>{v("images",[])},[v]),$=u.useCallback(j=>{d(j.target.checked)},[]),X=e.jsxs(e.Fragment,{children:[t&&e.jsxs(C,{md:4,children:[e.jsx(b,{variant:"h6",sx:{mb:.5},children:"Details"}),e.jsx(b,{variant:"body2",sx:{color:"text.secondary"},children:"Title, short description, image..."})]}),e.jsx(C,{xs:12,md:8,children:e.jsxs(G,{children:[!t&&e.jsx(se,{title:"Details"}),e.jsxs(c,{spacing:3,sx:{p:3},children:[e.jsx(S,{name:"name",label:"Product Name"}),e.jsx(S,{name:"subDescription",label:"Sub Description",multiline:!0,rows:4}),e.jsxs(c,{spacing:1.5,children:[e.jsx(b,{variant:"subtitle2",children:"Content"}),e.jsx(ws,{simple:!0,name:"description"})]}),e.jsxs(c,{spacing:1.5,children:[e.jsx(b,{variant:"subtitle2",children:"Images"}),e.jsx(Cs,{multiple:!0,thumbnail:!0,name:"images",maxSize:3145728,onDrop:T,onRemove:Z,onRemoveAll:K,onUpload:()=>console.info("ON UPLOAD")})]})]})]})})]}),J=e.jsxs(e.Fragment,{children:[t&&e.jsxs(C,{md:4,children:[e.jsx(b,{variant:"h6",sx:{mb:.5},children:"Properties"}),e.jsx(b,{variant:"body2",sx:{color:"text.secondary"},children:"Additional functions and attributes..."})]}),e.jsx(C,{xs:12,md:8,children:e.jsxs(G,{children:[!t&&e.jsx(se,{title:"Properties"}),e.jsxs(c,{spacing:3,sx:{p:3},children:[e.jsxs(g,{columnGap:2,rowGap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)"},children:[e.jsx(S,{name:"code",label:"Product Code"}),e.jsx(S,{name:"sku",label:"Product SKU"}),e.jsx(S,{name:"quantity",label:"Quantity",placeholder:"0",type:"number",InputLabelProps:{shrink:!0}}),e.jsx(Ae,{native:!0,name:"category",label:"Category",InputLabelProps:{shrink:!0},children:us.map(j=>e.jsx("optgroup",{label:j.group,children:j.classify.map(y=>e.jsx("option",{value:y,children:y},y))},j.group))}),e.jsx(fe,{checkbox:!0,name:"colors",label:"Colors",options:bs}),e.jsx(fe,{checkbox:!0,name:"sizes",label:"Sizes",options:js})]}),e.jsx(gs,{name:"tags",label:"Tags",placeholder:"+ Tags",multiple:!0,freeSolo:!0,options:ys.map(j=>j),getOptionLabel:j=>j,renderOption:(j,y)=>u.createElement("li",{...j,key:y},y),renderTags:(j,y)=>j.map((O,q)=>u.createElement(ae,{...y({index:q}),key:O,label:O,size:"small",color:"info",variant:"soft"}))}),e.jsxs(c,{spacing:1,children:[e.jsx(b,{variant:"subtitle2",children:"Gender"}),e.jsx(fs,{row:!0,name:"gender",spacing:2,options:vs})]}),e.jsx(Q,{sx:{borderStyle:"dashed"}}),e.jsxs(c,{direction:"row",alignItems:"center",spacing:3,children:[e.jsx(ve,{name:"saleLabel.enabled",label:null,sx:{m:0}}),e.jsx(S,{name:"saleLabel.content",label:"Sale Label",fullWidth:!0,disabled:!p.saleLabel.enabled})]}),e.jsxs(c,{direction:"row",alignItems:"center",spacing:3,children:[e.jsx(ve,{name:"newLabel.enabled",label:null,sx:{m:0}}),e.jsx(S,{name:"newLabel.content",label:"New Label",fullWidth:!0,disabled:!p.newLabel.enabled})]})]})]})})]}),P=e.jsxs(e.Fragment,{children:[t&&e.jsxs(C,{md:4,children:[e.jsx(b,{variant:"h6",sx:{mb:.5},children:"Pricing"}),e.jsx(b,{variant:"body2",sx:{color:"text.secondary"},children:"Price related inputs"})]}),e.jsx(C,{xs:12,md:8,children:e.jsxs(G,{children:[!t&&e.jsx(se,{title:"Pricing"}),e.jsxs(c,{spacing:3,sx:{p:3},children:[e.jsx(S,{name:"price",label:"Regular Price",placeholder:"0.00",type:"number",InputLabelProps:{shrink:!0},InputProps:{startAdornment:e.jsx(H,{position:"start",children:e.jsx(g,{component:"span",sx:{color:"text.disabled"},children:"$"})})}}),e.jsx(S,{name:"priceSale",label:"Sale Price",placeholder:"0.00",type:"number",InputLabelProps:{shrink:!0},InputProps:{startAdornment:e.jsx(H,{position:"start",children:e.jsx(g,{component:"span",sx:{color:"text.disabled"},children:"$"})})}}),e.jsx(we,{control:e.jsx(Ce,{checked:r,onChange:$}),label:"Price includes taxes"}),!r&&e.jsx(S,{name:"taxes",label:"Tax (%)",placeholder:"0.00",type:"number",InputLabelProps:{shrink:!0},InputProps:{startAdornment:e.jsx(H,{position:"start",children:e.jsx(g,{component:"span",sx:{color:"text.disabled"},children:"%"})})}})]})]})})]}),M=e.jsxs(e.Fragment,{children:[t&&e.jsx(C,{md:4}),e.jsxs(C,{xs:12,md:8,sx:{display:"flex",alignItems:"center"},children:[e.jsx(we,{control:e.jsx(Ce,{defaultChecked:!0}),label:"Publish",sx:{flexGrow:1,pl:3}}),e.jsx(pe,{type:"submit",variant:"contained",size:"large",loading:w,children:s?"Save Changes":"Create Product"})]})]});return e.jsx(xe,{methods:i,onSubmit:R,children:e.jsxs(C,{container:!0,spacing:3,children:[X,J,P,M]})})}Ge.propTypes={currentProduct:n.object};function Js({id:s}){const a=Ne(),{product:t}=Be(s);return e.jsxs(Ve,{maxWidth:a.themeStretch?!1:"lg",children:[e.jsx(ks,{heading:"Edit",links:[{name:"Dashboard",href:E.dashboard.root},{name:"Product",href:E.dashboard.product.root},{name:t==null?void 0:t.name}],sx:{mb:{xs:3,md:5}}}),e.jsx(Ge,{currentProduct:t})]})}Js.propTypes={id:n.string};n.number;n.object;n.object;function Ps({...s}){return e.jsxs(C,{container:!0,spacing:8,...s,children:[e.jsx(C,{xs:12,md:6,lg:7,children:e.jsx(F,{sx:{paddingTop:"100%"}})}),e.jsx(C,{xs:12,md:6,lg:5,children:e.jsxs(c,{spacing:3,children:[e.jsx(F,{variant:"circular",sx:{width:80,height:80}}),e.jsx(F,{sx:{height:240}}),e.jsx(F,{sx:{height:16}}),e.jsx(F,{sx:{height:16,width:.75}}),e.jsx(F,{sx:{height:16,width:.5}})]})}),e.jsx(C,{xs:12,children:e.jsx(c,{direction:"row",alignItems:"center",children:[...Array(3)].map((a,t)=>e.jsxs(c,{spacing:2,alignItems:"center",justifyContent:"center",sx:{width:1},children:[e.jsx(F,{variant:"circular",sx:{width:80,height:80}}),e.jsx(F,{sx:{height:16,width:160}}),e.jsx(F,{sx:{height:16,width:80}})]},t))})})]})}n.bool,n.array;n.func,n.string,n.array;n.func,n.bool,n.func,n.string,n.array;n.bool,n.func,n.func,n.bool,n.object,n.func,n.array,n.func,n.array,n.array,n.arrayOf(n.string);n.func,n.oneOf(["min","max"]),n.arrayOf(n.number);n.bool,n.object,n.func,n.number,n.func;n.node,n.string,n.object;function en({row:s,selected:a,onSelectRow:t,onDeleteRow:o,onEditRow:r,onViewRow:d}){const{name:h,price:x,publish:i,coverUrl:l,category:k,quantity:v,createdAt:I,available:w,inventoryType:p}=s,R=$e(),T=he();return e.jsxs(e.Fragment,{children:[e.jsxs(Ts,{hover:!0,selected:a,children:[e.jsx(W,{padding:"checkbox",children:e.jsx(ie,{checked:a,onClick:t})}),e.jsxs(W,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(me,{alt:h,src:l,variant:"rounded",sx:{width:64,height:64,mr:2}}),e.jsx(te,{disableTypography:!0,primary:e.jsx(U,{noWrap:!0,color:"inherit",variant:"subtitle2",onClick:d,sx:{cursor:"pointer"},children:h}),secondary:e.jsx(g,{component:"div",sx:{typography:"body2",color:"text.disabled"},children:k})})]}),e.jsx(W,{children:e.jsx(te,{primary:ke(new Date(I),"dd MMM yyyy"),secondary:ke(new Date(I),"p"),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}})}),e.jsxs(W,{sx:{typography:"caption",color:"text.secondary"},children:[e.jsx(Ue,{value:w*100/v,variant:"determinate",color:p==="out of stock"&&"error"||p==="low stock"&&"warning"||"success",sx:{mb:1,height:6,maxWidth:80}}),!!w&&w," ",p]}),e.jsx(W,{children:re(x)}),e.jsx(W,{children:e.jsx(oe,{variant:"soft",color:i==="published"&&"info"||"default",children:i})}),e.jsx(W,{align:"right",children:e.jsx(V,{color:T.open?"primary":"default",onClick:T.onOpen,children:e.jsx(m,{icon:"eva:more-vertical-fill"})})})]}),e.jsxs(ue,{open:T.open,onClose:T.onClose,arrow:"right-top",sx:{width:140},children:[e.jsxs(D,{onClick:()=>{d(),T.onClose()},children:[e.jsx(m,{icon:"solar:eye-bold"}),"View"]}),e.jsxs(D,{onClick:()=>{r(),T.onClose()},children:[e.jsx(m,{icon:"solar:pen-bold"}),"Edit"]}),e.jsxs(D,{onClick:()=>{R.onTrue(),T.onClose()},sx:{color:"error.main"},children:[e.jsx(m,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]}),e.jsx(Ss,{open:R.value,onClose:R.onFalse,title:"Delete",content:"Are you sure want to delete?",action:e.jsx(A,{variant:"contained",color:"error",onClick:o,children:"Delete"})})]})}en.propTypes={onDeleteRow:n.func,onEditRow:n.func,onSelectRow:n.func,onViewRow:n.func,row:n.object,selected:n.bool};function sn({filters:s,onFilters:a,stockOptions:t,publishOptions:o}){const r=he(),d=u.useCallback(i=>{a("name",i.target.value)},[a]),h=u.useCallback(i=>{a("stock",typeof i.target.value=="string"?i.target.value.split(","):i.target.value)},[a]),x=u.useCallback(i=>{a("publish",typeof i.target.value=="string"?i.target.value.split(","):i.target.value)},[a]);return e.jsxs(e.Fragment,{children:[e.jsxs(c,{spacing:2,alignItems:{xs:"flex-end",md:"center"},direction:{xs:"column",md:"row"},sx:{p:2.5,pr:{xs:2.5,md:1}},children:[e.jsxs(Te,{sx:{flexShrink:0,width:{xs:1,md:200}},children:[e.jsx(Se,{children:"Stock"}),e.jsx(Ie,{multiple:!0,value:s.stock,onChange:h,input:e.jsx(Re,{label:"Stock"}),renderValue:i=>i.map(l=>l).join(", "),sx:{textTransform:"capitalize"},children:t.map(i=>e.jsxs(D,{value:i.value,children:[e.jsx(ie,{disableRipple:!0,size:"small",checked:s.stock.includes(i.value)}),i.label]},i.value))})]}),e.jsxs(Te,{sx:{flexShrink:0,width:{xs:1,md:200}},children:[e.jsx(Se,{children:"Publish"}),e.jsx(Ie,{multiple:!0,value:s.publish,onChange:x,input:e.jsx(Re,{label:"Publish"}),renderValue:i=>i.map(l=>l).join(", "),sx:{textTransform:"capitalize"},children:o.map(i=>e.jsxs(D,{value:i.value,children:[e.jsx(ie,{disableRipple:!0,size:"small",checked:s.publish.includes(i.value)}),i.label]},i.value))})]}),e.jsxs(c,{direction:"row",alignItems:"center",spacing:2,flexGrow:1,sx:{width:1},children:[e.jsx(Is,{fullWidth:!0,value:s.name,onChange:d,placeholder:"Search...",InputProps:{startAdornment:e.jsx(H,{position:"start",children:e.jsx(m,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}}),e.jsx(V,{onClick:r.onOpen,children:e.jsx(m,{icon:"eva:more-vertical-fill"})})]})]}),e.jsxs(ue,{open:r.open,onClose:r.onClose,arrow:"right-top",sx:{width:140},children:[e.jsxs(D,{onClick:()=>{r.onClose()},children:[e.jsx(m,{icon:"solar:printer-minimalistic-bold"}),"Print"]}),e.jsxs(D,{onClick:()=>{r.onClose()},children:[e.jsx(m,{icon:"solar:import-bold"}),"Import"]}),e.jsxs(D,{onClick:()=>{r.onClose()},children:[e.jsx(m,{icon:"solar:export-bold"}),"Export"]})]})]})}sn.propTypes={filters:n.object,onFilters:n.func,publishOptions:n.array,stockOptions:n.array};function nn({filters:s,onFilters:a,onResetFilters:t,results:o,...r}){const d=x=>{const i=s.stock.filter(l=>l!==x);a("stock",i)},h=x=>{const i=s.publish.filter(l=>l!==x);a("publish",i)};return e.jsxs(c,{spacing:1.5,...r,children:[e.jsxs(g,{sx:{typography:"body2"},children:[e.jsx("strong",{children:o}),e.jsx(g,{component:"span",sx:{color:"text.secondary",ml:.25},children:"results found"})]}),e.jsxs(c,{flexGrow:1,spacing:1,direction:"row",flexWrap:"wrap",alignItems:"center",children:[!!s.stock.length&&e.jsx(ce,{label:"Stock:",children:s.stock.map(x=>e.jsx(ae,{label:x,size:"small",onDelete:()=>d(x)},x))}),!!s.publish.length&&e.jsx(ce,{label:"Publish:",children:s.publish.map(x=>e.jsx(ae,{label:x,size:"small",onDelete:()=>h(x)},x))}),e.jsx(A,{color:"error",onClick:t,startIcon:e.jsx(m,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]})]})}nn.propTypes={filters:n.object,onFilters:n.func,onResetFilters:n.func,results:n.number};function ce({label:s,children:a,sx:t,...o}){return e.jsxs(c,{component:Rs,variant:"outlined",spacing:1,direction:"row",sx:{p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed",...t},...o,children:[e.jsx(g,{component:"span",sx:{typography:"subtitle2"},children:s}),e.jsx(c,{spacing:1,direction:"row",flexWrap:"wrap",children:a})]})}ce.propTypes={children:n.node,label:n.string,sx:n.object};function He({review:s}){const{name:a,rating:t,comment:o,postedAt:r,avatarUrl:d,attachments:h,isPurchased:x}=s,i=e.jsxs(c,{spacing:2,alignItems:"center",direction:{xs:"row",md:"column"},sx:{width:{md:240},textAlign:{md:"center"}},children:[e.jsx(me,{src:d,sx:{width:{xs:48,md:64},height:{xs:48,md:64}}}),e.jsx(te,{primary:a,secondary:Ls(r),primaryTypographyProps:{noWrap:!0,typography:"subtitle2",mb:.5},secondaryTypographyProps:{noWrap:!0,typography:"caption",component:"span"}})]}),l=e.jsxs(c,{spacing:1,flexGrow:1,children:[e.jsx(Y,{size:"small",value:t,precision:.1,readOnly:!0}),x&&e.jsxs(c,{direction:"row",alignItems:"center",sx:{color:"success.main",typography:"caption"},children:[e.jsx(m,{icon:"ic:round-verified",width:16,sx:{mr:.5}}),"Verified purchase"]}),e.jsx(b,{variant:"body2",children:o}),!!(h!=null&&h.length)&&e.jsx(c,{direction:"row",flexWrap:"wrap",spacing:1,sx:{pt:1},children:h.map(k=>e.jsx(g,{component:"img",alt:k,src:k,sx:{width:64,height:64,borderRadius:1.5}},k))}),e.jsxs(c,{direction:"row",spacing:2,sx:{pt:1.5},children:[e.jsxs(c,{direction:"row",alignItems:"center",sx:{typography:"caption"},children:[e.jsx(m,{icon:"solar:like-outline",width:16,sx:{mr:.5}}),"123"]}),e.jsxs(c,{direction:"row",alignItems:"center",sx:{typography:"caption"},children:[e.jsx(m,{icon:"solar:dislike-outline",width:16,sx:{mr:.5}}),"34"]})]})]});return e.jsxs(c,{spacing:2,direction:{xs:"column",md:"row"},sx:{mt:5,px:{xs:2.5,md:0}},children:[i,l]})}He.propTypes={review:n.object};function _e({reviews:s}){return e.jsxs(e.Fragment,{children:[s.map(a=>e.jsx(He,{review:a},a.id)),e.jsx(_s,{count:10,sx:{mx:"auto",[`& .${Qs.ul}`]:{my:5,mx:"auto",justifyContent:"center"}}})]})}_e.propTypes={reviews:n.array};function Qe({onClose:s,...a}){var I;const t=B().shape({rating:ne().min(1,"Rating must be greater than or equal to 1"),review:z().required("Review is required"),name:z().required("Name is required"),email:z().required("Email is required").email("Email must be a valid email address")}),o={rating:0,review:"",name:"",email:""},r=de({resolver:We(t),defaultValues:o}),{reset:d,control:h,handleSubmit:x,formState:{errors:i,isSubmitting:l}}=r,k=x(async w=>{try{await new Promise(p=>setTimeout(p,500)),d(),s(),console.info("DATA",w)}catch(p){console.error(p)}}),v=u.useCallback(()=>{s(),d()},[s,d]);return e.jsx(Ds,{onClose:s,...a,children:e.jsxs(xe,{methods:r,onSubmit:k,children:[e.jsx(Os,{children:" Add Review "}),e.jsxs(Fs,{children:[e.jsxs(c,{direction:"row",flexWrap:"wrap",alignItems:"center",spacing:1.5,children:[e.jsx(b,{variant:"body2",children:"Your review about this product:"}),e.jsx(Me,{name:"rating",control:h,render:({field:w})=>e.jsx(Y,{...w,size:"small",value:Number(w.value),onChange:(p,R)=>{w.onChange(R)}})})]}),!!i.rating&&e.jsxs(qs,{error:!0,children:[" ",(I=i.rating)==null?void 0:I.message]}),e.jsx(S,{name:"review",label:"Review *",multiline:!0,rows:3,sx:{mt:3}}),e.jsx(S,{name:"name",label:"Name *",sx:{mt:3}}),e.jsx(S,{name:"email",label:"Email *",sx:{mt:3}})]}),e.jsxs(zs,{children:[e.jsx(A,{color:"inherit",variant:"outlined",onClick:v,children:"Cancel"}),e.jsx(pe,{type:"submit",variant:"contained",loading:l,children:"Post"})]})]})})}Qe.propTypes={onClose:n.func};function Ye({totalRatings:s,totalReviews:a,ratings:t,reviews:o}){const r=$e(),d=Hs(t,l=>l.starCount),h=e.jsxs(c,{spacing:1,alignItems:"center",justifyContent:"center",children:[e.jsx(b,{variant:"subtitle2",children:"Average rating"}),e.jsxs(b,{variant:"h2",children:[s,"/5"]}),e.jsx(Y,{readOnly:!0,value:s,precision:.1}),e.jsxs(b,{variant:"caption",sx:{color:"text.secondary"},children:["(",le(a)," reviews)"]})]}),x=e.jsx(c,{spacing:1.5,sx:{py:5,px:{xs:3,md:5},borderLeft:l=>({md:`dashed 1px ${l.palette.divider}`}),borderRight:l=>({md:`dashed 1px ${l.palette.divider}`})},children:t.slice(0).reverse().map(l=>e.jsxs(c,{direction:"row",alignItems:"center",children:[e.jsx(b,{variant:"subtitle2",component:"span",sx:{width:42},children:l.name}),e.jsx(Ue,{color:"inherit",variant:"determinate",value:l.starCount/d*100,sx:{mx:2,flexGrow:1}}),e.jsx(b,{variant:"body2",component:"span",sx:{minWidth:48,color:"text.secondary"},children:le(l.reviewCount)})]},l.name))}),i=e.jsx(c,{alignItems:"center",justifyContent:"center",children:e.jsx(A,{size:"large",variant:"soft",color:"inherit",onClick:r.onTrue,startIcon:e.jsx(m,{icon:"solar:pen-bold"}),children:"Write your review"})});return e.jsxs(e.Fragment,{children:[e.jsxs(g,{display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(3, 1fr)"},sx:{py:{xs:5,md:0}},children:[h,x,i]}),e.jsx(Q,{sx:{borderStyle:"dashed"}}),e.jsx(_e,{reviews:o}),e.jsx(Qe,{open:r.value,onClose:r.onFalse})]})}Ye.propTypes={ratings:n.array,reviews:n.array,totalRatings:n.number,totalReviews:n.number};const Ze=u.forwardRef(({quantity:s,onIncrease:a,onDecrease:t,disabledIncrease:o,disabledDecrease:r,sx:d,...h},x)=>e.jsxs(c,{ref:x,flexShrink:0,direction:"row",alignItems:"center",justifyContent:"space-between",sx:{p:.5,width:88,borderRadius:1,typography:"subtitle2",border:i=>`solid 1px ${be(i.palette.grey[500],.2)}`,...d},...h,children:[e.jsx(V,{size:"small",onClick:t,disabled:r,sx:{borderRadius:.75},children:e.jsx(m,{icon:"eva:minus-fill",width:16})}),s,e.jsx(V,{size:"small",onClick:a,disabled:o,sx:{borderRadius:.75},children:e.jsx(m,{icon:"mingcute:add-line",width:16})})]}));Ze.propTypes={disabledDecrease:n.bool,disabledIncrease:n.bool,onDecrease:n.func,onIncrease:n.func,quantity:n.number,sx:n.object};const an=Ze;function Ke({items:s,product:a,onAddCart:t,onGotoStep:o,disabledActions:r,...d}){const h=Ee(),{id:x,name:i,sizes:l,price:k,coverUrl:v,colors:I,newLabel:w,available:p,priceSale:R,saleLabel:T,totalRatings:Z,totalReviews:K,inventoryType:$,subDescription:X}=a,J=!!(s!=null&&s.length)&&s.map(f=>f.id).includes(x),P=!!(s!=null&&s.length)&&s.filter(f=>f.id===x).map(f=>f.quantity)[0]>=p,M={id:x,name:i,coverUrl:v,available:p,price:k,colors:I[0],size:l[4],quantity:p<1?0:1},j=de({defaultValues:M}),{reset:y,watch:O,control:q,setValue:je,handleSubmit:es}=j,L=O();u.useEffect(()=>{a&&y(M)},[a]);const ss=es(async f=>{try{J||t==null||t({...f,colors:[L.colors],subTotal:f.price*f.quantity}),o==null||o(0),h.push(E.product.checkout)}catch(ee){console.error(ee)}}),ns=u.useCallback(()=>{try{t==null||t({...L,colors:[L.colors],subTotal:L.price*L.quantity})}catch(f){console.error(f)}},[t,L]),as=e.jsxs(g,{sx:{typography:"h5"},children:[R&&e.jsx(g,{component:"span",sx:{color:"text.disabled",textDecoration:"line-through",mr:.5},children:re(R)}),re(k)]}),is=e.jsxs(c,{direction:"row",spacing:3,justifyContent:"center",children:[e.jsxs(U,{variant:"subtitle2",sx:{color:"text.secondary",display:"inline-flex",alignItems:"center"},children:[e.jsx(m,{icon:"mingcute:add-line",width:16,sx:{mr:1}}),"Compare"]}),e.jsxs(U,{variant:"subtitle2",sx:{color:"text.secondary",display:"inline-flex",alignItems:"center"},children:[e.jsx(m,{icon:"solar:heart-bold",width:16,sx:{mr:1}}),"Favorite"]}),e.jsxs(U,{variant:"subtitle2",sx:{color:"text.secondary",display:"inline-flex",alignItems:"center"},children:[e.jsx(m,{icon:"solar:share-bold",width:16,sx:{mr:1}}),"Share"]})]}),ts=e.jsxs(c,{direction:"row",children:[e.jsx(b,{variant:"subtitle2",sx:{flexGrow:1},children:"Color"}),e.jsx(Me,{name:"colors",control:q,render:({field:f})=>e.jsx(Gs,{colors:I,selected:f.value,onSelectColor:ee=>f.onChange(ee),limit:4})})]}),rs=e.jsxs(c,{direction:"row",children:[e.jsx(b,{variant:"subtitle2",sx:{flexGrow:1},children:"Size"}),e.jsx(Ae,{name:"size",size:"small",helperText:e.jsx(U,{underline:"always",color:"textPrimary",children:"Size Chart"}),sx:{maxWidth:88,[`& .${Es.root}`]:{mx:0,mt:1,textAlign:"right"}},children:l.map(f=>e.jsx(D,{value:f,children:f},f))})]}),os=e.jsxs(c,{direction:"row",children:[e.jsx(b,{variant:"subtitle2",sx:{flexGrow:1},children:"Quantity"}),e.jsxs(c,{spacing:1,children:[e.jsx(an,{name:"quantity",quantity:L.quantity,disabledDecrease:L.quantity<=1,disabledIncrease:L.quantity>=p,onIncrease:()=>je("quantity",L.quantity+1),onDecrease:()=>je("quantity",L.quantity-1)}),e.jsxs(b,{variant:"caption",component:"div",sx:{textAlign:"right"},children:["Available: ",p]})]})]}),ls=e.jsxs(c,{direction:"row",spacing:2,children:[e.jsx(A,{fullWidth:!0,disabled:P||r,size:"large",color:"warning",variant:"contained",startIcon:e.jsx(m,{icon:"solar:cart-plus-bold",width:24}),onClick:ns,sx:{whiteSpace:"nowrap"},children:"Add to Cart"}),e.jsx(A,{fullWidth:!0,size:"large",type:"submit",variant:"contained",disabled:r,children:"Buy Now"})]}),cs=e.jsx(b,{variant:"body2",sx:{color:"text.secondary"},children:X}),ds=e.jsxs(c,{direction:"row",alignItems:"center",sx:{color:"text.disabled",typography:"body2"},children:[e.jsx(Y,{size:"small",value:Z,precision:.1,readOnly:!0,sx:{mr:1}}),`(${le(K)} reviews)`]}),xs=(w.enabled||T.enabled)&&e.jsxs(c,{direction:"row",alignItems:"center",spacing:1,children:[w.enabled&&e.jsx(oe,{color:"info",children:w.content}),T.enabled&&e.jsx(oe,{color:"error",children:T.content})]}),ps=e.jsx(g,{component:"span",sx:{typography:"overline",color:$==="out of stock"&&"error.main"||$==="low stock"&&"warning.main"||"success.main"},children:$});return e.jsx(xe,{methods:j,onSubmit:ss,children:e.jsxs(c,{spacing:3,sx:{pt:3},...d,children:[e.jsxs(c,{spacing:2,alignItems:"flex-start",children:[xs,ps,e.jsx(b,{variant:"h5",children:i}),ds,as,cs]}),e.jsx(Q,{sx:{borderStyle:"dashed"}}),ts,rs,os,e.jsx(Q,{sx:{borderStyle:"dashed"}}),ls,is]})})}Ke.propTypes={items:n.array,disabledActions:n.bool,onAddCart:n.func,onGotoStep:n.func,product:n.object};function Xe({publish:s,backLink:a,editLink:t,liveLink:o,publishOptions:r,onChangePublish:d,sx:h,...x}){const i=he();return e.jsxs(e.Fragment,{children:[e.jsxs(c,{spacing:1.5,direction:"row",sx:{mb:{xs:3,md:5},...h},...x,children:[e.jsx(A,{component:_,href:a,startIcon:e.jsx(m,{icon:"eva:arrow-ios-back-fill",width:16}),children:"Back"}),e.jsx(g,{sx:{flexGrow:1}}),s==="published"&&e.jsx(Le,{title:"Go Live",children:e.jsx(V,{component:_,href:o,children:e.jsx(m,{icon:"eva:external-link-fill"})})}),e.jsx(Le,{title:"Edit",children:e.jsx(V,{component:_,href:t,children:e.jsx(m,{icon:"solar:pen-bold"})})}),e.jsx(pe,{color:"inherit",variant:"contained",loading:!s,loadingIndicator:"Loading…",endIcon:e.jsx(m,{icon:"eva:arrow-ios-downward-fill"}),onClick:i.onOpen,sx:{textTransform:"capitalize"},children:s})]}),e.jsx(ue,{open:i.open,onClose:i.onClose,arrow:"top-right",sx:{width:140},children:r.map(l=>e.jsxs(D,{selected:l.value===s,onClick:()=>{i.onClose(),d(l.value)},children:[l.value==="published"&&e.jsx(m,{icon:"eva:cloud-upload-fill"}),l.value==="draft"&&e.jsx(m,{icon:"solar:file-text-bold"}),l.label]},l.value))})]})}Xe.propTypes={backLink:n.string,editLink:n.string,liveLink:n.string,onChangePublish:n.func,publish:n.string,publishOptions:n.array,sx:n.object};const N=64,tn=Ns("div")(({length:s,theme:a})=>({position:"relative",margin:a.spacing(0,"auto"),"& .slick-slide":{lineHeight:0},...s===1&&{maxWidth:N*1+16},...s===2&&{maxWidth:N*2+32},...(s===3||s===4)&&{maxWidth:N*3+48},...s>=5&&{maxWidth:N*6},...s>3&&{"&:before, &:after":{...Vs({direction:"to left",startColor:`${be(a.palette.background.default,0)} 0%`,endColor:`${a.palette.background.default} 100%`}),top:0,zIndex:9,content:"''",height:"100%",position:"absolute",width:N*2/3},"&:after":{right:0,transform:"scaleX(-1)"}}}));function Je({product:s}){const a=As(),t=s.images.map(i=>({src:i})),o=Ys(t),r=Oe({rtl:!1,draggable:!1,adaptiveHeight:!0}),d=Oe({rtl:!1,centerMode:!0,swipeToSlide:!0,focusOnSelect:!0,variableWidth:!0,centerPadding:"0px",slidesToShow:t.length>3?3:t.length});u.useEffect(()=>{r.onSetNav(),d.onSetNav()},[r,d]),u.useEffect(()=>{o.open&&r.onTogo(o.selected)},[r,o.open,o.selected]);const h=e.jsxs(g,{sx:{mb:3,borderRadius:2,overflow:"hidden",position:"relative"},children:[e.jsx(De,{...r.carouselSettings,asNavFor:d.nav,ref:r.carouselRef,children:t.map(i=>e.jsx(Ws,{alt:i.src,src:i.src,ratio:"1/1",onClick:()=>o.onOpen(i.src),sx:{cursor:"zoom-in"}},i.src))}),e.jsx(Ks,{index:r.currentIndex,total:t.length,onNext:d.onNext,onPrev:d.onPrev})]}),x=e.jsx(tn,{length:t.length,children:e.jsx(De,{...d.carouselSettings,asNavFor:r.nav,ref:d.carouselRef,children:t.map((i,l)=>e.jsx(g,{sx:{px:.5},children:e.jsx(me,{alt:i.src,src:i.src,variant:"rounded",sx:{width:N,height:N,opacity:.48,cursor:"pointer",...r.currentIndex===l&&{opacity:1,border:`solid 2.5px ${a.palette.primary.main}`}}},i.src)},i.src))})});return e.jsxs(g,{sx:{"& .slick-slide":{float:a.direction==="rtl"?"right":"left"}},children:[h,x,e.jsx(Zs,{index:o.selected,slides:t,open:o.open,close:o.onClose,onGetCurrentIndex:i=>o.setSelected(i)})]})}Je.propTypes={product:n.object};function Pe({description:s}){return e.jsx(Xs,{children:s,sx:{p:3,"& p, li, ol":{typography:"body2"},"& ol":{p:0,display:{md:"flex"},listStyleType:"none","& li":{"&:first-of-type":{minWidth:240,mb:{xs:.5,md:0}}}}}})}Pe.propTypes={description:n.string};const rn=[{title:"100% Original",description:"Chocolate bar candy canes ice cream toffee cookie halvah.",icon:"solar:verified-check-bold"},{title:"10 Day Replacement",description:"Marshmallow biscuit donut dragée fruitcake wafer.",icon:"solar:clock-circle-bold"},{title:"Year Warranty",description:"Cotton candy gingerbread cake I love sugar sweet.",icon:"solar:shield-check-bold"}];function on({id:s}){const{product:a,productLoading:t,productError:o}=Be(s),r=Ne(),[d,h]=u.useState("description"),[x,i]=u.useState("");u.useEffect(()=>{a&&i(a==null?void 0:a.publish)},[a]);const l=u.useCallback(p=>{i(p)},[]),k=u.useCallback((p,R)=>{h(R)},[]),v=e.jsx(Ps,{}),I=e.jsx($s,{filled:!0,title:`${o==null?void 0:o.message}`,action:e.jsx(A,{component:_,href:E.dashboard.product.root,startIcon:e.jsx(m,{icon:"eva:arrow-ios-back-fill",width:16}),sx:{mt:3},children:"Back to List"}),sx:{py:10}}),w=a&&e.jsxs(e.Fragment,{children:[e.jsx(Xe,{backLink:E.dashboard.product.root,editLink:E.dashboard.product.edit(`${a==null?void 0:a.id}`),liveLink:E.product.details(`${a==null?void 0:a.id}`),publish:x||"",onChangePublish:l,publishOptions:Us}),e.jsxs(C,{container:!0,spacing:{xs:3,md:5,lg:8},children:[e.jsx(C,{xs:12,md:6,lg:7,children:e.jsx(Je,{product:a})}),e.jsx(C,{xs:12,md:6,lg:5,children:e.jsx(Ke,{disabledActions:!0,product:a})})]}),e.jsx(g,{gap:5,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(3, 1fr)"},sx:{my:10},children:rn.map(p=>e.jsxs(g,{sx:{textAlign:"center",px:5},children:[e.jsx(m,{icon:p.icon,width:32,sx:{color:"primary.main"}}),e.jsx(b,{variant:"subtitle1",sx:{mb:1,mt:2},children:p.title}),e.jsx(b,{variant:"body2",sx:{color:"text.secondary"},children:p.description})]},p.title))}),e.jsxs(G,{children:[e.jsx(Ms,{value:d,onChange:k,sx:{px:3,boxShadow:p=>`inset 0 -2px 0 0 ${be(p.palette.grey[500],.08)}`},children:[{value:"description",label:"Description"},{value:"reviews",label:`Reviews (${a.reviews.length})`}].map(p=>e.jsx(Bs,{value:p.value,label:p.label},p.value))}),d==="description"&&e.jsx(Pe,{description:a==null?void 0:a.description}),d==="reviews"&&e.jsx(Ye,{ratings:a.ratings,reviews:a.reviews,totalRatings:a.totalRatings,totalReviews:a.totalReviews})]})]});return e.jsxs(Ve,{maxWidth:r.themeStretch?!1:"lg",children:[t&&v,o&&I,a&&w]})}on.propTypes={id:n.string};n.string;export{on as P,Ge as a,Js as b,sn as c,nn as d,en as e,gn as u};
