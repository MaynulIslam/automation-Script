import{r as Vt,j as Fe,P as _s,B as gn,bU as Bi,w as Zr,m as Nh,aq as jh,as as zh,aP as Hh,aA as ps,az as vs,cc as Bh,au as Vh,cd as Yh,ac as $h,ce as Uh,T as qn,bV as ji,bX as io,M as Ti,bb as ol,bc as xn,ao as qr,cf as Gh,cg as Wh,ch as Ci,ci as Zh,cj as Qc,d as qh,aB as ro,aG as il,ck as Kc,ba as Lo,cl as ll,aw as Xh,cm as Jh,aJ as Qh,aK as gs,cn as Kh,G as po,A as ep,S as Rc,_ as tp,V as np,co as ap,bQ as rp,cp as ip,br as Nc,cq as op,cr as lp,cs as sp,b as cp,X as up,aH as dp,aI as fp,bA as hp,c5 as pp,c6 as vp,bY as gp,ct as mp,bB as yp,W as xp}from"./index-b5422eae.js";import{B as jc}from"./ButtonGroup-d4be5fe2.js";import{A as bp}from"./AlertTitle-ffe19917.js";import{D as zc}from"./DateTimePicker-537bd9ba.js";const _p=ct=>{if(!ct||typeof ct!="string")return ct||"";console.log("Original sensor name:",ct);let at=ct;return ct.includes("--")||(at=at.replace(/([A-Za-z0-9]+)-(\s*\d+)/g,"$1 - $2")),at=at.replace(/\s{2,}/g," "),at.trim()},Hc=ct=>{if(!ct||typeof ct!="string")return ct||"";const at=ct.split(/\s*[-–—]\s*/)[0].trim();return{"Carbon Monoxide":"CO","Hydrogen Sulfide":"H2S","Nitrogen Dioxide":"NO2","Sulfur Dioxide":"SO2","Carbon Dioxide":"CO2",Ammonia:"NH3",Methane:"CH4",Oxygen:"O2",Temperature:"Temp",Humidity:"RH","Volatile Organic Compounds":"VOC"}[at]||at},wp=({data:ct,themeColors:at})=>{const[tt,Lt]=Vt.useState(0),[Ot,It]=Vt.useState(10),[Jt,ye]=Vt.useState(""),[Kt,wt]=Vt.useState("_time"),[Yt,vn]=Vt.useState("desc"),Xt=Pn=>{vn(Kt===Pn&&Yt==="asc"?"desc":"asc"),wt(Pn)},ga=(Pn,kn)=>Pn==="_time"?new Date(kn).toLocaleString():typeof kn=="number"?kn.toFixed(2):kn,wa=Vt.useMemo(()=>{if(!ct||ct.length===0)return[];const Pn=new Set;ct.forEach(sa=>{Object.keys(sa).forEach(Da=>Pn.add(Da))});const kn=["_time","_measurement","_field","_value"],aa=[...Pn].filter(sa=>!kn.includes(sa));return[...kn,...aa.sort()]},[ct]),ka=Vt.useMemo(()=>{if(!ct||ct.length===0)return[];let Pn=[...ct];if(Jt){const kn=Jt.toLowerCase();Pn=Pn.filter(aa=>Object.entries(aa).some(([sa,Da])=>Da==null?!1:String(Da).toLowerCase().includes(kn)))}return Pn.sort((kn,aa)=>{const sa=kn[Kt]!==void 0?kn[Kt]:"",Da=aa[Kt]!==void 0?aa[Kt]:"";if(Kt==="_time")return Yt==="asc"?new Date(sa)-new Date(Da):new Date(Da)-new Date(sa);if(typeof sa=="number"&&typeof Da=="number")return Yt==="asc"?sa-Da:Da-sa;{const Un=String(sa).toLowerCase(),ba=String(Da).toLowerCase();return Yt==="asc"?Un.localeCompare(ba):ba.localeCompare(Un)}}),Pn},[ct,Jt,Kt,Yt]),Ka=(Pn,kn)=>{Lt(kn)},on=Pn=>{It(parseInt(Pn.target.value,10)),Lt(0)},Gn=Pn=>{if(!Pn)return at.text;switch(Pn.toLowerCase()){case"critical":return at.error||"#ff6b6b";case"warning":return at.warning||"#feca57";case"normal":return at.success||"#1dd1a1";default:return at.text}};return!ct||ct.length===0?Fe.jsx(_s,{sx:{height:300,display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:at.paper,color:at.textSecondary,border:`1px solid ${at.border}`},children:"No data available"}):Fe.jsxs(gn,{sx:{width:"100%"},children:[Fe.jsxs(gn,{sx:{py:2,display:"flex",alignItems:"center"},children:[Fe.jsx(Bi,{fullWidth:!0,placeholder:"Search data...",variant:"outlined",value:Jt,onChange:Pn=>{ye(Pn.target.value),Lt(0)},sx:{maxWidth:400,"& .MuiOutlinedInput-root":{backgroundColor:at.background,color:at.text,"& fieldset":{borderColor:at.border},"&:hover fieldset":{borderColor:at.primary},"&.Mui-focused fieldset":{borderColor:at.primary}}},InputProps:{startAdornment:Fe.jsx(Zr,{icon:"material-symbols:search",width:20,sx:{color:at.textSecondary,mr:1}}),endAdornment:Jt&&Fe.jsx(Nh,{size:"small",onClick:()=>ye(""),sx:{color:at.textSecondary},children:Fe.jsx(Zr,{icon:"material-symbols:close",width:16})})}}),Fe.jsxs(gn,{sx:{ml:"auto",color:at.textSecondary,fontSize:14},children:[ka.length," records found"]})]}),Fe.jsx(jh,{component:_s,sx:{maxHeight:600,backgroundColor:at.paper,border:`1px solid ${at.border}`,"& .MuiTableCell-root":{borderBottom:`1px solid ${at.border}`,color:at.text}},children:Fe.jsxs(zh,{stickyHeader:!0,"aria-label":"data table",size:"small",children:[Fe.jsx(Hh,{children:Fe.jsx(ps,{children:wa.map(Pn=>Fe.jsx(vs,{align:typeof ct[0][Pn]=="number"?"right":"left",sx:{backgroundColor:at.background,fontWeight:600,whiteSpace:"nowrap","&:hover":{backgroundColor:at.paper}},children:Fe.jsx(Bh,{active:Kt===Pn,direction:Kt===Pn?Yt:"asc",onClick:()=>Xt(Pn),sx:{color:at.textSecondary,"&.MuiTableSortLabel-active":{color:at.primary},"& .MuiTableSortLabel-icon":{color:Kt===Pn?at.primary:"inherit"}},children:Pn})},Pn))})}),Fe.jsxs(Vh,{children:[ka.slice(tt*Ot,tt*Ot+Ot).map((Pn,kn)=>Fe.jsx(ps,{hover:!0,sx:{"&:nth-of-type(odd)":{backgroundColor:`${at.background}08`},"&:hover":{backgroundColor:`${at.border}40`}},children:wa.map(aa=>{const sa=aa==="status",Da=Pn[aa]!==void 0?Pn[aa]:"-";return Fe.jsx(vs,{align:typeof Da=="number"?"right":"left",sx:{whiteSpace:"nowrap",maxWidth:200,overflow:"hidden",textOverflow:"ellipsis",...sa&&{color:Gn(Da),fontWeight:600}},children:ga(aa,Da)},`${kn}-${aa}`)})},`row-${kn}`)),ka.length===0&&Fe.jsx(ps,{children:Fe.jsx(vs,{colSpan:wa.length,align:"center",sx:{py:3,color:at.textSecondary},children:"No matching records found"})})]})]})}),Fe.jsx(Yh,{rowsPerPageOptions:[10,25,50,100],component:"div",count:ka.length,rowsPerPage:Ot,page:tt,onPageChange:Ka,onRowsPerPageChange:on,sx:{color:at.textSecondary,borderTop:`1px solid ${at.border}`,"& .MuiTablePagination-select":{color:at.text},"& .MuiTablePagination-selectIcon":{color:at.textSecondary},"& .MuiIconButton-root":{color:at.textSecondary},"& .Mui-disabled":{color:`${at.textSecondary}50`}}})]})},Tp=wp;var eu={exports:{}};(function(ct){(function(at,tt){ct.exports?ct.exports=tt():at.moduleName=tt()})(typeof self<"u"?self:$h,()=>{var at=(()=>{var tt=Object.defineProperty,Lt=Object.getOwnPropertyDescriptor,Ot=Object.getOwnPropertyNames,It=Object.prototype.hasOwnProperty,Jt=(F,C)=>()=>(F&&(C=F(F=0)),C),ye=(F,C)=>()=>(C||F((C={exports:{}}).exports,C),C.exports),Kt=(F,C,i,e)=>{if(C&&typeof C=="object"||typeof C=="function")for(let n of Ot(C))!It.call(F,n)&&n!==i&&tt(F,n,{get:()=>C[n],enumerable:!(e=Lt(C,n))||e.enumerable});return F},wt=F=>Kt(tt({},"__esModule",{value:!0}),F),Yt=ye(F=>{F.version="3.0.1"}),vn=ye((F,C)=>{(function(i,e,n){e[i]=e[i]||n(),typeof C<"u"&&C.exports&&(C.exports=e[i])})("Promise",typeof window<"u"?window:F,function(){var i,e,n,r=Object.prototype.toString,l=typeof setImmediate<"u"?function(v){return setImmediate(v)}:setTimeout;try{Object.defineProperty({},"x",{}),i=function(v,u,f,_){return Object.defineProperty(v,u,{value:f,writable:!0,configurable:_!==!1})}}catch{i=function(u,f,_){return u[f]=_,u}}n=function(){var v,u,f;function _(w,k){this.fn=w,this.self=k,this.next=void 0}return{add:function(w,k){f=new _(w,k),u?u.next=f:v=f,u=f,f=void 0},drain:function(){var w=v;for(v=u=e=void 0;w;)w.fn.call(w.self),w=w.next}}}();function o(v,u){n.add(v,u),e||(e=l(n.drain))}function s(v){var u,f=typeof v;return v!=null&&(f=="object"||f=="function")&&(u=v.then),typeof u=="function"?u:!1}function d(){for(var v=0;v<this.chain.length;v++)t(this,this.state===1?this.chain[v].success:this.chain[v].failure,this.chain[v]);this.chain.length=0}function t(v,u,f){var _,w;try{u===!1?f.reject(v.msg):(u===!0?_=v.msg:_=u.call(void 0,v.msg),_===f.promise?f.reject(TypeError("Promise-chain cycle")):(w=s(_))?w.call(_,f.resolve,f.reject):f.resolve(_))}catch(k){f.reject(k)}}function p(v){var u,f=this;if(!f.triggered){f.triggered=!0,f.def&&(f=f.def);try{(u=s(v))?o(function(){var _=new b(f);try{u.call(v,function(){p.apply(_,arguments)},function(){c.apply(_,arguments)})}catch(w){c.call(_,w)}}):(f.msg=v,f.state=1,f.chain.length>0&&o(d,f))}catch(_){c.call(new b(f),_)}}}function c(v){var u=this;u.triggered||(u.triggered=!0,u.def&&(u=u.def),u.msg=v,u.state=2,u.chain.length>0&&o(d,u))}function h(v,u,f,_){for(var w=0;w<u.length;w++)(function(k){v.resolve(u[k]).then(function(J){f(k,J)},_)})(w)}function b(v){this.def=v,this.triggered=!1}function y(v){this.promise=v,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function g(v){if(typeof v!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var u=new y(this);this.then=function(f,_){var w={success:typeof f=="function"?f:!0,failure:typeof _=="function"?_:!1};return w.promise=new this.constructor(function(k,J){if(typeof k!="function"||typeof J!="function")throw TypeError("Not a function");w.resolve=k,w.reject=J}),u.chain.push(w),u.state!==0&&o(d,u),w.promise},this.catch=function(f){return this.then(void 0,f)};try{v.call(void 0,function(f){p.call(u,f)},function(f){c.call(u,f)})}catch(f){c.call(u,f)}}var m=i({},"constructor",g,!1);return g.prototype=m,i(m,"__NPO__",0,!1),i(g,"resolve",function(v){var u=this;return v&&typeof v=="object"&&v.__NPO__===1?v:new u(function(f,_){if(typeof f!="function"||typeof _!="function")throw TypeError("Not a function");f(v)})}),i(g,"reject",function(v){return new this(function(u,f){if(typeof u!="function"||typeof f!="function")throw TypeError("Not a function");f(v)})}),i(g,"all",function(v){var u=this;return r.call(v)!="[object Array]"?u.reject(TypeError("Not an array")):v.length===0?u.resolve([]):new u(function(f,_){if(typeof f!="function"||typeof _!="function")throw TypeError("Not a function");var w=v.length,k=Array(w),J=0;h(u,v,function(P,O){k[P]=O,++J===w&&f(k)},_)})}),i(g,"race",function(v){var u=this;return r.call(v)!="[object Array]"?u.reject(TypeError("Not an array")):new u(function(f,_){if(typeof f!="function"||typeof _!="function")throw TypeError("Not a function");h(u,v,function(w,k){f(k)},_)})}),g})}),Xt=ye((F,C)=>{(function(){var i={version:"3.8.2"},e=[].slice,n=function(a){return e.call(a)},r=self.document;function l(a){return a&&(a.ownerDocument||a.document||a).documentElement}function o(a){return a&&(a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView)}if(r)try{n(r.documentElement.childNodes)[0].nodeType}catch{n=function(x){for(var S=x.length,z=new Array(S);S--;)z[S]=x[S];return z}}if(Date.now||(Date.now=function(){return+new Date}),r)try{r.createElement("DIV").style.setProperty("opacity",0,"")}catch{var s=this.Element.prototype,d=s.setAttribute,t=s.setAttributeNS,p=this.CSSStyleDeclaration.prototype,c=p.setProperty;s.setAttribute=function(x,S){d.call(this,x,S+"")},s.setAttributeNS=function(x,S,z){t.call(this,x,S,z+"")},p.setProperty=function(x,S,z){c.call(this,x,S+"",z)}}i.ascending=h;function h(a,x){return a<x?-1:a>x?1:a>=x?0:NaN}i.descending=function(a,x){return x<a?-1:x>a?1:x>=a?0:NaN},i.min=function(a,x){var S=-1,z=a.length,Q,ne;if(arguments.length===1){for(;++S<z;)if((ne=a[S])!=null&&ne>=ne){Q=ne;break}for(;++S<z;)(ne=a[S])!=null&&Q>ne&&(Q=ne)}else{for(;++S<z;)if((ne=x.call(a,a[S],S))!=null&&ne>=ne){Q=ne;break}for(;++S<z;)(ne=x.call(a,a[S],S))!=null&&Q>ne&&(Q=ne)}return Q},i.max=function(a,x){var S=-1,z=a.length,Q,ne;if(arguments.length===1){for(;++S<z;)if((ne=a[S])!=null&&ne>=ne){Q=ne;break}for(;++S<z;)(ne=a[S])!=null&&ne>Q&&(Q=ne)}else{for(;++S<z;)if((ne=x.call(a,a[S],S))!=null&&ne>=ne){Q=ne;break}for(;++S<z;)(ne=x.call(a,a[S],S))!=null&&ne>Q&&(Q=ne)}return Q},i.extent=function(a,x){var S=-1,z=a.length,Q,ne,ve;if(arguments.length===1){for(;++S<z;)if((ne=a[S])!=null&&ne>=ne){Q=ve=ne;break}for(;++S<z;)(ne=a[S])!=null&&(Q>ne&&(Q=ne),ve<ne&&(ve=ne))}else{for(;++S<z;)if((ne=x.call(a,a[S],S))!=null&&ne>=ne){Q=ve=ne;break}for(;++S<z;)(ne=x.call(a,a[S],S))!=null&&(Q>ne&&(Q=ne),ve<ne&&(ve=ne))}return[Q,ve]};function b(a){return a===null?NaN:+a}function y(a){return!isNaN(a)}i.sum=function(a,x){var S=0,z=a.length,Q,ne=-1;if(arguments.length===1)for(;++ne<z;)y(Q=+a[ne])&&(S+=Q);else for(;++ne<z;)y(Q=+x.call(a,a[ne],ne))&&(S+=Q);return S},i.mean=function(a,x){var S=0,z=a.length,Q,ne=-1,ve=z;if(arguments.length===1)for(;++ne<z;)y(Q=b(a[ne]))?S+=Q:--ve;else for(;++ne<z;)y(Q=b(x.call(a,a[ne],ne)))?S+=Q:--ve;if(ve)return S/ve},i.quantile=function(a,x){var S=(a.length-1)*x+1,z=Math.floor(S),Q=+a[z-1],ne=S-z;return ne?Q+ne*(a[z]-Q):Q},i.median=function(a,x){var S=[],z=a.length,Q,ne=-1;if(arguments.length===1)for(;++ne<z;)y(Q=b(a[ne]))&&S.push(Q);else for(;++ne<z;)y(Q=b(x.call(a,a[ne],ne)))&&S.push(Q);if(S.length)return i.quantile(S.sort(h),.5)},i.variance=function(a,x){var S=a.length,z=0,Q,ne,ve=0,ue=-1,Te=0;if(arguments.length===1)for(;++ue<S;)y(Q=b(a[ue]))&&(ne=Q-z,z+=ne/++Te,ve+=ne*(Q-z));else for(;++ue<S;)y(Q=b(x.call(a,a[ue],ue)))&&(ne=Q-z,z+=ne/++Te,ve+=ne*(Q-z));if(Te>1)return ve/(Te-1)},i.deviation=function(){var a=i.variance.apply(this,arguments);return a&&Math.sqrt(a)};function g(a){return{left:function(x,S,z,Q){for(arguments.length<3&&(z=0),arguments.length<4&&(Q=x.length);z<Q;){var ne=z+Q>>>1;a(x[ne],S)<0?z=ne+1:Q=ne}return z},right:function(x,S,z,Q){for(arguments.length<3&&(z=0),arguments.length<4&&(Q=x.length);z<Q;){var ne=z+Q>>>1;a(x[ne],S)>0?Q=ne:z=ne+1}return z}}}var m=g(h);i.bisectLeft=m.left,i.bisect=i.bisectRight=m.right,i.bisector=function(a){return g(a.length===1?function(x,S){return h(a(x),S)}:a)},i.shuffle=function(a,x,S){(z=arguments.length)<3&&(S=a.length,z<2&&(x=0));for(var z=S-x,Q,ne;z;)ne=Math.random()*z--|0,Q=a[z+x],a[z+x]=a[ne+x],a[ne+x]=Q;return a},i.permute=function(a,x){for(var S=x.length,z=new Array(S);S--;)z[S]=a[x[S]];return z},i.pairs=function(a){for(var x=0,S=a.length-1,z,Q=a[0],ne=new Array(S<0?0:S);x<S;)ne[x]=[z=Q,Q=a[++x]];return ne},i.transpose=function(a){if(!(ne=a.length))return[];for(var x=-1,S=i.min(a,v),z=new Array(S);++x<S;)for(var Q=-1,ne,ve=z[x]=new Array(ne);++Q<ne;)ve[Q]=a[Q][x];return z};function v(a){return a.length}i.zip=function(){return i.transpose(arguments)},i.keys=function(a){var x=[];for(var S in a)x.push(S);return x},i.values=function(a){var x=[];for(var S in a)x.push(a[S]);return x},i.entries=function(a){var x=[];for(var S in a)x.push({key:S,value:a[S]});return x},i.merge=function(a){for(var x=a.length,S,z=-1,Q=0,ne,ve;++z<x;)Q+=a[z].length;for(ne=new Array(Q);--x>=0;)for(ve=a[x],S=ve.length;--S>=0;)ne[--Q]=ve[S];return ne};var u=Math.abs;i.range=function(a,x,S){if(arguments.length<3&&(S=1,arguments.length<2&&(x=a,a=0)),(x-a)/S===1/0)throw new Error("infinite range");var z=[],Q=f(u(S)),ne=-1,ve;if(a*=Q,x*=Q,S*=Q,S<0)for(;(ve=a+S*++ne)>x;)z.push(ve/Q);else for(;(ve=a+S*++ne)<x;)z.push(ve/Q);return z};function f(a){for(var x=1;a*x%1;)x*=10;return x}function _(a,x){for(var S in x)Object.defineProperty(a.prototype,S,{value:x[S],enumerable:!1})}i.map=function(a,x){var S=new w;if(a instanceof w)a.forEach(function(ue,Te){S.set(ue,Te)});else if(Array.isArray(a)){var z=-1,Q=a.length,ne;if(arguments.length===1)for(;++z<Q;)S.set(z,a[z]);else for(;++z<Q;)S.set(x.call(a,ne=a[z],z),ne)}else for(var ve in a)S.set(ve,a[ve]);return S};function w(){this._=Object.create(null)}var k="__proto__",J="\0";_(w,{has:M,get:function(a){return this._[P(a)]},set:function(a,x){return this._[P(a)]=x},remove:W,keys:E,values:function(){var a=[];for(var x in this._)a.push(this._[x]);return a},entries:function(){var a=[];for(var x in this._)a.push({key:O(x),value:this._[x]});return a},size:N,empty:R,forEach:function(a){for(var x in this._)a.call(this,O(x),this._[x])}});function P(a){return(a+="")===k||a[0]===J?J+a:a}function O(a){return(a+="")[0]===J?a.slice(1):a}function M(a){return P(a)in this._}function W(a){return(a=P(a))in this._&&delete this._[a]}function E(){var a=[];for(var x in this._)a.push(O(x));return a}function N(){var a=0;for(var x in this._)++a;return a}function R(){for(var a in this._)return!1;return!0}i.nest=function(){var a={},x=[],S=[],z,Q;function ne(ue,Te,Oe){if(Oe>=x.length)return Q?Q.call(a,Te):z?Te.sort(z):Te;for(var Ce=-1,Ge=Te.length,et=x[Oe++],mt,At,nt,ht=new w,vt;++Ce<Ge;)(vt=ht.get(mt=et(At=Te[Ce])))?vt.push(At):ht.set(mt,[At]);return ue?(At=ue(),nt=function(Tt,kt){At.set(Tt,ne(ue,kt,Oe))}):(At={},nt=function(Tt,kt){At[Tt]=ne(ue,kt,Oe)}),ht.forEach(nt),At}function ve(ue,Te){if(Te>=x.length)return ue;var Oe=[],Ce=S[Te++];return ue.forEach(function(Ge,et){Oe.push({key:Ge,values:ve(et,Te)})}),Ce?Oe.sort(function(Ge,et){return Ce(Ge.key,et.key)}):Oe}return a.map=function(ue,Te){return ne(Te,ue,0)},a.entries=function(ue){return ve(ne(i.map,ue,0),0)},a.key=function(ue){return x.push(ue),a},a.sortKeys=function(ue){return S[x.length-1]=ue,a},a.sortValues=function(ue){return z=ue,a},a.rollup=function(ue){return Q=ue,a},a},i.set=function(a){var x=new V;if(a)for(var S=0,z=a.length;S<z;++S)x.add(a[S]);return x};function V(){this._=Object.create(null)}_(V,{has:M,add:function(a){return this._[P(a+="")]=!0,a},remove:W,values:E,size:N,empty:R,forEach:function(a){for(var x in this._)a.call(this,O(x))}}),i.behavior={};function U(a){return a}i.rebind=function(a,x){for(var S=1,z=arguments.length,Q;++S<z;)a[Q=arguments[S]]=G(a,x,x[Q]);return a};function G(a,x,S){return function(){var z=S.apply(x,arguments);return z===x?a:z}}function D(a,x){if(x in a)return x;x=x.charAt(0).toUpperCase()+x.slice(1);for(var S=0,z=Z.length;S<z;++S){var Q=Z[S]+x;if(Q in a)return Q}}var Z=["webkit","ms","moz","Moz","o","O"];function q(){}i.dispatch=function(){for(var a=new ae,x=-1,S=arguments.length;++x<S;)a[arguments[x]]=te(a);return a};function ae(){}ae.prototype.on=function(a,x){var S=a.indexOf("."),z="";if(S>=0&&(z=a.slice(S+1),a=a.slice(0,S)),a)return arguments.length<2?this[a].on(z):this[a].on(z,x);if(arguments.length===2){if(x==null)for(a in this)this.hasOwnProperty(a)&&this[a].on(z,null);return this}};function te(a){var x=[],S=new w;function z(){for(var Q=x,ne=-1,ve=Q.length,ue;++ne<ve;)(ue=Q[ne].on)&&ue.apply(this,arguments);return a}return z.on=function(Q,ne){var ve=S.get(Q),ue;return arguments.length<2?ve&&ve.on:(ve&&(ve.on=null,x=x.slice(0,ue=x.indexOf(ve)).concat(x.slice(ue+1)),S.remove(Q)),ne&&x.push(S.set(Q,{on:ne})),a)},z}i.event=null;function ie(){i.event.preventDefault()}function fe(){for(var a=i.event,x;x=a.sourceEvent;)a=x;return a}function he(a){for(var x=new ae,S=0,z=arguments.length;++S<z;)x[arguments[S]]=te(x);return x.of=function(Q,ne){return function(ve){try{var ue=ve.sourceEvent=i.event;ve.target=a,i.event=ve,x[ve.type].apply(Q,ne)}finally{i.event=ue}}},x}i.requote=function(a){return a.replace(be,"\\$&")};var be=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,H={}.__proto__?function(a,x){a.__proto__=x}:function(a,x){for(var S in x)a[S]=x[S]};function B(a){return H(a,j),a}var A=function(a,x){return x.querySelector(a)},X=function(a,x){return x.querySelectorAll(a)},I=function(a,x){var S=a.matches||a[D(a,"matchesSelector")];return I=function(z,Q){return S.call(z,Q)},I(a,x)};typeof Sizzle=="function"&&(A=function(a,x){return Sizzle(a,x)[0]||null},X=Sizzle,I=Sizzle.matchesSelector),i.selection=function(){return i.select(r.documentElement)};var j=i.selection.prototype=[];j.select=function(a){var x=[],S,z,Q,ne;a=T(a);for(var ve=-1,ue=this.length;++ve<ue;){x.push(S=[]),S.parentNode=(Q=this[ve]).parentNode;for(var Te=-1,Oe=Q.length;++Te<Oe;)(ne=Q[Te])?(S.push(z=a.call(ne,ne.__data__,Te,ve)),z&&"__data__"in ne&&(z.__data__=ne.__data__)):S.push(null)}return B(x)};function T(a){return typeof a=="function"?a:function(){return A(a,this)}}j.selectAll=function(a){var x=[],S,z;a=L(a);for(var Q=-1,ne=this.length;++Q<ne;)for(var ve=this[Q],ue=-1,Te=ve.length;++ue<Te;)(z=ve[ue])&&(x.push(S=n(a.call(z,z.__data__,ue,Q))),S.parentNode=z);return B(x)};function L(a){return typeof a=="function"?a:function(){return X(a,this)}}var $="http://www.w3.org/1999/xhtml",Y={svg:"http://www.w3.org/2000/svg",xhtml:$,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};i.ns={prefix:Y,qualify:function(a){var x=a.indexOf(":"),S=a;return x>=0&&(S=a.slice(0,x))!=="xmlns"&&(a=a.slice(x+1)),Y.hasOwnProperty(S)?{space:Y[S],local:a}:a}},j.attr=function(a,x){if(arguments.length<2){if(typeof a=="string"){var S=this.node();return a=i.ns.qualify(a),a.local?S.getAttributeNS(a.space,a.local):S.getAttribute(a)}for(x in a)this.each(re(x,a[x]));return this}return this.each(re(a,x))};function re(a,x){a=i.ns.qualify(a);function S(){this.removeAttribute(a)}function z(){this.removeAttributeNS(a.space,a.local)}function Q(){this.setAttribute(a,x)}function ne(){this.setAttributeNS(a.space,a.local,x)}function ve(){var Te=x.apply(this,arguments);Te==null?this.removeAttribute(a):this.setAttribute(a,Te)}function ue(){var Te=x.apply(this,arguments);Te==null?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,Te)}return x==null?a.local?z:S:typeof x=="function"?a.local?ue:ve:a.local?ne:Q}function se(a){return a.trim().replace(/\s+/g," ")}j.classed=function(a,x){if(arguments.length<2){if(typeof a=="string"){var S=this.node(),z=(a=we(a)).length,Q=-1;if(x=S.classList){for(;++Q<z;)if(!x.contains(a[Q]))return!1}else for(x=S.getAttribute("class");++Q<z;)if(!ce(a[Q]).test(x))return!1;return!0}for(x in a)this.each(Se(x,a[x]));return this}return this.each(Se(a,x))};function ce(a){return new RegExp("(?:^|\\s+)"+i.requote(a)+"(?:\\s+|$)","g")}function we(a){return(a+"").trim().split(/^|\s+/)}function Se(a,x){a=we(a).map(Ie);var S=a.length;function z(){for(var ne=-1;++ne<S;)a[ne](this,x)}function Q(){for(var ne=-1,ve=x.apply(this,arguments);++ne<S;)a[ne](this,ve)}return typeof x=="function"?Q:z}function Ie(a){var x=ce(a);return function(S,z){if(Q=S.classList)return z?Q.add(a):Q.remove(a);var Q=S.getAttribute("class")||"";z?(x.lastIndex=0,x.test(Q)||S.setAttribute("class",se(Q+" "+a))):S.setAttribute("class",se(Q.replace(x," ")))}}j.style=function(a,x,S){var z=arguments.length;if(z<3){if(typeof a!="string"){z<2&&(x="");for(S in a)this.each(Ze(S,a[S],x));return this}if(z<2){var Q=this.node();return o(Q).getComputedStyle(Q,null).getPropertyValue(a)}S=""}return this.each(Ze(a,x,S))};function Ze(a,x,S){function z(){this.style.removeProperty(a)}function Q(){this.style.setProperty(a,x,S)}function ne(){var ve=x.apply(this,arguments);ve==null?this.style.removeProperty(a):this.style.setProperty(a,ve,S)}return x==null?z:typeof x=="function"?ne:Q}j.property=function(a,x){if(arguments.length<2){if(typeof a=="string")return this.node()[a];for(x in a)this.each(He(x,a[x]));return this}return this.each(He(a,x))};function He(a,x){function S(){delete this[a]}function z(){this[a]=x}function Q(){var ne=x.apply(this,arguments);ne==null?delete this[a]:this[a]=ne}return x==null?S:typeof x=="function"?Q:z}j.text=function(a){return arguments.length?this.each(typeof a=="function"?function(){var x=a.apply(this,arguments);this.textContent=x??""}:a==null?function(){this.textContent=""}:function(){this.textContent=a}):this.node().textContent},j.html=function(a){return arguments.length?this.each(typeof a=="function"?function(){var x=a.apply(this,arguments);this.innerHTML=x??""}:a==null?function(){this.innerHTML=""}:function(){this.innerHTML=a}):this.node().innerHTML},j.append=function(a){return a=Be(a),this.select(function(){return this.appendChild(a.apply(this,arguments))})};function Be(a){function x(){var z=this.ownerDocument,Q=this.namespaceURI;return Q===$&&z.documentElement.namespaceURI===$?z.createElement(a):z.createElementNS(Q,a)}function S(){return this.ownerDocument.createElementNS(a.space,a.local)}return typeof a=="function"?a:(a=i.ns.qualify(a)).local?S:x}j.insert=function(a,x){return a=Be(a),x=T(x),this.select(function(){return this.insertBefore(a.apply(this,arguments),x.apply(this,arguments)||null)})},j.remove=function(){return this.each(pe)};function pe(){var a=this.parentNode;a&&a.removeChild(this)}j.data=function(a,x){var S=-1,z=this.length,Q,ne;if(!arguments.length){for(a=new Array(z=(Q=this[0]).length);++S<z;)(ne=Q[S])&&(a[S]=ne.__data__);return a}function ve(Ce,Ge){var et,mt=Ce.length,At=Ge.length,nt=Math.min(mt,At),ht=new Array(At),vt=new Array(At),Tt=new Array(mt),kt,gt;if(x){var Gt=new w,pn=new Array(mt),Tn;for(et=-1;++et<mt;)(kt=Ce[et])&&(Gt.has(Tn=x.call(kt,kt.__data__,et))?Tt[et]=kt:Gt.set(Tn,kt),pn[et]=Tn);for(et=-1;++et<At;)(kt=Gt.get(Tn=x.call(Ge,gt=Ge[et],et)))?kt!==!0&&(ht[et]=kt,kt.__data__=gt):vt[et]=_e(gt),Gt.set(Tn,!0);for(et=-1;++et<mt;)et in pn&&Gt.get(pn[et])!==!0&&(Tt[et]=Ce[et])}else{for(et=-1;++et<nt;)kt=Ce[et],gt=Ge[et],kt?(kt.__data__=gt,ht[et]=kt):vt[et]=_e(gt);for(;et<At;++et)vt[et]=_e(Ge[et]);for(;et<mt;++et)Tt[et]=Ce[et]}vt.update=ht,vt.parentNode=ht.parentNode=Tt.parentNode=Ce.parentNode,ue.push(vt),Te.push(ht),Oe.push(Tt)}var ue=Ye([]),Te=B([]),Oe=B([]);if(typeof a=="function")for(;++S<z;)ve(Q=this[S],a.call(Q,Q.parentNode.__data__,S));else for(;++S<z;)ve(Q=this[S],a);return Te.enter=function(){return ue},Te.exit=function(){return Oe},Te};function _e(a){return{__data__:a}}j.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")},j.filter=function(a){var x=[],S,z,Q;typeof a!="function"&&(a=oe(a));for(var ne=0,ve=this.length;ne<ve;ne++){x.push(S=[]),S.parentNode=(z=this[ne]).parentNode;for(var ue=0,Te=z.length;ue<Te;ue++)(Q=z[ue])&&a.call(Q,Q.__data__,ue,ne)&&S.push(Q)}return B(x)};function oe(a){return function(){return I(this,a)}}j.order=function(){for(var a=-1,x=this.length;++a<x;)for(var S=this[a],z=S.length-1,Q=S[z],ne;--z>=0;)(ne=S[z])&&(Q&&Q!==ne.nextSibling&&Q.parentNode.insertBefore(ne,Q),Q=ne);return this},j.sort=function(a){a=Le.apply(this,arguments);for(var x=-1,S=this.length;++x<S;)this[x].sort(a);return this.order()};function Le(a){return arguments.length||(a=h),function(x,S){return x&&S?a(x.__data__,S.__data__):!x-!S}}j.each=function(a){return Re(this,function(x,S,z){a.call(x,x.__data__,S,z)})};function Re(a,x){for(var S=0,z=a.length;S<z;S++)for(var Q=a[S],ne=0,ve=Q.length,ue;ne<ve;ne++)(ue=Q[ne])&&x(ue,ne,S);return a}j.call=function(a){var x=n(arguments);return a.apply(x[0]=this,x),this},j.empty=function(){return!this.node()},j.node=function(){for(var a=0,x=this.length;a<x;a++)for(var S=this[a],z=0,Q=S.length;z<Q;z++){var ne=S[z];if(ne)return ne}return null},j.size=function(){var a=0;return Re(this,function(){++a}),a};function Ye(a){return H(a,ot),a}var ot=[];i.selection.enter=Ye,i.selection.enter.prototype=ot,ot.append=j.append,ot.empty=j.empty,ot.node=j.node,ot.call=j.call,ot.size=j.size,ot.select=function(a){for(var x=[],S,z,Q,ne,ve,ue=-1,Te=this.length;++ue<Te;){Q=(ne=this[ue]).update,x.push(S=[]),S.parentNode=ne.parentNode;for(var Oe=-1,Ce=ne.length;++Oe<Ce;)(ve=ne[Oe])?(S.push(Q[Oe]=z=a.call(ne.parentNode,ve.__data__,Oe,ue)),z.__data__=ve.__data__):S.push(null)}return B(x)},ot.insert=function(a,x){return arguments.length<2&&(x=Xe(this)),j.insert.call(this,a,x)};function Xe(a){var x,S;return function(z,Q,ne){var ve=a[ne].update,ue=ve.length,Te;for(ne!=S&&(S=ne,x=0),Q>=x&&(x=Q+1);!(Te=ve[x])&&++x<ue;);return Te}}i.select=function(a){var x;return typeof a=="string"?(x=[A(a,r)],x.parentNode=r.documentElement):(x=[a],x.parentNode=l(a)),B([x])},i.selectAll=function(a){var x;return typeof a=="string"?(x=n(X(a,r)),x.parentNode=r.documentElement):(x=n(a),x.parentNode=null),B([x])},j.on=function(a,x,S){var z=arguments.length;if(z<3){if(typeof a!="string"){z<2&&(x=!1);for(S in a)this.each(lt(S,a[S],x));return this}if(z<2)return(z=this.node()["__on"+a])&&z._;S=!1}return this.each(lt(a,x,S))};function lt(a,x,S){var z="__on"+a,Q=a.indexOf("."),ne=dt;Q>0&&(a=a.slice(0,Q));var ve=ut.get(a);ve&&(a=ve,ne=xt);function ue(){var Ce=this[z];Ce&&(this.removeEventListener(a,Ce,Ce.$),delete this[z])}function Te(){var Ce=ne(x,n(arguments));ue.call(this),this.addEventListener(a,this[z]=Ce,Ce.$=S),Ce._=x}function Oe(){var Ce=new RegExp("^__on([^.]+)"+i.requote(a)+"$"),Ge;for(var et in this)if(Ge=et.match(Ce)){var mt=this[et];this.removeEventListener(Ge[1],mt,mt.$),delete this[et]}}return Q?x?Te:ue:x?q:Oe}var ut=i.map({mouseenter:"mouseover",mouseleave:"mouseout"});r&&ut.forEach(function(a){"on"+a in r&&ut.remove(a)});function dt(a,x){return function(S){var z=i.event;i.event=S,x[0]=this.__data__;try{a.apply(this,x)}finally{i.event=z}}}function xt(a,x){var S=dt(a,x);return function(z){var Q=this,ne=z.relatedTarget;(!ne||ne!==Q&&!(ne.compareDocumentPosition(Q)&8))&&S.call(Q,z)}}var qe,bt=0;function Dt(a){var x=".dragsuppress-"+ ++bt,S="click"+x,z=i.select(o(a)).on("touchmove"+x,ie).on("dragstart"+x,ie).on("selectstart"+x,ie);if(qe==null&&(qe="onselectstart"in a?!1:D(a.style,"userSelect")),qe){var Q=l(a).style,ne=Q[qe];Q[qe]="none"}return function(ve){if(z.on(x,null),qe&&(Q[qe]=ne),ve){var ue=function(){z.on(S,null)};z.on(S,function(){ie(),ue()},!0),setTimeout(ue,0)}}}i.mouse=function(a){return St(a,fe())};var pt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function St(a,x){x.changedTouches&&(x=x.changedTouches[0]);var S=a.ownerSVGElement||a;if(S.createSVGPoint){var z=S.createSVGPoint();if(pt<0){var Q=o(a);if(Q.scrollX||Q.scrollY){S=i.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var ne=S[0][0].getScreenCTM();pt=!(ne.f||ne.e),S.remove()}}return pt?(z.x=x.pageX,z.y=x.pageY):(z.x=x.clientX,z.y=x.clientY),z=z.matrixTransform(a.getScreenCTM().inverse()),[z.x,z.y]}var ve=a.getBoundingClientRect();return[x.clientX-ve.left-a.clientLeft,x.clientY-ve.top-a.clientTop]}i.touch=function(a,x,S){if(arguments.length<3&&(S=x,x=fe().changedTouches),x){for(var z=0,Q=x.length,ne;z<Q;++z)if((ne=x[z]).identifier===S)return St(a,ne)}},i.behavior.drag=function(){var a=he(Q,"drag","dragstart","dragend"),x=null,S=ne(q,i.mouse,o,"mousemove","mouseup"),z=ne(me,i.touch,U,"touchmove","touchend");function Q(){this.on("mousedown.drag",S).on("touchstart.drag",z)}function ne(ve,ue,Te,Oe,Ce){return function(){var Ge=this,et=i.event.target.correspondingElement||i.event.target,mt=Ge.parentNode,At=a.of(Ge,arguments),nt=0,ht=ve(),vt=".drag"+(ht==null?"":"-"+ht),Tt,kt=i.select(Te(et)).on(Oe+vt,pn).on(Ce+vt,Tn),gt=Dt(et),Gt=ue(mt,ht);x?(Tt=x.apply(Ge,arguments),Tt=[Tt.x-Gt[0],Tt.y-Gt[1]]):Tt=[0,0],At({type:"dragstart"});function pn(){var yn=ue(mt,ht),Dn,Cn;yn&&(Dn=yn[0]-Gt[0],Cn=yn[1]-Gt[1],nt|=Dn|Cn,Gt=yn,At({type:"drag",x:yn[0]+Tt[0],y:yn[1]+Tt[1],dx:Dn,dy:Cn}))}function Tn(){ue(mt,ht)&&(kt.on(Oe+vt,null).on(Ce+vt,null),gt(nt),At({type:"dragend"}))}}}return Q.origin=function(ve){return arguments.length?(x=ve,Q):x},i.rebind(Q,a,"on")};function me(){return i.event.changedTouches[0].identifier}i.touches=function(a,x){return arguments.length<2&&(x=fe().touches),x?n(x).map(function(S){var z=St(a,S);return z.identifier=S.identifier,z}):[]};var Ae=1e-6,ke=Ae*Ae,K=Math.PI,de=2*K,xe=de-Ae,ge=K/2,Ee=K/180,Me=180/K;function Je(a,x,S){return(x[0]-a[0])*(S[1]-a[1])-(x[1]-a[1])*(S[0]-a[0])}function Qe(a){return a>1?ge:a<-1?-ge:Math.asin(a)}function st(a){return((a=Math.exp(a))-1/a)/2}function ze(a){return((a=Math.exp(a))+1/a)/2}function rt(a){return((a=Math.exp(2*a))-1)/(a+1)}var ft=Math.SQRT2,yt=2,Ht=4;i.interpolateZoom=function(a,x){var S=a[0],z=a[1],Q=a[2],ne=x[0],ve=x[1],ue=x[2],Te=ne-S,Oe=ve-z,Ce=Te*Te+Oe*Oe,Ge,et;if(Ce<ke)et=Math.log(ue/Q)/ft,Ge=function(Tt){return[S+Tt*Te,z+Tt*Oe,Q*Math.exp(ft*Tt*et)]};else{var mt=Math.sqrt(Ce),At=(ue*ue-Q*Q+Ht*Ce)/(2*Q*yt*mt),nt=(ue*ue-Q*Q-Ht*Ce)/(2*ue*yt*mt),ht=Math.log(Math.sqrt(At*At+1)-At),vt=Math.log(Math.sqrt(nt*nt+1)-nt);et=(vt-ht)/ft,Ge=function(Tt){var kt=Tt*et,gt=ze(ht),Gt=Q/(yt*mt)*(gt*rt(ft*kt+ht)-st(ht));return[S+Gt*Te,z+Gt*Oe,Q*gt/ze(ft*kt+ht)]}}return Ge.duration=et*1e3,Ge},i.behavior.zoom=function(){var a={x:0,y:0,k:1},x,S,z,Q=[960,500],ne=Wt,ve=250,ue=0,Te="mousedown.zoom",Oe="mousemove.zoom",Ce="mouseup.zoom",Ge,et="touchstart.zoom",mt,At=he(kt,"zoomstart","zoom","zoomend"),nt,ht,vt,Tt;Bt||(Bt="onwheel"in r?(hn=function(){return-i.event.deltaY*(i.event.deltaMode?120:1)},"wheel"):"onmousewheel"in r?(hn=function(){return i.event.wheelDelta},"mousewheel"):(hn=function(){return-i.event.detail},"MozMousePixelScroll"));function kt(dn){dn.on(Te,la).on(Bt+".zoom",Mr).on("dblclick.zoom",Ua).on(et,Na)}kt.event=function(dn){dn.each(function(){var va=At.of(this,arguments),_a=a;to?i.select(this).transition().each("start.zoom",function(){a=this.__chart__||{x:0,y:0,k:1},Cn(va)}).tween("zoom:zoom",function(){var ja=Q[0],xr=Q[1],Pr=S?S[0]:ja/2,Br=S?S[1]:xr/2,ei=i.interpolateZoom([(Pr-a.x)/a.k,(Br-a.y)/a.k,ja/a.k],[(Pr-_a.x)/_a.k,(Br-_a.y)/_a.k,ja/_a.k]);return function(oi){var ti=ei(oi),ci=ja/ti[2];this.__chart__=a={x:Pr-ti[0]*ci,y:Br-ti[1]*ci,k:ci},pa(va)}}).each("interrupt.zoom",function(){jn(va)}).each("end.zoom",function(){jn(va)}):(this.__chart__=a,Cn(va),pa(va),jn(va))})},kt.translate=function(dn){return arguments.length?(a={x:+dn[0],y:+dn[1],k:a.k},Dn(),kt):[a.x,a.y]},kt.scale=function(dn){return arguments.length?(a={x:a.x,y:a.y,k:null},pn(+dn),Dn(),kt):a.k},kt.scaleExtent=function(dn){return arguments.length?(ne=dn==null?Wt:[+dn[0],+dn[1]],kt):ne},kt.center=function(dn){return arguments.length?(z=dn&&[+dn[0],+dn[1]],kt):z},kt.size=function(dn){return arguments.length?(Q=dn&&[+dn[0],+dn[1]],kt):Q},kt.duration=function(dn){return arguments.length?(ve=+dn,kt):ve},kt.x=function(dn){return arguments.length?(ht=dn,nt=dn.copy(),a={x:0,y:0,k:1},kt):ht},kt.y=function(dn){return arguments.length?(Tt=dn,vt=dn.copy(),a={x:0,y:0,k:1},kt):Tt};function gt(dn){return[(dn[0]-a.x)/a.k,(dn[1]-a.y)/a.k]}function Gt(dn){return[dn[0]*a.k+a.x,dn[1]*a.k+a.y]}function pn(dn){a.k=Math.max(ne[0],Math.min(ne[1],dn))}function Tn(dn,va){va=Gt(va),a.x+=dn[0]-va[0],a.y+=dn[1]-va[1]}function yn(dn,va,_a,ja){dn.__chart__={x:a.x,y:a.y,k:a.k},pn(Math.pow(2,ja)),Tn(S=va,_a),dn=i.select(dn),ve>0&&(dn=dn.transition().duration(ve)),dn.call(kt.event)}function Dn(){ht&&ht.domain(nt.range().map(function(dn){return(dn-a.x)/a.k}).map(nt.invert)),Tt&&Tt.domain(vt.range().map(function(dn){return(dn-a.y)/a.k}).map(vt.invert))}function Cn(dn){ue++||dn({type:"zoomstart"})}function pa(dn){Dn(),dn({type:"zoom",scale:a.k,translate:[a.x,a.y]})}function jn(dn){--ue||(dn({type:"zoomend"}),S=null)}function la(){var dn=this,va=At.of(dn,arguments),_a=0,ja=i.select(o(dn)).on(Oe,Br).on(Ce,ei),xr=gt(i.mouse(dn)),Pr=Dt(dn);tl.call(dn),Cn(va);function Br(){_a=1,Tn(i.mouse(dn),xr),pa(va)}function ei(){ja.on(Oe,null).on(Ce,null),Pr(_a),jn(va)}}function Na(){var dn=this,va=At.of(dn,arguments),_a={},ja=0,xr,Pr=".zoom-"+i.event.changedTouches[0].identifier,Br="touchmove"+Pr,ei="touchend"+Pr,oi=[],ti=i.select(dn),ci=Dt(dn);ui(),Cn(va),ti.on(Te,null).on(et,ui);function Wr(){var wi=i.touches(dn);return xr=a.k,wi.forEach(function(Vr){Vr.identifier in _a&&(_a[Vr.identifier]=gt(Vr))}),wi}function ui(){var wi=i.event.target;i.select(wi).on(Br,no).on(ei,Rh),oi.push(wi);for(var Vr=i.event.changedTouches,pi=0,Oi=Vr.length;pi<Oi;++pi)_a[Vr[pi].identifier]=null;var vi=Wr(),ho=Date.now();if(vi.length===1){if(ho-mt<500){var ao=vi[0];yn(dn,ao,_a[ao.identifier],Math.floor(Math.log(a.k)/Math.LN2)+1),ie()}mt=ho}else if(vi.length>1){var ao=vi[0],Hi=vi[1],rl=ao[0]-Hi[0],Ic=ao[1]-Hi[1];ja=rl*rl+Ic*Ic}}function no(){var wi=i.touches(dn),Vr,pi,Oi,vi;tl.call(dn);for(var ho=0,ao=wi.length;ho<ao;++ho,vi=null)if(Oi=wi[ho],vi=_a[Oi.identifier]){if(pi)break;Vr=Oi,pi=vi}if(vi){var Hi=(Hi=Oi[0]-Vr[0])*Hi+(Hi=Oi[1]-Vr[1])*Hi,rl=ja&&Math.sqrt(Hi/ja);Vr=[(Vr[0]+Oi[0])/2,(Vr[1]+Oi[1])/2],pi=[(pi[0]+vi[0])/2,(pi[1]+vi[1])/2],pn(rl*xr)}mt=null,Tn(Vr,pi),pa(va)}function Rh(){if(i.event.touches.length){for(var wi=i.event.changedTouches,Vr=0,pi=wi.length;Vr<pi;++Vr)delete _a[wi[Vr].identifier];for(var Oi in _a)return void Wr()}i.selectAll(oi).on(Pr,null),ti.on(Te,la).on(et,Na),ci(),jn(va)}}function Mr(){var dn=At.of(this,arguments);Ge?clearTimeout(Ge):(tl.call(this),x=gt(S=z||i.mouse(this)),Cn(dn)),Ge=setTimeout(function(){Ge=null,jn(dn)},50),ie(),pn(Math.pow(2,hn()*.002)*a.k),Tn(S,x),pa(dn)}function Ua(){var dn=i.mouse(this),va=Math.log(a.k)/Math.LN2;yn(this,dn,gt(dn),i.event.shiftKey?Math.ceil(va)-1:Math.floor(va)+1)}return i.rebind(kt,At,"on")};var Wt=[0,1/0],hn,Bt;i.color=en;function en(){}en.prototype.toString=function(){return this.rgb()+""},i.hsl=Ft;function Ft(a,x,S){return this instanceof Ft?(this.h=+a,this.s=+x,void(this.l=+S)):arguments.length<2?a instanceof Ft?new Ft(a.h,a.s,a.l):je(""+a,We,Ft):new Ft(a,x,S)}var Nt=Ft.prototype=new en;Nt.brighter=function(a){return a=Math.pow(.7,arguments.length?a:1),new Ft(this.h,this.s,this.l/a)},Nt.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new Ft(this.h,this.s,a*this.l)},Nt.rgb=function(){return ln(this.h,this.s,this.l)};function ln(a,x,S){var z,Q;a=isNaN(a)?0:(a%=360)<0?a+360:a,x=isNaN(x)||x<0?0:x>1?1:x,S=S<0?0:S>1?1:S,Q=S<=.5?S*(1+x):S+x-S*x,z=2*S-Q;function ne(ue){return ue>360?ue-=360:ue<0&&(ue+=360),ue<60?z+(Q-z)*ue/60:ue<180?Q:ue<240?z+(Q-z)*(240-ue)/60:z}function ve(ue){return Math.round(ne(ue)*255)}return new le(ve(a+120),ve(a),ve(a-120))}i.hcl=tn;function tn(a,x,S){return this instanceof tn?(this.h=+a,this.c=+x,void(this.l=+S)):arguments.length<2?a instanceof tn?new tn(a.h,a.c,a.l):a instanceof Pt?xa(a.l,a.a,a.b):xa((a=Ne((a=i.rgb(a)).r,a.g,a.b)).l,a.a,a.b):new tn(a,x,S)}var sn=tn.prototype=new en;sn.brighter=function(a){return new tn(this.h,this.c,Math.min(100,this.l+nn*(arguments.length?a:1)))},sn.darker=function(a){return new tn(this.h,this.c,Math.max(0,this.l-nn*(arguments.length?a:1)))},sn.rgb=function(){return Ut(this.h,this.c,this.l).rgb()};function Ut(a,x,S){return isNaN(a)&&(a=0),isNaN(x)&&(x=0),new Pt(S,Math.cos(a*=Ee)*x,Math.sin(a)*x)}i.lab=Pt;function Pt(a,x,S){return this instanceof Pt?(this.l=+a,this.a=+x,void(this.b=+S)):arguments.length<2?a instanceof Pt?new Pt(a.l,a.a,a.b):a instanceof tn?Ut(a.h,a.c,a.l):Ne((a=le(a)).r,a.g,a.b):new Pt(a,x,S)}var nn=18,On=.95047,Qn=1,rn=1.08883,In=Pt.prototype=new en;In.brighter=function(a){return new Pt(Math.min(100,this.l+nn*(arguments.length?a:1)),this.a,this.b)},In.darker=function(a){return new Pt(Math.max(0,this.l-nn*(arguments.length?a:1)),this.a,this.b)},In.rgb=function(){return Nn(this.l,this.a,this.b)};function Nn(a,x,S){var z=(a+16)/116,Q=z+x/500,ne=z-S/200;return Q=Et(Q)*On,z=Et(z)*Qn,ne=Et(ne)*rn,new le(ee(3.2404542*Q-1.5371385*z-.4985314*ne),ee(-.969266*Q+1.8760108*z+.041556*ne),ee(.0556434*Q-.2040259*z+1.0572252*ne))}function xa(a,x,S){return a>0?new tn(Math.atan2(S,x)*Me,Math.sqrt(x*x+S*S),a):new tn(NaN,NaN,a)}function Et(a){return a>.206893034?a*a*a:(a-4/29)/7.787037}function ea(a){return a>.008856?Math.pow(a,1/3):7.787037*a+4/29}function ee(a){return Math.round(255*(a<=.00304?12.92*a:1.055*Math.pow(a,1/2.4)-.055))}i.rgb=le;function le(a,x,S){return this instanceof le?(this.r=~~a,this.g=~~x,void(this.b=~~S)):arguments.length<2?a instanceof le?new le(a.r,a.g,a.b):je(""+a,le,ln):new le(a,x,S)}function $e(a){return new le(a>>16,a>>8&255,a&255)}function Ve(a){return $e(a)+""}var De=le.prototype=new en;De.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);var x=this.r,S=this.g,z=this.b,Q=30;return!x&&!S&&!z?new le(Q,Q,Q):(x&&x<Q&&(x=Q),S&&S<Q&&(S=Q),z&&z<Q&&(z=Q),new le(Math.min(255,x/a),Math.min(255,S/a),Math.min(255,z/a)))},De.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new le(a*this.r,a*this.g,a*this.b)},De.hsl=function(){return We(this.r,this.g,this.b)},De.toString=function(){return"#"+Pe(this.r)+Pe(this.g)+Pe(this.b)};function Pe(a){return a<16?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function je(a,x,S){var z=0,Q=0,ne=0,ve,ue,Te;if(ve=/([a-z]+)\((.*)\)/.exec(a=a.toLowerCase()),ve)switch(ue=ve[2].split(","),ve[1]){case"hsl":return S(parseFloat(ue[0]),parseFloat(ue[1])/100,parseFloat(ue[2])/100);case"rgb":return x(Ke(ue[0]),Ke(ue[1]),Ke(ue[2]))}return(Te=it.get(a))?x(Te.r,Te.g,Te.b):(a!=null&&a.charAt(0)==="#"&&!isNaN(Te=parseInt(a.slice(1),16))&&(a.length===4?(z=(Te&3840)>>4,z=z>>4|z,Q=Te&240,Q=Q>>4|Q,ne=Te&15,ne=ne<<4|ne):a.length===7&&(z=(Te&16711680)>>16,Q=(Te&65280)>>8,ne=Te&255)),x(z,Q,ne))}function We(a,x,S){var z=Math.min(a/=255,x/=255,S/=255),Q=Math.max(a,x,S),ne=Q-z,ve,ue,Te=(Q+z)/2;return ne?(ue=Te<.5?ne/(Q+z):ne/(2-Q-z),a==Q?ve=(x-S)/ne+(x<S?6:0):x==Q?ve=(S-a)/ne+2:ve=(a-x)/ne+4,ve*=60):(ve=NaN,ue=Te>0&&Te<1?0:ve),new Ft(ve,ue,Te)}function Ne(a,x,S){a=Ue(a),x=Ue(x),S=Ue(S);var z=ea((.4124564*a+.3575761*x+.1804375*S)/On),Q=ea((.2126729*a+.7151522*x+.072175*S)/Qn),ne=ea((.0193339*a+.119192*x+.9503041*S)/rn);return Pt(116*Q-16,500*(z-Q),200*(Q-ne))}function Ue(a){return(a/=255)<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function Ke(a){var x=parseFloat(a);return a.charAt(a.length-1)==="%"?Math.round(x*2.55):x}var it=i.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});it.forEach(function(a,x){it.set(a,$e(x))});function _t(a){return typeof a=="function"?a:function(){return a}}i.functor=_t,i.xhr=Ct(U);function Ct(a){return function(x,S,z){return arguments.length===2&&typeof S=="function"&&(z=S,S=null),Mt(x,S,a,z)}}function Mt(a,x,S,z){var Q={},ne=i.dispatch("beforesend","progress","load","error"),ve={},ue=new XMLHttpRequest,Te=null;self.XDomainRequest&&!("withCredentials"in ue)&&/^(http(s)?:)?\/\//.test(a)&&(ue=new XDomainRequest),"onload"in ue?ue.onload=ue.onerror=Oe:ue.onreadystatechange=function(){ue.readyState>3&&Oe()};function Oe(){var Ce=ue.status,Ge;if(!Ce&&$t(ue)||Ce>=200&&Ce<300||Ce===304){try{Ge=S.call(Q,ue)}catch(et){ne.error.call(Q,et);return}ne.load.call(Q,Ge)}else ne.error.call(Q,ue)}return ue.onprogress=function(Ce){var Ge=i.event;i.event=Ce;try{ne.progress.call(Q,ue)}finally{i.event=Ge}},Q.header=function(Ce,Ge){return Ce=(Ce+"").toLowerCase(),arguments.length<2?ve[Ce]:(Ge==null?delete ve[Ce]:ve[Ce]=Ge+"",Q)},Q.mimeType=function(Ce){return arguments.length?(x=Ce==null?null:Ce+"",Q):x},Q.responseType=function(Ce){return arguments.length?(Te=Ce,Q):Te},Q.response=function(Ce){return S=Ce,Q},["get","post"].forEach(function(Ce){Q[Ce]=function(){return Q.send.apply(Q,[Ce].concat(n(arguments)))}}),Q.send=function(Ce,Ge,et){if(arguments.length===2&&typeof Ge=="function"&&(et=Ge,Ge=null),ue.open(Ce,a,!0),x!=null&&!("accept"in ve)&&(ve.accept=x+",*/*"),ue.setRequestHeader)for(var mt in ve)ue.setRequestHeader(mt,ve[mt]);return x!=null&&ue.overrideMimeType&&ue.overrideMimeType(x),Te!=null&&(ue.responseType=Te),et!=null&&Q.on("error",et).on("load",function(At){et(null,At)}),ne.beforesend.call(Q,ue),ue.send(Ge??null),Q},Q.abort=function(){return ue.abort(),Q},i.rebind(Q,ne,"on"),z==null?Q:Q.get(jt(z))}function jt(a){return a.length===1?function(x,S){a(x==null?S:null)}:a}function $t(a){var x=a.responseType;return x&&x!=="text"?a.response:a.responseText}i.dsv=function(a,x){var S=new RegExp('["'+a+`
]`),z=a.charCodeAt(0);function Q(Oe,Ce,Ge){arguments.length<3&&(Ge=Ce,Ce=null);var et=Mt(Oe,x,Ce==null?ne:ve(Ce),Ge);return et.row=function(mt){return arguments.length?et.response((Ce=mt)==null?ne:ve(mt)):Ce},et}function ne(Oe){return Q.parse(Oe.responseText)}function ve(Oe){return function(Ce){return Q.parse(Ce.responseText,Oe)}}Q.parse=function(Oe,Ce){var Ge;return Q.parseRows(Oe,function(et,mt){if(Ge)return Ge(et,mt-1);var At=function(nt){for(var ht={},vt=et.length,Tt=0;Tt<vt;++Tt)ht[et[Tt]]=nt[Tt];return ht};Ge=Ce?function(nt,ht){return Ce(At(nt),ht)}:At})},Q.parseRows=function(Oe,Ce){var Ge={},et={},mt=[],At=Oe.length,nt=0,ht=0,vt,Tt;function kt(){if(nt>=At)return et;if(Tt)return Tt=!1,Ge;var Gt=nt;if(Oe.charCodeAt(Gt)===34){for(var pn=Gt;pn++<At;)if(Oe.charCodeAt(pn)===34){if(Oe.charCodeAt(pn+1)!==34)break;++pn}nt=pn+2;var Tn=Oe.charCodeAt(pn+1);return Tn===13?(Tt=!0,Oe.charCodeAt(pn+2)===10&&++nt):Tn===10&&(Tt=!0),Oe.slice(Gt+1,pn).replace(/""/g,'"')}for(;nt<At;){var Tn=Oe.charCodeAt(nt++),yn=1;if(Tn===10)Tt=!0;else if(Tn===13)Tt=!0,Oe.charCodeAt(nt)===10&&(++nt,++yn);else if(Tn!==z)continue;return Oe.slice(Gt,nt-yn)}return Oe.slice(Gt)}for(;(vt=kt())!==et;){for(var gt=[];vt!==Ge&&vt!==et;)gt.push(vt),vt=kt();Ce&&(gt=Ce(gt,ht++))==null||mt.push(gt)}return mt},Q.format=function(Oe){if(Array.isArray(Oe[0]))return Q.formatRows(Oe);var Ce=new V,Ge=[];return Oe.forEach(function(et){for(var mt in et)Ce.has(mt)||Ge.push(Ce.add(mt))}),[Ge.map(Te).join(a)].concat(Oe.map(function(et){return Ge.map(function(mt){return Te(et[mt])}).join(a)})).join(`
`)},Q.formatRows=function(Oe){return Oe.map(ue).join(`
`)};function ue(Oe){return Oe.map(Te).join(a)}function Te(Oe){return S.test(Oe)?'"'+Oe.replace(/\"/g,'""')+'"':Oe}return Q},i.csv=i.dsv(",","text/csv"),i.tsv=i.dsv("	","text/tab-separated-values");var bn,Zt,an,wn,Bn=this[D(this,"requestAnimationFrame")]||function(a){setTimeout(a,17)};i.timer=function(){na.apply(this,arguments)};function na(a,x,S){var z=arguments.length;z<2&&(x=0),z<3&&(S=Date.now());var Q=S+x,ne={c:a,t:Q,n:null};return Zt?Zt.n=ne:bn=ne,Zt=ne,an||(wn=clearTimeout(wn),an=1,Bn(Ha)),ne}function Ha(){var a=Ta(),x=Oa()-a;x>24?(isFinite(x)&&(clearTimeout(wn),wn=setTimeout(Ha,x)),an=0):(an=1,Bn(Ha))}i.timer.flush=function(){Ta(),Oa()};function Ta(){for(var a=Date.now(),x=bn;x;)a>=x.t&&x.c(a-x.t)&&(x.c=null),x=x.n;return a}function Oa(){for(var a,x=bn,S=1/0;x;)x.c?(x.t<S&&(S=x.t),x=(a=x).n):x=a?a.n=x.n:bn=x.n;return Zt=a,S}i.round=function(a,x){return x?Math.round(a*(x=Math.pow(10,x)))/x:Math.round(a)},i.geom={};function br(a){return a[0]}function mr(a){return a[1]}i.geom.hull=function(a){var x=br,S=mr;if(arguments.length)return z(a);function z(Q){if(Q.length<3)return[];var ne=_t(x),ve=_t(S),ue,Te=Q.length,Oe=[],Ce=[];for(ue=0;ue<Te;ue++)Oe.push([+ne.call(this,Q[ue],ue),+ve.call(this,Q[ue],ue),ue]);for(Oe.sort(Ma),ue=0;ue<Te;ue++)Ce.push([Oe[ue][0],-Oe[ue][1]]);var Ge=Ea(Oe),et=Ea(Ce),mt=et[0]===Ge[0],At=et[et.length-1]===Ge[Ge.length-1],nt=[];for(ue=Ge.length-1;ue>=0;--ue)nt.push(Q[Oe[Ge[ue]][2]]);for(ue=+mt;ue<et.length-At;++ue)nt.push(Q[Oe[et[ue]][2]]);return nt}return z.x=function(Q){return arguments.length?(x=Q,z):x},z.y=function(Q){return arguments.length?(S=Q,z):S},z};function Ea(a){for(var x=a.length,S=[0,1],z=2,Q=2;Q<x;Q++){for(;z>1&&Je(a[S[z-2]],a[S[z-1]],a[Q])<=0;)--z;S[z++]=Q}return S.slice(0,z)}function Ma(a,x){return a[0]-x[0]||a[1]-x[1]}i.geom.polygon=function(a){return H(a,Zn),a};var Zn=i.geom.polygon.prototype=[];Zn.area=function(){for(var a=-1,x=this.length,S,z=this[x-1],Q=0;++a<x;)S=z,z=this[a],Q+=S[1]*z[0]-S[0]*z[1];return Q*.5},Zn.centroid=function(a){var x=-1,S=this.length,z=0,Q=0,ne,ve=this[S-1],ue;for(arguments.length||(a=-1/(6*this.area()));++x<S;)ne=ve,ve=this[x],ue=ne[0]*ve[1]-ve[0]*ne[1],z+=(ne[0]+ve[0])*ue,Q+=(ne[1]+ve[1])*ue;return[z*a,Q*a]},Zn.clip=function(a){for(var x,S=Ja(a),z=-1,Q=this.length-Ja(this),ne,ve,ue=this[Q-1],Te,Oe,Ce;++z<Q;){for(x=a.slice(),a.length=0,Te=this[z],Oe=x[(ve=x.length-S)-1],ne=-1;++ne<ve;)Ce=x[ne],er(Ce,ue,Te)?(er(Oe,ue,Te)||a.push(Ba(Oe,Ce,ue,Te)),a.push(Ce)):er(Oe,ue,Te)&&a.push(Ba(Oe,Ce,ue,Te)),Oe=Ce;S&&a.push(a[0]),ue=Te}return a};function er(a,x,S){return(S[0]-x[0])*(a[1]-x[1])<(S[1]-x[1])*(a[0]-x[0])}function Ba(a,x,S,z){var Q=a[0],ne=S[0],ve=x[0]-Q,ue=z[0]-ne,Te=a[1],Oe=S[1],Ce=x[1]-Te,Ge=z[1]-Oe,et=(ue*(Te-Oe)-Ge*(Q-ne))/(Ge*ve-ue*Ce);return[Q+et*ve,Te+et*Ce]}function Ja(a){var x=a[0],S=a[a.length-1];return!(x[0]-S[0]||x[1]-S[1])}var fa,ha,ia,Fa=[],Wa,Qa,ir=[];function tr(){Qi(this),this.edge=this.site=this.circle=null}function lr(a){var x=Fa.pop()||new tr;return x.site=a,x}function ur(a){Dr(a),ia.remove(a),Fa.push(a),Qi(a)}function yr(a){var x=a.circle,S=x.x,z=x.cy,Q={x:S,y:z},ne=a.P,ve=a.N,ue=[a];ur(a);for(var Te=ne;Te.circle&&u(S-Te.circle.x)<Ae&&u(z-Te.circle.cy)<Ae;)ne=Te.P,ue.unshift(Te),ur(Te),Te=ne;ue.unshift(Te),Dr(Te);for(var Oe=ve;Oe.circle&&u(S-Oe.circle.x)<Ae&&u(z-Oe.circle.cy)<Ae;)ve=Oe.N,ue.push(Oe),ur(Oe),Oe=ve;ue.push(Oe),Dr(Oe);var Ce=ue.length,Ge;for(Ge=1;Ge<Ce;++Ge)Oe=ue[Ge],Te=ue[Ge-1],sr(Oe.edge,Te.site,Oe.site,Q);Te=ue[0],Oe=ue[Ce-1],Oe.edge=hr(Te.site,Oe.site,null,Q),fr(Te),fr(Oe)}function Ra(a){for(var x=a.x,S=a.y,z,Q,ne,ve,ue=ia._;ue;)if(ne=Or(ue,S)-x,ne>Ae)ue=ue.L;else if(ve=x-jr(ue,S),ve>Ae){if(!ue.R){z=ue;break}ue=ue.R}else{ne>-Ae?(z=ue.P,Q=ue):ve>-Ae?(z=ue,Q=ue.N):z=Q=ue;break}var Te=lr(a);if(ia.insert(z,Te),!(!z&&!Q)){if(z===Q){Dr(z),Q=lr(z.site),ia.insert(Te,Q),Te.edge=Q.edge=hr(z.site,Te.site),fr(z),fr(Q);return}if(!Q){Te.edge=hr(z.site,Te.site);return}Dr(z),Dr(Q);var Oe=z.site,Ce=Oe.x,Ge=Oe.y,et=a.x-Ce,mt=a.y-Ge,At=Q.site,nt=At.x-Ce,ht=At.y-Ge,vt=2*(et*ht-mt*nt),Tt=et*et+mt*mt,kt=nt*nt+ht*ht,gt={x:(ht*Tt-mt*kt)/vt+Ce,y:(et*kt-nt*Tt)/vt+Ge};sr(Q.edge,Oe,At,gt),Te.edge=hr(Oe,a,null,gt),Q.edge=hr(a,At,null,gt),fr(z),fr(Q)}}function Or(a,x){var S=a.site,z=S.x,Q=S.y,ne=Q-x;if(!ne)return z;var ve=a.P;if(!ve)return-1/0;S=ve.site;var ue=S.x,Te=S.y,Oe=Te-x;if(!Oe)return ue;var Ce=ue-z,Ge=1/ne-1/Oe,et=Ce/Oe;return Ge?(-et+Math.sqrt(et*et-2*Ge*(Ce*Ce/(-2*Oe)-Te+Oe/2+Q-ne/2)))/Ge+z:(z+ue)/2}function jr(a,x){var S=a.N;if(S)return Or(S,x);var z=a.site;return z.y===x?z.x:1/0}function Ur(a){this.site=a,this.edges=[]}Ur.prototype.prepare=function(){for(var a=this.edges,x=a.length,S;x--;)S=a[x].edge,(!S.b||!S.a)&&a.splice(x,1);return a.sort(ri),a.length};function Kr(a){for(var x=a[0][0],S=a[1][0],z=a[0][1],Q=a[1][1],ne,ve,ue,Te,Oe=ha,Ce=Oe.length,Ge,et,mt,At,nt,ht;Ce--;)if(Ge=Oe[Ce],!(!Ge||!Ge.prepare()))for(mt=Ge.edges,At=mt.length,et=0;et<At;)ht=mt[et].end(),ue=ht.x,Te=ht.y,nt=mt[++et%At].start(),ne=nt.x,ve=nt.y,(u(ue-ne)>Ae||u(Te-ve)>Ae)&&(mt.splice(et,0,new ii(Pa(Ge.site,ht,u(ue-x)<Ae&&Q-Te>Ae?{x,y:u(ne-x)<Ae?ve:Q}:u(Te-Q)<Ae&&S-ue>Ae?{x:u(ve-Q)<Ae?ne:S,y:Q}:u(ue-S)<Ae&&Te-z>Ae?{x:S,y:u(ne-S)<Ae?ve:z}:u(Te-z)<Ae&&ue-x>Ae?{x:u(ve-z)<Ae?ne:x,y:z}:null),Ge.site,null)),++At)}function ri(a,x){return x.angle-a.angle}function Gr(){Qi(this),this.x=this.y=this.arc=this.site=this.cy=null}function fr(a){var x=a.P,S=a.N;if(!(!x||!S)){var z=x.site,Q=a.site,ne=S.site;if(z!==ne){var ve=Q.x,ue=Q.y,Te=z.x-ve,Oe=z.y-ue,Ce=ne.x-ve,Ge=ne.y-ue,et=2*(Te*Ge-Oe*Ce);if(!(et>=-ke)){var mt=Te*Te+Oe*Oe,At=Ce*Ce+Ge*Ge,nt=(Ge*mt-Oe*At)/et,ht=(Te*At-Ce*mt)/et,Ge=ht+ue,vt=ir.pop()||new Gr;vt.arc=a,vt.site=Q,vt.x=nt+ve,vt.y=Ge+Math.sqrt(nt*nt+ht*ht),vt.cy=Ge,a.circle=vt;for(var Tt=null,kt=Qa._;kt;)if(vt.y<kt.y||vt.y===kt.y&&vt.x<=kt.x)if(kt.L)kt=kt.L;else{Tt=kt.P;break}else if(kt.R)kt=kt.R;else{Tt=kt;break}Qa.insert(Tt,vt),Tt||(Wa=vt)}}}}function Dr(a){var x=a.circle;x&&(x.P||(Wa=x.N),Qa.remove(x),ir.push(x),Qi(x),a.circle=null)}function Ii(a,x,S,z){return function(Q){var ne=Q.a,ve=Q.b,ue=ne.x,Te=ne.y,Oe=ve.x,Ce=ve.y,Ge=0,et=1,mt=Oe-ue,At=Ce-Te,nt;if(nt=a-ue,!(!mt&&nt>0)){if(nt/=mt,mt<0){if(nt<Ge)return;nt<et&&(et=nt)}else if(mt>0){if(nt>et)return;nt>Ge&&(Ge=nt)}if(nt=S-ue,!(!mt&&nt<0)){if(nt/=mt,mt<0){if(nt>et)return;nt>Ge&&(Ge=nt)}else if(mt>0){if(nt<Ge)return;nt<et&&(et=nt)}if(nt=x-Te,!(!At&&nt>0)){if(nt/=At,At<0){if(nt<Ge)return;nt<et&&(et=nt)}else if(At>0){if(nt>et)return;nt>Ge&&(Ge=nt)}if(nt=z-Te,!(!At&&nt<0)){if(nt/=At,At<0){if(nt>et)return;nt>Ge&&(Ge=nt)}else if(At>0){if(nt<Ge)return;nt<et&&(et=nt)}return Ge>0&&(Q.a={x:ue+Ge*mt,y:Te+Ge*At}),et<1&&(Q.b={x:ue+et*mt,y:Te+et*At}),Q}}}}}}function _r(a){for(var x=fa,S=Ii(a[0][0],a[0][1],a[1][0],a[1][1]),z=x.length,Q;z--;)Q=x[z],(!nr(Q,a)||!S(Q)||u(Q.a.x-Q.b.x)<Ae&&u(Q.a.y-Q.b.y)<Ae)&&(Q.a=Q.b=null,x.splice(z,1))}function nr(a,x){var S=a.b;if(S)return!0;var z=a.a,Q=x[0][0],ne=x[1][0],ve=x[0][1],ue=x[1][1],Te=a.l,Oe=a.r,Ce=Te.x,Ge=Te.y,et=Oe.x,mt=Oe.y,At=(Ce+et)/2,nt=(Ge+mt)/2,ht,vt;if(mt===Ge){if(At<Q||At>=ne)return;if(Ce>et){if(!z)z={x:At,y:ve};else if(z.y>=ue)return;S={x:At,y:ue}}else{if(!z)z={x:At,y:ue};else if(z.y<ve)return;S={x:At,y:ve}}}else if(ht=(Ce-et)/(mt-Ge),vt=nt-ht*At,ht<-1||ht>1)if(Ce>et){if(!z)z={x:(ve-vt)/ht,y:ve};else if(z.y>=ue)return;S={x:(ue-vt)/ht,y:ue}}else{if(!z)z={x:(ue-vt)/ht,y:ue};else if(z.y<ve)return;S={x:(ve-vt)/ht,y:ve}}else if(Ge<mt){if(!z)z={x:Q,y:ht*Q+vt};else if(z.x>=ne)return;S={x:ne,y:ht*ne+vt}}else{if(!z)z={x:ne,y:ht*ne+vt};else if(z.x<Q)return;S={x:Q,y:ht*Q+vt}}return a.a=z,a.b=S,!0}function wr(a,x){this.l=a,this.r=x,this.a=this.b=null}function hr(a,x,S,z){var Q=new wr(a,x);return fa.push(Q),S&&sr(Q,a,x,S),z&&sr(Q,x,a,z),ha[a.i].edges.push(new ii(Q,a,x)),ha[x.i].edges.push(new ii(Q,x,a)),Q}function Pa(a,x,S){var z=new wr(a,null);return z.a=x,z.b=S,fa.push(z),z}function sr(a,x,S,z){!a.a&&!a.b?(a.a=z,a.l=x,a.r=S):a.l===S?a.b=z:a.a=z}function ii(a,x,S){var z=a.a,Q=a.b;this.edge=a,this.site=x,this.angle=S?Math.atan2(S.y-x.y,S.x-x.x):a.l===x?Math.atan2(Q.x-z.x,z.y-Q.y):Math.atan2(z.x-Q.x,Q.y-z.y)}ii.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function Si(){this._=null}function Qi(a){a.U=a.C=a.L=a.R=a.P=a.N=null}Si.prototype={insert:function(a,x){var S,z,Q;if(a){if(x.P=a,x.N=a.N,a.N&&(a.N.P=x),a.N=x,a.R){for(a=a.R;a.L;)a=a.L;a.L=x}else a.R=x;S=a}else this._?(a=To(this._),x.P=null,x.N=a,a.P=a.L=x,S=a):(x.P=x.N=null,this._=x,S=null);for(x.L=x.R=null,x.U=S,x.C=!0,a=x;S&&S.C;)z=S.U,S===z.L?(Q=z.R,Q&&Q.C?(S.C=Q.C=!1,z.C=!0,a=z):(a===S.R&&(Ri(this,S),a=S,S=a.U),S.C=!1,z.C=!0,bi(this,z))):(Q=z.L,Q&&Q.C?(S.C=Q.C=!1,z.C=!0,a=z):(a===S.L&&(bi(this,S),a=S,S=a.U),S.C=!1,z.C=!0,Ri(this,z))),S=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P),a.P&&(a.P.N=a.N),a.N=a.P=null;var x=a.U,S,z=a.L,Q=a.R,ne,ve;if(z?Q?ne=To(Q):ne=z:ne=Q,x?x.L===a?x.L=ne:x.R=ne:this._=ne,z&&Q?(ve=ne.C,ne.C=a.C,ne.L=z,z.U=ne,ne!==Q?(x=ne.U,ne.U=a.U,a=ne.R,x.L=a,ne.R=Q,Q.U=ne):(ne.U=x,x=ne,a=ne.R)):(ve=a.C,a=ne),a&&(a.U=x),!ve){if(a&&a.C){a.C=!1;return}do{if(a===this._)break;if(a===x.L){if(S=x.R,S.C&&(S.C=!1,x.C=!0,Ri(this,x),S=x.R),S.L&&S.L.C||S.R&&S.R.C){(!S.R||!S.R.C)&&(S.L.C=!1,S.C=!0,bi(this,S),S=x.R),S.C=x.C,x.C=S.R.C=!1,Ri(this,x),a=this._;break}}else if(S=x.L,S.C&&(S.C=!1,x.C=!0,bi(this,x),S=x.L),S.L&&S.L.C||S.R&&S.R.C){(!S.L||!S.L.C)&&(S.R.C=!1,S.C=!0,Ri(this,S),S=x.L),S.C=x.C,x.C=S.L.C=!1,bi(this,x),a=this._;break}S.C=!0,a=x,x=x.U}while(!a.C);a&&(a.C=!1)}}};function Ri(a,x){var S=x,z=x.R,Q=S.U;Q?Q.L===S?Q.L=z:Q.R=z:a._=z,z.U=Q,S.U=z,S.R=z.L,S.R&&(S.R.U=S),z.L=S}function bi(a,x){var S=x,z=x.L,Q=S.U;Q?Q.L===S?Q.L=z:Q.R=z:a._=z,z.U=Q,S.U=z,S.L=z.R,S.L&&(S.L.U=S),z.R=S}function To(a){for(;a.L;)a=a.L;return a}function uo(a,x){var S=a.sort($o).pop(),z,Q,ne;for(fa=[],ha=new Array(a.length),ia=new Si,Qa=new Si;;)if(ne=Wa,S&&(!ne||S.y<ne.y||S.y===ne.y&&S.x<ne.x))(S.x!==z||S.y!==Q)&&(ha[S.i]=new Ur(S),Ra(S),z=S.x,Q=S.y),S=a.pop();else if(ne)yr(ne.arc);else break;x&&(_r(x),Kr(x));var ve={cells:ha,edges:fa};return ia=Qa=fa=ha=null,ve}function $o(a,x){return x.y-a.y||x.x-a.x}i.geom.voronoi=function(a){var x=br,S=mr,z=x,Q=S,ne=Ki;if(a)return ve(a);function ve(Te){var Oe=new Array(Te.length),Ce=ne[0][0],Ge=ne[0][1],et=ne[1][0],mt=ne[1][1];return uo(ue(Te),ne).cells.forEach(function(At,nt){var ht=At.edges,vt=At.site,Tt=Oe[nt]=ht.length?ht.map(function(kt){var gt=kt.start();return[gt.x,gt.y]}):vt.x>=Ce&&vt.x<=et&&vt.y>=Ge&&vt.y<=mt?[[Ce,mt],[et,mt],[et,Ge],[Ce,Ge]]:[];Tt.point=Te[nt]}),Oe}function ue(Te){return Te.map(function(Oe,Ce){return{x:Math.round(z(Oe,Ce)/Ae)*Ae,y:Math.round(Q(Oe,Ce)/Ae)*Ae,i:Ce}})}return ve.links=function(Te){return uo(ue(Te)).edges.filter(function(Oe){return Oe.l&&Oe.r}).map(function(Oe){return{source:Te[Oe.l.i],target:Te[Oe.r.i]}})},ve.triangles=function(Te){var Oe=[];return uo(ue(Te)).cells.forEach(function(Ce,Ge){for(var et=Ce.site,mt=Ce.edges.sort(ri),At=-1,nt=mt.length,ht,vt,Tt=mt[nt-1].edge,kt=Tt.l===et?Tt.r:Tt.l;++At<nt;)ht=Tt,vt=kt,Tt=mt[At].edge,kt=Tt.l===et?Tt.r:Tt.l,Ge<vt.i&&Ge<kt.i&&Uo(et,vt,kt)<0&&Oe.push([Te[Ge],Te[vt.i],Te[kt.i]])}),Oe},ve.x=function(Te){return arguments.length?(z=_t(x=Te),ve):x},ve.y=function(Te){return arguments.length?(Q=_t(S=Te),ve):S},ve.clipExtent=function(Te){return arguments.length?(ne=Te??Ki,ve):ne===Ki?null:ne},ve.size=function(Te){return arguments.length?ve.clipExtent(Te&&[[0,0],Te]):ne===Ki?null:ne&&ne[1]},ve};var Ki=[[-1e6,-1e6],[1e6,1e6]];function Uo(a,x,S){return(a.x-S.x)*(x.y-a.y)-(a.x-x.x)*(S.y-a.y)}i.geom.delaunay=function(a){return i.geom.voronoi().triangles(a)},i.geom.quadtree=function(a,x,S,z,Q){var ne=br,ve=mr,ue;if(ue=arguments.length)return ne=Kf,ve=e1,ue===3&&(Q=S,z=x,S=x=0),Te(a);function Te(Oe){var Ce,Ge=_t(ne),et=_t(ve),mt,At,nt,ht,vt,Tt,kt,gt;if(x!=null)vt=x,Tt=S,kt=z,gt=Q;else if(kt=gt=-(vt=Tt=1/0),mt=[],At=[],ht=Oe.length,ue)for(nt=0;nt<ht;++nt)Ce=Oe[nt],Ce.x<vt&&(vt=Ce.x),Ce.y<Tt&&(Tt=Ce.y),Ce.x>kt&&(kt=Ce.x),Ce.y>gt&&(gt=Ce.y),mt.push(Ce.x),At.push(Ce.y);else for(nt=0;nt<ht;++nt){var Gt=+Ge(Ce=Oe[nt],nt),pn=+et(Ce,nt);Gt<vt&&(vt=Gt),pn<Tt&&(Tt=pn),Gt>kt&&(kt=Gt),pn>gt&&(gt=pn),mt.push(Gt),At.push(pn)}var Tn=kt-vt,yn=gt-Tt;Tn>yn?gt=Tt+Tn:kt=vt+yn;function Dn(jn,la,Na,Mr,Ua,dn,va,_a){if(!(isNaN(Na)||isNaN(Mr)))if(jn.leaf){var ja=jn.x,xr=jn.y;if(ja!=null)if(u(ja-Na)+u(xr-Mr)<.01)Cn(jn,la,Na,Mr,Ua,dn,va,_a);else{var Pr=jn.point;jn.x=jn.y=jn.point=null,Cn(jn,Pr,ja,xr,Ua,dn,va,_a),Cn(jn,la,Na,Mr,Ua,dn,va,_a)}else jn.x=Na,jn.y=Mr,jn.point=la}else Cn(jn,la,Na,Mr,Ua,dn,va,_a)}function Cn(jn,la,Na,Mr,Ua,dn,va,_a){var ja=(Ua+va)*.5,xr=(dn+_a)*.5,Pr=Na>=ja,Br=Mr>=xr,ei=Br<<1|Pr;jn.leaf=!1,jn=jn.nodes[ei]||(jn.nodes[ei]=I0()),Pr?Ua=ja:va=ja,Br?dn=xr:_a=xr,Dn(jn,la,Na,Mr,Ua,dn,va,_a)}var pa=I0();if(pa.add=function(jn){Dn(pa,jn,+Ge(jn,++nt),+et(jn,nt),vt,Tt,kt,gt)},pa.visit=function(jn){Mo(jn,pa,vt,Tt,kt,gt)},pa.find=function(jn){return t1(pa,jn[0],jn[1],vt,Tt,kt,gt)},nt=-1,x==null){for(;++nt<ht;)Dn(pa,Oe[nt],mt[nt],At[nt],vt,Tt,kt,gt);--nt}else Oe.forEach(pa.add);return mt=At=Oe=Ce=null,pa}return Te.x=function(Oe){return arguments.length?(ne=Oe,Te):ne},Te.y=function(Oe){return arguments.length?(ve=Oe,Te):ve},Te.extent=function(Oe){return arguments.length?(Oe==null?x=S=z=Q=null:(x=+Oe[0][0],S=+Oe[0][1],z=+Oe[1][0],Q=+Oe[1][1]),Te):x==null?null:[[x,S],[z,Q]]},Te.size=function(Oe){return arguments.length?(Oe==null?x=S=z=Q=null:(x=S=0,z=+Oe[0],Q=+Oe[1]),Te):x==null?null:[z-x,Q-S]},Te};function Kf(a){return a.x}function e1(a){return a.y}function I0(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Mo(a,x,S,z,Q,ne){if(!a(x,S,z,Q,ne)){var ve=(S+Q)*.5,ue=(z+ne)*.5,Te=x.nodes;Te[0]&&Mo(a,Te[0],S,z,ve,ue),Te[1]&&Mo(a,Te[1],ve,z,Q,ue),Te[2]&&Mo(a,Te[2],S,ue,ve,ne),Te[3]&&Mo(a,Te[3],ve,ue,Q,ne)}}function t1(a,x,S,z,Q,ne,ve){var ue=1/0,Te;return function Oe(Ce,Ge,et,mt,At){if(!(Ge>ne||et>ve||mt<z||At<Q)){if(nt=Ce.point){var nt,ht=x-Ce.x,vt=S-Ce.y,Tt=ht*ht+vt*vt;if(Tt<ue){var kt=Math.sqrt(ue=Tt);z=x-kt,Q=S-kt,ne=x+kt,ve=S+kt,Te=nt}}for(var gt=Ce.nodes,Gt=(Ge+mt)*.5,pn=(et+At)*.5,Tn=x>=Gt,yn=S>=pn,Dn=yn<<1|Tn,Cn=Dn+4;Dn<Cn;++Dn)if(Ce=gt[Dn&3])switch(Dn&3){case 0:Oe(Ce,Ge,et,Gt,pn);break;case 1:Oe(Ce,Gt,et,mt,pn);break;case 2:Oe(Ce,Ge,pn,Gt,At);break;case 3:Oe(Ce,Gt,pn,mt,At);break}}}(a,z,Q,ne,ve),Te}i.interpolateRgb=Wl;function Wl(a,x){a=i.rgb(a),x=i.rgb(x);var S=a.r,z=a.g,Q=a.b,ne=x.r-S,ve=x.g-z,ue=x.b-Q;return function(Te){return"#"+Pe(Math.round(S+ne*Te))+Pe(Math.round(z+ve*Te))+Pe(Math.round(Q+ue*Te))}}i.interpolateObject=R0;function R0(a,x){var S={},z={},Q;for(Q in a)Q in x?S[Q]=eo(a[Q],x[Q]):z[Q]=a[Q];for(Q in x)Q in a||(z[Q]=x[Q]);return function(ne){for(Q in S)z[Q]=S[Q](ne);return z}}i.interpolateNumber=Ni;function Ni(a,x){return a=+a,x=+x,function(S){return a*(1-S)+x*S}}i.interpolateString=N0;function N0(a,x){var S=Zl.lastIndex=ql.lastIndex=0,z,Q,ne,ve=-1,ue=[],Te=[];for(a=a+"",x=x+"";(z=Zl.exec(a))&&(Q=ql.exec(x));)(ne=Q.index)>S&&(ne=x.slice(S,ne),ue[ve]?ue[ve]+=ne:ue[++ve]=ne),(z=z[0])===(Q=Q[0])?ue[ve]?ue[ve]+=Q:ue[++ve]=Q:(ue[++ve]=null,Te.push({i:ve,x:Ni(z,Q)})),S=ql.lastIndex;return S<x.length&&(ne=x.slice(S),ue[ve]?ue[ve]+=ne:ue[++ve]=ne),ue.length<2?Te[0]?(x=Te[0].x,function(Oe){return x(Oe)+""}):function(){return x}:(x=Te.length,function(Oe){for(var Ce=0,Ge;Ce<x;++Ce)ue[(Ge=Te[Ce]).i]=Ge.x(Oe);return ue.join("")})}var Zl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ql=new RegExp(Zl.source,"g");i.interpolate=eo;function eo(a,x){for(var S=i.interpolators.length,z;--S>=0&&!(z=i.interpolators[S](a,x)););return z}i.interpolators=[function(a,x){var S=typeof x;return(S==="string"?it.has(x.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(x)?Wl:N0:x instanceof en?Wl:Array.isArray(x)?Go:S==="object"&&isNaN(x)?R0:Ni)(a,x)}],i.interpolateArray=Go;function Go(a,x){var S=[],z=[],Q=a.length,ne=x.length,ve=Math.min(a.length,x.length),ue;for(ue=0;ue<ve;++ue)S.push(eo(a[ue],x[ue]));for(;ue<Q;++ue)z[ue]=a[ue];for(;ue<ne;++ue)z[ue]=x[ue];return function(Te){for(ue=0;ue<ve;++ue)z[ue]=S[ue](Te);return z}}var j0=function(){return U},n1=i.map({linear:j0,poly:s1,quad:function(){return i1},cubic:function(){return o1},sin:function(){return c1},exp:function(){return u1},circle:function(){return d1},elastic:f1,back:h1,bounce:function(){return p1}}),a1=i.map({in:U,out:z0,"in-out":H0,"out-in":function(a){return H0(z0(a))}});i.ease=function(a){var x=a.indexOf("-"),S=x>=0?a.slice(0,x):a,z=x>=0?a.slice(x+1):"in";return S=n1.get(S)||j0,z=a1.get(z)||U,r1(z(S.apply(null,e.call(arguments,1))))};function r1(a){return function(x){return x<=0?0:x>=1?1:a(x)}}function z0(a){return function(x){return 1-a(1-x)}}function H0(a){return function(x){return .5*(x<.5?a(2*x):2-a(2-2*x))}}function i1(a){return a*a}function o1(a){return a*a*a}function l1(a){if(a<=0)return 0;if(a>=1)return 1;var x=a*a,S=x*a;return 4*(a<.5?S:3*(a-x)+S-.75)}function s1(a){return function(x){return Math.pow(x,a)}}function c1(a){return 1-Math.cos(a*ge)}function u1(a){return Math.pow(2,10*(a-1))}function d1(a){return 1-Math.sqrt(1-a*a)}function f1(a,x){var S;return arguments.length<2&&(x=.45),arguments.length?S=x/de*Math.asin(1/a):(a=1,S=x/4),function(z){return 1+a*Math.pow(2,-10*z)*Math.sin((z-S)*de/x)}}function h1(a){return a||(a=1.70158),function(x){return x*x*((a+1)*x-a)}}function p1(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}i.interpolateHcl=v1;function v1(a,x){a=i.hcl(a),x=i.hcl(x);var S=a.h,z=a.c,Q=a.l,ne=x.h-S,ve=x.c-z,ue=x.l-Q;return isNaN(ve)&&(ve=0,z=isNaN(z)?x.c:z),isNaN(ne)?(ne=0,S=isNaN(S)?x.h:S):ne>180?ne-=360:ne<-180&&(ne+=360),function(Te){return Ut(S+ne*Te,z+ve*Te,Q+ue*Te)+""}}i.interpolateHsl=g1;function g1(a,x){a=i.hsl(a),x=i.hsl(x);var S=a.h,z=a.s,Q=a.l,ne=x.h-S,ve=x.s-z,ue=x.l-Q;return isNaN(ve)&&(ve=0,z=isNaN(z)?x.s:z),isNaN(ne)?(ne=0,S=isNaN(S)?x.h:S):ne>180?ne-=360:ne<-180&&(ne+=360),function(Te){return ln(S+ne*Te,z+ve*Te,Q+ue*Te)+""}}i.interpolateLab=m1;function m1(a,x){a=i.lab(a),x=i.lab(x);var S=a.l,z=a.a,Q=a.b,ne=x.l-S,ve=x.a-z,ue=x.b-Q;return function(Te){return Nn(S+ne*Te,z+ve*Te,Q+ue*Te)+""}}i.interpolateRound=B0;function B0(a,x){return x-=a,function(S){return Math.round(a+x*S)}}i.transform=function(a){var x=r.createElementNS(i.ns.prefix.svg,"g");return(i.transform=function(S){if(S!=null){x.setAttribute("transform",S);var z=x.transform.baseVal.consolidate()}return new V0(z?z.matrix:x1)})(a)};function V0(a){var x=[a.a,a.b],S=[a.c,a.d],z=$0(x),Q=Y0(x,S),ne=$0(y1(S,x,-Q))||0;x[0]*S[1]<S[0]*x[1]&&(x[0]*=-1,x[1]*=-1,z*=-1,Q*=-1),this.rotate=(z?Math.atan2(x[1],x[0]):Math.atan2(-S[0],S[1]))*Me,this.translate=[a.e,a.f],this.scale=[z,ne],this.skew=ne?Math.atan2(Q,ne)*Me:0}V0.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function Y0(a,x){return a[0]*x[0]+a[1]*x[1]}function $0(a){var x=Math.sqrt(Y0(a,a));return x&&(a[0]/=x,a[1]/=x),x}function y1(a,x,S){return a[0]+=S*x[0],a[1]+=S*x[1],a}var x1={a:1,b:0,c:0,d:1,e:0,f:0};i.interpolateTransform=U0;function fo(a){return a.length?a.pop()+",":""}function b1(a,x,S,z){if(a[0]!==x[0]||a[1]!==x[1]){var Q=S.push("translate(",null,",",null,")");z.push({i:Q-4,x:Ni(a[0],x[0])},{i:Q-2,x:Ni(a[1],x[1])})}else(x[0]||x[1])&&S.push("translate("+x+")")}function _1(a,x,S,z){a!==x?(a-x>180?x+=360:x-a>180&&(a+=360),z.push({i:S.push(fo(S)+"rotate(",null,")")-2,x:Ni(a,x)})):x&&S.push(fo(S)+"rotate("+x+")")}function w1(a,x,S,z){a!==x?z.push({i:S.push(fo(S)+"skewX(",null,")")-2,x:Ni(a,x)}):x&&S.push(fo(S)+"skewX("+x+")")}function T1(a,x,S,z){if(a[0]!==x[0]||a[1]!==x[1]){var Q=S.push(fo(S)+"scale(",null,",",null,")");z.push({i:Q-4,x:Ni(a[0],x[0])},{i:Q-2,x:Ni(a[1],x[1])})}else(x[0]!==1||x[1]!==1)&&S.push(fo(S)+"scale("+x+")")}function U0(a,x){var S=[],z=[];return a=i.transform(a),x=i.transform(x),b1(a.translate,x.translate,S,z),_1(a.rotate,x.rotate,S,z),w1(a.skew,x.skew,S,z),T1(a.scale,x.scale,S,z),a=x=null,function(Q){for(var ne=-1,ve=z.length,ue;++ne<ve;)S[(ue=z[ne]).i]=ue.x(Q);return S.join("")}}function M1(a,x){return x=(x-=a=+a)||1/x,function(S){return(S-a)/x}}function k1(a,x){return x=(x-=a=+a)||1/x,function(S){return Math.max(0,Math.min(1,(S-a)/x))}}i.layout={},i.layout.bundle=function(){return function(a){for(var x=[],S=-1,z=a.length;++S<z;)x.push(A1(a[S]));return x}};function A1(a){for(var x=a.source,S=a.target,z=S1(x,S),Q=[x];x!==z;)x=x.parent,Q.push(x);for(var ne=Q.length;S!==z;)Q.splice(ne,0,S),S=S.parent;return Q}function G0(a){for(var x=[],S=a.parent;S!=null;)x.push(a),a=S,S=S.parent;return x.push(a),x}function S1(a,x){if(a===x)return a;for(var S=G0(a),z=G0(x),Q=S.pop(),ne=z.pop(),ve=null;Q===ne;)ve=Q,Q=S.pop(),ne=z.pop();return ve}i.layout.chord=function(){var a={},x,S,z,Q,ne=0,ve,ue,Te;function Oe(){var Ge={},et=[],mt=i.range(Q),At=[],nt,ht,vt,Tt,kt;for(x=[],S=[],nt=0,Tt=-1;++Tt<Q;){for(ht=0,kt=-1;++kt<Q;)ht+=z[Tt][kt];et.push(ht),At.push(i.range(Q)),nt+=ht}for(ve&&mt.sort(function(pa,jn){return ve(et[pa],et[jn])}),ue&&At.forEach(function(pa,jn){pa.sort(function(la,Na){return ue(z[jn][la],z[jn][Na])})}),nt=(de-ne*Q)/nt,ht=0,Tt=-1;++Tt<Q;){for(vt=ht,kt=-1;++kt<Q;){var gt=mt[Tt],Gt=At[gt][kt],pn=z[gt][Gt],Tn=ht,yn=ht+=pn*nt;Ge[gt+"-"+Gt]={index:gt,subindex:Gt,startAngle:Tn,endAngle:yn,value:pn}}S[gt]={index:gt,startAngle:vt,endAngle:ht,value:et[gt]},ht+=ne}for(Tt=-1;++Tt<Q;)for(kt=Tt-1;++kt<Q;){var Dn=Ge[Tt+"-"+kt],Cn=Ge[kt+"-"+Tt];(Dn.value||Cn.value)&&x.push(Dn.value<Cn.value?{source:Cn,target:Dn}:{source:Dn,target:Cn})}Te&&Ce()}function Ce(){x.sort(function(Ge,et){return Te((Ge.source.value+Ge.target.value)/2,(et.source.value+et.target.value)/2)})}return a.matrix=function(Ge){return arguments.length?(Q=(z=Ge)&&z.length,x=S=null,a):z},a.padding=function(Ge){return arguments.length?(ne=Ge,x=S=null,a):ne},a.sortGroups=function(Ge){return arguments.length?(ve=Ge,x=S=null,a):ve},a.sortSubgroups=function(Ge){return arguments.length?(ue=Ge,x=null,a):ue},a.sortChords=function(Ge){return arguments.length?(Te=Ge,x&&Ce(),a):Te},a.chords=function(){return x||Oe(),x},a.groups=function(){return S||Oe(),S},a},i.layout.force=function(){var a={},x=i.dispatch("start","tick","end"),S,z=[1,1],Q,ne,ve=.9,ue=P1,Te=E1,Oe=-30,Ce=F1,Ge=.1,et=.64,mt=[],At=[],nt,ht,vt;function Tt(gt){return function(Gt,pn,Tn,yn){if(Gt.point!==gt){var Dn=Gt.cx-gt.x,Cn=Gt.cy-gt.y,pa=yn-pn,jn=Dn*Dn+Cn*Cn;if(pa*pa/et<jn){if(jn<Ce){var la=Gt.charge/jn;gt.px-=Dn*la,gt.py-=Cn*la}return!0}if(Gt.point&&jn&&jn<Ce){var la=Gt.pointCharge/jn;gt.px-=Dn*la,gt.py-=Cn*la}}return!Gt.charge}}a.tick=function(){if((ne*=.99)<.005)return S=null,x.end({type:"end",alpha:ne=0}),!0;var gt=mt.length,Gt=At.length,pn,Tn,yn,Dn,Cn,pa,jn,la,Na;for(Tn=0;Tn<Gt;++Tn)yn=At[Tn],Dn=yn.source,Cn=yn.target,la=Cn.x-Dn.x,Na=Cn.y-Dn.y,(pa=la*la+Na*Na)&&(pa=ne*ht[Tn]*((pa=Math.sqrt(pa))-nt[Tn])/pa,la*=pa,Na*=pa,Cn.x-=la*(jn=Dn.weight+Cn.weight?Dn.weight/(Dn.weight+Cn.weight):.5),Cn.y-=Na*jn,Dn.x+=la*(jn=1-jn),Dn.y+=Na*jn);if((jn=ne*Ge)&&(la=z[0]/2,Na=z[1]/2,Tn=-1,jn))for(;++Tn<gt;)yn=mt[Tn],yn.x+=(la-yn.x)*jn,yn.y+=(Na-yn.y)*jn;if(Oe)for(W0(pn=i.geom.quadtree(mt),ne,vt),Tn=-1;++Tn<gt;)(yn=mt[Tn]).fixed||pn.visit(Tt(yn));for(Tn=-1;++Tn<gt;)yn=mt[Tn],yn.fixed?(yn.x=yn.px,yn.y=yn.py):(yn.x-=(yn.px-(yn.px=yn.x))*ve,yn.y-=(yn.py-(yn.py=yn.y))*ve);x.tick({type:"tick",alpha:ne})},a.nodes=function(gt){return arguments.length?(mt=gt,a):mt},a.links=function(gt){return arguments.length?(At=gt,a):At},a.size=function(gt){return arguments.length?(z=gt,a):z},a.linkDistance=function(gt){return arguments.length?(ue=typeof gt=="function"?gt:+gt,a):ue},a.distance=a.linkDistance,a.linkStrength=function(gt){return arguments.length?(Te=typeof gt=="function"?gt:+gt,a):Te},a.friction=function(gt){return arguments.length?(ve=+gt,a):ve},a.charge=function(gt){return arguments.length?(Oe=typeof gt=="function"?gt:+gt,a):Oe},a.chargeDistance=function(gt){return arguments.length?(Ce=gt*gt,a):Math.sqrt(Ce)},a.gravity=function(gt){return arguments.length?(Ge=+gt,a):Ge},a.theta=function(gt){return arguments.length?(et=gt*gt,a):Math.sqrt(et)},a.alpha=function(gt){return arguments.length?(gt=+gt,ne?gt>0?ne=gt:(S.c=null,S.t=NaN,S=null,x.end({type:"end",alpha:ne=0})):gt>0&&(x.start({type:"start",alpha:ne=gt}),S=na(a.tick)),a):ne},a.start=function(){var gt,Gt=mt.length,pn=At.length,Tn=z[0],yn=z[1],Dn,Cn;for(gt=0;gt<Gt;++gt)(Cn=mt[gt]).index=gt,Cn.weight=0;for(gt=0;gt<pn;++gt)Cn=At[gt],typeof Cn.source=="number"&&(Cn.source=mt[Cn.source]),typeof Cn.target=="number"&&(Cn.target=mt[Cn.target]),++Cn.source.weight,++Cn.target.weight;for(gt=0;gt<Gt;++gt)Cn=mt[gt],isNaN(Cn.x)&&(Cn.x=pa("x",Tn)),isNaN(Cn.y)&&(Cn.y=pa("y",yn)),isNaN(Cn.px)&&(Cn.px=Cn.x),isNaN(Cn.py)&&(Cn.py=Cn.y);if(nt=[],typeof ue=="function")for(gt=0;gt<pn;++gt)nt[gt]=+ue.call(this,At[gt],gt);else for(gt=0;gt<pn;++gt)nt[gt]=ue;if(ht=[],typeof Te=="function")for(gt=0;gt<pn;++gt)ht[gt]=+Te.call(this,At[gt],gt);else for(gt=0;gt<pn;++gt)ht[gt]=Te;if(vt=[],typeof Oe=="function")for(gt=0;gt<Gt;++gt)vt[gt]=+Oe.call(this,mt[gt],gt);else for(gt=0;gt<Gt;++gt)vt[gt]=Oe;function pa(jn,la){if(!Dn){for(Dn=new Array(Gt),Ua=0;Ua<Gt;++Ua)Dn[Ua]=[];for(Ua=0;Ua<pn;++Ua){var Na=At[Ua];Dn[Na.source.index].push(Na.target),Dn[Na.target.index].push(Na.source)}}for(var Mr=Dn[gt],Ua=-1,dn=Mr.length,va;++Ua<dn;)if(!isNaN(va=Mr[Ua][jn]))return va;return Math.random()*la}return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){if(Q||(Q=i.behavior.drag().origin(U).on("dragstart.force",L1).on("drag.force",kt).on("dragend.force",O1)),!arguments.length)return Q;this.on("mouseover.force",D1).on("mouseout.force",C1).call(Q)};function kt(gt){gt.px=i.event.x,gt.py=i.event.y,a.resume()}return i.rebind(a,x,"on")};function L1(a){a.fixed|=2}function O1(a){a.fixed&=-7}function D1(a){a.fixed|=4,a.px=a.x,a.py=a.y}function C1(a){a.fixed&=-5}function W0(a,x,S){var z=0,Q=0;if(a.charge=0,!a.leaf)for(var ne=a.nodes,ve=ne.length,ue=-1,Te;++ue<ve;)Te=ne[ue],Te!=null&&(W0(Te,x,S),a.charge+=Te.charge,z+=Te.charge*Te.cx,Q+=Te.charge*Te.cy);if(a.point){a.leaf||(a.point.x+=Math.random()-.5,a.point.y+=Math.random()-.5);var Oe=x*S[a.point.index];a.charge+=a.pointCharge=Oe,z+=Oe*a.point.x,Q+=Oe*a.point.y}a.cx=z/a.charge,a.cy=Q/a.charge}var P1=20,E1=1,F1=1/0;i.layout.hierarchy=function(){var a=N1,x=I1,S=R1;function z(Q){var ne=[Q],ve=[],ue;for(Q.depth=0;(ue=ne.pop())!=null;)if(ve.push(ue),(Oe=x.call(z,ue,ue.depth))&&(Te=Oe.length)){for(var Te,Oe,Ce;--Te>=0;)ne.push(Ce=Oe[Te]),Ce.parent=ue,Ce.depth=ue.depth+1;S&&(ue.value=0),ue.children=Oe}else S&&(ue.value=+S.call(z,ue,ue.depth)||0),delete ue.children;return Li(Q,function(Ge){var et,mt;a&&(et=Ge.children)&&et.sort(a),S&&(mt=Ge.parent)&&(mt.value+=Ge.value)}),ve}return z.sort=function(Q){return arguments.length?(a=Q,z):a},z.children=function(Q){return arguments.length?(x=Q,z):x},z.value=function(Q){return arguments.length?(S=Q,z):S},z.revalue=function(Q){return S&&(Ao(Q,function(ne){ne.children&&(ne.value=0)}),Li(Q,function(ne){var ve;ne.children||(ne.value=+S.call(z,ne,ne.depth)||0),(ve=ne.parent)&&(ve.value+=ne.value)})),Q},z};function ko(a,x){return i.rebind(a,x,"sort","children","value"),a.nodes=a,a.links=j1,a}function Ao(a,x){for(var S=[a];(a=S.pop())!=null;)if(x(a),(Q=a.children)&&(z=Q.length))for(var z,Q;--z>=0;)S.push(Q[z])}function Li(a,x){for(var S=[a],z=[];(a=S.pop())!=null;)if(z.push(a),(ve=a.children)&&(ne=ve.length))for(var Q=-1,ne,ve;++Q<ne;)S.push(ve[Q]);for(;(a=z.pop())!=null;)x(a)}function I1(a){return a.children}function R1(a){return a.value}function N1(a,x){return x.value-a.value}function j1(a){return i.merge(a.map(function(x){return(x.children||[]).map(function(S){return{source:x,target:S}})}))}i.layout.partition=function(){var a=i.layout.hierarchy(),x=[1,1];function S(ne,ve,ue,Te){var Oe=ne.children;if(ne.x=ve,ne.y=ne.depth*Te,ne.dx=ue,ne.dy=Te,Oe&&(Ge=Oe.length)){var Ce=-1,Ge,et,mt;for(ue=ne.value?ue/ne.value:0;++Ce<Ge;)S(et=Oe[Ce],ve,mt=et.value*ue,Te),ve+=mt}}function z(ne){var ve=ne.children,ue=0;if(ve&&(Oe=ve.length))for(var Te=-1,Oe;++Te<Oe;)ue=Math.max(ue,z(ve[Te]));return 1+ue}function Q(ne,ve){var ue=a.call(this,ne,ve);return S(ue[0],0,x[0],x[1]/z(ue[0])),ue}return Q.size=function(ne){return arguments.length?(x=ne,Q):x},ko(Q,a)},i.layout.pie=function(){var a=Number,x=Z0,S=0,z=de,Q=0;function ne(ve){var ue=ve.length,Te=ve.map(function(Tt,kt){return+a.call(ne,Tt,kt)}),Oe=+(typeof S=="function"?S.apply(this,arguments):S),Ce=(typeof z=="function"?z.apply(this,arguments):z)-Oe,Ge=Math.min(Math.abs(Ce)/ue,+(typeof Q=="function"?Q.apply(this,arguments):Q)),et=Ge*(Ce<0?-1:1),mt=i.sum(Te),At=mt?(Ce-ue*et)/mt:0,nt=i.range(ue),ht=[],vt;return x!=null&&nt.sort(x===Z0?function(Tt,kt){return Te[kt]-Te[Tt]}:function(Tt,kt){return x(ve[Tt],ve[kt])}),nt.forEach(function(Tt){ht[Tt]={data:ve[Tt],value:vt=Te[Tt],startAngle:Oe,endAngle:Oe+=vt*At+et,padAngle:Ge}}),ht}return ne.value=function(ve){return arguments.length?(a=ve,ne):a},ne.sort=function(ve){return arguments.length?(x=ve,ne):x},ne.startAngle=function(ve){return arguments.length?(S=ve,ne):S},ne.endAngle=function(ve){return arguments.length?(z=ve,ne):z},ne.padAngle=function(ve){return arguments.length?(Q=ve,ne):Q},ne};var Z0={};i.layout.stack=function(){var a=U,x=Xl,S=Jl,z=B1,Q=z1,ne=H1;function ve(ue,Te){if(!(At=ue.length))return ue;var Oe=ue.map(function(Tt,kt){return a.call(ve,Tt,kt)}),Ce=Oe.map(function(Tt){return Tt.map(function(kt,gt){return[Q.call(ve,kt,gt),ne.call(ve,kt,gt)]})}),Ge=x.call(ve,Ce,Te);Oe=i.permute(Oe,Ge),Ce=i.permute(Ce,Ge);var et=S.call(ve,Ce,Te),mt=Oe[0].length,At,nt,ht,vt;for(ht=0;ht<mt;++ht)for(z.call(ve,Oe[0][ht],vt=et[ht],Ce[0][ht][1]),nt=1;nt<At;++nt)z.call(ve,Oe[nt][ht],vt+=Ce[nt-1][ht][1],Ce[nt][ht][1]);return ue}return ve.values=function(ue){return arguments.length?(a=ue,ve):a},ve.order=function(ue){return arguments.length?(x=typeof ue=="function"?ue:V1.get(ue)||Xl,ve):x},ve.offset=function(ue){return arguments.length?(S=typeof ue=="function"?ue:Y1.get(ue)||Jl,ve):S},ve.x=function(ue){return arguments.length?(Q=ue,ve):Q},ve.y=function(ue){return arguments.length?(ne=ue,ve):ne},ve.out=function(ue){return arguments.length?(z=ue,ve):z},ve};function z1(a){return a.x}function H1(a){return a.y}function B1(a,x,S){a.y0=x,a.y=S}var V1=i.map({"inside-out":function(a){var x=a.length,S,z,Q=a.map($1),ne=a.map(U1),ve=i.range(x).sort(function(Ge,et){return Q[Ge]-Q[et]}),ue=0,Te=0,Oe=[],Ce=[];for(S=0;S<x;++S)z=ve[S],ue<Te?(ue+=ne[z],Oe.push(z)):(Te+=ne[z],Ce.push(z));return Ce.reverse().concat(Oe)},reverse:function(a){return i.range(a.length).reverse()},default:Xl}),Y1=i.map({silhouette:function(a){var x=a.length,S=a[0].length,z=[],Q=0,ne,ve,ue,Te=[];for(ve=0;ve<S;++ve){for(ne=0,ue=0;ne<x;ne++)ue+=a[ne][ve][1];ue>Q&&(Q=ue),z.push(ue)}for(ve=0;ve<S;++ve)Te[ve]=(Q-z[ve])/2;return Te},wiggle:function(a){var x=a.length,S=a[0],z=S.length,Q,ne,ve,ue,Te,Oe,Ce,Ge,et,mt=[];for(mt[0]=Ge=et=0,ne=1;ne<z;++ne){for(Q=0,ue=0;Q<x;++Q)ue+=a[Q][ne][1];for(Q=0,Te=0,Ce=S[ne][0]-S[ne-1][0];Q<x;++Q){for(ve=0,Oe=(a[Q][ne][1]-a[Q][ne-1][1])/(2*Ce);ve<Q;++ve)Oe+=(a[ve][ne][1]-a[ve][ne-1][1])/Ce;Te+=Oe*a[Q][ne][1]}mt[ne]=Ge-=ue?Te/ue*Ce:0,Ge<et&&(et=Ge)}for(ne=0;ne<z;++ne)mt[ne]-=et;return mt},expand:function(a){var x=a.length,S=a[0].length,z=1/x,Q,ne,ve,ue=[];for(ne=0;ne<S;++ne){for(Q=0,ve=0;Q<x;Q++)ve+=a[Q][ne][1];if(ve)for(Q=0;Q<x;Q++)a[Q][ne][1]/=ve;else for(Q=0;Q<x;Q++)a[Q][ne][1]=z}for(ne=0;ne<S;++ne)ue[ne]=0;return ue},zero:Jl});function Xl(a){return i.range(a.length)}function Jl(a){for(var x=-1,S=a[0].length,z=[];++x<S;)z[x]=0;return z}function $1(a){for(var x=1,S=0,z=a[0][1],Q,ne=a.length;x<ne;++x)(Q=a[x][1])>z&&(S=x,z=Q);return S}function U1(a){return a.reduce(G1,0)}function G1(a,x){return a+x[1]}i.layout.histogram=function(){var a=!0,x=Number,S=Z1,z=W1;function Q(ne,ve){for(var ue=[],Te=ne.map(x,this),Oe=S.call(this,Te,ve),Ce=z.call(this,Oe,Te,ve),Ge,ve=-1,et=Te.length,mt=Ce.length-1,At=a?1:1/et,nt;++ve<mt;)Ge=ue[ve]=[],Ge.dx=Ce[ve+1]-(Ge.x=Ce[ve]),Ge.y=0;if(mt>0)for(ve=-1;++ve<et;)nt=Te[ve],nt>=Oe[0]&&nt<=Oe[1]&&(Ge=ue[i.bisect(Ce,nt,1,mt)-1],Ge.y+=At,Ge.push(ne[ve]));return ue}return Q.value=function(ne){return arguments.length?(x=ne,Q):x},Q.range=function(ne){return arguments.length?(S=_t(ne),Q):S},Q.bins=function(ne){return arguments.length?(z=typeof ne=="number"?function(ve){return q0(ve,ne)}:_t(ne),Q):z},Q.frequency=function(ne){return arguments.length?(a=!!ne,Q):a},Q};function W1(a,x){return q0(a,Math.ceil(Math.log(x.length)/Math.LN2+1))}function q0(a,x){for(var S=-1,z=+a[0],Q=(a[1]-z)/x,ne=[];++S<=x;)ne[S]=Q*S+z;return ne}function Z1(a){return[i.min(a),i.max(a)]}i.layout.pack=function(){var a=i.layout.hierarchy().sort(q1),x=0,S=[1,1],z;function Q(ne,ve){var ue=a.call(this,ne,ve),Te=ue[0],Oe=S[0],Ce=S[1],Ge=z==null?Math.sqrt:typeof z=="function"?z:function(){return z};if(Te.x=Te.y=0,Li(Te,function(mt){mt.r=+Ge(mt.value)}),Li(Te,Q0),x){var et=x*(z?1:Math.max(2*Te.r/Oe,2*Te.r/Ce))/2;Li(Te,function(mt){mt.r+=et}),Li(Te,Q0),Li(Te,function(mt){mt.r-=et})}return K0(Te,Oe/2,Ce/2,z?1:1/Math.max(2*Te.r/Oe,2*Te.r/Ce)),ue}return Q.size=function(ne){return arguments.length?(S=ne,Q):S},Q.radius=function(ne){return arguments.length?(z=ne==null||typeof ne=="function"?ne:+ne,Q):z},Q.padding=function(ne){return arguments.length?(x=+ne,Q):x},ko(Q,a)};function q1(a,x){return a.value-x.value}function Ql(a,x){var S=a._pack_next;a._pack_next=x,x._pack_prev=a,x._pack_next=S,S._pack_prev=x}function X0(a,x){a._pack_next=x,x._pack_prev=a}function J0(a,x){var S=x.x-a.x,z=x.y-a.y,Q=a.r+x.r;return .999*Q*Q>S*S+z*z}function Q0(a){if(!(x=a.children)||!(et=x.length))return;var x,S=1/0,z=-1/0,Q=1/0,ne=-1/0,ve,ue,Te,Oe,Ce,Ge,et;function mt(gt){S=Math.min(gt.x-gt.r,S),z=Math.max(gt.x+gt.r,z),Q=Math.min(gt.y-gt.r,Q),ne=Math.max(gt.y+gt.r,ne)}if(x.forEach(X1),ve=x[0],ve.x=-ve.r,ve.y=0,mt(ve),et>1&&(ue=x[1],ue.x=ue.r,ue.y=0,mt(ue),et>2))for(Te=x[2],ec(ve,ue,Te),mt(Te),Ql(ve,Te),ve._pack_prev=Te,Ql(Te,ue),ue=ve._pack_next,Oe=3;Oe<et;Oe++){ec(ve,ue,Te=x[Oe]);var At=0,nt=1,ht=1;for(Ce=ue._pack_next;Ce!==ue;Ce=Ce._pack_next,nt++)if(J0(Ce,Te)){At=1;break}if(At==1)for(Ge=ve._pack_prev;Ge!==Ce._pack_prev&&!J0(Ge,Te);Ge=Ge._pack_prev,ht++);At?(nt<ht||nt==ht&&ue.r<ve.r?X0(ve,ue=Ce):X0(ve=Ge,ue),Oe--):(Ql(ve,Te),ue=Te,mt(Te))}var vt=(S+z)/2,Tt=(Q+ne)/2,kt=0;for(Oe=0;Oe<et;Oe++)Te=x[Oe],Te.x-=vt,Te.y-=Tt,kt=Math.max(kt,Te.r+Math.sqrt(Te.x*Te.x+Te.y*Te.y));a.r=kt,x.forEach(J1)}function X1(a){a._pack_next=a._pack_prev=a}function J1(a){delete a._pack_next,delete a._pack_prev}function K0(a,x,S,z){var Q=a.children;if(a.x=x+=z*a.x,a.y=S+=z*a.y,a.r*=z,Q)for(var ne=-1,ve=Q.length;++ne<ve;)K0(Q[ne],x,S,z)}function ec(a,x,S){var z=a.r+S.r,Q=x.x-a.x,ne=x.y-a.y;if(z&&(Q||ne)){var ve=x.r+S.r,ue=Q*Q+ne*ne;ve*=ve,z*=z;var Te=.5+(z-ve)/(2*ue),Oe=Math.sqrt(Math.max(0,2*ve*(z+ue)-(z-=ue)*z-ve*ve))/(2*ue);S.x=a.x+Te*Q+Oe*ne,S.y=a.y+Te*ne-Oe*Q}else S.x=a.x+z,S.y=a.y}i.layout.tree=function(){var a=i.layout.hierarchy().sort(null).value(null),x=tc,S=[1,1],z=null;function Q(Ce,Ge){var et=a.call(this,Ce,Ge),mt=et[0],At=ne(mt);if(Li(At,ve),At.parent.m=-At.z,Ao(At,ue),z)Ao(mt,Oe);else{var nt=mt,ht=mt,vt=mt;Ao(mt,function(Gt){Gt.x<nt.x&&(nt=Gt),Gt.x>ht.x&&(ht=Gt),Gt.depth>vt.depth&&(vt=Gt)});var Tt=x(nt,ht)/2-nt.x,kt=S[0]/(ht.x+x(ht,nt)/2+Tt),gt=S[1]/(vt.depth||1);Ao(mt,function(Gt){Gt.x=(Gt.x+Tt)*kt,Gt.y=Gt.depth*gt})}return et}function ne(Ce){for(var Ge={A:null,children:[Ce]},et=[Ge],mt;(mt=et.pop())!=null;)for(var At=mt.children,nt,ht=0,vt=At.length;ht<vt;++ht)et.push((At[ht]=nt={_:At[ht],parent:mt,children:(nt=At[ht].children)&&nt.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:ht}).a=nt);return Ge.children[0]}function ve(Ce){var Ge=Ce.children,et=Ce.parent.children,mt=Ce.i?et[Ce.i-1]:null;if(Ge.length){K1(Ce);var At=(Ge[0].z+Ge[Ge.length-1].z)/2;mt?(Ce.z=mt.z+x(Ce._,mt._),Ce.m=Ce.z-At):Ce.z=At}else mt&&(Ce.z=mt.z+x(Ce._,mt._));Ce.parent.A=Te(Ce,mt,Ce.parent.A||et[0])}function ue(Ce){Ce._.x=Ce.z+Ce.parent.m,Ce.m+=Ce.parent.m}function Te(Ce,Ge,et){if(Ge){for(var mt=Ce,At=Ce,nt=Ge,ht=mt.parent.children[0],vt=mt.m,Tt=At.m,kt=nt.m,gt=ht.m,Gt;nt=es(nt),mt=Kl(mt),nt&&mt;)ht=Kl(ht),At=es(At),At.a=Ce,Gt=nt.z+kt-mt.z-vt+x(nt._,mt._),Gt>0&&(Q1(eh(nt,Ce,et),Ce,Gt),vt+=Gt,Tt+=Gt),kt+=nt.m,vt+=mt.m,gt+=ht.m,Tt+=At.m;nt&&!es(At)&&(At.t=nt,At.m+=kt-Tt),mt&&!Kl(ht)&&(ht.t=mt,ht.m+=vt-gt,et=Ce)}return et}function Oe(Ce){Ce.x*=S[0],Ce.y=Ce.depth*S[1]}return Q.separation=function(Ce){return arguments.length?(x=Ce,Q):x},Q.size=function(Ce){return arguments.length?(z=(S=Ce)==null?Oe:null,Q):z?null:S},Q.nodeSize=function(Ce){return arguments.length?(z=(S=Ce)==null?null:Oe,Q):z?S:null},ko(Q,a)};function tc(a,x){return a.parent==x.parent?1:2}function Kl(a){var x=a.children;return x.length?x[0]:a.t}function es(a){var x=a.children,S;return(S=x.length)?x[S-1]:a.t}function Q1(a,x,S){var z=S/(x.i-a.i);x.c-=z,x.s+=S,a.c+=z,x.z+=S,x.m+=S}function K1(a){for(var x=0,S=0,z=a.children,Q=z.length,ne;--Q>=0;)ne=z[Q],ne.z+=x,ne.m+=x,x+=ne.s+(S+=ne.c)}function eh(a,x,S){return a.a.parent===x.parent?a.a:S}i.layout.cluster=function(){var a=i.layout.hierarchy().sort(null).value(null),x=tc,S=[1,1],z=!1;function Q(ne,ve){var ue=a.call(this,ne,ve),Te=ue[0],Oe,Ce=0;Li(Te,function(nt){var ht=nt.children;ht&&ht.length?(nt.x=nh(ht),nt.y=th(ht)):(nt.x=Oe?Ce+=x(nt,Oe):0,nt.y=0,Oe=nt)});var Ge=nc(Te),et=ac(Te),mt=Ge.x-x(Ge,et)/2,At=et.x+x(et,Ge)/2;return Li(Te,z?function(nt){nt.x=(nt.x-Te.x)*S[0],nt.y=(Te.y-nt.y)*S[1]}:function(nt){nt.x=(nt.x-mt)/(At-mt)*S[0],nt.y=(1-(Te.y?nt.y/Te.y:1))*S[1]}),ue}return Q.separation=function(ne){return arguments.length?(x=ne,Q):x},Q.size=function(ne){return arguments.length?(z=(S=ne)==null,Q):z?null:S},Q.nodeSize=function(ne){return arguments.length?(z=(S=ne)!=null,Q):z?S:null},ko(Q,a)};function th(a){return 1+i.max(a,function(x){return x.y})}function nh(a){return a.reduce(function(x,S){return x+S.x},0)/a.length}function nc(a){var x=a.children;return x&&x.length?nc(x[0]):a}function ac(a){var x=a.children,S;return x&&(S=x.length)?ac(x[S-1]):a}i.layout.treemap=function(){var a=i.layout.hierarchy(),x=Math.round,S=[1,1],z=null,Q=ts,ne=!1,ve,ue="squarify",Te=.5*(1+Math.sqrt(5));function Oe(nt,ht){for(var vt=-1,Tt=nt.length,kt,gt;++vt<Tt;)gt=(kt=nt[vt]).value*(ht<0?0:ht),kt.area=isNaN(gt)||gt<=0?0:gt}function Ce(nt){var ht=nt.children;if(ht&&ht.length){var vt=Q(nt),Tt=[],kt=ht.slice(),gt,Gt=1/0,pn,Tn=ue==="slice"?vt.dx:ue==="dice"?vt.dy:ue==="slice-dice"?nt.depth&1?vt.dy:vt.dx:Math.min(vt.dx,vt.dy),yn;for(Oe(kt,vt.dx*vt.dy/nt.value),Tt.area=0;(yn=kt.length)>0;)Tt.push(gt=kt[yn-1]),Tt.area+=gt.area,ue!=="squarify"||(pn=et(Tt,Tn))<=Gt?(kt.pop(),Gt=pn):(Tt.area-=Tt.pop().area,mt(Tt,Tn,vt,!1),Tn=Math.min(vt.dx,vt.dy),Tt.length=Tt.area=0,Gt=1/0);Tt.length&&(mt(Tt,Tn,vt,!0),Tt.length=Tt.area=0),ht.forEach(Ce)}}function Ge(nt){var ht=nt.children;if(ht&&ht.length){var vt=Q(nt),Tt=ht.slice(),kt,gt=[];for(Oe(Tt,vt.dx*vt.dy/nt.value),gt.area=0;kt=Tt.pop();)gt.push(kt),gt.area+=kt.area,kt.z!=null&&(mt(gt,kt.z?vt.dx:vt.dy,vt,!Tt.length),gt.length=gt.area=0);ht.forEach(Ge)}}function et(nt,ht){for(var vt=nt.area,Tt,kt=0,gt=1/0,Gt=-1,pn=nt.length;++Gt<pn;)(Tt=nt[Gt].area)&&(Tt<gt&&(gt=Tt),Tt>kt&&(kt=Tt));return vt*=vt,ht*=ht,vt?Math.max(ht*kt*Te/vt,vt/(ht*gt*Te)):1/0}function mt(nt,ht,vt,Tt){var kt=-1,gt=nt.length,Gt=vt.x,pn=vt.y,Tn=ht?x(nt.area/ht):0,yn;if(ht==vt.dx){for((Tt||Tn>vt.dy)&&(Tn=vt.dy);++kt<gt;)yn=nt[kt],yn.x=Gt,yn.y=pn,yn.dy=Tn,Gt+=yn.dx=Math.min(vt.x+vt.dx-Gt,Tn?x(yn.area/Tn):0);yn.z=!0,yn.dx+=vt.x+vt.dx-Gt,vt.y+=Tn,vt.dy-=Tn}else{for((Tt||Tn>vt.dx)&&(Tn=vt.dx);++kt<gt;)yn=nt[kt],yn.x=Gt,yn.y=pn,yn.dx=Tn,pn+=yn.dy=Math.min(vt.y+vt.dy-pn,Tn?x(yn.area/Tn):0);yn.z=!1,yn.dy+=vt.y+vt.dy-pn,vt.x+=Tn,vt.dx-=Tn}}function At(nt){var ht=ve||a(nt),vt=ht[0];return vt.x=vt.y=0,vt.value?(vt.dx=S[0],vt.dy=S[1]):vt.dx=vt.dy=0,ve&&a.revalue(vt),Oe([vt],vt.dx*vt.dy/vt.value),(ve?Ge:Ce)(vt),ne&&(ve=ht),ht}return At.size=function(nt){return arguments.length?(S=nt,At):S},At.padding=function(nt){if(!arguments.length)return z;function ht(kt){var gt=nt.call(At,kt,kt.depth);return gt==null?ts(kt):rc(kt,typeof gt=="number"?[gt,gt,gt,gt]:gt)}function vt(kt){return rc(kt,nt)}var Tt;return Q=(z=nt)==null?ts:(Tt=typeof nt)=="function"?ht:(Tt==="number"&&(nt=[nt,nt,nt,nt]),vt),At},At.round=function(nt){return arguments.length?(x=nt?Math.round:Number,At):x!=Number},At.sticky=function(nt){return arguments.length?(ne=nt,ve=null,At):ne},At.ratio=function(nt){return arguments.length?(Te=nt,At):Te},At.mode=function(nt){return arguments.length?(ue=nt+"",At):ue},ko(At,a)};function ts(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function rc(a,x){var S=a.x+x[3],z=a.y+x[0],Q=a.dx-x[1]-x[3],ne=a.dy-x[0]-x[2];return Q<0&&(S+=Q/2,Q=0),ne<0&&(z+=ne/2,ne=0),{x:S,y:z,dx:Q,dy:ne}}i.random={normal:function(a,x){var S=arguments.length;return S<2&&(x=1),S<1&&(a=0),function(){var z,Q,ne;do z=Math.random()*2-1,Q=Math.random()*2-1,ne=z*z+Q*Q;while(!ne||ne>1);return a+x*z*Math.sqrt(-2*Math.log(ne)/ne)}},logNormal:function(){var a=i.random.normal.apply(i,arguments);return function(){return Math.exp(a())}},bates:function(a){var x=i.random.irwinHall(a);return function(){return x()/a}},irwinHall:function(a){return function(){for(var x=0,S=0;S<a;S++)x+=Math.random();return x}}},i.scale={};function Wo(a){var x=a[0],S=a[a.length-1];return x<S?[x,S]:[S,x]}function Zo(a){return a.rangeExtent?a.rangeExtent():Wo(a.range())}function ah(a,x,S,z){var Q=S(a[0],a[1]),ne=z(x[0],x[1]);return function(ve){return ne(Q(ve))}}function ns(a,x){var S=0,z=a.length-1,Q=a[S],ne=a[z],ve;return ne<Q&&(ve=S,S=z,z=ve,ve=Q,Q=ne,ne=ve),a[S]=x.floor(Q),a[z]=x.ceil(ne),a}function ic(a){return a?{floor:function(x){return Math.floor(x/a)*a},ceil:function(x){return Math.ceil(x/a)*a}}:rh}var rh={floor:U,ceil:U};function ih(a,x,S,z){var Q=[],ne=[],ve=0,ue=Math.min(a.length,x.length)-1;for(a[ue]<a[0]&&(a=a.slice().reverse(),x=x.slice().reverse());++ve<=ue;)Q.push(S(a[ve-1],a[ve])),ne.push(z(x[ve-1],x[ve]));return function(Te){var Oe=i.bisect(a,Te,1,ue)-1;return ne[Oe](Q[Oe](Te))}}i.scale.linear=function(){return oc([0,1],[0,1],eo,!1)};function oc(a,x,S,z){var Q,ne;function ve(){var Te=Math.min(a.length,x.length)>2?ih:ah,Oe=z?k1:M1;return Q=Te(a,x,Oe,S),ne=Te(x,a,Oe,eo),ue}function ue(Te){return Q(Te)}return ue.invert=function(Te){return ne(Te)},ue.domain=function(Te){return arguments.length?(a=Te.map(Number),ve()):a},ue.range=function(Te){return arguments.length?(x=Te,ve()):x},ue.rangeRound=function(Te){return ue.range(Te).interpolate(B0)},ue.clamp=function(Te){return arguments.length?(z=Te,ve()):z},ue.interpolate=function(Te){return arguments.length?(S=Te,ve()):S},ue.ticks=function(Te){return rs(a,Te)},ue.tickFormat=function(Te,Oe){return d3_scale_linearTickFormat(a,Te,Oe)},ue.nice=function(Te){return sc(a,Te),ve()},ue.copy=function(){return oc(a,x,S,z)},ve()}function lc(a,x){return i.rebind(a,x,"range","rangeRound","interpolate","clamp")}function sc(a,x){return ns(a,ic(as(a,x)[2])),ns(a,ic(as(a,x)[2])),a}function as(a,x){x==null&&(x=10);var S=Wo(a),z=S[1]-S[0],Q=Math.pow(10,Math.floor(Math.log(z/x)/Math.LN10)),ne=x/z*Q;return ne<=.15?Q*=10:ne<=.35?Q*=5:ne<=.75&&(Q*=2),S[0]=Math.ceil(S[0]/Q)*Q,S[1]=Math.floor(S[1]/Q)*Q+Q*.5,S[2]=Q,S}function rs(a,x){return i.range.apply(i,as(a,x))}i.scale.log=function(){return cc(i.scale.linear().domain([0,1]),10,!0,[1,10])};function cc(a,x,S,z){function Q(ue){return(S?Math.log(ue<0?0:ue):-Math.log(ue>0?0:-ue))/Math.log(x)}function ne(ue){return S?Math.pow(x,ue):-Math.pow(x,-ue)}function ve(ue){return a(Q(ue))}return ve.invert=function(ue){return ne(a.invert(ue))},ve.domain=function(ue){return arguments.length?(S=ue[0]>=0,a.domain((z=ue.map(Number)).map(Q)),ve):z},ve.base=function(ue){return arguments.length?(x=+ue,a.domain(z.map(Q)),ve):x},ve.nice=function(){var ue=ns(z.map(Q),S?Math:oh);return a.domain(ue),z=ue.map(ne),ve},ve.ticks=function(){var ue=Wo(z),Te=[],Oe=ue[0],Ce=ue[1],Ge=Math.floor(Q(Oe)),et=Math.ceil(Q(Ce)),mt=x%1?2:x;if(isFinite(et-Ge)){if(S){for(;Ge<et;Ge++)for(var At=1;At<mt;At++)Te.push(ne(Ge)*At);Te.push(ne(Ge))}else for(Te.push(ne(Ge));Ge++<et;)for(var At=mt-1;At>0;At--)Te.push(ne(Ge)*At);for(Ge=0;Te[Ge]<Oe;Ge++);for(et=Te.length;Te[et-1]>Ce;et--);Te=Te.slice(Ge,et)}return Te},ve.copy=function(){return cc(a.copy(),x,S,z)},lc(ve,a)}var oh={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};i.scale.pow=function(){return uc(i.scale.linear(),1,[0,1])};function uc(a,x,S){var z=qo(x),Q=qo(1/x);function ne(ve){return a(z(ve))}return ne.invert=function(ve){return Q(a.invert(ve))},ne.domain=function(ve){return arguments.length?(a.domain((S=ve.map(Number)).map(z)),ne):S},ne.ticks=function(ve){return rs(S,ve)},ne.tickFormat=function(ve,ue){return d3_scale_linearTickFormat(S,ve,ue)},ne.nice=function(ve){return ne.domain(sc(S,ve))},ne.exponent=function(ve){return arguments.length?(z=qo(x=ve),Q=qo(1/x),a.domain(S.map(z)),ne):x},ne.copy=function(){return uc(a.copy(),x,S)},lc(ne,a)}function qo(a){return function(x){return x<0?-Math.pow(-x,a):Math.pow(x,a)}}i.scale.sqrt=function(){return i.scale.pow().exponent(.5)},i.scale.ordinal=function(){return dc([],{t:"range",a:[[]]})};function dc(a,x){var S,z,Q;function ne(ue){return z[((S.get(ue)||(x.t==="range"?S.set(ue,a.push(ue)):NaN))-1)%z.length]}function ve(ue,Te){return i.range(a.length).map(function(Oe){return ue+Te*Oe})}return ne.domain=function(ue){if(!arguments.length)return a;a=[],S=new w;for(var Te=-1,Oe=ue.length,Ce;++Te<Oe;)S.has(Ce=ue[Te])||S.set(Ce,a.push(Ce));return ne[x.t].apply(ne,x.a)},ne.range=function(ue){return arguments.length?(z=ue,Q=0,x={t:"range",a:arguments},ne):z},ne.rangePoints=function(ue,Te){arguments.length<2&&(Te=0);var Oe=ue[0],Ce=ue[1],Ge=a.length<2?(Oe=(Oe+Ce)/2,0):(Ce-Oe)/(a.length-1+Te);return z=ve(Oe+Ge*Te/2,Ge),Q=0,x={t:"rangePoints",a:arguments},ne},ne.rangeRoundPoints=function(ue,Te){arguments.length<2&&(Te=0);var Oe=ue[0],Ce=ue[1],Ge=a.length<2?(Oe=Ce=Math.round((Oe+Ce)/2),0):(Ce-Oe)/(a.length-1+Te)|0;return z=ve(Oe+Math.round(Ge*Te/2+(Ce-Oe-(a.length-1+Te)*Ge)/2),Ge),Q=0,x={t:"rangeRoundPoints",a:arguments},ne},ne.rangeBands=function(ue,Te,Oe){arguments.length<2&&(Te=0),arguments.length<3&&(Oe=Te);var Ce=ue[1]<ue[0],Ge=ue[Ce-0],et=ue[1-Ce],mt=(et-Ge)/(a.length-Te+2*Oe);return z=ve(Ge+mt*Oe,mt),Ce&&z.reverse(),Q=mt*(1-Te),x={t:"rangeBands",a:arguments},ne},ne.rangeRoundBands=function(ue,Te,Oe){arguments.length<2&&(Te=0),arguments.length<3&&(Oe=Te);var Ce=ue[1]<ue[0],Ge=ue[Ce-0],et=ue[1-Ce],mt=Math.floor((et-Ge)/(a.length-Te+2*Oe));return z=ve(Ge+Math.round((et-Ge-(a.length-Te)*mt)/2),mt),Ce&&z.reverse(),Q=Math.round(mt*(1-Te)),x={t:"rangeRoundBands",a:arguments},ne},ne.rangeBand=function(){return Q},ne.rangeExtent=function(){return Wo(x.a[0])},ne.copy=function(){return dc(a,x)},ne.domain(a)}i.scale.category10=function(){return i.scale.ordinal().range(lh)},i.scale.category20=function(){return i.scale.ordinal().range(sh)},i.scale.category20b=function(){return i.scale.ordinal().range(ch)},i.scale.category20c=function(){return i.scale.ordinal().range(uh)};var lh=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Ve),sh=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Ve),ch=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Ve),uh=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Ve);i.scale.quantile=function(){return fc([],[])};function fc(a,x){var S;function z(){var ne=0,ve=x.length;for(S=[];++ne<ve;)S[ne-1]=i.quantile(a,ne/ve);return Q}function Q(ne){if(!isNaN(ne=+ne))return x[i.bisect(S,ne)]}return Q.domain=function(ne){return arguments.length?(a=ne.map(b).filter(y).sort(h),z()):a},Q.range=function(ne){return arguments.length?(x=ne,z()):x},Q.quantiles=function(){return S},Q.invertExtent=function(ne){return ne=x.indexOf(ne),ne<0?[NaN,NaN]:[ne>0?S[ne-1]:a[0],ne<S.length?S[ne]:a[a.length-1]]},Q.copy=function(){return fc(a,x)},z()}i.scale.quantize=function(){return hc(0,1,[0,1])};function hc(a,x,S){var z,Q;function ne(ue){return S[Math.max(0,Math.min(Q,Math.floor(z*(ue-a))))]}function ve(){return z=S.length/(x-a),Q=S.length-1,ne}return ne.domain=function(ue){return arguments.length?(a=+ue[0],x=+ue[ue.length-1],ve()):[a,x]},ne.range=function(ue){return arguments.length?(S=ue,ve()):S},ne.invertExtent=function(ue){return ue=S.indexOf(ue),ue=ue<0?NaN:ue/z+a,[ue,ue+1/z]},ne.copy=function(){return hc(a,x,S)},ve()}i.scale.threshold=function(){return pc([.5],[0,1])};function pc(a,x){function S(z){if(z<=z)return x[i.bisect(a,z)]}return S.domain=function(z){return arguments.length?(a=z,S):a},S.range=function(z){return arguments.length?(x=z,S):x},S.invertExtent=function(z){return z=x.indexOf(z),[a[z-1],a[z]]},S.copy=function(){return pc(a,x)},S}i.scale.identity=function(){return vc([0,1])};function vc(a){function x(S){return+S}return x.invert=x,x.domain=x.range=function(S){return arguments.length?(a=S.map(x),x):a},x.ticks=function(S){return rs(a,S)},x.tickFormat=function(S,z){return d3_scale_linearTickFormat(a,S,z)},x.copy=function(){return vc(a)},x}i.svg={};function dh(){return 0}i.svg.arc=function(){var a=fh,x=hh,S=dh,z=Xo,Q=gc,ne=mc,ve=ph;function ue(){var Oe=Math.max(0,+a.apply(this,arguments)),Ce=Math.max(0,+x.apply(this,arguments)),Ge=Q.apply(this,arguments)-ge,et=ne.apply(this,arguments)-ge,mt=Math.abs(et-Ge),At=Ge>et?0:1;if(Ce<Oe&&(nt=Ce,Ce=Oe,Oe=nt),mt>=xe)return Te(Ce,At)+(Oe?Te(Oe,1-At):"")+"Z";var nt,ht,vt,Tt,kt=0,gt=0,Gt,pn,Tn,yn,Dn,Cn,pa,jn,la=[];if((Tt=(+ve.apply(this,arguments)||0)/2)&&(vt=z===Xo?Math.sqrt(Oe*Oe+Ce*Ce):+z.apply(this,arguments),At||(gt*=-1),Ce&&(gt=Qe(vt/Ce*Math.sin(Tt))),Oe&&(kt=Qe(vt/Oe*Math.sin(Tt)))),Ce){Gt=Ce*Math.cos(Ge+gt),pn=Ce*Math.sin(Ge+gt),Tn=Ce*Math.cos(et-gt),yn=Ce*Math.sin(et-gt);var Na=Math.abs(et-Ge-2*gt)<=K?0:1;if(gt&&Jo(Gt,pn,Tn,yn)===At^Na){var Mr=(Ge+et)/2;Gt=Ce*Math.cos(Mr),pn=Ce*Math.sin(Mr),Tn=yn=null}}else Gt=pn=0;if(Oe){Dn=Oe*Math.cos(et-kt),Cn=Oe*Math.sin(et-kt),pa=Oe*Math.cos(Ge+kt),jn=Oe*Math.sin(Ge+kt);var Ua=Math.abs(Ge-et+2*kt)<=K?0:1;if(kt&&Jo(Dn,Cn,pa,jn)===1-At^Ua){var dn=(Ge+et)/2;Dn=Oe*Math.cos(dn),Cn=Oe*Math.sin(dn),pa=jn=null}}else Dn=Cn=0;if(mt>Ae&&(nt=Math.min(Math.abs(Ce-Oe)/2,+S.apply(this,arguments)))>.001){ht=Oe<Ce^At?0:1;var va=nt,_a=nt;if(mt<K){var ja=pa==null?[Dn,Cn]:Tn==null?[Gt,pn]:Ba([Gt,pn],[pa,jn],[Tn,yn],[Dn,Cn]),xr=Gt-ja[0],Pr=pn-ja[1],Br=Tn-ja[0],ei=yn-ja[1],oi=1/Math.sin(Math.acos((xr*Br+Pr*ei)/(Math.sqrt(xr*xr+Pr*Pr)*Math.sqrt(Br*Br+ei*ei)))/2),ti=Math.sqrt(ja[0]*ja[0]+ja[1]*ja[1]);_a=Math.min(nt,(Oe-ti)/(oi-1)),va=Math.min(nt,(Ce-ti)/(oi+1))}if(Tn!=null){var ci=Qo(pa==null?[Dn,Cn]:[pa,jn],[Gt,pn],Ce,va,At),Wr=Qo([Tn,yn],[Dn,Cn],Ce,va,At);nt===va?la.push("M",ci[0],"A",va,",",va," 0 0,",ht," ",ci[1],"A",Ce,",",Ce," 0 ",1-At^Jo(ci[1][0],ci[1][1],Wr[1][0],Wr[1][1]),",",At," ",Wr[1],"A",va,",",va," 0 0,",ht," ",Wr[0]):la.push("M",ci[0],"A",va,",",va," 0 1,",ht," ",Wr[0])}else la.push("M",Gt,",",pn);if(pa!=null){var ui=Qo([Gt,pn],[pa,jn],Oe,-_a,At),no=Qo([Dn,Cn],Tn==null?[Gt,pn]:[Tn,yn],Oe,-_a,At);nt===_a?la.push("L",no[0],"A",_a,",",_a," 0 0,",ht," ",no[1],"A",Oe,",",Oe," 0 ",At^Jo(no[1][0],no[1][1],ui[1][0],ui[1][1]),",",1-At," ",ui[1],"A",_a,",",_a," 0 0,",ht," ",ui[0]):la.push("L",no[0],"A",_a,",",_a," 0 0,",ht," ",ui[0])}else la.push("L",Dn,",",Cn)}else la.push("M",Gt,",",pn),Tn!=null&&la.push("A",Ce,",",Ce," 0 ",Na,",",At," ",Tn,",",yn),la.push("L",Dn,",",Cn),pa!=null&&la.push("A",Oe,",",Oe," 0 ",Ua,",",1-At," ",pa,",",jn);return la.push("Z"),la.join("")}function Te(Oe,Ce){return"M0,"+Oe+"A"+Oe+","+Oe+" 0 1,"+Ce+" 0,"+-Oe+"A"+Oe+","+Oe+" 0 1,"+Ce+" 0,"+Oe}return ue.innerRadius=function(Oe){return arguments.length?(a=_t(Oe),ue):a},ue.outerRadius=function(Oe){return arguments.length?(x=_t(Oe),ue):x},ue.cornerRadius=function(Oe){return arguments.length?(S=_t(Oe),ue):S},ue.padRadius=function(Oe){return arguments.length?(z=Oe==Xo?Xo:_t(Oe),ue):z},ue.startAngle=function(Oe){return arguments.length?(Q=_t(Oe),ue):Q},ue.endAngle=function(Oe){return arguments.length?(ne=_t(Oe),ue):ne},ue.padAngle=function(Oe){return arguments.length?(ve=_t(Oe),ue):ve},ue.centroid=function(){var Oe=(+a.apply(this,arguments)+ +x.apply(this,arguments))/2,Ce=(+Q.apply(this,arguments)+ +ne.apply(this,arguments))/2-ge;return[Math.cos(Ce)*Oe,Math.sin(Ce)*Oe]},ue};var Xo="auto";function fh(a){return a.innerRadius}function hh(a){return a.outerRadius}function gc(a){return a.startAngle}function mc(a){return a.endAngle}function ph(a){return a&&a.padAngle}function Jo(a,x,S,z){return(a-S)*x-(x-z)*a>0?0:1}function Qo(a,x,S,z,Q){var ne=a[0]-x[0],ve=a[1]-x[1],ue=(Q?z:-z)/Math.sqrt(ne*ne+ve*ve),Te=ue*ve,Oe=-ue*ne,Ce=a[0]+Te,Ge=a[1]+Oe,et=x[0]+Te,mt=x[1]+Oe,At=(Ce+et)/2,nt=(Ge+mt)/2,ht=et-Ce,vt=mt-Ge,Tt=ht*ht+vt*vt,kt=S-z,gt=Ce*mt-et*Ge,Gt=(vt<0?-1:1)*Math.sqrt(Math.max(0,kt*kt*Tt-gt*gt)),pn=(gt*vt-ht*Gt)/Tt,Tn=(-gt*ht-vt*Gt)/Tt,yn=(gt*vt+ht*Gt)/Tt,Dn=(-gt*ht+vt*Gt)/Tt,Cn=pn-At,pa=Tn-nt,jn=yn-At,la=Dn-nt;return Cn*Cn+pa*pa>jn*jn+la*la&&(pn=yn,Tn=Dn),[[pn-Te,Tn-Oe],[pn*S/kt,Tn*S/kt]]}function yc(){return!0}function xc(a){var x=br,S=mr,z=yc,Q=_i,ne=Q.key,ve=.7;function ue(Te){var Oe=[],Ce=[],Ge=-1,et=Te.length,mt,At=_t(x),nt=_t(S);function ht(){Oe.push("M",Q(a(Ce),ve))}for(;++Ge<et;)z.call(this,mt=Te[Ge],Ge)?Ce.push([+At.call(this,mt,Ge),+nt.call(this,mt,Ge)]):Ce.length&&(ht(),Ce=[]);return Ce.length&&ht(),Oe.length?Oe.join(""):null}return ue.x=function(Te){return arguments.length?(x=Te,ue):x},ue.y=function(Te){return arguments.length?(S=Te,ue):S},ue.defined=function(Te){return arguments.length?(z=Te,ue):z},ue.interpolate=function(Te){return arguments.length?(typeof Te=="function"?ne=Q=Te:ne=(Q=is.get(Te)||_i).key,ue):ne},ue.tension=function(Te){return arguments.length?(ve=Te,ue):ve},ue}i.svg.line=function(){return xc(U)};var is=i.map({linear:_i,"linear-closed":bc,step:vh,"step-before":os,"step-after":ls,basis:_c,"basis-open":xh,"basis-closed":bh,bundle:_h,cardinal:yh,"cardinal-open":gh,"cardinal-closed":mh,monotone:Mh});is.forEach(function(a,x){x.key=a,x.closed=/-closed$/.test(a)});function _i(a){return a.length>1?a.join("L"):a+"Z"}function bc(a){return a.join("L")+"Z"}function vh(a){for(var x=0,S=a.length,z=a[0],Q=[z[0],",",z[1]];++x<S;)Q.push("H",(z[0]+(z=a[x])[0])/2,"V",z[1]);return S>1&&Q.push("H",z[0]),Q.join("")}function os(a){for(var x=0,S=a.length,z=a[0],Q=[z[0],",",z[1]];++x<S;)Q.push("V",(z=a[x])[1],"H",z[0]);return Q.join("")}function ls(a){for(var x=0,S=a.length,z=a[0],Q=[z[0],",",z[1]];++x<S;)Q.push("H",(z=a[x])[0],"V",z[1]);return Q.join("")}function gh(a,x){return a.length<4?_i(a):a[1]+Ko(a.slice(1,-1),ss(a,x))}function mh(a,x){return a.length<3?bc(a):a[0]+Ko((a.push(a[0]),a),ss([a[a.length-2]].concat(a,[a[1]]),x))}function yh(a,x){return a.length<3?_i(a):a[0]+Ko(a,ss(a,x))}function Ko(a,x){if(x.length<1||a.length!=x.length&&a.length!=x.length+2)return _i(a);var S=a.length!=x.length,z="",Q=a[0],ne=a[1],ve=x[0],ue=ve,Te=1;if(S&&(z+="Q"+(ne[0]-ve[0]*2/3)+","+(ne[1]-ve[1]*2/3)+","+ne[0]+","+ne[1],Q=a[1],Te=2),x.length>1){ue=x[1],ne=a[Te],Te++,z+="C"+(Q[0]+ve[0])+","+(Q[1]+ve[1])+","+(ne[0]-ue[0])+","+(ne[1]-ue[1])+","+ne[0]+","+ne[1];for(var Oe=2;Oe<x.length;Oe++,Te++)ne=a[Te],ue=x[Oe],z+="S"+(ne[0]-ue[0])+","+(ne[1]-ue[1])+","+ne[0]+","+ne[1]}if(S){var Ce=a[Te];z+="Q"+(ne[0]+ue[0]*2/3)+","+(ne[1]+ue[1]*2/3)+","+Ce[0]+","+Ce[1]}return z}function ss(a,x){for(var S=[],z=(1-x)/2,Q,ne=a[0],ve=a[1],ue=1,Te=a.length;++ue<Te;)Q=ne,ne=ve,ve=a[ue],S.push([z*(ve[0]-Q[0]),z*(ve[1]-Q[1])]);return S}function _c(a){if(a.length<3)return _i(a);var x=1,S=a.length,z=a[0],Q=z[0],ne=z[1],ve=[Q,Q,Q,(z=a[1])[0]],ue=[ne,ne,ne,z[1]],Te=[Q,",",ne,"L",hi(zi,ve),",",hi(zi,ue)];for(a.push(a[S-1]);++x<=S;)z=a[x],ve.shift(),ve.push(z[0]),ue.shift(),ue.push(z[1]),cs(Te,ve,ue);return a.pop(),Te.push("L",z),Te.join("")}function xh(a){if(a.length<4)return _i(a);for(var x=[],S=-1,z=a.length,Q,ne=[0],ve=[0];++S<3;)Q=a[S],ne.push(Q[0]),ve.push(Q[1]);for(x.push(hi(zi,ne)+","+hi(zi,ve)),--S;++S<z;)Q=a[S],ne.shift(),ne.push(Q[0]),ve.shift(),ve.push(Q[1]),cs(x,ne,ve);return x.join("")}function bh(a){for(var x,S=-1,z=a.length,Q=z+4,ne,ve=[],ue=[];++S<4;)ne=a[S%z],ve.push(ne[0]),ue.push(ne[1]);for(x=[hi(zi,ve),",",hi(zi,ue)],--S;++S<Q;)ne=a[S%z],ve.shift(),ve.push(ne[0]),ue.shift(),ue.push(ne[1]),cs(x,ve,ue);return x.join("")}function _h(a,x){var S=a.length-1;if(S)for(var z=a[0][0],Q=a[0][1],ne=a[S][0]-z,ve=a[S][1]-Q,ue=-1,Te,Oe;++ue<=S;)Te=a[ue],Oe=ue/S,Te[0]=x*Te[0]+(1-x)*(z+Oe*ne),Te[1]=x*Te[1]+(1-x)*(Q+Oe*ve);return _c(a)}function hi(a,x){return a[0]*x[0]+a[1]*x[1]+a[2]*x[2]+a[3]*x[3]}var wc=[0,2/3,1/3,0],Tc=[0,1/3,2/3,0],zi=[0,1/6,2/3,1/6];function cs(a,x,S){a.push("C",hi(wc,x),",",hi(wc,S),",",hi(Tc,x),",",hi(Tc,S),",",hi(zi,x),",",hi(zi,S))}function us(a,x){return(x[1]-a[1])/(x[0]-a[0])}function wh(a){for(var x=0,S=a.length-1,z=[],Q=a[0],ne=a[1],ve=z[0]=us(Q,ne);++x<S;)z[x]=(ve+(ve=us(Q=ne,ne=a[x+1])))/2;return z[x]=ve,z}function Th(a){for(var x=[],S,z,Q,ne,ve=wh(a),ue=-1,Te=a.length-1;++ue<Te;)S=us(a[ue],a[ue+1]),u(S)<Ae?ve[ue]=ve[ue+1]=0:(z=ve[ue]/S,Q=ve[ue+1]/S,ne=z*z+Q*Q,ne>9&&(ne=S*3/Math.sqrt(ne),ve[ue]=ne*z,ve[ue+1]=ne*Q));for(ue=-1;++ue<=Te;)ne=(a[Math.min(Te,ue+1)][0]-a[Math.max(0,ue-1)][0])/(6*(1+ve[ue]*ve[ue])),x.push([ne||0,ve[ue]*ne||0]);return x}function Mh(a){return a.length<3?_i(a):a[0]+Ko(a,Th(a))}i.svg.line.radial=function(){var a=xc(Mc);return a.radius=a.x,delete a.x,a.angle=a.y,delete a.y,a};function Mc(a){for(var x,S=-1,z=a.length,Q,ne;++S<z;)x=a[S],Q=x[0],ne=x[1]-ge,x[0]=Q*Math.cos(ne),x[1]=Q*Math.sin(ne);return a}function kc(a){var x=br,S=br,z=0,Q=mr,ne=yc,ve=_i,ue=ve.key,Te=ve,Oe="L",Ce=.7;function Ge(et){var mt=[],At=[],nt=[],ht=-1,vt=et.length,Tt,kt=_t(x),gt=_t(z),Gt=x===S?function(){return Tn}:_t(S),pn=z===Q?function(){return yn}:_t(Q),Tn,yn;function Dn(){mt.push("M",ve(a(nt),Ce),Oe,Te(a(At.reverse()),Ce),"Z")}for(;++ht<vt;)ne.call(this,Tt=et[ht],ht)?(At.push([Tn=+kt.call(this,Tt,ht),yn=+gt.call(this,Tt,ht)]),nt.push([+Gt.call(this,Tt,ht),+pn.call(this,Tt,ht)])):At.length&&(Dn(),At=[],nt=[]);return At.length&&Dn(),mt.length?mt.join(""):null}return Ge.x=function(et){return arguments.length?(x=S=et,Ge):S},Ge.x0=function(et){return arguments.length?(x=et,Ge):x},Ge.x1=function(et){return arguments.length?(S=et,Ge):S},Ge.y=function(et){return arguments.length?(z=Q=et,Ge):Q},Ge.y0=function(et){return arguments.length?(z=et,Ge):z},Ge.y1=function(et){return arguments.length?(Q=et,Ge):Q},Ge.defined=function(et){return arguments.length?(ne=et,Ge):ne},Ge.interpolate=function(et){return arguments.length?(typeof et=="function"?ue=ve=et:ue=(ve=is.get(et)||_i).key,Te=ve.reverse||ve,Oe=ve.closed?"M":"L",Ge):ue},Ge.tension=function(et){return arguments.length?(Ce=et,Ge):Ce},Ge}os.reverse=ls,ls.reverse=os,i.svg.area=function(){return kc(U)},i.svg.area.radial=function(){var a=kc(Mc);return a.radius=a.x,delete a.x,a.innerRadius=a.x0,delete a.x0,a.outerRadius=a.x1,delete a.x1,a.angle=a.y,delete a.y,a.startAngle=a.y0,delete a.y0,a.endAngle=a.y1,delete a.y1,a};function Ac(a){return a.source}function Sc(a){return a.target}i.svg.chord=function(){var a=Ac,x=Sc,S=kh,z=gc,Q=mc;function ne(Ce,Ge){var et=ve(this,a,Ce,Ge),mt=ve(this,x,Ce,Ge);return"M"+et.p0+Te(et.r,et.p1,et.a1-et.a0)+(ue(et,mt)?Oe(et.r,et.p1,et.r,et.p0):Oe(et.r,et.p1,mt.r,mt.p0)+Te(mt.r,mt.p1,mt.a1-mt.a0)+Oe(mt.r,mt.p1,et.r,et.p0))+"Z"}function ve(Ce,Ge,et,mt){var At=Ge.call(Ce,et,mt),nt=S.call(Ce,At,mt),ht=z.call(Ce,At,mt)-ge,vt=Q.call(Ce,At,mt)-ge;return{r:nt,a0:ht,a1:vt,p0:[nt*Math.cos(ht),nt*Math.sin(ht)],p1:[nt*Math.cos(vt),nt*Math.sin(vt)]}}function ue(Ce,Ge){return Ce.a0==Ge.a0&&Ce.a1==Ge.a1}function Te(Ce,Ge,et){return"A"+Ce+","+Ce+" 0 "+ +(et>K)+",1 "+Ge}function Oe(Ce,Ge,et,mt){return"Q 0,0 "+mt}return ne.radius=function(Ce){return arguments.length?(S=_t(Ce),ne):S},ne.source=function(Ce){return arguments.length?(a=_t(Ce),ne):a},ne.target=function(Ce){return arguments.length?(x=_t(Ce),ne):x},ne.startAngle=function(Ce){return arguments.length?(z=_t(Ce),ne):z},ne.endAngle=function(Ce){return arguments.length?(Q=_t(Ce),ne):Q},ne};function kh(a){return a.radius}i.svg.diagonal=function(){var a=Ac,x=Sc,S=Lc;function z(Q,ne){var ve=a.call(this,Q,ne),ue=x.call(this,Q,ne),Te=(ve.y+ue.y)/2,Oe=[ve,{x:ve.x,y:Te},{x:ue.x,y:Te},ue];return Oe=Oe.map(S),"M"+Oe[0]+"C"+Oe[1]+" "+Oe[2]+" "+Oe[3]}return z.source=function(Q){return arguments.length?(a=_t(Q),z):a},z.target=function(Q){return arguments.length?(x=_t(Q),z):x},z.projection=function(Q){return arguments.length?(S=Q,z):S},z};function Lc(a){return[a.x,a.y]}i.svg.diagonal.radial=function(){var a=i.svg.diagonal(),x=Lc,S=a.projection;return a.projection=function(z){return arguments.length?S(Ah(x=z)):x},a};function Ah(a){return function(){var x=a.apply(this,arguments),S=x[0],z=x[1]-ge;return[S*Math.cos(z),S*Math.sin(z)]}}i.svg.symbol=function(){var a=Lh,x=Sh;function S(z,Q){return(Dc.get(a.call(this,z,Q))||Oc)(x.call(this,z,Q))}return S.type=function(z){return arguments.length?(a=_t(z),S):a},S.size=function(z){return arguments.length?(x=_t(z),S):x},S};function Sh(){return 64}function Lh(){return"circle"}function Oc(a){var x=Math.sqrt(a/K);return"M0,"+x+"A"+x+","+x+" 0 1,1 0,"+-x+"A"+x+","+x+" 0 1,1 0,"+x+"Z"}var Dc=i.map({circle:Oc,cross:function(a){var x=Math.sqrt(a/5)/2;return"M"+-3*x+","+-x+"H"+-x+"V"+-3*x+"H"+x+"V"+-x+"H"+3*x+"V"+x+"H"+x+"V"+3*x+"H"+-x+"V"+x+"H"+-3*x+"Z"},diamond:function(a){var x=Math.sqrt(a/(2*Cc)),S=x*Cc;return"M0,"+-x+"L"+S+",0 0,"+x+" "+-S+",0Z"},square:function(a){var x=Math.sqrt(a)/2;return"M"+-x+","+-x+"L"+x+","+-x+" "+x+","+x+" "+-x+","+x+"Z"},"triangle-down":function(a){var x=Math.sqrt(a/el),S=x*el/2;return"M0,"+S+"L"+x+","+-S+" "+-x+","+-S+"Z"},"triangle-up":function(a){var x=Math.sqrt(a/el),S=x*el/2;return"M0,"+-S+"L"+x+","+S+" "+-x+","+S+"Z"}});i.svg.symbolTypes=Dc.keys();var el=Math.sqrt(3),Cc=Math.tan(30*Ee);j.transition=function(a){for(var x=to||++Ec,S=fs(a),z=[],Q,ne,ve=nl||{time:Date.now(),ease:l1,delay:0,duration:250},ue=-1,Te=this.length;++ue<Te;){z.push(Q=[]);for(var Oe=this[ue],Ce=-1,Ge=Oe.length;++Ce<Ge;)(ne=Oe[Ce])&&al(ne,Ce,S,x,ve),Q.push(ne)}return So(z,S,x)},j.interrupt=function(a){return this.each(a==null?tl:Pc(fs(a)))};var tl=Pc(fs());function Pc(a){return function(){var x,S,z;(x=this[a])&&(z=x[S=x.active])&&(z.timer.c=null,z.timer.t=NaN,--x.count?delete x[S]:delete this[a],x.active+=.5,z.event&&z.event.interrupt.call(this,this.__data__,z.index))}}function So(a,x,S){return H(a,Cr),a.namespace=x,a.id=S,a}var Cr=[],Ec=0,to,nl;Cr.call=j.call,Cr.empty=j.empty,Cr.node=j.node,Cr.size=j.size,i.transition=function(a,x){return a&&a.transition?to?a.transition(x):a:i.selection().transition(a)},i.transition.prototype=Cr,Cr.select=function(a){var x=this.id,S=this.namespace,z=[],Q,ne,ve;a=T(a);for(var ue=-1,Te=this.length;++ue<Te;){z.push(Q=[]);for(var Oe=this[ue],Ce=-1,Ge=Oe.length;++Ce<Ge;)(ve=Oe[Ce])&&(ne=a.call(ve,ve.__data__,Ce,ue))?("__data__"in ve&&(ne.__data__=ve.__data__),al(ne,Ce,S,x,ve[S][x]),Q.push(ne)):Q.push(null)}return So(z,S,x)},Cr.selectAll=function(a){var x=this.id,S=this.namespace,z=[],Q,ne,ve,ue,Te;a=L(a);for(var Oe=-1,Ce=this.length;++Oe<Ce;)for(var Ge=this[Oe],et=-1,mt=Ge.length;++et<mt;)if(ve=Ge[et]){Te=ve[S][x],ne=a.call(ve,ve.__data__,et,Oe),z.push(Q=[]);for(var At=-1,nt=ne.length;++At<nt;)(ue=ne[At])&&al(ue,At,S,x,Te),Q.push(ue)}return So(z,S,x)},Cr.filter=function(a){var x=[],S,z,Q;typeof a!="function"&&(a=oe(a));for(var ne=0,ve=this.length;ne<ve;ne++){x.push(S=[]);for(var z=this[ne],ue=0,Te=z.length;ue<Te;ue++)(Q=z[ue])&&a.call(Q,Q.__data__,ue,ne)&&S.push(Q)}return So(x,this.namespace,this.id)},Cr.tween=function(a,x){var S=this.id,z=this.namespace;return arguments.length<2?this.node()[z][S].tween.get(a):Re(this,x==null?function(Q){Q[z][S].tween.remove(a)}:function(Q){Q[z][S].tween.set(a,x)})};function ds(a,x,S,z){var Q=a.id,ne=a.namespace;return Re(a,typeof S=="function"?function(ve,ue,Te){ve[ne][Q].tween.set(x,z(S.call(ve,ve.__data__,ue,Te)))}:(S=z(S),function(ve){ve[ne][Q].tween.set(x,S)}))}Cr.attr=function(a,x){if(arguments.length<2){for(x in a)this.attr(x,a[x]);return this}var S=a=="transform"?U0:eo,z=i.ns.qualify(a);function Q(){this.removeAttribute(z)}function ne(){this.removeAttributeNS(z.space,z.local)}function ve(Te){return Te==null?Q:(Te+="",function(){var Oe=this.getAttribute(z),Ce;return Oe!==Te&&(Ce=S(Oe,Te),function(Ge){this.setAttribute(z,Ce(Ge))})})}function ue(Te){return Te==null?ne:(Te+="",function(){var Oe=this.getAttributeNS(z.space,z.local),Ce;return Oe!==Te&&(Ce=S(Oe,Te),function(Ge){this.setAttributeNS(z.space,z.local,Ce(Ge))})})}return ds(this,"attr."+a,x,z.local?ue:ve)},Cr.attrTween=function(a,x){var S=i.ns.qualify(a);function z(ne,ve){var ue=x.call(this,ne,ve,this.getAttribute(S));return ue&&function(Te){this.setAttribute(S,ue(Te))}}function Q(ne,ve){var ue=x.call(this,ne,ve,this.getAttributeNS(S.space,S.local));return ue&&function(Te){this.setAttributeNS(S.space,S.local,ue(Te))}}return this.tween("attr."+a,S.local?Q:z)},Cr.style=function(a,x,S){var z=arguments.length;if(z<3){if(typeof a!="string"){z<2&&(x="");for(S in a)this.style(S,a[S],x);return this}S=""}function Q(){this.style.removeProperty(a)}function ne(ve){return ve==null?Q:(ve+="",function(){var ue=o(this).getComputedStyle(this,null).getPropertyValue(a),Te;return ue!==ve&&(Te=eo(ue,ve),function(Oe){this.style.setProperty(a,Te(Oe),S)})})}return ds(this,"style."+a,x,ne)},Cr.styleTween=function(a,x,S){arguments.length<3&&(S="");function z(Q,ne){var ve=x.call(this,Q,ne,o(this).getComputedStyle(this,null).getPropertyValue(a));return ve&&function(ue){this.style.setProperty(a,ve(ue),S)}}return this.tween("style."+a,z)},Cr.text=function(a){return ds(this,"text",a,Oh)};function Oh(a){return a==null&&(a=""),function(){this.textContent=a}}Cr.remove=function(){var a=this.namespace;return this.each("end.transition",function(){var x;this[a].count<2&&(x=this.parentNode)&&x.removeChild(this)})},Cr.ease=function(a){var x=this.id,S=this.namespace;return arguments.length<1?this.node()[S][x].ease:(typeof a!="function"&&(a=i.ease.apply(i,arguments)),Re(this,function(z){z[S][x].ease=a}))},Cr.delay=function(a){var x=this.id,S=this.namespace;return arguments.length<1?this.node()[S][x].delay:Re(this,typeof a=="function"?function(z,Q,ne){z[S][x].delay=+a.call(z,z.__data__,Q,ne)}:(a=+a,function(z){z[S][x].delay=a}))},Cr.duration=function(a){var x=this.id,S=this.namespace;return arguments.length<1?this.node()[S][x].duration:Re(this,typeof a=="function"?function(z,Q,ne){z[S][x].duration=Math.max(1,a.call(z,z.__data__,Q,ne))}:(a=Math.max(1,a),function(z){z[S][x].duration=a}))},Cr.each=function(a,x){var S=this.id,z=this.namespace;if(arguments.length<2){var Q=nl,ne=to;try{to=S,Re(this,function(ve,ue,Te){nl=ve[z][S],a.call(ve,ve.__data__,ue,Te)})}finally{nl=Q,to=ne}}else Re(this,function(ve){var ue=ve[z][S];(ue.event||(ue.event=i.dispatch("start","end","interrupt"))).on(a,x)});return this},Cr.transition=function(){for(var a=this.id,x=++Ec,S=this.namespace,z=[],Q,ne,ve,ue,Te=0,Oe=this.length;Te<Oe;Te++){z.push(Q=[]);for(var ne=this[Te],Ce=0,Ge=ne.length;Ce<Ge;Ce++)(ve=ne[Ce])&&(ue=ve[S][a],al(ve,Ce,S,x,{time:ue.time,ease:ue.ease,delay:ue.delay+ue.duration,duration:ue.duration})),Q.push(ve)}return So(z,S,x)};function fs(a){return a==null?"__transition__":"__transition_"+a+"__"}function al(a,x,S,z,Q){var ne=a[S]||(a[S]={active:0,count:0}),ve=ne[z],ue,Te,Oe,Ce,Ge;function et(nt){var ht=ve.delay;if(Te.t=ht+ue,ht<=nt)return mt(nt-ht);Te.c=mt}function mt(nt){var ht=ne.active,vt=ne[ht];vt&&(vt.timer.c=null,vt.timer.t=NaN,--ne.count,delete ne[ht],vt.event&&vt.event.interrupt.call(a,a.__data__,vt.index));for(var Tt in ne)if(+Tt<z){var kt=ne[Tt];kt.timer.c=null,kt.timer.t=NaN,--ne.count,delete ne[Tt]}Te.c=At,na(function(){return Te.c&&At(nt||1)&&(Te.c=null,Te.t=NaN),1},0,ue),ne.active=z,ve.event&&ve.event.start.call(a,a.__data__,x),Ge=[],ve.tween.forEach(function(gt,Gt){(Gt=Gt.call(a,a.__data__,x))&&Ge.push(Gt)}),Ce=ve.ease,Oe=ve.duration}function At(nt){for(var ht=nt/Oe,vt=Ce(ht),Tt=Ge.length;Tt>0;)Ge[--Tt].call(a,vt);if(ht>=1)return ve.event&&ve.event.end.call(a,a.__data__,x),--ne.count?delete ne[z]:delete a[S],1}ve||(ue=Q.time,Te=na(et,0,ue),ve=ne[z]={tween:new w,time:ue,timer:Te,delay:Q.delay,duration:Q.duration,ease:Q.ease,index:x},Q=null,++ne.count)}i.svg.axis=function(){var a=i.scale.linear(),x=Fc,S=6,z=6,Q=3,ne=[10],ve=null,ue;function Te(Oe){Oe.each(function(){var Ce=i.select(this),Ge=this.__chart__||a,et=this.__chart__=a.copy(),mt=ve??(et.ticks?et.ticks.apply(et,ne):et.domain()),At=ue??(et.tickFormat?et.tickFormat.apply(et,ne):U),nt=Ce.selectAll(".tick").data(mt,et),ht=nt.enter().insert("g",".domain").attr("class","tick").style("opacity",Ae),vt=i.transition(nt.exit()).style("opacity",Ae).remove(),Tt=i.transition(nt.order()).style("opacity",1),kt=Math.max(S,0)+Q,gt,Gt=Zo(et),pn=Ce.selectAll(".domain").data([0]),Tn=(pn.enter().append("path").attr("class","domain"),i.transition(pn));ht.append("line"),ht.append("text");var yn=ht.select("line"),Dn=Tt.select("line"),Cn=nt.select("text").text(At),pa=ht.select("text"),jn=Tt.select("text"),la=x==="top"||x==="left"?-1:1,Na,Mr,Ua,dn;if(x==="bottom"||x==="top"?(gt=Ch,Na="x",Ua="y",Mr="x2",dn="y2",Cn.attr("dy",la<0?"0em":".71em").style("text-anchor","middle"),Tn.attr("d","M"+Gt[0]+","+la*z+"V0H"+Gt[1]+"V"+la*z)):(gt=Ph,Na="y",Ua="x",Mr="y2",dn="x2",Cn.attr("dy",".32em").style("text-anchor",la<0?"end":"start"),Tn.attr("d","M"+la*z+","+Gt[0]+"H0V"+Gt[1]+"H"+la*z)),yn.attr(dn,la*S),pa.attr(Ua,la*kt),Dn.attr(Mr,0).attr(dn,la*S),jn.attr(Na,0).attr(Ua,la*kt),et.rangeBand){var va=et,_a=va.rangeBand()/2;Ge=et=function(ja){return va(ja)+_a}}else Ge.rangeBand?Ge=et:vt.call(gt,et,Ge);ht.call(gt,Ge,et),Tt.call(gt,et,et)})}return Te.scale=function(Oe){return arguments.length?(a=Oe,Te):a},Te.orient=function(Oe){return arguments.length?(x=Oe in Dh?Oe+"":Fc,Te):x},Te.ticks=function(){return arguments.length?(ne=n(arguments),Te):ne},Te.tickValues=function(Oe){return arguments.length?(ve=Oe,Te):ve},Te.tickFormat=function(Oe){return arguments.length?(ue=Oe,Te):ue},Te.tickSize=function(Oe){var Ce=arguments.length;return Ce?(S=+Oe,z=+arguments[Ce-1],Te):S},Te.innerTickSize=function(Oe){return arguments.length?(S=+Oe,Te):S},Te.outerTickSize=function(Oe){return arguments.length?(z=+Oe,Te):z},Te.tickPadding=function(Oe){return arguments.length?(Q=+Oe,Te):Q},Te.tickSubdivide=function(){return arguments.length&&Te},Te};var Fc="bottom",Dh={top:1,right:1,bottom:1,left:1};function Ch(a,x,S){a.attr("transform",function(z){var Q=x(z);return"translate("+(isFinite(Q)?Q:S(z))+",0)"})}function Ph(a,x,S){a.attr("transform",function(z){var Q=x(z);return"translate(0,"+(isFinite(Q)?Q:S(z))+")"})}i.svg.brush=function(){var a=he(Ce,"brushstart","brush","brushend"),x=null,S=null,z=[0,0],Q=[0,0],ne,ve,ue=!0,Te=!0,Oe=hs[0];function Ce(nt){nt.each(function(){var ht=i.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",At).on("touchstart.brush",At),vt=ht.selectAll(".background").data([0]);vt.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),ht.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var Tt=ht.selectAll(".resize").data(Oe,U);Tt.exit().remove(),Tt.enter().append("g").attr("class",function(pn){return"resize "+pn}).style("cursor",function(pn){return Eh[pn]}).append("rect").attr("x",function(pn){return/[ew]$/.test(pn)?-3:null}).attr("y",function(pn){return/^[ns]/.test(pn)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),Tt.style("display",Ce.empty()?"none":null);var kt=i.transition(ht),gt=i.transition(vt),Gt;x&&(Gt=Zo(x),gt.attr("x",Gt[0]).attr("width",Gt[1]-Gt[0]),et(kt)),S&&(Gt=Zo(S),gt.attr("y",Gt[0]).attr("height",Gt[1]-Gt[0]),mt(kt)),Ge(kt)})}Ce.event=function(nt){nt.each(function(){var ht=a.of(this,arguments),vt={x:z,y:Q,i:ne,j:ve},Tt=this.__chart__||vt;this.__chart__=vt,to?i.select(this).transition().each("start.brush",function(){ne=Tt.i,ve=Tt.j,z=Tt.x,Q=Tt.y,ht({type:"brushstart"})}).tween("brush:brush",function(){var kt=Go(z,vt.x),gt=Go(Q,vt.y);return ne=ve=null,function(Gt){z=vt.x=kt(Gt),Q=vt.y=gt(Gt),ht({type:"brush",mode:"resize"})}}).each("end.brush",function(){ne=vt.i,ve=vt.j,ht({type:"brush",mode:"resize"}),ht({type:"brushend"})}):(ht({type:"brushstart"}),ht({type:"brush",mode:"resize"}),ht({type:"brushend"}))})};function Ge(nt){nt.selectAll(".resize").attr("transform",function(ht){return"translate("+z[+/e$/.test(ht)]+","+Q[+/^s/.test(ht)]+")"})}function et(nt){nt.select(".extent").attr("x",z[0]),nt.selectAll(".extent,.n>rect,.s>rect").attr("width",z[1]-z[0])}function mt(nt){nt.select(".extent").attr("y",Q[0]),nt.selectAll(".extent,.e>rect,.w>rect").attr("height",Q[1]-Q[0])}function At(){var nt=this,ht=i.select(i.event.target),vt=a.of(nt,arguments),Tt=i.select(nt),kt=ht.datum(),gt=!/^(n|s)$/.test(kt)&&x,Gt=!/^(e|w)$/.test(kt)&&S,pn=ht.classed("extent"),Tn=Dt(nt),yn,Dn=i.mouse(nt),Cn,pa=i.select(o(nt)).on("keydown.brush",Na).on("keyup.brush",Mr);if(i.event.changedTouches?pa.on("touchmove.brush",Ua).on("touchend.brush",va):pa.on("mousemove.brush",Ua).on("mouseup.brush",va),Tt.interrupt().selectAll("*").interrupt(),pn)Dn[0]=z[0]-Dn[0],Dn[1]=Q[0]-Dn[1];else if(kt){var jn=+/w$/.test(kt),la=+/^n/.test(kt);Cn=[z[1-jn]-Dn[0],Q[1-la]-Dn[1]],Dn[0]=z[jn],Dn[1]=Q[la]}else i.event.altKey&&(yn=Dn.slice());Tt.style("pointer-events","none").selectAll(".resize").style("display",null),i.select("body").style("cursor",ht.style("cursor")),vt({type:"brushstart"}),Ua();function Na(){i.event.keyCode==32&&(pn||(yn=null,Dn[0]-=z[1],Dn[1]-=Q[1],pn=2),ie())}function Mr(){i.event.keyCode==32&&pn==2&&(Dn[0]+=z[1],Dn[1]+=Q[1],pn=0,ie())}function Ua(){var _a=i.mouse(nt),ja=!1;Cn&&(_a[0]+=Cn[0],_a[1]+=Cn[1]),pn||(i.event.altKey?(yn||(yn=[(z[0]+z[1])/2,(Q[0]+Q[1])/2]),Dn[0]=z[+(_a[0]<yn[0])],Dn[1]=Q[+(_a[1]<yn[1])]):yn=null),gt&&dn(_a,x,0)&&(et(Tt),ja=!0),Gt&&dn(_a,S,1)&&(mt(Tt),ja=!0),ja&&(Ge(Tt),vt({type:"brush",mode:pn?"move":"resize"}))}function dn(_a,ja,xr){var Pr=Zo(ja),Br=Pr[0],ei=Pr[1],oi=Dn[xr],ti=xr?Q:z,ci=ti[1]-ti[0],Wr,ui;if(pn&&(Br-=oi,ei-=ci+oi),Wr=(xr?Te:ue)?Math.max(Br,Math.min(ei,_a[xr])):_a[xr],pn?ui=(Wr+=oi)+ci:(yn&&(oi=Math.max(Br,Math.min(ei,2*yn[xr]-Wr))),oi<Wr?(ui=Wr,Wr=oi):ui=oi),ti[0]!=Wr||ti[1]!=ui)return xr?ve=null:ne=null,ti[0]=Wr,ti[1]=ui,!0}function va(){Ua(),Tt.style("pointer-events","all").selectAll(".resize").style("display",Ce.empty()?"none":null),i.select("body").style("cursor",null),pa.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),Tn(),vt({type:"brushend"})}}return Ce.x=function(nt){return arguments.length?(x=nt,Oe=hs[!x<<1|!S],Ce):x},Ce.y=function(nt){return arguments.length?(S=nt,Oe=hs[!x<<1|!S],Ce):S},Ce.clamp=function(nt){return arguments.length?(x&&S?(ue=!!nt[0],Te=!!nt[1]):x?ue=!!nt:S&&(Te=!!nt),Ce):x&&S?[ue,Te]:x?ue:S?Te:null},Ce.extent=function(nt){var ht,vt,Tt,kt,gt;return arguments.length?(x&&(ht=nt[0],vt=nt[1],S&&(ht=ht[0],vt=vt[0]),ne=[ht,vt],x.invert&&(ht=x(ht),vt=x(vt)),vt<ht&&(gt=ht,ht=vt,vt=gt),(ht!=z[0]||vt!=z[1])&&(z=[ht,vt])),S&&(Tt=nt[0],kt=nt[1],x&&(Tt=Tt[1],kt=kt[1]),ve=[Tt,kt],S.invert&&(Tt=S(Tt),kt=S(kt)),kt<Tt&&(gt=Tt,Tt=kt,kt=gt),(Tt!=Q[0]||kt!=Q[1])&&(Q=[Tt,kt])),Ce):(x&&(ne?(ht=ne[0],vt=ne[1]):(ht=z[0],vt=z[1],x.invert&&(ht=x.invert(ht),vt=x.invert(vt)),vt<ht&&(gt=ht,ht=vt,vt=gt))),S&&(ve?(Tt=ve[0],kt=ve[1]):(Tt=Q[0],kt=Q[1],S.invert&&(Tt=S.invert(Tt),kt=S.invert(kt)),kt<Tt&&(gt=Tt,Tt=kt,kt=gt))),x&&S?[[ht,Tt],[vt,kt]]:x?[ht,vt]:S&&[Tt,kt])},Ce.clear=function(){return Ce.empty()||(z=[0,0],Q=[0,0],ne=ve=null),Ce},Ce.empty=function(){return!!x&&z[0]==z[1]||!!S&&Q[0]==Q[1]},i.rebind(Ce,a,"on")};var Eh={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},hs=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];i.text=Ct(function(a){return a.responseText}),i.json=function(a,x){return Mt(a,"application/json",Fh,x)};function Fh(a){return JSON.parse(a.responseText)}i.html=function(a,x){return Mt(a,"text/html",Ih,x)};function Ih(a){var x=r.createRange();return x.selectNode(r.body),x.createContextualFragment(a.responseText)}i.xml=Ct(function(a){return a.responseXML}),typeof C=="object"&&C.exports?C.exports=i:this.d3=i}).apply(self)}),ga=ye((F,C)=>{(function(i,e){typeof F=="object"&&typeof C<"u"?e(F):(i=i||self,e(i.d3=i.d3||{}))})(F,function(i){var e=new Date,n=new Date;function r(oe,Le,Re,Ye){function ot(Xe){return oe(Xe=arguments.length===0?new Date:new Date(+Xe)),Xe}return ot.floor=function(Xe){return oe(Xe=new Date(+Xe)),Xe},ot.ceil=function(Xe){return oe(Xe=new Date(Xe-1)),Le(Xe,1),oe(Xe),Xe},ot.round=function(Xe){var lt=ot(Xe),ut=ot.ceil(Xe);return Xe-lt<ut-Xe?lt:ut},ot.offset=function(Xe,lt){return Le(Xe=new Date(+Xe),lt==null?1:Math.floor(lt)),Xe},ot.range=function(Xe,lt,ut){var dt=[],xt;if(Xe=ot.ceil(Xe),ut=ut==null?1:Math.floor(ut),!(Xe<lt)||!(ut>0))return dt;do dt.push(xt=new Date(+Xe)),Le(Xe,ut),oe(Xe);while(xt<Xe&&Xe<lt);return dt},ot.filter=function(Xe){return r(function(lt){if(lt>=lt)for(;oe(lt),!Xe(lt);)lt.setTime(lt-1)},function(lt,ut){if(lt>=lt)if(ut<0)for(;++ut<=0;)for(;Le(lt,-1),!Xe(lt););else for(;--ut>=0;)for(;Le(lt,1),!Xe(lt););})},Re&&(ot.count=function(Xe,lt){return e.setTime(+Xe),n.setTime(+lt),oe(e),oe(n),Math.floor(Re(e,n))},ot.every=function(Xe){return Xe=Math.floor(Xe),!isFinite(Xe)||!(Xe>0)?null:Xe>1?ot.filter(Ye?function(lt){return Ye(lt)%Xe===0}:function(lt){return ot.count(0,lt)%Xe===0}):ot}),ot}var l=r(function(){},function(oe,Le){oe.setTime(+oe+Le)},function(oe,Le){return Le-oe});l.every=function(oe){return oe=Math.floor(oe),!isFinite(oe)||!(oe>0)?null:oe>1?r(function(Le){Le.setTime(Math.floor(Le/oe)*oe)},function(Le,Re){Le.setTime(+Le+Re*oe)},function(Le,Re){return(Re-Le)/oe}):l};var o=l.range,s=1e3,d=6e4,t=36e5,p=864e5,c=6048e5,h=r(function(oe){oe.setTime(oe-oe.getMilliseconds())},function(oe,Le){oe.setTime(+oe+Le*s)},function(oe,Le){return(Le-oe)/s},function(oe){return oe.getUTCSeconds()}),b=h.range,y=r(function(oe){oe.setTime(oe-oe.getMilliseconds()-oe.getSeconds()*s)},function(oe,Le){oe.setTime(+oe+Le*d)},function(oe,Le){return(Le-oe)/d},function(oe){return oe.getMinutes()}),g=y.range,m=r(function(oe){oe.setTime(oe-oe.getMilliseconds()-oe.getSeconds()*s-oe.getMinutes()*d)},function(oe,Le){oe.setTime(+oe+Le*t)},function(oe,Le){return(Le-oe)/t},function(oe){return oe.getHours()}),v=m.range,u=r(function(oe){oe.setHours(0,0,0,0)},function(oe,Le){oe.setDate(oe.getDate()+Le)},function(oe,Le){return(Le-oe-(Le.getTimezoneOffset()-oe.getTimezoneOffset())*d)/p},function(oe){return oe.getDate()-1}),f=u.range;function _(oe){return r(function(Le){Le.setDate(Le.getDate()-(Le.getDay()+7-oe)%7),Le.setHours(0,0,0,0)},function(Le,Re){Le.setDate(Le.getDate()+Re*7)},function(Le,Re){return(Re-Le-(Re.getTimezoneOffset()-Le.getTimezoneOffset())*d)/c})}var w=_(0),k=_(1),J=_(2),P=_(3),O=_(4),M=_(5),W=_(6),E=w.range,N=k.range,R=J.range,V=P.range,U=O.range,G=M.range,D=W.range,Z=r(function(oe){oe.setDate(1),oe.setHours(0,0,0,0)},function(oe,Le){oe.setMonth(oe.getMonth()+Le)},function(oe,Le){return Le.getMonth()-oe.getMonth()+(Le.getFullYear()-oe.getFullYear())*12},function(oe){return oe.getMonth()}),q=Z.range,ae=r(function(oe){oe.setMonth(0,1),oe.setHours(0,0,0,0)},function(oe,Le){oe.setFullYear(oe.getFullYear()+Le)},function(oe,Le){return Le.getFullYear()-oe.getFullYear()},function(oe){return oe.getFullYear()});ae.every=function(oe){return!isFinite(oe=Math.floor(oe))||!(oe>0)?null:r(function(Le){Le.setFullYear(Math.floor(Le.getFullYear()/oe)*oe),Le.setMonth(0,1),Le.setHours(0,0,0,0)},function(Le,Re){Le.setFullYear(Le.getFullYear()+Re*oe)})};var te=ae.range,ie=r(function(oe){oe.setUTCSeconds(0,0)},function(oe,Le){oe.setTime(+oe+Le*d)},function(oe,Le){return(Le-oe)/d},function(oe){return oe.getUTCMinutes()}),fe=ie.range,he=r(function(oe){oe.setUTCMinutes(0,0,0)},function(oe,Le){oe.setTime(+oe+Le*t)},function(oe,Le){return(Le-oe)/t},function(oe){return oe.getUTCHours()}),be=he.range,H=r(function(oe){oe.setUTCHours(0,0,0,0)},function(oe,Le){oe.setUTCDate(oe.getUTCDate()+Le)},function(oe,Le){return(Le-oe)/p},function(oe){return oe.getUTCDate()-1}),B=H.range;function A(oe){return r(function(Le){Le.setUTCDate(Le.getUTCDate()-(Le.getUTCDay()+7-oe)%7),Le.setUTCHours(0,0,0,0)},function(Le,Re){Le.setUTCDate(Le.getUTCDate()+Re*7)},function(Le,Re){return(Re-Le)/c})}var X=A(0),I=A(1),j=A(2),T=A(3),L=A(4),$=A(5),Y=A(6),re=X.range,se=I.range,ce=j.range,we=T.range,Se=L.range,Ie=$.range,Ze=Y.range,He=r(function(oe){oe.setUTCDate(1),oe.setUTCHours(0,0,0,0)},function(oe,Le){oe.setUTCMonth(oe.getUTCMonth()+Le)},function(oe,Le){return Le.getUTCMonth()-oe.getUTCMonth()+(Le.getUTCFullYear()-oe.getUTCFullYear())*12},function(oe){return oe.getUTCMonth()}),Be=He.range,pe=r(function(oe){oe.setUTCMonth(0,1),oe.setUTCHours(0,0,0,0)},function(oe,Le){oe.setUTCFullYear(oe.getUTCFullYear()+Le)},function(oe,Le){return Le.getUTCFullYear()-oe.getUTCFullYear()},function(oe){return oe.getUTCFullYear()});pe.every=function(oe){return!isFinite(oe=Math.floor(oe))||!(oe>0)?null:r(function(Le){Le.setUTCFullYear(Math.floor(Le.getUTCFullYear()/oe)*oe),Le.setUTCMonth(0,1),Le.setUTCHours(0,0,0,0)},function(Le,Re){Le.setUTCFullYear(Le.getUTCFullYear()+Re*oe)})};var _e=pe.range;i.timeDay=u,i.timeDays=f,i.timeFriday=M,i.timeFridays=G,i.timeHour=m,i.timeHours=v,i.timeInterval=r,i.timeMillisecond=l,i.timeMilliseconds=o,i.timeMinute=y,i.timeMinutes=g,i.timeMonday=k,i.timeMondays=N,i.timeMonth=Z,i.timeMonths=q,i.timeSaturday=W,i.timeSaturdays=D,i.timeSecond=h,i.timeSeconds=b,i.timeSunday=w,i.timeSundays=E,i.timeThursday=O,i.timeThursdays=U,i.timeTuesday=J,i.timeTuesdays=R,i.timeWednesday=P,i.timeWednesdays=V,i.timeWeek=w,i.timeWeeks=E,i.timeYear=ae,i.timeYears=te,i.utcDay=H,i.utcDays=B,i.utcFriday=$,i.utcFridays=Ie,i.utcHour=he,i.utcHours=be,i.utcMillisecond=l,i.utcMilliseconds=o,i.utcMinute=ie,i.utcMinutes=fe,i.utcMonday=I,i.utcMondays=se,i.utcMonth=He,i.utcMonths=Be,i.utcSaturday=Y,i.utcSaturdays=Ze,i.utcSecond=h,i.utcSeconds=b,i.utcSunday=X,i.utcSundays=re,i.utcThursday=L,i.utcThursdays=Se,i.utcTuesday=j,i.utcTuesdays=ce,i.utcWednesday=T,i.utcWednesdays=we,i.utcWeek=X,i.utcWeeks=re,i.utcYear=pe,i.utcYears=_e,Object.defineProperty(i,"__esModule",{value:!0})})}),wa=ye((F,C)=>{(function(i,e){typeof F=="object"&&typeof C<"u"?e(F,ga()):(i=i||self,e(i.d3=i.d3||{},i.d3))})(F,function(i,e){function n(me){if(0<=me.y&&me.y<100){var Ae=new Date(-1,me.m,me.d,me.H,me.M,me.S,me.L);return Ae.setFullYear(me.y),Ae}return new Date(me.y,me.m,me.d,me.H,me.M,me.S,me.L)}function r(me){if(0<=me.y&&me.y<100){var Ae=new Date(Date.UTC(-1,me.m,me.d,me.H,me.M,me.S,me.L));return Ae.setUTCFullYear(me.y),Ae}return new Date(Date.UTC(me.y,me.m,me.d,me.H,me.M,me.S,me.L))}function l(me,Ae,ke){return{y:me,m:Ae,d:ke,H:0,M:0,S:0,L:0}}function o(me){var Ae=me.dateTime,ke=me.date,K=me.time,de=me.periods,xe=me.days,ge=me.shortDays,Ee=me.months,Me=me.shortMonths,Je=b(de),Qe=y(de),st=b(xe),ze=y(xe),rt=b(ge),ft=y(ge),yt=b(Ee),Ht=y(Ee),Wt=b(Me),hn=y(Me),Bt={a:Nn,A:xa,b:Et,B:ea,c:null,d:Z,e:Z,f:fe,H:q,I:ae,j:te,L:ie,m:he,M:be,p:ee,q:le,Q:lt,s:ut,S:H,u:B,U:A,V:X,w:I,W:j,x:null,X:null,y:T,Y:L,Z:$,"%":Xe},en={a:$e,A:Ve,b:De,B:Pe,c:null,d:Y,e:Y,f:Se,H:re,I:se,j:ce,L:we,m:Ie,M:Ze,p:je,q:We,Q:lt,s:ut,S:He,u:Be,U:pe,V:_e,w:oe,W:Le,x:null,X:null,y:Re,Y:Ye,Z:ot,"%":Xe},Ft={a:Ut,A:Pt,b:nn,B:On,c:Qn,d:O,e:O,f:V,H:W,I:W,j:M,L:R,m:P,M:E,p:sn,q:J,Q:G,s:D,S:N,u:m,U:v,V:u,w:g,W:f,x:rn,X:In,y:w,Y:_,Z:k,"%":U};Bt.x=Nt(ke,Bt),Bt.X=Nt(K,Bt),Bt.c=Nt(Ae,Bt),en.x=Nt(ke,en),en.X=Nt(K,en),en.c=Nt(Ae,en);function Nt(Ne,Ue){return function(Ke){var it=[],_t=-1,Ct=0,Mt=Ne.length,jt,$t,bn;for(Ke instanceof Date||(Ke=new Date(+Ke));++_t<Mt;)Ne.charCodeAt(_t)===37&&(it.push(Ne.slice(Ct,_t)),($t=s[jt=Ne.charAt(++_t)])!=null?jt=Ne.charAt(++_t):$t=jt==="e"?" ":"0",(bn=Ue[jt])&&(jt=bn(Ke,$t)),it.push(jt),Ct=_t+1);return it.push(Ne.slice(Ct,_t)),it.join("")}}function ln(Ne,Ue){return function(Ke){var it=l(1900,void 0,1),_t=tn(it,Ne,Ke+="",0),Ct,Mt;if(_t!=Ke.length)return null;if("Q"in it)return new Date(it.Q);if("s"in it)return new Date(it.s*1e3+("L"in it?it.L:0));if(Ue&&!("Z"in it)&&(it.Z=0),"p"in it&&(it.H=it.H%12+it.p*12),it.m===void 0&&(it.m="q"in it?it.q:0),"V"in it){if(it.V<1||it.V>53)return null;"w"in it||(it.w=1),"Z"in it?(Ct=r(l(it.y,0,1)),Mt=Ct.getUTCDay(),Ct=Mt>4||Mt===0?e.utcMonday.ceil(Ct):e.utcMonday(Ct),Ct=e.utcDay.offset(Ct,(it.V-1)*7),it.y=Ct.getUTCFullYear(),it.m=Ct.getUTCMonth(),it.d=Ct.getUTCDate()+(it.w+6)%7):(Ct=n(l(it.y,0,1)),Mt=Ct.getDay(),Ct=Mt>4||Mt===0?e.timeMonday.ceil(Ct):e.timeMonday(Ct),Ct=e.timeDay.offset(Ct,(it.V-1)*7),it.y=Ct.getFullYear(),it.m=Ct.getMonth(),it.d=Ct.getDate()+(it.w+6)%7)}else("W"in it||"U"in it)&&("w"in it||(it.w="u"in it?it.u%7:"W"in it?1:0),Mt="Z"in it?r(l(it.y,0,1)).getUTCDay():n(l(it.y,0,1)).getDay(),it.m=0,it.d="W"in it?(it.w+6)%7+it.W*7-(Mt+5)%7:it.w+it.U*7-(Mt+6)%7);return"Z"in it?(it.H+=it.Z/100|0,it.M+=it.Z%100,r(it)):n(it)}}function tn(Ne,Ue,Ke,it){for(var _t=0,Ct=Ue.length,Mt=Ke.length,jt,$t;_t<Ct;){if(it>=Mt)return-1;if(jt=Ue.charCodeAt(_t++),jt===37){if(jt=Ue.charAt(_t++),$t=Ft[jt in s?Ue.charAt(_t++):jt],!$t||(it=$t(Ne,Ke,it))<0)return-1}else if(jt!=Ke.charCodeAt(it++))return-1}return it}function sn(Ne,Ue,Ke){var it=Je.exec(Ue.slice(Ke));return it?(Ne.p=Qe[it[0].toLowerCase()],Ke+it[0].length):-1}function Ut(Ne,Ue,Ke){var it=rt.exec(Ue.slice(Ke));return it?(Ne.w=ft[it[0].toLowerCase()],Ke+it[0].length):-1}function Pt(Ne,Ue,Ke){var it=st.exec(Ue.slice(Ke));return it?(Ne.w=ze[it[0].toLowerCase()],Ke+it[0].length):-1}function nn(Ne,Ue,Ke){var it=Wt.exec(Ue.slice(Ke));return it?(Ne.m=hn[it[0].toLowerCase()],Ke+it[0].length):-1}function On(Ne,Ue,Ke){var it=yt.exec(Ue.slice(Ke));return it?(Ne.m=Ht[it[0].toLowerCase()],Ke+it[0].length):-1}function Qn(Ne,Ue,Ke){return tn(Ne,Ae,Ue,Ke)}function rn(Ne,Ue,Ke){return tn(Ne,ke,Ue,Ke)}function In(Ne,Ue,Ke){return tn(Ne,K,Ue,Ke)}function Nn(Ne){return ge[Ne.getDay()]}function xa(Ne){return xe[Ne.getDay()]}function Et(Ne){return Me[Ne.getMonth()]}function ea(Ne){return Ee[Ne.getMonth()]}function ee(Ne){return de[+(Ne.getHours()>=12)]}function le(Ne){return 1+~~(Ne.getMonth()/3)}function $e(Ne){return ge[Ne.getUTCDay()]}function Ve(Ne){return xe[Ne.getUTCDay()]}function De(Ne){return Me[Ne.getUTCMonth()]}function Pe(Ne){return Ee[Ne.getUTCMonth()]}function je(Ne){return de[+(Ne.getUTCHours()>=12)]}function We(Ne){return 1+~~(Ne.getUTCMonth()/3)}return{format:function(Ne){var Ue=Nt(Ne+="",Bt);return Ue.toString=function(){return Ne},Ue},parse:function(Ne){var Ue=ln(Ne+="",!1);return Ue.toString=function(){return Ne},Ue},utcFormat:function(Ne){var Ue=Nt(Ne+="",en);return Ue.toString=function(){return Ne},Ue},utcParse:function(Ne){var Ue=ln(Ne+="",!0);return Ue.toString=function(){return Ne},Ue}}}var s={"-":"",_:" ",0:"0"},d=/^\s*\d+/,t=/^%/,p=/[\\^$*+?|[\]().{}]/g;function c(me,Ae,ke){var K=me<0?"-":"",de=(K?-me:me)+"",xe=de.length;return K+(xe<ke?new Array(ke-xe+1).join(Ae)+de:de)}function h(me){return me.replace(p,"\\$&")}function b(me){return new RegExp("^(?:"+me.map(h).join("|")+")","i")}function y(me){for(var Ae={},ke=-1,K=me.length;++ke<K;)Ae[me[ke].toLowerCase()]=ke;return Ae}function g(me,Ae,ke){var K=d.exec(Ae.slice(ke,ke+1));return K?(me.w=+K[0],ke+K[0].length):-1}function m(me,Ae,ke){var K=d.exec(Ae.slice(ke,ke+1));return K?(me.u=+K[0],ke+K[0].length):-1}function v(me,Ae,ke){var K=d.exec(Ae.slice(ke,ke+2));return K?(me.U=+K[0],ke+K[0].length):-1}function u(me,Ae,ke){var K=d.exec(Ae.slice(ke,ke+2));return K?(me.V=+K[0],ke+K[0].length):-1}function f(me,Ae,ke){var K=d.exec(Ae.slice(ke,ke+2));return K?(me.W=+K[0],ke+K[0].length):-1}function _(me,Ae,ke){var K=d.exec(Ae.slice(ke,ke+4));return K?(me.y=+K[0],ke+K[0].length):-1}function w(me,Ae,ke){var K=d.exec(Ae.slice(ke,ke+2));return K?(me.y=+K[0]+(+K[0]>68?1900:2e3),ke+K[0].length):-1}function k(me,Ae,ke){var K=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Ae.slice(ke,ke+6));return K?(me.Z=K[1]?0:-(K[2]+(K[3]||"00")),ke+K[0].length):-1}function J(me,Ae,ke){var K=d.exec(Ae.slice(ke,ke+1));return K?(me.q=K[0]*3-3,ke+K[0].length):-1}function P(me,Ae,ke){var K=d.exec(Ae.slice(ke,ke+2));return K?(me.m=K[0]-1,ke+K[0].length):-1}function O(me,Ae,ke){var K=d.exec(Ae.slice(ke,ke+2));return K?(me.d=+K[0],ke+K[0].length):-1}function M(me,Ae,ke){var K=d.exec(Ae.slice(ke,ke+3));return K?(me.m=0,me.d=+K[0],ke+K[0].length):-1}function W(me,Ae,ke){var K=d.exec(Ae.slice(ke,ke+2));return K?(me.H=+K[0],ke+K[0].length):-1}function E(me,Ae,ke){var K=d.exec(Ae.slice(ke,ke+2));return K?(me.M=+K[0],ke+K[0].length):-1}function N(me,Ae,ke){var K=d.exec(Ae.slice(ke,ke+2));return K?(me.S=+K[0],ke+K[0].length):-1}function R(me,Ae,ke){var K=d.exec(Ae.slice(ke,ke+3));return K?(me.L=+K[0],ke+K[0].length):-1}function V(me,Ae,ke){var K=d.exec(Ae.slice(ke,ke+6));return K?(me.L=Math.floor(K[0]/1e3),ke+K[0].length):-1}function U(me,Ae,ke){var K=t.exec(Ae.slice(ke,ke+1));return K?ke+K[0].length:-1}function G(me,Ae,ke){var K=d.exec(Ae.slice(ke));return K?(me.Q=+K[0],ke+K[0].length):-1}function D(me,Ae,ke){var K=d.exec(Ae.slice(ke));return K?(me.s=+K[0],ke+K[0].length):-1}function Z(me,Ae){return c(me.getDate(),Ae,2)}function q(me,Ae){return c(me.getHours(),Ae,2)}function ae(me,Ae){return c(me.getHours()%12||12,Ae,2)}function te(me,Ae){return c(1+e.timeDay.count(e.timeYear(me),me),Ae,3)}function ie(me,Ae){return c(me.getMilliseconds(),Ae,3)}function fe(me,Ae){return ie(me,Ae)+"000"}function he(me,Ae){return c(me.getMonth()+1,Ae,2)}function be(me,Ae){return c(me.getMinutes(),Ae,2)}function H(me,Ae){return c(me.getSeconds(),Ae,2)}function B(me){var Ae=me.getDay();return Ae===0?7:Ae}function A(me,Ae){return c(e.timeSunday.count(e.timeYear(me)-1,me),Ae,2)}function X(me,Ae){var ke=me.getDay();return me=ke>=4||ke===0?e.timeThursday(me):e.timeThursday.ceil(me),c(e.timeThursday.count(e.timeYear(me),me)+(e.timeYear(me).getDay()===4),Ae,2)}function I(me){return me.getDay()}function j(me,Ae){return c(e.timeMonday.count(e.timeYear(me)-1,me),Ae,2)}function T(me,Ae){return c(me.getFullYear()%100,Ae,2)}function L(me,Ae){return c(me.getFullYear()%1e4,Ae,4)}function $(me){var Ae=me.getTimezoneOffset();return(Ae>0?"-":(Ae*=-1,"+"))+c(Ae/60|0,"0",2)+c(Ae%60,"0",2)}function Y(me,Ae){return c(me.getUTCDate(),Ae,2)}function re(me,Ae){return c(me.getUTCHours(),Ae,2)}function se(me,Ae){return c(me.getUTCHours()%12||12,Ae,2)}function ce(me,Ae){return c(1+e.utcDay.count(e.utcYear(me),me),Ae,3)}function we(me,Ae){return c(me.getUTCMilliseconds(),Ae,3)}function Se(me,Ae){return we(me,Ae)+"000"}function Ie(me,Ae){return c(me.getUTCMonth()+1,Ae,2)}function Ze(me,Ae){return c(me.getUTCMinutes(),Ae,2)}function He(me,Ae){return c(me.getUTCSeconds(),Ae,2)}function Be(me){var Ae=me.getUTCDay();return Ae===0?7:Ae}function pe(me,Ae){return c(e.utcSunday.count(e.utcYear(me)-1,me),Ae,2)}function _e(me,Ae){var ke=me.getUTCDay();return me=ke>=4||ke===0?e.utcThursday(me):e.utcThursday.ceil(me),c(e.utcThursday.count(e.utcYear(me),me)+(e.utcYear(me).getUTCDay()===4),Ae,2)}function oe(me){return me.getUTCDay()}function Le(me,Ae){return c(e.utcMonday.count(e.utcYear(me)-1,me),Ae,2)}function Re(me,Ae){return c(me.getUTCFullYear()%100,Ae,2)}function Ye(me,Ae){return c(me.getUTCFullYear()%1e4,Ae,4)}function ot(){return"+0000"}function Xe(){return"%"}function lt(me){return+me}function ut(me){return Math.floor(+me/1e3)}var dt;xt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function xt(me){return dt=o(me),i.timeFormat=dt.format,i.timeParse=dt.parse,i.utcFormat=dt.utcFormat,i.utcParse=dt.utcParse,dt}var qe="%Y-%m-%dT%H:%M:%S.%LZ";function bt(me){return me.toISOString()}var Dt=Date.prototype.toISOString?bt:i.utcFormat(qe);function pt(me){var Ae=new Date(me);return isNaN(Ae)?null:Ae}var St=+new Date("2000-01-01T00:00:00.000Z")?pt:i.utcParse(qe);i.isoFormat=Dt,i.isoParse=St,i.timeFormatDefaultLocale=xt,i.timeFormatLocale=o,Object.defineProperty(i,"__esModule",{value:!0})})}),ka=ye((F,C)=>{(function(i,e){typeof F=="object"&&typeof C<"u"?e(F):(i=typeof globalThis<"u"?globalThis:i||self,e(i.d3=i.d3||{}))})(F,function(i){function e(P){return Math.abs(P=Math.round(P))>=1e21?P.toLocaleString("en").replace(/,/g,""):P.toString(10)}function n(P,O){if((M=(P=O?P.toExponential(O-1):P.toExponential()).indexOf("e"))<0)return null;var M,W=P.slice(0,M);return[W.length>1?W[0]+W.slice(2):W,+P.slice(M+1)]}function r(P){return P=n(Math.abs(P)),P?P[1]:NaN}function l(P,O){return function(M,W){for(var E=M.length,N=[],R=0,V=P[0],U=0;E>0&&V>0&&(U+V+1>W&&(V=Math.max(1,W-U)),N.push(M.substring(E-=V,E+V)),!((U+=V+1)>W));)V=P[R=(R+1)%P.length];return N.reverse().join(O)}}function o(P){return function(O){return O.replace(/[0-9]/g,function(M){return P[+M]})}}var s=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function d(P){if(!(O=s.exec(P)))throw new Error("invalid format: "+P);var O;return new t({fill:O[1],align:O[2],sign:O[3],symbol:O[4],zero:O[5],width:O[6],comma:O[7],precision:O[8]&&O[8].slice(1),trim:O[9],type:O[10]})}d.prototype=t.prototype;function t(P){this.fill=P.fill===void 0?" ":P.fill+"",this.align=P.align===void 0?">":P.align+"",this.sign=P.sign===void 0?"-":P.sign+"",this.symbol=P.symbol===void 0?"":P.symbol+"",this.zero=!!P.zero,this.width=P.width===void 0?void 0:+P.width,this.comma=!!P.comma,this.precision=P.precision===void 0?void 0:+P.precision,this.trim=!!P.trim,this.type=P.type===void 0?"":P.type+""}t.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function p(P){e:for(var O=P.length,M=1,W=-1,E;M<O;++M)switch(P[M]){case".":W=E=M;break;case"0":W===0&&(W=M),E=M;break;default:if(!+P[M])break e;W>0&&(W=0);break}return W>0?P.slice(0,W)+P.slice(E+1):P}var c;function h(P,O){var M=n(P,O);if(!M)return P+"";var W=M[0],E=M[1],N=E-(c=Math.max(-8,Math.min(8,Math.floor(E/3)))*3)+1,R=W.length;return N===R?W:N>R?W+new Array(N-R+1).join("0"):N>0?W.slice(0,N)+"."+W.slice(N):"0."+new Array(1-N).join("0")+n(P,Math.max(0,O+N-1))[0]}function b(P,O){var M=n(P,O);if(!M)return P+"";var W=M[0],E=M[1];return E<0?"0."+new Array(-E).join("0")+W:W.length>E+1?W.slice(0,E+1)+"."+W.slice(E+1):W+new Array(E-W.length+2).join("0")}var y={"%":function(P,O){return(P*100).toFixed(O)},b:function(P){return Math.round(P).toString(2)},c:function(P){return P+""},d:e,e:function(P,O){return P.toExponential(O)},f:function(P,O){return P.toFixed(O)},g:function(P,O){return P.toPrecision(O)},o:function(P){return Math.round(P).toString(8)},p:function(P,O){return b(P*100,O)},r:b,s:h,X:function(P){return Math.round(P).toString(16).toUpperCase()},x:function(P){return Math.round(P).toString(16)}};function g(P){return P}var m=Array.prototype.map,v=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function u(P){var O=P.grouping===void 0||P.thousands===void 0?g:l(m.call(P.grouping,Number),P.thousands+""),M=P.currency===void 0?"":P.currency[0]+"",W=P.currency===void 0?"":P.currency[1]+"",E=P.decimal===void 0?".":P.decimal+"",N=P.numerals===void 0?g:o(m.call(P.numerals,String)),R=P.percent===void 0?"%":P.percent+"",V=P.minus===void 0?"-":P.minus+"",U=P.nan===void 0?"NaN":P.nan+"";function G(Z){Z=d(Z);var q=Z.fill,ae=Z.align,te=Z.sign,ie=Z.symbol,fe=Z.zero,he=Z.width,be=Z.comma,H=Z.precision,B=Z.trim,A=Z.type;A==="n"?(be=!0,A="g"):y[A]||(H===void 0&&(H=12),B=!0,A="g"),(fe||q==="0"&&ae==="=")&&(fe=!0,q="0",ae="=");var X=ie==="$"?M:ie==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",I=ie==="$"?W:/[%p]/.test(A)?R:"",j=y[A],T=/[defgprs%]/.test(A);H=H===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,H)):Math.max(0,Math.min(20,H));function L($){var Y=X,re=I,se,ce,we;if(A==="c")re=j($)+re,$="";else{$=+$;var Se=$<0||1/$<0;if($=isNaN($)?U:j(Math.abs($),H),B&&($=p($)),Se&&+$==0&&te!=="+"&&(Se=!1),Y=(Se?te==="("?te:V:te==="-"||te==="("?"":te)+Y,re=(A==="s"?v[8+c/3]:"")+re+(Se&&te==="("?")":""),T){for(se=-1,ce=$.length;++se<ce;)if(we=$.charCodeAt(se),48>we||we>57){re=(we===46?E+$.slice(se+1):$.slice(se))+re,$=$.slice(0,se);break}}}be&&!fe&&($=O($,1/0));var Ie=Y.length+$.length+re.length,Ze=Ie<he?new Array(he-Ie+1).join(q):"";switch(be&&fe&&($=O(Ze+$,Ze.length?he-re.length:1/0),Ze=""),ae){case"<":$=Y+$+re+Ze;break;case"=":$=Y+Ze+$+re;break;case"^":$=Ze.slice(0,Ie=Ze.length>>1)+Y+$+re+Ze.slice(Ie);break;default:$=Ze+Y+$+re;break}return N($)}return L.toString=function(){return Z+""},L}function D(Z,q){var ae=G((Z=d(Z),Z.type="f",Z)),te=Math.max(-8,Math.min(8,Math.floor(r(q)/3)))*3,ie=Math.pow(10,-te),fe=v[8+te/3];return function(he){return ae(ie*he)+fe}}return{format:G,formatPrefix:D}}var f;_({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function _(P){return f=u(P),i.format=f.format,i.formatPrefix=f.formatPrefix,f}function w(P){return Math.max(0,-r(Math.abs(P)))}function k(P,O){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(r(O)/3)))*3-r(Math.abs(P)))}function J(P,O){return P=Math.abs(P),O=Math.abs(O)-P,Math.max(0,r(O)-r(P))+1}i.FormatSpecifier=t,i.formatDefaultLocale=_,i.formatLocale=u,i.formatSpecifier=d,i.precisionFixed=w,i.precisionPrefix=k,i.precisionRound=J,Object.defineProperty(i,"__esModule",{value:!0})})}),Ka=ye((F,C)=>{C.exports=function(i){for(var e=i.length,n,r=0;r<e;r++)if(n=i.charCodeAt(r),(n<9||n>13)&&n!==32&&n!==133&&n!==160&&n!==5760&&n!==6158&&(n<8192||n>8205)&&n!==8232&&n!==8233&&n!==8239&&n!==8287&&n!==8288&&n!==12288&&n!==65279)return!1;return!0}}),on=ye((F,C)=>{var i=Ka();C.exports=function(e){var n=typeof e;if(n==="string"){var r=e;if(e=+e,e===0&&i(r))return!1}else if(n!=="number")return!1;return e-e<1}}),Gn=ye((F,C)=>{C.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,ONEMILLI:1,ONEMICROSEC:.001,EPOCHJD:24405875e-1,ALMOST_EQUAL:1-1e-6,LOG_CLIP:10,MINUS_SIGN:"−"}}),Pn=ye((F,C)=>{(function(i,e){typeof F=="object"&&typeof C<"u"?e(F):(i=typeof globalThis<"u"?globalThis:i||self,e(i["base64-arraybuffer"]={}))})(F,function(i){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=typeof Uint8Array>"u"?[]:new Uint8Array(256),r=0;r<e.length;r++)n[e.charCodeAt(r)]=r;var l=function(s){var d=new Uint8Array(s),t,p=d.length,c="";for(t=0;t<p;t+=3)c+=e[d[t]>>2],c+=e[(d[t]&3)<<4|d[t+1]>>4],c+=e[(d[t+1]&15)<<2|d[t+2]>>6],c+=e[d[t+2]&63];return p%3===2?c=c.substring(0,c.length-1)+"=":p%3===1&&(c=c.substring(0,c.length-2)+"=="),c},o=function(s){var d=s.length*.75,t=s.length,p,c=0,h,b,y,g;s[s.length-1]==="="&&(d--,s[s.length-2]==="="&&d--);var m=new ArrayBuffer(d),v=new Uint8Array(m);for(p=0;p<t;p+=4)h=n[s.charCodeAt(p)],b=n[s.charCodeAt(p+1)],y=n[s.charCodeAt(p+2)],g=n[s.charCodeAt(p+3)],v[c++]=h<<2|b>>4,v[c++]=(b&15)<<4|y>>2,v[c++]=(y&3)<<6|g&63;return m};i.decode=o,i.encode=l,Object.defineProperty(i,"__esModule",{value:!0})})}),kn=ye((F,C)=>{C.exports=function(i){return window&&window.process&&window.process.versions?Object.prototype.toString.call(i)==="[object Object]":Object.prototype.toString.call(i)==="[object Object]"&&Object.getPrototypeOf(i).hasOwnProperty("hasOwnProperty")}}),aa=ye(F=>{var C=Pn().decode,i=kn(),e=Array.isArray,n=ArrayBuffer,r=DataView;function l(h){return n.isView(h)&&!(h instanceof r)}F.isTypedArray=l;function o(h){return e(h)||l(h)}F.isArrayOrTypedArray=o;function s(h){return!o(h[0])}F.isArray1D=s,F.ensureArray=function(h,b){return e(h)||(h=[]),h.length=b,h};var d={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};d.uint8c=d.u1c,d.uint8=d.u1,d.int8=d.i1,d.uint16=d.u2,d.int16=d.i2,d.uint32=d.u4,d.int32=d.i4,d.float32=d.f4,d.float64=d.f8;function t(h){return h.constructor===ArrayBuffer}F.isArrayBuffer=t,F.decodeTypedArraySpec=function(h){var b=[],y=p(h),g=y.dtype,m=d[g];if(!m)throw new Error('Error in dtype: "'+g+'"');var v=m.BYTES_PER_ELEMENT,u=y.bdata;t(u)||(u=C(u));var f=y.shape===void 0?[u.byteLength/v]:(""+y.shape).split(",");f.reverse();var _=f.length,w,k,J=+f[0],P=v*J,O=0;if(_===1)b=new m(u);else if(_===2)for(w=+f[1],k=0;k<w;k++)b[k]=new m(u,O,J),O+=P;else if(_===3){w=+f[1];for(var M=+f[2],W=0;W<M;W++)for(b[W]=[],k=0;k<w;k++)b[W][k]=new m(u,O,J),O+=P}else throw new Error("ndim: "+_+'is not supported with the shape:"'+y.shape+'"');return b.bdata=y.bdata,b.dtype=y.dtype,b.shape=f.reverse().join(","),h._inputArray=b,b},F.isTypedArraySpec=function(h){return i(h)&&h.hasOwnProperty("dtype")&&typeof h.dtype=="string"&&h.hasOwnProperty("bdata")&&(typeof h.bdata=="string"||t(h.bdata))&&(h.shape===void 0||h.hasOwnProperty("shape")&&(typeof h.shape=="string"||typeof h.shape=="number"))};function p(h){return{bdata:h.bdata,dtype:h.dtype,shape:h.shape}}F.concat=function(){var h=[],b=!0,y=0,g,m,v,u,f,_,w,k;for(v=0;v<arguments.length;v++)u=arguments[v],_=u.length,_&&(m?h.push(u):(m=u,f=_),e(u)?g=!1:(b=!1,y?g!==u.constructor&&(g=!1):g=u.constructor),y+=_);if(!y)return[];if(!h.length)return m;if(b)return m.concat.apply(m,h);if(g){for(w=new g(y),w.set(m),v=0;v<h.length;v++)u=h[v],w.set(u,f),f+=u.length;return w}for(w=new Array(y),k=0;k<m.length;k++)w[k]=m[k];for(v=0;v<h.length;v++){for(u=h[v],k=0;k<u.length;k++)w[f+k]=u[k];f+=k}return w},F.maxRowLength=function(h){return c(h,Math.max,0)},F.minRowLength=function(h){return c(h,Math.min,1/0)};function c(h,b,y){if(o(h))if(o(h[0])){for(var g=y,m=0;m<h.length;m++)g=b(g,h[m].length);return g}else return h.length;return 0}}),sa=ye((F,C)=>{var i=on(),e=aa().isArrayOrTypedArray;C.exports=function(c,h){if(i(h))h=String(h);else if(typeof h!="string"||h.substr(h.length-4)==="[-1]")throw"bad property string";var b=h.split("."),y,g,m,v;for(v=0;v<b.length;v++)if(String(b[v]).slice(0,2)==="__")throw"bad property string";for(v=0;v<b.length;){if(y=String(b[v]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),y){if(y[1])b[v]=y[1];else if(v===0)b.splice(0,1);else throw"bad property string";for(g=y[2].substr(1,y[2].length-2).split("]["),m=0;m<g.length;m++)v++,b.splice(v,0,Number(g[m]))}v++}return typeof c!="object"?p(c,h,b):{set:o(c,b,h),get:n(c,b),astr:h,parts:b,obj:c}};function n(c,h){return function(b){var y=c,g,m,v,u,f;for(u=0;u<h.length-1;u++){if(g=h[u],g===-1){for(m=!0,v=[],f=0;f<y.length;f++)v[f]=n(y[f],h.slice(u+1))(b),v[f]!==v[0]&&(m=!1);return m?v[0]:v}if(typeof g=="number"&&!e(y)||(y=y[g],typeof y!="object"||y===null))return}if(!(typeof y!="object"||y===null)&&(v=y[h[u]],!(!b&&v===null)))return v}}var r=/(^|\.)args\[/;function l(c,h){return c===void 0||c===null&&!h.match(r)}function o(c,h,b){return function(y){var g=c,m="",v=l(y,b),u,f;for(f=0;f<h.length-1;f++){if(u=h[f],typeof u=="number"&&!e(g))throw"array index but container is not an array";if(u===-1){if(v=!d(g,h.slice(f+1),y,b),v)break;return}if(!t(g,u,h[f+1],v))break;if(g=g[u],typeof g!="object"||g===null)throw"container is not an object";m=s(m,u)}if(v){if(f===h.length-1&&(delete g[h[f]],Array.isArray(g)&&+h[f]===g.length-1))for(;g.length&&g[g.length-1]===void 0;)g.pop()}else g[h[f]]=y}}function s(c,h){var b=h;return i(h)?b="["+h+"]":c&&(b="."+h),c+b}function d(c,h,b,y){var g=e(b),m=!0,v=b,u=y.replace("-1",0),f=g?!1:l(b,u),_=h[0],w;for(w=0;w<c.length;w++)u=y.replace("-1",w),g&&(v=b[w%b.length],f=l(v,u)),f&&(m=!1),t(c,w,_,f)&&o(c[w],h,y.replace("-1",w))(v);return m}function t(c,h,b,y){if(c[h]===void 0){if(y)return!1;typeof b=="number"?c[h]=[]:c[h]={}}return!0}function p(c,h,b){return{set:function(){throw"bad container"},get:function(){},astr:h,parts:b,obj:c}}}),Da=ye((F,C)=>{var i=sa(),e=/^\w*$/,n=0,r=1,l=2,o=3,s=4;C.exports=function(d,t,p,c){p=p||"name",c=c||"value";var h,b,y,g={};t&&t.length?(y=i(d,t),b=y.get()):b=d,t=t||"";var m={};if(b)for(h=0;h<b.length;h++)m[b[h][p]]=h;var v=e.test(c),u={set:function(f,_){var w=_===null?s:n;if(!b){if(!y||w===s)return;b=[],y.set(b)}var k=m[f];if(k===void 0){if(w===s)return;w=w|o,k=b.length,m[f]=k}else _!==(v?b[k][c]:i(b[k],c).get())&&(w=w|l);var J=b[k]=b[k]||{};return J[p]=f,v?J[c]=_:i(J,c).set(_),_!==null&&(w=w&~s),g[k]=g[k]|w,u},get:function(f){if(b){var _=m[f];if(_!==void 0)return v?b[_][c]:i(b[_],c).get()}},rename:function(f,_){var w=m[f];return w===void 0||(g[w]=g[w]|r,m[_]=w,delete m[f],b[w][p]=_),u},remove:function(f){var _=m[f];if(_===void 0)return u;var w=b[_];if(Object.keys(w).length>2)return g[_]=g[_]|l,u.set(f,null);if(v){for(h=_;h<b.length;h++)g[h]=g[h]|o;for(h=_;h<b.length;h++)m[b[h][p]]--;b.splice(_,1),delete m[f]}else i(w,c).set(null),g[_]=g[_]|l|s;return u},constructUpdate:function(){for(var f,_,w={},k=Object.keys(g),J=0;J<k.length;J++)_=k[J],f=t+"["+_+"]",b[_]?(g[_]&r&&(w[f+"."+p]=b[_][p]),g[_]&l&&(v?w[f+"."+c]=g[_]&s?null:b[_][c]:w[f+"."+c]=g[_]&s?null:i(b[_],c).get())):w[f]=null;return w}};return u}}),Un=ye((F,C)=>{var i=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;C.exports=function(n,r){for(;r;){var l=n.match(i);if(l)n=l[1];else if(n.match(e))n="";else throw new Error("bad relativeAttr call:"+[n,r]);if(r.charAt(0)==="^")r=r.slice(1);else break}return n&&r.charAt(0)!=="["?n+"."+r:n+r}}),ba=ye((F,C)=>{var i=on();C.exports=function(e,n){if(e>0)return Math.log(e)/Math.LN10;var r=Math.log(Math.min(n[0],n[1]))/Math.LN10;return i(r)||(r=Math.log(Math.max(n[0],n[1]))/Math.LN10-6),r}}),za=ye((F,C)=>{var i=aa().isArrayOrTypedArray,e=kn();C.exports=function n(r,l){for(var o in l){var s=l[o],d=r[o];if(d!==s)if(o.charAt(0)==="_"||typeof s=="function"){if(o in r)continue;r[o]=s}else if(i(s)&&i(d)&&e(s[0])){if(o==="customdata"||o==="ids")continue;for(var t=Math.min(s.length,d.length),p=0;p<t;p++)d[p]!==s[p]&&e(s[p])&&e(d[p])&&n(d[p],s[p])}else e(s)&&e(d)&&(n(d,s),Object.keys(d).length||delete r[o])}}}),dr=ye((F,C)=>{function i(n,r){var l=n%r;return l<0?l+r:l}function e(n,r){return Math.abs(n)>r/2?n-Math.round(n/r)*r:n}C.exports={mod:i,modHalf:e}}),Va=ye((F,C)=>{(function(i){var e=/^\s+/,n=/\s+$/,r=0,l=i.round,o=i.min,s=i.max,d=i.random;function t(T,L){if(T=T||"",L=L||{},T instanceof t)return T;if(!(this instanceof t))return new t(T,L);var $=p(T);this._originalInput=T,this._r=$.r,this._g=$.g,this._b=$.b,this._a=$.a,this._roundA=l(100*this._a)/100,this._format=L.format||$.format,this._gradientType=L.gradientType,this._r<1&&(this._r=l(this._r)),this._g<1&&(this._g=l(this._g)),this._b<1&&(this._b=l(this._b)),this._ok=$.ok,this._tc_id=r++}t.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var T=this.toRgb();return(T.r*299+T.g*587+T.b*114)/1e3},getLuminance:function(){var T=this.toRgb(),L,$,Y,re,se,ce;return L=T.r/255,$=T.g/255,Y=T.b/255,L<=.03928?re=L/12.92:re=i.pow((L+.055)/1.055,2.4),$<=.03928?se=$/12.92:se=i.pow(($+.055)/1.055,2.4),Y<=.03928?ce=Y/12.92:ce=i.pow((Y+.055)/1.055,2.4),.2126*re+.7152*se+.0722*ce},setAlpha:function(T){return this._a=Z(T),this._roundA=l(100*this._a)/100,this},toHsv:function(){var T=y(this._r,this._g,this._b);return{h:T.h*360,s:T.s,v:T.v,a:this._a}},toHsvString:function(){var T=y(this._r,this._g,this._b),L=l(T.h*360),$=l(T.s*100),Y=l(T.v*100);return this._a==1?"hsv("+L+", "+$+"%, "+Y+"%)":"hsva("+L+", "+$+"%, "+Y+"%, "+this._roundA+")"},toHsl:function(){var T=h(this._r,this._g,this._b);return{h:T.h*360,s:T.s,l:T.l,a:this._a}},toHslString:function(){var T=h(this._r,this._g,this._b),L=l(T.h*360),$=l(T.s*100),Y=l(T.l*100);return this._a==1?"hsl("+L+", "+$+"%, "+Y+"%)":"hsla("+L+", "+$+"%, "+Y+"%, "+this._roundA+")"},toHex:function(T){return m(this._r,this._g,this._b,T)},toHexString:function(T){return"#"+this.toHex(T)},toHex8:function(T){return v(this._r,this._g,this._b,this._a,T)},toHex8String:function(T){return"#"+this.toHex8(T)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+l(this._r)+", "+l(this._g)+", "+l(this._b)+")":"rgba("+l(this._r)+", "+l(this._g)+", "+l(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:l(q(this._r,255)*100)+"%",g:l(q(this._g,255)*100)+"%",b:l(q(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+l(q(this._r,255)*100)+"%, "+l(q(this._g,255)*100)+"%, "+l(q(this._b,255)*100)+"%)":"rgba("+l(q(this._r,255)*100)+"%, "+l(q(this._g,255)*100)+"%, "+l(q(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:G[m(this._r,this._g,this._b,!0)]||!1},toFilter:function(T){var L="#"+u(this._r,this._g,this._b,this._a),$=L,Y=this._gradientType?"GradientType = 1, ":"";if(T){var re=t(T);$="#"+u(re._r,re._g,re._b,re._a)}return"progid:DXImageTransform.Microsoft.gradient("+Y+"startColorstr="+L+",endColorstr="+$+")"},toString:function(T){var L=!!T;T=T||this._format;var $=!1,Y=this._a<1&&this._a>=0,re=!L&&Y&&(T==="hex"||T==="hex6"||T==="hex3"||T==="hex4"||T==="hex8"||T==="name");return re?T==="name"&&this._a===0?this.toName():this.toRgbString():(T==="rgb"&&($=this.toRgbString()),T==="prgb"&&($=this.toPercentageRgbString()),(T==="hex"||T==="hex6")&&($=this.toHexString()),T==="hex3"&&($=this.toHexString(!0)),T==="hex4"&&($=this.toHex8String(!0)),T==="hex8"&&($=this.toHex8String()),T==="name"&&($=this.toName()),T==="hsl"&&($=this.toHslString()),T==="hsv"&&($=this.toHsvString()),$||this.toHexString())},clone:function(){return t(this.toString())},_applyModification:function(T,L){var $=T.apply(null,[this].concat([].slice.call(L)));return this._r=$._r,this._g=$._g,this._b=$._b,this.setAlpha($._a),this},lighten:function(){return this._applyModification(k,arguments)},brighten:function(){return this._applyModification(J,arguments)},darken:function(){return this._applyModification(P,arguments)},desaturate:function(){return this._applyModification(f,arguments)},saturate:function(){return this._applyModification(_,arguments)},greyscale:function(){return this._applyModification(w,arguments)},spin:function(){return this._applyModification(O,arguments)},_applyCombination:function(T,L){return T.apply(null,[this].concat([].slice.call(L)))},analogous:function(){return this._applyCombination(R,arguments)},complement:function(){return this._applyCombination(M,arguments)},monochromatic:function(){return this._applyCombination(V,arguments)},splitcomplement:function(){return this._applyCombination(N,arguments)},triad:function(){return this._applyCombination(W,arguments)},tetrad:function(){return this._applyCombination(E,arguments)}},t.fromRatio=function(T,L){if(typeof T=="object"){var $={};for(var Y in T)T.hasOwnProperty(Y)&&(Y==="a"?$[Y]=T[Y]:$[Y]=be(T[Y]));T=$}return t(T,L)};function p(T){var L={r:0,g:0,b:0},$=1,Y=null,re=null,se=null,ce=!1,we=!1;return typeof T=="string"&&(T=I(T)),typeof T=="object"&&(X(T.r)&&X(T.g)&&X(T.b)?(L=c(T.r,T.g,T.b),ce=!0,we=String(T.r).substr(-1)==="%"?"prgb":"rgb"):X(T.h)&&X(T.s)&&X(T.v)?(Y=be(T.s),re=be(T.v),L=g(T.h,Y,re),ce=!0,we="hsv"):X(T.h)&&X(T.s)&&X(T.l)&&(Y=be(T.s),se=be(T.l),L=b(T.h,Y,se),ce=!0,we="hsl"),T.hasOwnProperty("a")&&($=T.a)),$=Z($),{ok:ce,format:T.format||we,r:o(255,s(L.r,0)),g:o(255,s(L.g,0)),b:o(255,s(L.b,0)),a:$}}function c(T,L,$){return{r:q(T,255)*255,g:q(L,255)*255,b:q($,255)*255}}function h(T,L,$){T=q(T,255),L=q(L,255),$=q($,255);var Y=s(T,L,$),re=o(T,L,$),se,ce,we=(Y+re)/2;if(Y==re)se=ce=0;else{var Se=Y-re;switch(ce=we>.5?Se/(2-Y-re):Se/(Y+re),Y){case T:se=(L-$)/Se+(L<$?6:0);break;case L:se=($-T)/Se+2;break;case $:se=(T-L)/Se+4;break}se/=6}return{h:se,s:ce,l:we}}function b(T,L,$){var Y,re,se;T=q(T,360),L=q(L,100),$=q($,100);function ce(Ie,Ze,He){return He<0&&(He+=1),He>1&&(He-=1),He<1/6?Ie+(Ze-Ie)*6*He:He<1/2?Ze:He<2/3?Ie+(Ze-Ie)*(2/3-He)*6:Ie}if(L===0)Y=re=se=$;else{var we=$<.5?$*(1+L):$+L-$*L,Se=2*$-we;Y=ce(Se,we,T+1/3),re=ce(Se,we,T),se=ce(Se,we,T-1/3)}return{r:Y*255,g:re*255,b:se*255}}function y(T,L,$){T=q(T,255),L=q(L,255),$=q($,255);var Y=s(T,L,$),re=o(T,L,$),se,ce,we=Y,Se=Y-re;if(ce=Y===0?0:Se/Y,Y==re)se=0;else{switch(Y){case T:se=(L-$)/Se+(L<$?6:0);break;case L:se=($-T)/Se+2;break;case $:se=(T-L)/Se+4;break}se/=6}return{h:se,s:ce,v:we}}function g(T,L,$){T=q(T,360)*6,L=q(L,100),$=q($,100);var Y=i.floor(T),re=T-Y,se=$*(1-L),ce=$*(1-re*L),we=$*(1-(1-re)*L),Se=Y%6,Ie=[$,ce,se,se,we,$][Se],Ze=[we,$,$,ce,se,se][Se],He=[se,se,we,$,$,ce][Se];return{r:Ie*255,g:Ze*255,b:He*255}}function m(T,L,$,Y){var re=[he(l(T).toString(16)),he(l(L).toString(16)),he(l($).toString(16))];return Y&&re[0].charAt(0)==re[0].charAt(1)&&re[1].charAt(0)==re[1].charAt(1)&&re[2].charAt(0)==re[2].charAt(1)?re[0].charAt(0)+re[1].charAt(0)+re[2].charAt(0):re.join("")}function v(T,L,$,Y,re){var se=[he(l(T).toString(16)),he(l(L).toString(16)),he(l($).toString(16)),he(H(Y))];return re&&se[0].charAt(0)==se[0].charAt(1)&&se[1].charAt(0)==se[1].charAt(1)&&se[2].charAt(0)==se[2].charAt(1)&&se[3].charAt(0)==se[3].charAt(1)?se[0].charAt(0)+se[1].charAt(0)+se[2].charAt(0)+se[3].charAt(0):se.join("")}function u(T,L,$,Y){var re=[he(H(Y)),he(l(T).toString(16)),he(l(L).toString(16)),he(l($).toString(16))];return re.join("")}t.equals=function(T,L){return!T||!L?!1:t(T).toRgbString()==t(L).toRgbString()},t.random=function(){return t.fromRatio({r:d(),g:d(),b:d()})};function f(T,L){L=L===0?0:L||10;var $=t(T).toHsl();return $.s-=L/100,$.s=ae($.s),t($)}function _(T,L){L=L===0?0:L||10;var $=t(T).toHsl();return $.s+=L/100,$.s=ae($.s),t($)}function w(T){return t(T).desaturate(100)}function k(T,L){L=L===0?0:L||10;var $=t(T).toHsl();return $.l+=L/100,$.l=ae($.l),t($)}function J(T,L){L=L===0?0:L||10;var $=t(T).toRgb();return $.r=s(0,o(255,$.r-l(255*-(L/100)))),$.g=s(0,o(255,$.g-l(255*-(L/100)))),$.b=s(0,o(255,$.b-l(255*-(L/100)))),t($)}function P(T,L){L=L===0?0:L||10;var $=t(T).toHsl();return $.l-=L/100,$.l=ae($.l),t($)}function O(T,L){var $=t(T).toHsl(),Y=($.h+L)%360;return $.h=Y<0?360+Y:Y,t($)}function M(T){var L=t(T).toHsl();return L.h=(L.h+180)%360,t(L)}function W(T){var L=t(T).toHsl(),$=L.h;return[t(T),t({h:($+120)%360,s:L.s,l:L.l}),t({h:($+240)%360,s:L.s,l:L.l})]}function E(T){var L=t(T).toHsl(),$=L.h;return[t(T),t({h:($+90)%360,s:L.s,l:L.l}),t({h:($+180)%360,s:L.s,l:L.l}),t({h:($+270)%360,s:L.s,l:L.l})]}function N(T){var L=t(T).toHsl(),$=L.h;return[t(T),t({h:($+72)%360,s:L.s,l:L.l}),t({h:($+216)%360,s:L.s,l:L.l})]}function R(T,L,$){L=L||6,$=$||30;var Y=t(T).toHsl(),re=360/$,se=[t(T)];for(Y.h=(Y.h-(re*L>>1)+720)%360;--L;)Y.h=(Y.h+re)%360,se.push(t(Y));return se}function V(T,L){L=L||6;for(var $=t(T).toHsv(),Y=$.h,re=$.s,se=$.v,ce=[],we=1/L;L--;)ce.push(t({h:Y,s:re,v:se})),se=(se+we)%1;return ce}t.mix=function(T,L,$){$=$===0?0:$||50;var Y=t(T).toRgb(),re=t(L).toRgb(),se=$/100,ce={r:(re.r-Y.r)*se+Y.r,g:(re.g-Y.g)*se+Y.g,b:(re.b-Y.b)*se+Y.b,a:(re.a-Y.a)*se+Y.a};return t(ce)},t.readability=function(T,L){var $=t(T),Y=t(L);return(i.max($.getLuminance(),Y.getLuminance())+.05)/(i.min($.getLuminance(),Y.getLuminance())+.05)},t.isReadable=function(T,L,$){var Y=t.readability(T,L),re,se;switch(se=!1,re=j($),re.level+re.size){case"AAsmall":case"AAAlarge":se=Y>=4.5;break;case"AAlarge":se=Y>=3;break;case"AAAsmall":se=Y>=7;break}return se},t.mostReadable=function(T,L,$){var Y=null,re=0,se,ce,we,Se;$=$||{},ce=$.includeFallbackColors,we=$.level,Se=$.size;for(var Ie=0;Ie<L.length;Ie++)se=t.readability(T,L[Ie]),se>re&&(re=se,Y=t(L[Ie]));return t.isReadable(T,Y,{level:we,size:Se})||!ce?Y:($.includeFallbackColors=!1,t.mostReadable(T,["#fff","#000"],$))};var U=t.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},G=t.hexNames=D(U);function D(T){var L={};for(var $ in T)T.hasOwnProperty($)&&(L[T[$]]=$);return L}function Z(T){return T=parseFloat(T),(isNaN(T)||T<0||T>1)&&(T=1),T}function q(T,L){ie(T)&&(T="100%");var $=fe(T);return T=o(L,s(0,parseFloat(T))),$&&(T=parseInt(T*L,10)/100),i.abs(T-L)<1e-6?1:T%L/parseFloat(L)}function ae(T){return o(1,s(0,T))}function te(T){return parseInt(T,16)}function ie(T){return typeof T=="string"&&T.indexOf(".")!=-1&&parseFloat(T)===1}function fe(T){return typeof T=="string"&&T.indexOf("%")!=-1}function he(T){return T.length==1?"0"+T:""+T}function be(T){return T<=1&&(T=T*100+"%"),T}function H(T){return i.round(parseFloat(T)*255).toString(16)}function B(T){return te(T)/255}var A=function(){var T="[-\\+]?\\d+%?",L="[-\\+]?\\d*\\.\\d+%?",$="(?:"+L+")|(?:"+T+")",Y="[\\s|\\(]+("+$+")[,|\\s]+("+$+")[,|\\s]+("+$+")\\s*\\)?",re="[\\s|\\(]+("+$+")[,|\\s]+("+$+")[,|\\s]+("+$+")[,|\\s]+("+$+")\\s*\\)?";return{CSS_UNIT:new RegExp($),rgb:new RegExp("rgb"+Y),rgba:new RegExp("rgba"+re),hsl:new RegExp("hsl"+Y),hsla:new RegExp("hsla"+re),hsv:new RegExp("hsv"+Y),hsva:new RegExp("hsva"+re),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function X(T){return!!A.CSS_UNIT.exec(T)}function I(T){T=T.replace(e,"").replace(n,"").toLowerCase();var L=!1;if(U[T])T=U[T],L=!0;else if(T=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var $;return($=A.rgb.exec(T))?{r:$[1],g:$[2],b:$[3]}:($=A.rgba.exec(T))?{r:$[1],g:$[2],b:$[3],a:$[4]}:($=A.hsl.exec(T))?{h:$[1],s:$[2],l:$[3]}:($=A.hsla.exec(T))?{h:$[1],s:$[2],l:$[3],a:$[4]}:($=A.hsv.exec(T))?{h:$[1],s:$[2],v:$[3]}:($=A.hsva.exec(T))?{h:$[1],s:$[2],v:$[3],a:$[4]}:($=A.hex8.exec(T))?{r:te($[1]),g:te($[2]),b:te($[3]),a:B($[4]),format:L?"name":"hex8"}:($=A.hex6.exec(T))?{r:te($[1]),g:te($[2]),b:te($[3]),format:L?"name":"hex"}:($=A.hex4.exec(T))?{r:te($[1]+""+$[1]),g:te($[2]+""+$[2]),b:te($[3]+""+$[3]),a:B($[4]+""+$[4]),format:L?"name":"hex8"}:($=A.hex3.exec(T))?{r:te($[1]+""+$[1]),g:te($[2]+""+$[2]),b:te($[3]+""+$[3]),format:L?"name":"hex"}:!1}function j(T){var L,$;return T=T||{level:"AA",size:"small"},L=(T.level||"AA").toUpperCase(),$=(T.size||"small").toLowerCase(),L!=="AA"&&L!=="AAA"&&(L="AA"),$!=="small"&&$!=="large"&&($="small"),{level:L,size:$}}typeof C<"u"&&C.exports?C.exports=t:window.tinycolor=t})(Math)}),Ca=ye(F=>{var C=kn(),i=Array.isArray;function e(r,l){var o,s;for(o=0;o<r.length;o++){if(s=r[o],s!==null&&typeof s=="object")return!1;s!==void 0&&(l[o]=s)}return!0}F.extendFlat=function(){return n(arguments,!1,!1,!1)},F.extendDeep=function(){return n(arguments,!0,!1,!1)},F.extendDeepAll=function(){return n(arguments,!0,!0,!1)},F.extendDeepNoArrays=function(){return n(arguments,!0,!1,!0)};function n(r,l,o,s){var d=r[0],t=r.length,p,c,h,b,y,g,m;if(t===2&&i(d)&&i(r[1])&&d.length===0){if(m=e(r[1],d),m)return d;d.splice(0,d.length)}for(var v=1;v<t;v++){p=r[v];for(c in p)h=d[c],b=p[c],s&&i(b)?d[c]=b:l&&b&&(C(b)||(y=i(b)))?(y?(y=!1,g=h&&i(h)?h:[]):g=h&&C(h)?h:{},d[c]=n([g,b],l,o,s)):(typeof b<"u"||o)&&(d[c]=b)}return d}}),Za=ye((F,C)=>{C.exports=function(i){var e=i.variantValues,n=i.editType,r=i.colorEditType;r===void 0&&(r=n);var l={editType:n,valType:"integer",min:1,max:1e3,extras:["normal","bold"],dflt:"normal"};i.noNumericWeightValues&&(l.valType="enumerated",l.values=l.extras,l.extras=void 0,l.min=void 0,l.max=void 0);var o={family:{valType:"string",noBlank:!0,strict:!0,editType:n},size:{valType:"number",min:1,editType:n},color:{valType:"color",editType:r},weight:l,style:{editType:n,valType:"enumerated",values:["normal","italic"],dflt:"normal"},variant:i.noFontVariant?void 0:{editType:n,valType:"enumerated",values:e||["normal","small-caps","all-small-caps","all-petite-caps","petite-caps","unicase"],dflt:"normal"},textcase:i.noFontTextcase?void 0:{editType:n,valType:"enumerated",values:["normal","word caps","upper","lower"],dflt:"normal"},lineposition:i.noFontLineposition?void 0:{editType:n,valType:"flaglist",flags:["under","over","through"],extras:["none"],dflt:"none"},shadow:i.noFontShadow?void 0:{editType:n,valType:"string",dflt:i.autoShadowDflt?"auto":"none"},editType:n};return i.autoSize&&(o.size.dflt="auto"),i.autoColor&&(o.color.dflt="auto"),i.arrayOk&&(o.family.arrayOk=!0,o.weight.arrayOk=!0,o.style.arrayOk=!0,i.noFontVariant||(o.variant.arrayOk=!0),i.noFontTextcase||(o.textcase.arrayOk=!0),i.noFontLineposition||(o.lineposition.arrayOk=!0),i.noFontShadow||(o.shadow.arrayOk=!0),o.size.arrayOk=!0,o.color.arrayOk=!0),o}}),zr=ye((F,C)=>{C.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}}),Hr=ye((F,C)=>{var i=zr(),e=Za(),n=e({editType:"none"});n.family.dflt=i.HOVERFONT,n.size.dflt=i.HOVERFONTSIZE,C.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoversubplots:{valType:"enumerated",values:["single","overlaying","axis"],dflt:"overlaying",editType:"none"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:n,grouptitlefont:e({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}}),li=ye((F,C)=>{var i=Za(),e=Hr().hoverlabel,n=Ca().extendFlat;C.exports={hoverlabel:{bgcolor:n({},e.bgcolor,{arrayOk:!0}),bordercolor:n({},e.bordercolor,{arrayOk:!0}),font:i({arrayOk:!0,editType:"none"}),align:n({},e.align,{arrayOk:!0}),namelength:n({},e.namelength,{arrayOk:!0}),editType:"none"}}}),Er=ye((F,C)=>{var i=Za(),e=li();C.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:i({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:e.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},uirevision:{valType:"any",editType:"none"}}}),pr=ye((F,C)=>{var i=Va(),e={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},n=e.RdBu;function r(s,d){if(d||(d=n),!s)return d;function t(){try{s=e[s]||JSON.parse(s)}catch{s=d}}return typeof s=="string"&&(t(),typeof s=="string"&&t()),l(s)?s:d}function l(s){var d=0;if(!Array.isArray(s)||s.length<2||!s[0]||!s[s.length-1]||+s[0][0]!=0||+s[s.length-1][0]!=1)return!1;for(var t=0;t<s.length;t++){var p=s[t];if(p.length!==2||+p[0]<d||!i(p[1]).isValid())return!1;d=+p[0]}return!0}function o(s){return e[s]!==void 0?!0:l(s)}C.exports={scales:e,defaultScale:n,get:r,isValid:o}}),kr=ye(F=>{F.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],F.defaultLine="#444",F.lightLine="#eee",F.background="#fff",F.borderLine="#BEC8D9",F.lightFraction=100*10/11}),$n=ye((F,C)=>{var i=Va(),e=on(),n=aa().isTypedArray,r=C.exports={},l=kr();r.defaults=l.defaults;var o=r.defaultLine=l.defaultLine;r.lightLine=l.lightLine;var s=r.background=l.background;r.tinyRGB=function(t){var p=t.toRgb();return"rgb("+Math.round(p.r)+", "+Math.round(p.g)+", "+Math.round(p.b)+")"},r.rgb=function(t){return r.tinyRGB(i(t))},r.opacity=function(t){return t?i(t).getAlpha():0},r.addOpacity=function(t,p){var c=i(t).toRgb();return"rgba("+Math.round(c.r)+", "+Math.round(c.g)+", "+Math.round(c.b)+", "+p+")"},r.combine=function(t,p){var c=i(t).toRgb();if(c.a===1)return i(t).toRgbString();var h=i(p||s).toRgb(),b=h.a===1?h:{r:255*(1-h.a)+h.r*h.a,g:255*(1-h.a)+h.g*h.a,b:255*(1-h.a)+h.b*h.a},y={r:b.r*(1-c.a)+c.r*c.a,g:b.g*(1-c.a)+c.g*c.a,b:b.b*(1-c.a)+c.b*c.a};return i(y).toRgbString()},r.interpolate=function(t,p,c){var h=i(t).toRgb(),b=i(p).toRgb(),y={r:c*h.r+(1-c)*b.r,g:c*h.g+(1-c)*b.g,b:c*h.b+(1-c)*b.b};return i(y).toRgbString()},r.contrast=function(t,p,c){var h=i(t);h.getAlpha()!==1&&(h=i(r.combine(t,s)));var b=h.isDark()?p?h.lighten(p):s:c?h.darken(c):o;return b.toString()},r.stroke=function(t,p){var c=i(p);t.style({stroke:r.tinyRGB(c),"stroke-opacity":c.getAlpha()})},r.fill=function(t,p){var c=i(p);t.style({fill:r.tinyRGB(c),"fill-opacity":c.getAlpha()})},r.clean=function(t){if(!(!t||typeof t!="object")){var p=Object.keys(t),c,h,b,y;for(c=0;c<p.length;c++)if(b=p[c],y=t[b],b.substr(b.length-5)==="color")if(Array.isArray(y))for(h=0;h<y.length;h++)y[h]=d(y[h]);else t[b]=d(y);else if(b.substr(b.length-10)==="colorscale"&&Array.isArray(y))for(h=0;h<y.length;h++)Array.isArray(y[h])&&(y[h][1]=d(y[h][1]));else if(Array.isArray(y)){var g=y[0];if(!Array.isArray(g)&&g&&typeof g=="object")for(h=0;h<y.length;h++)r.clean(y[h])}else y&&typeof y=="object"&&!n(y)&&r.clean(y)}};function d(t){if(e(t)||typeof t!="string")return t;var p=t.trim();if(p.substr(0,3)!=="rgb")return t;var c=p.match(/^rgba?\s*\(([^()]*)\)$/);if(!c)return t;var h=c[1].trim().split(/\s*[\s,]\s*/),b=p.charAt(3)==="a"&&h.length===4;if(!b&&h.length!==3)return t;for(var y=0;y<h.length;y++){if(!h[y].length||(h[y]=Number(h[y]),!(h[y]>=0)))return t;if(y===3)h[y]>1&&(h[y]=1);else if(h[y]>=1)return t}var g=Math.round(h[0]*255)+", "+Math.round(h[1]*255)+", "+Math.round(h[2]*255);return b?"rgba("+g+", "+h[3]+")":"rgb("+g+")"}}),Ir=ye((F,C)=>{C.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}}),Yr=ye(F=>{F.counter=function(C,i,e,n){var r=(i||"")+(e?"":"$"),l=n===!1?"":"^";return C==="xy"?new RegExp(l+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+r):new RegExp(l+C+"([2-9]|[1-9][0-9]+)?"+r)}}),qa=ye(F=>{var C=on(),i=Va(),e=Ca().extendFlat,n=Er(),r=pr(),l=$n(),o=Ir().DESELECTDIM,s=sa(),d=Yr().counter,t=dr().modHalf,p=aa().isArrayOrTypedArray,c=aa().isTypedArraySpec,h=aa().decodeTypedArraySpec;F.valObjectMeta={data_array:{coerceFunction:function(y,g,m){g.set(p(y)?y:c(y)?h(y):m)}},enumerated:{coerceFunction:function(y,g,m,v){v.coerceNumber&&(y=+y),v.values.indexOf(y)===-1?g.set(m):g.set(y)},validateFunction:function(y,g){g.coerceNumber&&(y=+y);for(var m=g.values,v=0;v<m.length;v++){var u=String(m[v]);if(u.charAt(0)==="/"&&u.charAt(u.length-1)==="/"){var f=new RegExp(u.substr(1,u.length-2));if(f.test(y))return!0}else if(y===m[v])return!0}return!1}},boolean:{coerceFunction:function(y,g,m){y===!0||y===!1?g.set(y):g.set(m)}},number:{coerceFunction:function(y,g,m,v){c(y)&&(y=h(y)),!C(y)||v.min!==void 0&&y<v.min||v.max!==void 0&&y>v.max?g.set(m):g.set(+y)}},integer:{coerceFunction:function(y,g,m,v){if((v.extras||[]).indexOf(y)!==-1){g.set(y);return}c(y)&&(y=h(y)),y%1||!C(y)||v.min!==void 0&&y<v.min||v.max!==void 0&&y>v.max?g.set(m):g.set(+y)}},string:{coerceFunction:function(y,g,m,v){if(typeof y!="string"){var u=typeof y=="number";v.strict===!0||!u?g.set(m):g.set(String(y))}else v.noBlank&&!y?g.set(m):g.set(y)}},color:{coerceFunction:function(y,g,m){c(y)&&(y=h(y)),i(y).isValid()?g.set(y):g.set(m)}},colorlist:{coerceFunction:function(y,g,m){function v(u){return i(u).isValid()}!Array.isArray(y)||!y.length?g.set(m):y.every(v)?g.set(y):g.set(m)}},colorscale:{coerceFunction:function(y,g,m){g.set(r.get(y,m))}},angle:{coerceFunction:function(y,g,m){c(y)&&(y=h(y)),y==="auto"?g.set("auto"):C(y)?g.set(t(+y,360)):g.set(m)}},subplotid:{coerceFunction:function(y,g,m,v){var u=v.regex||d(m);if(typeof y=="string"&&u.test(y)){g.set(y);return}g.set(m)},validateFunction:function(y,g){var m=g.dflt;return y===m?!0:typeof y!="string"?!1:!!d(m).test(y)}},flaglist:{coerceFunction:function(y,g,m,v){if((v.extras||[]).indexOf(y)!==-1){g.set(y);return}if(typeof y!="string"){g.set(m);return}for(var u=y.split("+"),f=0;f<u.length;){var _=u[f];v.flags.indexOf(_)===-1||u.indexOf(_)<f?u.splice(f,1):f++}u.length?g.set(u.join("+")):g.set(m)}},any:{coerceFunction:function(y,g,m){y===void 0?g.set(m):g.set(c(y)?h(y):y)}},info_array:{coerceFunction:function(y,g,m,v){function u(U,G,D){var Z,q={set:function(ae){Z=ae}};return D===void 0&&(D=G.dflt),F.valObjectMeta[G.valType].coerceFunction(U,q,D,G),Z}if(c(y)&&(y=h(y)),!p(y)){g.set(m);return}var f=v.dimensions===2||v.dimensions==="1-2"&&Array.isArray(y)&&p(y[0]),_=v.items,w=[],k=Array.isArray(_),J=k&&f&&p(_[0]),P=f&&k&&!J,O=k&&!P?_.length:y.length,M,W,E,N,R,V;if(m=Array.isArray(m)?m:[],f)for(M=0;M<O;M++)for(w[M]=[],E=p(y[M])?y[M]:[],P?R=_.length:k?R=_[M].length:R=E.length,W=0;W<R;W++)P?N=_[W]:k?N=_[M][W]:N=_,V=u(E[W],N,(m[M]||[])[W]),V!==void 0&&(w[M][W]=V);else for(M=0;M<O;M++)V=u(y[M],k?_[M]:_,m[M]),V!==void 0&&(w[M]=V);g.set(w)},validateFunction:function(y,g){if(!p(y))return!1;var m=g.items,v=Array.isArray(m),u=g.dimensions===2;if(!g.freeLength&&y.length!==m.length)return!1;for(var f=0;f<y.length;f++)if(u){if(!p(y[f])||!g.freeLength&&y[f].length!==m[f].length)return!1;for(var _=0;_<y[f].length;_++)if(!b(y[f][_],v?m[f][_]:m))return!1}else if(!b(y[f],v?m[f]:m))return!1;return!0}}},F.coerce=function(y,g,m,v,u){var f=s(m,v).get(),_=s(y,v),w=s(g,v),k=_.get(),J=g._template;if(k===void 0&&J&&(k=s(J,v).get(),J=0),u===void 0&&(u=f.dflt),f.arrayOk){if(p(k))return w.set(k),k;if(c(k))return k=h(k),w.set(k),k}var P=F.valObjectMeta[f.valType].coerceFunction;P(k,w,u,f);var O=w.get();return J&&O===u&&!b(k,f)&&(k=s(J,v).get(),P(k,w,u,f),O=w.get()),O},F.coerce2=function(y,g,m,v,u){var f=s(y,v),_=F.coerce(y,g,m,v,u),w=f.get();return w!=null?_:!1},F.coerceFont=function(y,g,m,v){v||(v={}),m=e({},m),m=e(m,v.overrideDflt||{});var u={family:y(g+".family",m.family),size:y(g+".size",m.size),color:y(g+".color",m.color),weight:y(g+".weight",m.weight),style:y(g+".style",m.style)};if(v.noFontVariant||(u.variant=y(g+".variant",m.variant)),v.noFontLineposition||(u.lineposition=y(g+".lineposition",m.lineposition)),v.noFontTextcase||(u.textcase=y(g+".textcase",m.textcase)),!v.noFontShadow){var f=m.shadow;f==="none"&&v.autoShadowDflt&&(f="auto"),u.shadow=y(g+".shadow",f)}return u},F.coercePattern=function(y,g,m,v){var u=y(g+".shape");if(u){y(g+".solidity"),y(g+".size");var f=y(g+".fillmode"),_=f==="overlay";if(!v){var w=y(g+".bgcolor",_?m:void 0);y(g+".fgcolor",_?l.contrast(w):m)}y(g+".fgopacity",_?.5:1)}},F.coerceHoverinfo=function(y,g,m){var v=g._module.attributes,u=v.hoverinfo?v:n,f=u.hoverinfo,_;if(m._dataLength===1){var w=f.dflt==="all"?f.flags.slice():f.dflt.split("+");w.splice(w.indexOf("name"),1),_=w.join("+")}return F.coerce(y,g,u,"hoverinfo",_)},F.coerceSelectionMarkerOpacity=function(y,g){if(y.marker){var m=y.marker.opacity;if(m!==void 0){var v,u;!p(m)&&!y.selected&&!y.unselected&&(v=m,u=o*m),g("selected.marker.opacity",v),g("unselected.marker.opacity",u)}}};function b(y,g){var m=F.valObjectMeta[g.valType];if(g.arrayOk&&p(y))return!0;if(m.validateFunction)return m.validateFunction(y,g);var v={},u=v,f={set:function(_){u=_}};return m.coerceFunction(y,f,v,g),u!==v}F.validate=b}),Ya=ye((F,C)=>{var i={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox","map"],extras:[!0,!1],dflt:"gl3d+geo+map"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};function n(r,l){for(var o in r){var s=r[o];s.valType?l[o]=s.dflt:(l[o]||(l[o]={}),n(s,l[o]))}}n(i,e),C.exports={configAttributes:i,dfltConfig:e}}),si=ye((F,C)=>{var i=Xt(),e=on(),n=[];C.exports=function(r,l){if(n.indexOf(r)!==-1)return;n.push(r);var o=1e3;e(l)?o=l:l==="long"&&(o=3e3);var s=i.select("body").selectAll(".plotly-notifier").data([0]);s.enter().append("div").classed("plotly-notifier",!0);var d=s.selectAll(".notifier-note").data(n);function t(p){p.duration(700).style("opacity",0).each("end",function(c){var h=n.indexOf(c);h!==-1&&n.splice(h,1),i.select(this).remove()})}d.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(p){var c=i.select(this);c.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){c.transition().call(t)});for(var h=c.append("p"),b=p.split(/<br\s*\/?>/g),y=0;y<b.length;y++)y&&h.append("br"),h.append("span").text(b[y]);l==="stick"?c.transition().duration(350).style("opacity",1):c.transition().duration(700).style("opacity",1).transition().delay(o).call(t)})}}),Fr=ye((F,C)=>{var i=Ya().dfltConfig,e=si(),n=C.exports={};n.log=function(){var r;if(i.logging>1){var l=["LOG:"];for(r=0;r<arguments.length;r++)l.push(arguments[r]);console.trace.apply(console,l)}if(i.notifyOnLogging>1){var o=[];for(r=0;r<arguments.length;r++)o.push(arguments[r]);e(o.join("<br>"),"long")}},n.warn=function(){var r;if(i.logging>0){var l=["WARN:"];for(r=0;r<arguments.length;r++)l.push(arguments[r]);console.trace.apply(console,l)}if(i.notifyOnLogging>0){var o=[];for(r=0;r<arguments.length;r++)o.push(arguments[r]);e(o.join("<br>"),"stick")}},n.error=function(){var r;if(i.logging>0){var l=["ERROR:"];for(r=0;r<arguments.length;r++)l.push(arguments[r]);console.error.apply(console,l)}if(i.notifyOnLogging>0){var o=[];for(r=0;r<arguments.length;r++)o.push(arguments[r]);e(o.join("<br>"),"stick")}}}),mi=ye((F,C)=>{C.exports=function(){}}),cn=ye((F,C)=>{C.exports=function(i,e){if(e instanceof RegExp){for(var n=e.toString(),r=0;r<i.length;r++)if(i[r]instanceof RegExp&&i[r].toString()===n)return i;i.push(e)}else(e||e===0)&&i.indexOf(e)===-1&&i.push(e);return i}}),Sn=ye((F,C)=>{C.exports=i;function i(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}}),La=ye((F,C)=>{C.exports=i;function i(e){var n=new Float32Array(16);return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n}}),zn=ye((F,C)=>{C.exports=i;function i(e,n){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],e}}),Xn=ye((F,C)=>{C.exports=i;function i(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}}),Ln=ye((F,C)=>{C.exports=i;function i(e,n){if(e===n){var r=n[1],l=n[2],o=n[3],s=n[6],d=n[7],t=n[11];e[1]=n[4],e[2]=n[8],e[3]=n[12],e[4]=r,e[6]=n[9],e[7]=n[13],e[8]=l,e[9]=s,e[11]=n[14],e[12]=o,e[13]=d,e[14]=t}else e[0]=n[0],e[1]=n[4],e[2]=n[8],e[3]=n[12],e[4]=n[1],e[5]=n[5],e[6]=n[9],e[7]=n[13],e[8]=n[2],e[9]=n[6],e[10]=n[10],e[11]=n[14],e[12]=n[3],e[13]=n[7],e[14]=n[11],e[15]=n[15];return e}}),Rn=ye((F,C)=>{C.exports=i;function i(e,n){var r=n[0],l=n[1],o=n[2],s=n[3],d=n[4],t=n[5],p=n[6],c=n[7],h=n[8],b=n[9],y=n[10],g=n[11],m=n[12],v=n[13],u=n[14],f=n[15],_=r*t-l*d,w=r*p-o*d,k=r*c-s*d,J=l*p-o*t,P=l*c-s*t,O=o*c-s*p,M=h*v-b*m,W=h*u-y*m,E=h*f-g*m,N=b*u-y*v,R=b*f-g*v,V=y*f-g*u,U=_*V-w*R+k*N+J*E-P*W+O*M;return U?(U=1/U,e[0]=(t*V-p*R+c*N)*U,e[1]=(o*R-l*V-s*N)*U,e[2]=(v*O-u*P+f*J)*U,e[3]=(y*P-b*O-g*J)*U,e[4]=(p*E-d*V-c*W)*U,e[5]=(r*V-o*E+s*W)*U,e[6]=(u*k-m*O-f*w)*U,e[7]=(h*O-y*k+g*w)*U,e[8]=(d*R-t*E+c*M)*U,e[9]=(l*E-r*R-s*M)*U,e[10]=(m*P-v*k+f*_)*U,e[11]=(b*k-h*P-g*_)*U,e[12]=(t*W-d*N-p*M)*U,e[13]=(r*N-l*W+o*M)*U,e[14]=(v*w-m*J-u*_)*U,e[15]=(h*J-b*w+y*_)*U,e):null}}),qt=ye((F,C)=>{C.exports=i;function i(e,n){var r=n[0],l=n[1],o=n[2],s=n[3],d=n[4],t=n[5],p=n[6],c=n[7],h=n[8],b=n[9],y=n[10],g=n[11],m=n[12],v=n[13],u=n[14],f=n[15];return e[0]=t*(y*f-g*u)-b*(p*f-c*u)+v*(p*g-c*y),e[1]=-(l*(y*f-g*u)-b*(o*f-s*u)+v*(o*g-s*y)),e[2]=l*(p*f-c*u)-t*(o*f-s*u)+v*(o*c-s*p),e[3]=-(l*(p*g-c*y)-t*(o*g-s*y)+b*(o*c-s*p)),e[4]=-(d*(y*f-g*u)-h*(p*f-c*u)+m*(p*g-c*y)),e[5]=r*(y*f-g*u)-h*(o*f-s*u)+m*(o*g-s*y),e[6]=-(r*(p*f-c*u)-d*(o*f-s*u)+m*(o*c-s*p)),e[7]=r*(p*g-c*y)-d*(o*g-s*y)+h*(o*c-s*p),e[8]=d*(b*f-g*v)-h*(t*f-c*v)+m*(t*g-c*b),e[9]=-(r*(b*f-g*v)-h*(l*f-s*v)+m*(l*g-s*b)),e[10]=r*(t*f-c*v)-d*(l*f-s*v)+m*(l*c-s*t),e[11]=-(r*(t*g-c*b)-d*(l*g-s*b)+h*(l*c-s*t)),e[12]=-(d*(b*u-y*v)-h*(t*u-p*v)+m*(t*y-p*b)),e[13]=r*(b*u-y*v)-h*(l*u-o*v)+m*(l*y-o*b),e[14]=-(r*(t*u-p*v)-d*(l*u-o*v)+m*(l*p-o*t)),e[15]=r*(t*y-p*b)-d*(l*y-o*b)+h*(l*p-o*t),e}}),An=ye((F,C)=>{C.exports=i;function i(e){var n=e[0],r=e[1],l=e[2],o=e[3],s=e[4],d=e[5],t=e[6],p=e[7],c=e[8],h=e[9],b=e[10],y=e[11],g=e[12],m=e[13],v=e[14],u=e[15],f=n*d-r*s,_=n*t-l*s,w=n*p-o*s,k=r*t-l*d,J=r*p-o*d,P=l*p-o*t,O=c*m-h*g,M=c*v-b*g,W=c*u-y*g,E=h*v-b*m,N=h*u-y*m,R=b*u-y*v;return f*R-_*N+w*E+k*W-J*M+P*O}}),Hn=ye((F,C)=>{C.exports=i;function i(e,n,r){var l=n[0],o=n[1],s=n[2],d=n[3],t=n[4],p=n[5],c=n[6],h=n[7],b=n[8],y=n[9],g=n[10],m=n[11],v=n[12],u=n[13],f=n[14],_=n[15],w=r[0],k=r[1],J=r[2],P=r[3];return e[0]=w*l+k*t+J*b+P*v,e[1]=w*o+k*p+J*y+P*u,e[2]=w*s+k*c+J*g+P*f,e[3]=w*d+k*h+J*m+P*_,w=r[4],k=r[5],J=r[6],P=r[7],e[4]=w*l+k*t+J*b+P*v,e[5]=w*o+k*p+J*y+P*u,e[6]=w*s+k*c+J*g+P*f,e[7]=w*d+k*h+J*m+P*_,w=r[8],k=r[9],J=r[10],P=r[11],e[8]=w*l+k*t+J*b+P*v,e[9]=w*o+k*p+J*y+P*u,e[10]=w*s+k*c+J*g+P*f,e[11]=w*d+k*h+J*m+P*_,w=r[12],k=r[13],J=r[14],P=r[15],e[12]=w*l+k*t+J*b+P*v,e[13]=w*o+k*p+J*y+P*u,e[14]=w*s+k*c+J*g+P*f,e[15]=w*d+k*h+J*m+P*_,e}}),Aa=ye((F,C)=>{C.exports=i;function i(e,n,r){var l=r[0],o=r[1],s=r[2],d,t,p,c,h,b,y,g,m,v,u,f;return n===e?(e[12]=n[0]*l+n[4]*o+n[8]*s+n[12],e[13]=n[1]*l+n[5]*o+n[9]*s+n[13],e[14]=n[2]*l+n[6]*o+n[10]*s+n[14],e[15]=n[3]*l+n[7]*o+n[11]*s+n[15]):(d=n[0],t=n[1],p=n[2],c=n[3],h=n[4],b=n[5],y=n[6],g=n[7],m=n[8],v=n[9],u=n[10],f=n[11],e[0]=d,e[1]=t,e[2]=p,e[3]=c,e[4]=h,e[5]=b,e[6]=y,e[7]=g,e[8]=m,e[9]=v,e[10]=u,e[11]=f,e[12]=d*l+h*o+m*s+n[12],e[13]=t*l+b*o+v*s+n[13],e[14]=p*l+y*o+u*s+n[14],e[15]=c*l+g*o+f*s+n[15]),e}}),Wn=ye((F,C)=>{C.exports=i;function i(e,n,r){var l=r[0],o=r[1],s=r[2];return e[0]=n[0]*l,e[1]=n[1]*l,e[2]=n[2]*l,e[3]=n[3]*l,e[4]=n[4]*o,e[5]=n[5]*o,e[6]=n[6]*o,e[7]=n[7]*o,e[8]=n[8]*s,e[9]=n[9]*s,e[10]=n[10]*s,e[11]=n[11]*s,e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],e}}),Rt=ye((F,C)=>{C.exports=i;function i(e,n,r,l){var o=l[0],s=l[1],d=l[2],t=Math.sqrt(o*o+s*s+d*d),p,c,h,b,y,g,m,v,u,f,_,w,k,J,P,O,M,W,E,N,R,V,U,G;return Math.abs(t)<1e-6?null:(t=1/t,o*=t,s*=t,d*=t,p=Math.sin(r),c=Math.cos(r),h=1-c,b=n[0],y=n[1],g=n[2],m=n[3],v=n[4],u=n[5],f=n[6],_=n[7],w=n[8],k=n[9],J=n[10],P=n[11],O=o*o*h+c,M=s*o*h+d*p,W=d*o*h-s*p,E=o*s*h-d*p,N=s*s*h+c,R=d*s*h+o*p,V=o*d*h+s*p,U=s*d*h-o*p,G=d*d*h+c,e[0]=b*O+v*M+w*W,e[1]=y*O+u*M+k*W,e[2]=g*O+f*M+J*W,e[3]=m*O+_*M+P*W,e[4]=b*E+v*N+w*R,e[5]=y*E+u*N+k*R,e[6]=g*E+f*N+J*R,e[7]=m*E+_*N+P*R,e[8]=b*V+v*U+w*G,e[9]=y*V+u*U+k*G,e[10]=g*V+f*U+J*G,e[11]=m*V+_*U+P*G,n!==e&&(e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15]),e)}}),un=ye((F,C)=>{C.exports=i;function i(e,n,r){var l=Math.sin(r),o=Math.cos(r),s=n[4],d=n[5],t=n[6],p=n[7],c=n[8],h=n[9],b=n[10],y=n[11];return n!==e&&(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15]),e[4]=s*o+c*l,e[5]=d*o+h*l,e[6]=t*o+b*l,e[7]=p*o+y*l,e[8]=c*o-s*l,e[9]=h*o-d*l,e[10]=b*o-t*l,e[11]=y*o-p*l,e}}),fn=ye((F,C)=>{C.exports=i;function i(e,n,r){var l=Math.sin(r),o=Math.cos(r),s=n[0],d=n[1],t=n[2],p=n[3],c=n[8],h=n[9],b=n[10],y=n[11];return n!==e&&(e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15]),e[0]=s*o-c*l,e[1]=d*o-h*l,e[2]=t*o-b*l,e[3]=p*o-y*l,e[8]=s*l+c*o,e[9]=d*l+h*o,e[10]=t*l+b*o,e[11]=p*l+y*o,e}}),Jn=ye((F,C)=>{C.exports=i;function i(e,n,r){var l=Math.sin(r),o=Math.cos(r),s=n[0],d=n[1],t=n[2],p=n[3],c=n[4],h=n[5],b=n[6],y=n[7];return n!==e&&(e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15]),e[0]=s*o+c*l,e[1]=d*o+h*l,e[2]=t*o+b*l,e[3]=p*o+y*l,e[4]=c*o-s*l,e[5]=h*o-d*l,e[6]=b*o-t*l,e[7]=y*o-p*l,e}}),ya=ye((F,C)=>{C.exports=i;function i(e,n,r){var l,o,s,d=r[0],t=r[1],p=r[2],c=Math.sqrt(d*d+t*t+p*p);return Math.abs(c)<1e-6?null:(c=1/c,d*=c,t*=c,p*=c,l=Math.sin(n),o=Math.cos(n),s=1-o,e[0]=d*d*s+o,e[1]=t*d*s+p*l,e[2]=p*d*s-t*l,e[3]=0,e[4]=d*t*s-p*l,e[5]=t*t*s+o,e[6]=p*t*s+d*l,e[7]=0,e[8]=d*p*s+t*l,e[9]=t*p*s-d*l,e[10]=p*p*s+o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}}),ta=ye((F,C)=>{C.exports=i;function i(e,n,r){var l=n[0],o=n[1],s=n[2],d=n[3],t=l+l,p=o+o,c=s+s,h=l*t,b=l*p,y=l*c,g=o*p,m=o*c,v=s*c,u=d*t,f=d*p,_=d*c;return e[0]=1-(g+v),e[1]=b+_,e[2]=y-f,e[3]=0,e[4]=b-_,e[5]=1-(h+v),e[6]=m+u,e[7]=0,e[8]=y+f,e[9]=m-u,e[10]=1-(h+g),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}}),Sa=ye((F,C)=>{C.exports=i;function i(e,n){return e[0]=n[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=n[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}}),Qt=ye((F,C)=>{C.exports=i;function i(e,n){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}}),oa=ye((F,C)=>{C.exports=i;function i(e,n){var r=Math.sin(n),l=Math.cos(n);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=l,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}}),mn=ye((F,C)=>{C.exports=i;function i(e,n){var r=Math.sin(n),l=Math.cos(n);return e[0]=l,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}}),En=ye((F,C)=>{C.exports=i;function i(e,n){var r=Math.sin(n),l=Math.cos(n);return e[0]=l,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}}),Vn=ye((F,C)=>{C.exports=i;function i(e,n){var r=n[0],l=n[1],o=n[2],s=n[3],d=r+r,t=l+l,p=o+o,c=r*d,h=l*d,b=l*t,y=o*d,g=o*t,m=o*p,v=s*d,u=s*t,f=s*p;return e[0]=1-b-m,e[1]=h+f,e[2]=y-u,e[3]=0,e[4]=h-f,e[5]=1-c-m,e[6]=g+v,e[7]=0,e[8]=y+u,e[9]=g-v,e[10]=1-c-b,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}}),ar=ye((F,C)=>{C.exports=i;function i(e,n,r,l,o,s,d){var t=1/(r-n),p=1/(o-l),c=1/(s-d);return e[0]=s*2*t,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s*2*p,e[6]=0,e[7]=0,e[8]=(r+n)*t,e[9]=(o+l)*p,e[10]=(d+s)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=d*s*2*c,e[15]=0,e}}),Yn=ye((F,C)=>{C.exports=i;function i(e,n,r,l,o){var s=1/Math.tan(n/2),d=1/(l-o);return e[0]=s/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(o+l)*d,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*o*l*d,e[15]=0,e}}),Mn=ye((F,C)=>{C.exports=i;function i(e,n,r,l){var o=Math.tan(n.upDegrees*Math.PI/180),s=Math.tan(n.downDegrees*Math.PI/180),d=Math.tan(n.leftDegrees*Math.PI/180),t=Math.tan(n.rightDegrees*Math.PI/180),p=2/(d+t),c=2/(o+s);return e[0]=p,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-((d-t)*p*.5),e[9]=(o-s)*c*.5,e[10]=l/(r-l),e[11]=-1,e[12]=0,e[13]=0,e[14]=l*r/(r-l),e[15]=0,e}}),ca=ye((F,C)=>{C.exports=i;function i(e,n,r,l,o,s,d){var t=1/(n-r),p=1/(l-o),c=1/(s-d);return e[0]=-2*t,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*p,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(n+r)*t,e[13]=(o+l)*p,e[14]=(d+s)*c,e[15]=1,e}}),$a=ye((F,C)=>{var i=Xn();C.exports=e;function e(n,r,l,o){var s,d,t,p,c,h,b,y,g,m,v=r[0],u=r[1],f=r[2],_=o[0],w=o[1],k=o[2],J=l[0],P=l[1],O=l[2];return Math.abs(v-J)<1e-6&&Math.abs(u-P)<1e-6&&Math.abs(f-O)<1e-6?i(n):(b=v-J,y=u-P,g=f-O,m=1/Math.sqrt(b*b+y*y+g*g),b*=m,y*=m,g*=m,s=w*g-k*y,d=k*b-_*g,t=_*y-w*b,m=Math.sqrt(s*s+d*d+t*t),m?(m=1/m,s*=m,d*=m,t*=m):(s=0,d=0,t=0),p=y*t-g*d,c=g*s-b*t,h=b*d-y*s,m=Math.sqrt(p*p+c*c+h*h),m?(m=1/m,p*=m,c*=m,h*=m):(p=0,c=0,h=0),n[0]=s,n[1]=p,n[2]=b,n[3]=0,n[4]=d,n[5]=c,n[6]=y,n[7]=0,n[8]=t,n[9]=h,n[10]=g,n[11]=0,n[12]=-(s*v+d*u+t*f),n[13]=-(p*v+c*u+h*f),n[14]=-(b*v+y*u+g*f),n[15]=1,n)}}),_n=ye((F,C)=>{C.exports=i;function i(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}}),Xa=ye((F,C)=>{C.exports={create:Sn(),clone:La(),copy:zn(),identity:Xn(),transpose:Ln(),invert:Rn(),adjoint:qt(),determinant:An(),multiply:Hn(),translate:Aa(),scale:Wn(),rotate:Rt(),rotateX:un(),rotateY:fn(),rotateZ:Jn(),fromRotation:ya(),fromRotationTranslation:ta(),fromScaling:Sa(),fromTranslation:Qt(),fromXRotation:oa(),fromYRotation:mn(),fromZRotation:En(),fromQuat:Vn(),frustum:ar(),perspective:Yn(),perspectiveFromFieldOfView:Mn(),ortho:ca(),lookAt:$a(),str:_n()}}),Ar=ye(F=>{var C=Xa();F.init2dArray=function(i,e){for(var n=new Array(i),r=0;r<i;r++)n[r]=new Array(e);return n},F.transposeRagged=function(i){var e=0,n=i.length,r,l;for(r=0;r<n;r++)e=Math.max(e,i[r].length);var o=new Array(e);for(r=0;r<e;r++)for(o[r]=new Array(n),l=0;l<n;l++)o[r][l]=i[l][r];return o},F.dot=function(i,e){if(!(i.length&&e.length)||i.length!==e.length)return null;var n=i.length,r,l;if(i[0].length)for(r=new Array(n),l=0;l<n;l++)r[l]=F.dot(i[l],e);else if(e[0].length){var o=F.transposeRagged(e);for(r=new Array(o.length),l=0;l<o.length;l++)r[l]=F.dot(i,o[l])}else for(r=0,l=0;l<n;l++)r+=i[l]*e[l];return r},F.translationMatrix=function(i,e){return[[1,0,i],[0,1,e],[0,0,1]]},F.rotationMatrix=function(i){var e=i*Math.PI/180;return[[Math.cos(e),-Math.sin(e),0],[Math.sin(e),Math.cos(e),0],[0,0,1]]},F.rotationXYMatrix=function(i,e,n){return F.dot(F.dot(F.translationMatrix(e,n),F.rotationMatrix(i)),F.translationMatrix(-e,-n))},F.apply3DTransform=function(i){return function(){var e=arguments,n=arguments.length===1?e[0]:[e[0],e[1],e[2]||0];return F.dot(i,[n[0],n[1],n[2],1]).slice(0,3)}},F.apply2DTransform=function(i){return function(){var e=arguments;e.length===3&&(e=e[0]);var n=arguments.length===1?e[0]:[e[0],e[1]];return F.dot(i,[n[0],n[1],1]).slice(0,2)}},F.apply2DTransform2=function(i){var e=F.apply2DTransform(i);return function(n){return e(n.slice(0,2)).concat(e(n.slice(2,4)))}},F.convertCssMatrix=function(i){if(i){var e=i.length;if(e===16)return i;if(e===6)return[i[0],i[1],0,0,i[2],i[3],0,0,0,0,1,0,i[4],i[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},F.inverseTransformMatrix=function(i){var e=[];return C.invert(e,i),[[e[0],e[1],e[2],e[3]],[e[4],e[5],e[6],e[7]],[e[8],e[9],e[10],e[11]],[e[12],e[13],e[14],e[15]]]}}),vr=ye((F,C)=>{var i=Xt(),e=Fr(),n=Ar(),r=Xa();function l(v){var u;if(typeof v=="string"){if(u=document.getElementById(v),u===null)throw new Error("No DOM element with id '"+v+"' exists on the page.");return u}else if(v==null)throw new Error("DOM element provided is null or undefined");return v}function o(v){var u=i.select(v);return u.node()instanceof HTMLElement&&u.size()&&u.classed("js-plotly-plot")}function s(v){var u=v&&v.parentNode;u&&u.removeChild(v)}function d(v,u){t("global",v,u)}function t(v,u,f){var _="plotly.js-style-"+v,w=document.getElementById(_);if(!(w&&w.matches(".no-inline-styles"))){w||(w=document.createElement("style"),w.setAttribute("id",_),w.appendChild(document.createTextNode("")),document.head.appendChild(w));var k=w.sheet;k?k.insertRule?k.insertRule(u+"{"+f+"}",0):k.addRule?k.addRule(u,f,0):e.warn("addStyleRule failed"):e.warn("Cannot addRelatedStyleRule, probably due to strict CSP...")}}function p(v){var u="plotly.js-style-"+v,f=document.getElementById(u);f&&s(f)}function c(v,u,f,_,w,k){var J=_.split(":"),P=w.split(":"),O="data-btn-style-event-added";k||(k=document),k.querySelectorAll(v).forEach(function(M){M.getAttribute(O)||(M.addEventListener("mouseenter",function(){var W=this.querySelector(f);W&&(W.style[J[0]]=J[1])}),M.addEventListener("mouseleave",function(){var W=this.querySelector(f);W&&(u&&this.matches(u)?W.style[J[0]]=J[1]:W.style[P[0]]=P[1])}),M.setAttribute(O,!0))})}function h(v){var u=y(v),f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return u.forEach(function(_){var w=b(_);if(w){var k=n.convertCssMatrix(w);f=r.multiply(f,f,k)}}),f}function b(v){var u=window.getComputedStyle(v,null),f=u.getPropertyValue("-webkit-transform")||u.getPropertyValue("-moz-transform")||u.getPropertyValue("-ms-transform")||u.getPropertyValue("-o-transform")||u.getPropertyValue("transform");return f==="none"?null:f.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(_){return+_})}function y(v){for(var u=[];g(v);)u.push(v),v=v.parentNode,typeof ShadowRoot=="function"&&v instanceof ShadowRoot&&(v=v.host);return u}function g(v){return v&&(v instanceof Element||v instanceof HTMLElement)}function m(v,u){return v&&u&&v.top===u.top&&v.left===u.left&&v.right===u.right&&v.bottom===u.bottom}C.exports={getGraphDiv:l,isPlotDiv:o,removeElement:s,addStyleRule:d,addRelatedStyleRule:t,deleteRelatedStyleRule:p,setStyleOnHover:c,getFullTransformMatrix:h,getElementTransformMatrix:b,getElementAndAncestors:y,equalDomRects:m}}),gr=ye((F,C)=>{C.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}}),Tr=ye((F,C)=>{var i=Ca().extendFlat,e=kn(),n={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},r={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},l=n.flags.slice().concat(["fullReplot"]),o=r.flags.slice().concat("layoutReplot");C.exports={traces:n,layout:r,traceFlags:function(){return s(l)},layoutFlags:function(){return s(o)},update:function(p,c){var h=c.editType;if(h&&h!=="none")for(var b=h.split("+"),y=0;y<b.length;y++)p[b[y]]=!0},overrideAll:d};function s(p){for(var c={},h=0;h<p.length;h++)c[p[h]]=!1;return c}function d(p,c,h){var b=i({},p);for(var y in b){var g=b[y];e(g)&&(b[y]=t(g,c,h,y))}return h==="from-root"&&(b.editType=c),b}function t(p,c,h,b){if(p.valType){var y=i({},p);if(y.editType=c,Array.isArray(p.items)){y.items=new Array(p.items.length);for(var g=0;g<p.items.length;g++)y.items[g]=t(p.items[g],c)}return y}else return d(p,c,b.charAt(0)==="_"?"nested":"from-root")}}),Rr=ye(F=>{F.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},F.pattern={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}}),ua=ye((F,C)=>{C.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}}),Sr=ye(F=>{var C=ua();C.FORMAT_LINK,C.DATE_FORMAT_LINK;function i(e){var n=e.description?" "+e.description:"",r=e.keys||[];if(r.length>0){for(var l=[],o=0;o<r.length;o++)l[o]="`"+r[o]+"`";n=n+"Finally, the template string has access to ",r.length===1?n=n+"variable "+l[0]:n=n+"variables "+l.slice(0,-1).join(", ")+" and "+l.slice(-1)+"."}return n}F.hovertemplateAttrs=function(e,n){e=e||{},n=n||{},i(n);var r={valType:"string",dflt:"",editType:e.editType||"none"};return e.arrayOk!==!1&&(r.arrayOk=!0),r},F.texttemplateAttrs=function(e,n){e=e||{},n=n||{},i(n);var r={valType:"string",dflt:"",editType:e.editType||"calc"};return e.arrayOk!==!1&&(r.arrayOk=!0),r},F.shapeTexttemplateAttrs=function(e,n){e=e||{},n=n||{},e.newshape,i(n);var r={valType:"string",dflt:"",editType:e.editType||"arraydraw"};return r}}),go=ye((F,C)=>{function i(f,_){return _?_.d2l(f):f}function e(f,_){return _?_.l2d(f):f}function n(f){return f.x0}function r(f){return f.x1}function l(f){return f.y0}function o(f){return f.y1}function s(f){return f.x0shift||0}function d(f){return f.x1shift||0}function t(f){return f.y0shift||0}function p(f){return f.y1shift||0}function c(f,_){return i(f.x1,_)+d(f)-i(f.x0,_)-s(f)}function h(f,_,w){return i(f.y1,w)+p(f)-i(f.y0,w)-t(f)}function b(f,_){return Math.abs(c(f,_))}function y(f,_,w){return Math.abs(h(f,_,w))}function g(f,_,w){return f.type!=="line"?void 0:Math.sqrt(Math.pow(c(f,_),2)+Math.pow(h(f,_,w),2))}function m(f,_){return e((i(f.x1,_)+d(f)+i(f.x0,_)+s(f))/2,_)}function v(f,_,w){return e((i(f.y1,w)+p(f)+i(f.y0,w)+t(f))/2,w)}function u(f,_,w){return f.type!=="line"?void 0:h(f,_,w)/c(f,_)}C.exports={x0:n,x1:r,y0:l,y1:o,slope:u,dx:c,dy:h,width:b,height:y,length:g,xcenter:m,ycenter:v}}),sl=ye((F,C)=>{var i=Tr().overrideAll,e=Er(),n=Za(),r=Rr().dash,l=Ca().extendFlat,o=Sr().shapeTexttemplateAttrs,s=go();C.exports=i({newshape:{visible:l({},e.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:l({},e.legend,{}),legendgroup:l({},e.legendgroup,{}),legendgrouptitle:{text:l({},e.legendgrouptitle.text,{}),font:n({})},legendrank:l({},e.legendrank,{}),legendwidth:l({},e.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:l({},r,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:l({},e.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:o({newshape:!0},{keys:Object.keys(s)}),font:n({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")}),cl=ye((F,C)=>{var i=Rr().dash,e=Ca().extendFlat;C.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:e({},i,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}}),mo=ye((F,C)=>{C.exports=function(i){var e=i.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}}),Vi=ye((F,C)=>{var i=Za(),e=gr(),n=kr(),r=sl(),l=cl(),o=mo(),s=Ca().extendFlat,d=i({editType:"calc"});d.family.dflt='"Open Sans", verdana, arial, sans-serif',d.size.dflt=12,d.color.dflt=n.defaultLine,C.exports={font:d,title:{text:{valType:"string",editType:"layoutstyle"},font:i({editType:"layoutstyle"}),subtitle:{text:{valType:"string",editType:"layoutstyle"},font:i({editType:"layoutstyle"}),editType:"layoutstyle"},xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:s(o({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:n.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:n.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:n.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:r.newshape,activeshape:r.activeshape,newselection:l.newselection,activeselection:l.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:s({},e.transition,{editType:"none"})}}),ul=Jt(()=>{}),dl={},fl=Jt(()=>{ul()}),Kn=ye(F=>{var C=Fr(),i=mi(),e=cn(),n=kn(),r=vr().addStyleRule,l=Ca(),o=Er(),s=Vi(),d=l.extendFlat,t=l.extendDeepAll;F.modules={},F.allCategories={},F.allTypes=[],F.subplotsRegistry={},F.componentsRegistry={},F.layoutArrayContainers=[],F.layoutArrayRegexes=[],F.traceLayoutAttributes={},F.localeRegistry={},F.apiMethodRegistry={},F.collectableSubplotTypes=null,F.register=function(f){if(F.collectableSubplotTypes=null,f)f&&!Array.isArray(f)&&(f=[f]);else throw new Error("No argument passed to Plotly.register.");for(var _=0;_<f.length;_++){var w=f[_];if(!w)throw new Error("Invalid module was attempted to be registered!");switch(w.moduleType){case"trace":p(w);break;case"transform":b(w);break;case"component":h(w);break;case"locale":y(w);break;case"apiMethod":var k=w.name;F.apiMethodRegistry[k]=w.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},F.getModule=function(f){var _=F.modules[u(f)];return _?_._module:!1},F.traceIs=function(f,_){if(f=u(f),f==="various")return!1;var w=F.modules[f];return w||(f&&C.log("Unrecognized trace type "+f+"."),w=F.modules[o.type.dflt]),!!w.categories[_]},F.getComponentMethod=function(f,_){var w=F.componentsRegistry[f];return w&&w[_]||i},F.call=function(){var f=arguments[0],_=[].slice.call(arguments,1);return F.apiMethodRegistry[f].apply(null,_)};function p(f){var _=f.name,w=f.categories,k=f.meta;if(F.modules[_]){C.log("Type "+_+" already registered");return}F.subplotsRegistry[f.basePlotModule.name]||c(f.basePlotModule);for(var J={},P=0;P<w.length;P++)J[w[P]]=!0,F.allCategories[w[P]]=!0;F.modules[_]={_module:f,categories:J},k&&Object.keys(k).length&&(F.modules[_].meta=k),F.allTypes.push(_);for(var O in F.componentsRegistry)m(O,_);f.layoutAttributes&&d(F.traceLayoutAttributes,f.layoutAttributes);var M=f.basePlotModule,W=M.name;if(W==="mapbox"){var E=M.constants.styleRules;for(var N in E)r(".js-plotly-plot .plotly .mapboxgl-"+N,E[N])}W==="map"&&(fl(),wt(dl)),(W==="geo"||W==="mapbox"||W==="map")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function c(f){var _=f.name;if(F.subplotsRegistry[_]){C.log("Plot type "+_+" already registered.");return}g(f),F.subplotsRegistry[_]=f;for(var w in F.componentsRegistry)v(w,f.name)}function h(f){if(typeof f.name!="string")throw new Error("Component module *name* must be a string.");var _=f.name;F.componentsRegistry[_]=f,f.layoutAttributes&&(f.layoutAttributes._isLinkedToArray&&e(F.layoutArrayContainers,_),g(f));for(var w in F.modules)m(_,w);for(var k in F.subplotsRegistry)v(_,k);f.schema&&f.schema.layout&&t(s,f.schema.layout)}function b(f){if(typeof f.name!="string")throw new Error("Transform module *name* must be a string.");var _="Transform module "+f.name,w=typeof f.transform=="function",k=typeof f.calcTransform=="function";if(!w&&!k)throw new Error(_+" is missing a *transform* or *calcTransform* method.");w&&k&&C.log([_+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),n(f.attributes)||C.log(_+" registered without an *attributes* object."),typeof f.supplyDefaults!="function"&&C.log(_+" registered without a *supplyDefaults* method.")}function y(f){var _=f.name,w=_.split("-")[0],k=f.dictionary,J=f.format,P=k&&Object.keys(k).length,O=J&&Object.keys(J).length,M=F.localeRegistry,W=M[_];if(W||(M[_]=W={}),w!==_){var E=M[w];E||(M[w]=E={}),P&&E.dictionary===W.dictionary&&(E.dictionary=k),O&&E.format===W.format&&(E.format=J)}P&&(W.dictionary=k),O&&(W.format=J)}function g(f){if(f.layoutAttributes){var _=f.layoutAttributes._arrayAttrRegexps;if(_)for(var w=0;w<_.length;w++)e(F.layoutArrayRegexes,_[w])}}function m(f,_){var w=F.componentsRegistry[f].schema;if(!(!w||!w.traces)){var k=w.traces[_];k&&t(F.modules[_]._module.attributes,k)}}function v(f,_){var w=F.componentsRegistry[f].schema;if(!(!w||!w.subplots)){var k=F.subplotsRegistry[_],J=k.layoutAttributes,P=k.attr==="subplot"?k.name:k.attr;Array.isArray(P)&&(P=P[0]);var O=w.subplots[P];J&&O&&t(J,O)}}function u(f){return typeof f=="object"&&(f=f.type),f}}),hl=ye(F=>{var C=wa().timeFormat,i=on(),e=Fr(),n=dr().mod,r=Gn(),l=r.BADNUM,o=r.ONEDAY,s=r.ONEHOUR,d=r.ONEMIN,t=r.ONESEC,p=r.EPOCHJD,c=Kn(),h=wa().utcFormat,b=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,y=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,g=new Date().getFullYear()-70;function m(U){return U&&c.componentsRegistry.calendars&&typeof U=="string"&&U!=="gregorian"}F.dateTick0=function(U,G){var D=v(U,!!G);if(G<2)return D;var Z=F.dateTime2ms(D,U);return Z+=o*(G-1),F.ms2DateTime(Z,0,U)};function v(U,G){return m(U)?G?c.getComponentMethod("calendars","CANONICAL_SUNDAY")[U]:c.getComponentMethod("calendars","CANONICAL_TICK")[U]:G?"2000-01-02":"2000-01-01"}F.dfltRange=function(U){return m(U)?c.getComponentMethod("calendars","DFLTRANGE")[U]:["2000-01-01","2001-01-01"]},F.isJSDate=function(U){return typeof U=="object"&&U!==null&&typeof U.getTime=="function"};var u,f;F.dateTime2ms=function(U,G){if(F.isJSDate(U)){var D=U.getTimezoneOffset()*d,Z=(U.getUTCMinutes()-U.getMinutes())*d+(U.getUTCSeconds()-U.getSeconds())*t+(U.getUTCMilliseconds()-U.getMilliseconds());if(Z){var q=3*d;D=D-q/2+n(Z-D+q/2,q)}return U=Number(U)-D,U>=u&&U<=f?U:l}if(typeof U!="string"&&typeof U!="number")return l;U=String(U);var ae=m(G),te=U.charAt(0);ae&&(te==="G"||te==="g")&&(U=U.substr(1),G="");var ie=ae&&G.substr(0,7)==="chinese",fe=U.match(ie?y:b);if(!fe)return l;var he=fe[1],be=fe[3]||"1",H=Number(fe[5]||1),B=Number(fe[7]||0),A=Number(fe[9]||0),X=Number(fe[11]||0);if(ae){if(he.length===2)return l;he=Number(he);var I;try{var j=c.getComponentMethod("calendars","getCal")(G);if(ie){var T=be.charAt(be.length-1)==="i";be=parseInt(be,10),I=j.newDate(he,j.toMonthIndex(he,be,T),H)}else I=j.newDate(he,Number(be),H)}catch{return l}return I?(I.toJD()-p)*o+B*s+A*d+X*t:l}he.length===2?he=(Number(he)+2e3-g)%100+g:he=Number(he),be-=1;var L=new Date(Date.UTC(2e3,be,H,B,A));return L.setUTCFullYear(he),L.getUTCMonth()!==be||L.getUTCDate()!==H?l:L.getTime()+X*t},u=F.MIN_MS=F.dateTime2ms("-9999"),f=F.MAX_MS=F.dateTime2ms("9999-12-31 23:59:59.9999"),F.isDateTime=function(U,G){return F.dateTime2ms(U,G)!==l};function _(U,G){return String(U+Math.pow(10,G)).substr(1)}var w=90*o,k=3*s,J=5*d;F.ms2DateTime=function(U,G,D){if(typeof U!="number"||!(U>=u&&U<=f))return l;G||(G=0);var Z=Math.floor(n(U+.05,1)*10),q=Math.round(U-Z/10),ae,te,ie,fe,he,be;if(m(D)){var H=Math.floor(q/o)+p,B=Math.floor(n(U,o));try{ae=c.getComponentMethod("calendars","getCal")(D).fromJD(H).formatDate("yyyy-mm-dd")}catch{ae=h("G%Y-%m-%d")(new Date(q))}if(ae.charAt(0)==="-")for(;ae.length<11;)ae="-0"+ae.substr(1);else for(;ae.length<10;)ae="0"+ae;te=G<w?Math.floor(B/s):0,ie=G<w?Math.floor(B%s/d):0,fe=G<k?Math.floor(B%d/t):0,he=G<J?B%t*10+Z:0}else be=new Date(q),ae=h("%Y-%m-%d")(be),te=G<w?be.getUTCHours():0,ie=G<w?be.getUTCMinutes():0,fe=G<k?be.getUTCSeconds():0,he=G<J?be.getUTCMilliseconds()*10+Z:0;return P(ae,te,ie,fe,he)},F.ms2DateTimeLocal=function(U){if(!(U>=u+o&&U<=f-o))return l;var G=Math.floor(n(U+.05,1)*10),D=new Date(Math.round(U-G/10)),Z=C("%Y-%m-%d")(D),q=D.getHours(),ae=D.getMinutes(),te=D.getSeconds(),ie=D.getUTCMilliseconds()*10+G;return P(Z,q,ae,te,ie)};function P(U,G,D,Z,q){if((G||D||Z||q)&&(U+=" "+_(G,2)+":"+_(D,2),(Z||q)&&(U+=":"+_(Z,2),q))){for(var ae=4;q%10===0;)ae-=1,q/=10;U+="."+_(q,ae)}return U}F.cleanDate=function(U,G,D){if(U===l)return G;if(F.isJSDate(U)||typeof U=="number"&&isFinite(U)){if(m(D))return e.error("JS Dates and milliseconds are incompatible with world calendars",U),G;if(U=F.ms2DateTimeLocal(+U),!U&&G!==void 0)return G}else if(!F.isDateTime(U,D))return e.error("unrecognized date",U),G;return U};var O=/%\d?f/g,M=/%h/g,W={1:"1",2:"1",3:"2",4:"2"};function E(U,G,D,Z){U=U.replace(O,function(ae){var te=Math.min(+ae.charAt(1)||6,6),ie=(G/1e3%1+2).toFixed(te).substr(2).replace(/0+$/,"")||"0";return ie});var q=new Date(Math.floor(G+.05));if(U=U.replace(M,function(){return W[D("%q")(q)]}),m(Z))try{U=c.getComponentMethod("calendars","worldCalFmt")(U,G,Z)}catch{return"Invalid"}return D(U)(q)}var N=[59,59.9,59.99,59.999,59.9999];function R(U,G){var D=n(U+.05,o),Z=_(Math.floor(D/s),2)+":"+_(n(Math.floor(D/d),60),2);if(G!=="M"){i(G)||(G=0);var q=Math.min(n(U/t,60),N[G]),ae=(100+q).toFixed(G).substr(1);G>0&&(ae=ae.replace(/0+$/,"").replace(/[\.]$/,"")),Z+=":"+ae}return Z}F.formatDate=function(U,G,D,Z,q,ae){if(q=m(q)&&q,!G)if(D==="y")G=ae.year;else if(D==="m")G=ae.month;else if(D==="d")G=ae.dayMonth+`
`+ae.year;else return R(U,D)+`
`+E(ae.dayMonthYear,U,Z,q);return E(G,U,Z,q)};var V=3*o;F.incrementMonth=function(U,G,D){D=m(D)&&D;var Z=n(U,o);if(U=Math.round(U-Z),D)try{var q=Math.round(U/o)+p,ae=c.getComponentMethod("calendars","getCal")(D),te=ae.fromJD(q);return G%12?ae.add(te,G,"m"):ae.add(te,G/12,"y"),(te.toJD()-p)*o+Z}catch{e.error("invalid ms "+U+" in calendar "+D)}var ie=new Date(U+V);return ie.setUTCMonth(ie.getUTCMonth()+G)+Z-V},F.findExactDates=function(U,G){for(var D=0,Z=0,q=0,ae=0,te,ie,fe=m(G)&&c.getComponentMethod("calendars","getCal")(G),he=0;he<U.length;he++){if(ie=U[he],!i(ie)){ae++;continue}if(!(ie%o))if(fe)try{te=fe.fromJD(ie/o+p),te.day()===1?te.month()===1?D++:Z++:q++}catch{}else te=new Date(ie),te.getUTCDate()===1?te.getUTCMonth()===0?D++:Z++:q++}Z+=D,q+=Z;var be=U.length-ae;return{exactYears:D/be,exactMonths:Z/be,exactDays:q/be}}}),Oo=ye((F,C)=>{C.exports=function(i){return i}}),Do=ye(F=>{var C=on(),i=Fr(),e=Oo(),n=Gn().BADNUM,r=1e-9;F.findBin=function(t,p,c){if(C(p.start))return c?Math.ceil((t-p.start)/p.size-r)-1:Math.floor((t-p.start)/p.size+r);var h=0,b=p.length,y=0,g=b>1?(p[b-1]-p[0])/(b-1):1,m,v;for(g>=0?v=c?l:o:v=c?d:s,t+=g*r*(c?-1:1)*(g>=0?1:-1);h<b&&y++<100;)m=Math.floor((h+b)/2),v(p[m],t)?h=m+1:b=m;return y>90&&i.log("Long binary search..."),h-1};function l(t,p){return t<p}function o(t,p){return t<=p}function s(t,p){return t>p}function d(t,p){return t>=p}F.sorterAsc=function(t,p){return t-p},F.sorterDes=function(t,p){return p-t},F.distinctVals=function(t){var p=t.slice();p.sort(F.sorterAsc);var c;for(c=p.length-1;c>-1&&p[c]===n;c--);for(var h=p[c]-p[0]||1,b=h/(c||1)/1e4,y=[],g,m=0;m<=c;m++){var v=p[m],u=v-g;g===void 0?(y.push(v),g=v):u>b&&(h=Math.min(h,u),y.push(v),g=v)}return{vals:y,minDiff:h}},F.roundUp=function(t,p,c){for(var h=0,b=p.length-1,y,g=0,m=c?0:1,v=c?1:0,u=c?Math.ceil:Math.floor;h<b&&g++<100;)y=u((h+b)/2),p[y]<=t?h=y+m:b=y-v;return p[h]},F.sort=function(t,p){for(var c=0,h=0,b=1;b<t.length;b++){var y=p(t[b],t[b-1]);if(y<0?c=1:y>0&&(h=1),c&&h)return t.sort(p)}return h?t:t.reverse()},F.findIndexOfMin=function(t,p){p=p||e;for(var c=1/0,h,b=0;b<t.length;b++){var y=p(t[b]);y<c&&(c=y,h=b)}return h}}),Co=ye((F,C)=>{C.exports=function(i){return Object.keys(i).sort()}}),oo=ye(F=>{var C=on(),i=aa().isArrayOrTypedArray;F.aggNums=function(e,n,r,l){var o,s;if((!l||l>r.length)&&(l=r.length),C(n)||(n=!1),i(r[0])){for(s=new Array(l),o=0;o<l;o++)s[o]=F.aggNums(e,n,r[o]);r=s}for(o=0;o<l;o++)C(n)?C(r[o])&&(n=e(+n,+r[o])):n=r[o];return n},F.len=function(e){return F.aggNums(function(n){return n+1},0,e)},F.mean=function(e,n){return n||(n=F.len(e)),F.aggNums(function(r,l){return r+l},0,e)/n},F.geometricMean=function(e,n){return n||(n=F.len(e)),Math.pow(F.aggNums(function(r,l){return r*l},1,e),1/n)},F.midRange=function(e){if(!(e===void 0||e.length===0))return(F.aggNums(Math.max,null,e)+F.aggNums(Math.min,null,e))/2},F.variance=function(e,n,r){return n||(n=F.len(e)),C(r)||(r=F.mean(e,n)),F.aggNums(function(l,o){return l+Math.pow(o-r,2)},0,e)/n},F.stdev=function(e,n,r){return Math.sqrt(F.variance(e,n,r))},F.median=function(e){var n=e.slice().sort();return F.interp(n,.5)},F.interp=function(e,n){if(!C(n))throw"n should be a finite number";if(n=n*e.length-.5,n<0)return e[0];if(n>e.length-1)return e[e.length-1];var r=n%1;return r*e[Math.ceil(n)]+(1-r)*e[Math.floor(n)]}}),Pi=ye((F,C)=>{var i=dr(),e=i.mod,n=i.modHalf,r=Math.PI,l=2*r;function o(v){return v/180*r}function s(v){return v/r*180}function d(v){return Math.abs(v[1]-v[0])>l-1e-14}function t(v,u){return n(u-v,l)}function p(v,u){return Math.abs(t(v,u))}function c(v,u){if(d(u))return!0;var f,_;u[0]<u[1]?(f=u[0],_=u[1]):(f=u[1],_=u[0]),f=e(f,l),_=e(_,l),f>_&&(_+=l);var w=e(v,l),k=w+l;return w>=f&&w<=_||k>=f&&k<=_}function h(v,u,f,_){if(!c(u,_))return!1;var w,k;return f[0]<f[1]?(w=f[0],k=f[1]):(w=f[1],k=f[0]),v>=w&&v<=k}function b(v,u,f,_,w,k,J){w=w||0,k=k||0;var P=d([f,_]),O,M,W,E,N;P?(O=0,M=r,W=l):f<_?(O=f,W=_):(O=_,W=f),v<u?(E=v,N=u):(E=u,N=v);function R(D,Z){return[D*Math.cos(Z)+w,k-D*Math.sin(Z)]}var V=Math.abs(W-O)<=r?0:1;function U(D,Z,q){return"A"+[D,D]+" "+[0,V,q]+" "+R(D,Z)}var G;return P?E===null?G="M"+R(N,O)+U(N,M,0)+U(N,W,0)+"Z":G="M"+R(E,O)+U(E,M,0)+U(E,W,0)+"ZM"+R(N,O)+U(N,M,1)+U(N,W,1)+"Z":E===null?(G="M"+R(N,O)+U(N,W,0),J&&(G+="L0,0Z")):G="M"+R(E,O)+"L"+R(N,O)+U(N,W,0)+"L"+R(E,W)+U(E,O,1)+"Z",G}function y(v,u,f,_,w){return b(null,v,u,f,_,w,0)}function g(v,u,f,_,w){return b(null,v,u,f,_,w,1)}function m(v,u,f,_,w,k){return b(v,u,f,_,w,k,1)}C.exports={deg2rad:o,rad2deg:s,angleDelta:t,angleDist:p,isFullCircle:d,isAngleInsideSector:c,isPtInsideSector:h,pathArc:y,pathSector:g,pathAnnulus:m}}),pl=ye(F=>{F.isLeftAnchor=function(C){return C.xanchor==="left"||C.xanchor==="auto"&&C.x<=1/3},F.isCenterAnchor=function(C){return C.xanchor==="center"||C.xanchor==="auto"&&C.x>1/3&&C.x<2/3},F.isRightAnchor=function(C){return C.xanchor==="right"||C.xanchor==="auto"&&C.x>=2/3},F.isTopAnchor=function(C){return C.yanchor==="top"||C.yanchor==="auto"&&C.y>=2/3},F.isMiddleAnchor=function(C){return C.yanchor==="middle"||C.yanchor==="auto"&&C.y>1/3&&C.y<2/3},F.isBottomAnchor=function(C){return C.yanchor==="bottom"||C.yanchor==="auto"&&C.y<=1/3}}),ra=ye(F=>{var C=dr().mod;F.segmentsIntersect=i;function i(o,s,d,t,p,c,h,b){var y=d-o,g=p-o,m=h-p,v=t-s,u=c-s,f=b-c,_=y*f-m*v;if(_===0)return null;var w=(g*f-m*u)/_,k=(g*v-y*u)/_;return k<0||k>1||w<0||w>1?null:{x:o+y*w,y:s+v*w}}F.segmentDistance=function(o,s,d,t,p,c,h,b){if(i(o,s,d,t,p,c,h,b))return 0;var y=d-o,g=t-s,m=h-p,v=b-c,u=y*y+g*g,f=m*m+v*v,_=Math.min(e(y,g,u,p-o,c-s),e(y,g,u,h-o,b-s),e(m,v,f,o-p,s-c),e(m,v,f,d-p,t-c));return Math.sqrt(_)};function e(o,s,d,t,p){var c=t*o+p*s;if(c<0)return t*t+p*p;if(c>d){var h=t-o,b=p-s;return h*h+b*b}else{var y=t*s-p*o;return y*y/d}}var n,r,l;F.getTextLocation=function(o,s,d,t){if((o!==r||t!==l)&&(n={},r=o,l=t),n[d])return n[d];var p=o.getPointAtLength(C(d-t/2,s)),c=o.getPointAtLength(C(d+t/2,s)),h=Math.atan((c.y-p.y)/(c.x-p.x)),b=o.getPointAtLength(C(d,s)),y=(b.x*4+p.x+c.x)/6,g=(b.y*4+p.y+c.y)/6,m={x:y,y:g,theta:h};return n[d]=m,m},F.clearLocationCache=function(){r=null},F.getVisibleSegment=function(o,s,d){var t=s.left,p=s.right,c=s.top,h=s.bottom,b=0,y=o.getTotalLength(),g=y,m,v;function u(_){var w=o.getPointAtLength(_);_===0?m=w:_===y&&(v=w);var k=w.x<t?t-w.x:w.x>p?w.x-p:0,J=w.y<c?c-w.y:w.y>h?w.y-h:0;return Math.sqrt(k*k+J*J)}for(var f=u(b);f;){if(b+=f+d,b>g)return;f=u(b)}for(f=u(g);f;){if(g-=f+d,b>g)return;f=u(g)}return{min:b,max:g,len:g-b,total:y,isClosed:b===0&&g===y&&Math.abs(m.x-v.x)<.1&&Math.abs(m.y-v.y)<.1}},F.findPointOnPath=function(o,s,d,t){t=t||{};for(var p=t.pathLength||o.getTotalLength(),c=t.tolerance||.001,h=t.iterationLimit||30,b=o.getPointAtLength(0)[d]>o.getPointAtLength(p)[d]?-1:1,y=0,g=0,m=p,v,u,f;y<h;){if(v=(g+m)/2,u=o.getPointAtLength(v),f=u[d]-s,Math.abs(f)<c)return u;b*f>0?m=v:g=v,y++}return u}}),ma=ye(F=>{var C={};F.throttle=function(e,n,r){var l=C[e],o=Date.now();if(!l){for(var s in C)C[s].ts<o-6e4&&delete C[s];l=C[e]={ts:0,timer:null}}i(l);function d(){r(),l.ts=Date.now(),l.onDone&&(l.onDone(),l.onDone=null)}if(o>l.ts+n){d();return}l.timer=setTimeout(function(){d(),l.timer=null},n)},F.done=function(e){var n=C[e];return!n||!n.timer?Promise.resolve():new Promise(function(r){var l=n.onDone;n.onDone=function(){l&&l(),r(),n.onDone=null}})},F.clear=function(e){if(e)i(C[e]),delete C[e];else for(var n in C)F.clear(n)};function i(e){e&&e.timer!==null&&(clearTimeout(e.timer),e.timer=null)}}),Fn=ye((F,C)=>{C.exports=function(i){i._responsiveChartHandler&&(window.removeEventListener("resize",i._responsiveChartHandler),delete i._responsiveChartHandler)}}),da=ye((F,C)=>{C.exports=r,C.exports.isMobile=r,C.exports.default=r;var i=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,n=/android|ipad|playbook|silk/i;function r(l){l||(l={});let o=l.ua;if(!o&&typeof navigator<"u"&&(o=navigator.userAgent),o&&o.headers&&typeof o.headers["user-agent"]=="string"&&(o=o.headers["user-agent"]),typeof o!="string")return!1;let s=i.test(o)&&!e.test(o)||!!l.tablet&&n.test(o);return!s&&l.tablet&&l.featureDetect&&navigator&&navigator.maxTouchPoints>1&&o.indexOf("Macintosh")!==-1&&o.indexOf("Safari")!==-1&&(s=!0),s}}),rr=ye((F,C)=>{var i=on(),e=da();C.exports=function(r){var l;if(r&&r.hasOwnProperty("userAgent")?l=r.userAgent:l=n(),typeof l!="string")return!0;var o=e({ua:{headers:{"user-agent":l}},tablet:!0,featureDetect:!1});if(!o)for(var s=l.split(" "),d=1;d<s.length;d++){var t=s[d];if(t.indexOf("Safari")!==-1)for(var p=d-1;p>-1;p--){var c=s[p];if(c.substr(0,8)==="Version/"){var h=c.substr(8).split(".")[0];if(i(h)&&(h=+h),h>=13)return!0}}}return o};function n(){var r;return typeof navigator<"u"&&(r=navigator.userAgent),r&&r.headers&&typeof r.headers["user-agent"]=="string"&&(r=r.headers["user-agent"]),r}}),Yi=ye((F,C)=>{var i=Xt();C.exports=function(e,n,r){var l=e.selectAll("g."+r.replace(/\s/g,".")).data(n,function(s){return s[0].trace.uid});l.exit().remove(),l.enter().append("g").attr("class",r),l.order();var o=e.classed("rangeplot")?"nodeRangePlot3":"node3";return l.each(function(s){s[0][o]=i.select(this)}),l}}),$i=ye((F,C)=>{var i=Kn();C.exports=function(e,n){for(var r=e._context.locale,l=0;l<2;l++){for(var o=e._context.locales,s=0;s<2;s++){var d=(o[r]||{}).dictionary;if(d){var t=d[n];if(t)return t}o=i.localeRegistry}var p=r.split("-")[0];if(p===r)break;r=p}return n}}),Ui=ye((F,C)=>{C.exports=function(i){for(var e={},n=[],r=0,l=0;l<i.length;l++){var o=i[l];e[o]!==1&&(e[o]=1,n[r++]=o)}return n}}),Gi=ye((F,C)=>{C.exports=function(r){for(var l=n(r)?e:i,o=[],s=0;s<r.length;s++){var d=r[s];l(d)&&o.push(d)}return o};function i(r){return r.visible===!0}function e(r){var l=r[0].trace;return l.visible===!0&&l._length!==0}function n(r){return Array.isArray(r)&&Array.isArray(r[0])&&r[0][0]&&r[0][0].trace}}),Ia=ye((F,C)=>{C.exports=function(i,e){if(!e)return i;var n=1/Math.abs(e),r=n>1?(n*i+n*e)/n:i+e,l=String(r).length;if(l>16){var o=String(e).length,s=String(i).length;if(l>=s+o){var d=parseFloat(r).toPrecision(12);d.indexOf("e+")===-1&&(r=+d)}}return r}}),ni=ye((F,C)=>{var i=on(),e=Gn().BADNUM,n=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;C.exports=function(r){return typeof r=="string"&&(r=r.replace(n,"")),i(r)?Number(r):e}}),zt=ye((F,C)=>{var i=Xt(),e=wa().utcFormat,n=ka().format,r=on(),l=Gn(),o=l.FP_SAFE,s=-o,d=l.BADNUM,t=C.exports={};t.adjustFormat=function(I){return!I||/^\d[.]\df/.test(I)||/[.]\d%/.test(I)?I:I==="0.f"?"~f":/^\d%/.test(I)?"~%":/^\ds/.test(I)?"~s":!/^[~,.0$]/.test(I)&&/[&fps]/.test(I)?"~"+I:I};var p={};t.warnBadFormat=function(I){var j=String(I);p[j]||(p[j]=1,t.warn('encountered bad format: "'+j+'"'))},t.noFormat=function(I){return String(I)},t.numberFormat=function(I){var j;try{j=n(t.adjustFormat(I))}catch{return t.warnBadFormat(I),t.noFormat}return j},t.nestedProperty=sa(),t.keyedContainer=Da(),t.relativeAttr=Un(),t.isPlainObject=kn(),t.toLogRange=ba(),t.relinkPrivateKeys=za();var c=aa();t.isArrayBuffer=c.isArrayBuffer,t.isTypedArray=c.isTypedArray,t.isArrayOrTypedArray=c.isArrayOrTypedArray,t.isArray1D=c.isArray1D,t.ensureArray=c.ensureArray,t.concat=c.concat,t.maxRowLength=c.maxRowLength,t.minRowLength=c.minRowLength;var h=dr();t.mod=h.mod,t.modHalf=h.modHalf;var b=qa();t.valObjectMeta=b.valObjectMeta,t.coerce=b.coerce,t.coerce2=b.coerce2,t.coerceFont=b.coerceFont,t.coercePattern=b.coercePattern,t.coerceHoverinfo=b.coerceHoverinfo,t.coerceSelectionMarkerOpacity=b.coerceSelectionMarkerOpacity,t.validate=b.validate;var y=hl();t.dateTime2ms=y.dateTime2ms,t.isDateTime=y.isDateTime,t.ms2DateTime=y.ms2DateTime,t.ms2DateTimeLocal=y.ms2DateTimeLocal,t.cleanDate=y.cleanDate,t.isJSDate=y.isJSDate,t.formatDate=y.formatDate,t.incrementMonth=y.incrementMonth,t.dateTick0=y.dateTick0,t.dfltRange=y.dfltRange,t.findExactDates=y.findExactDates,t.MIN_MS=y.MIN_MS,t.MAX_MS=y.MAX_MS;var g=Do();t.findBin=g.findBin,t.sorterAsc=g.sorterAsc,t.sorterDes=g.sorterDes,t.distinctVals=g.distinctVals,t.roundUp=g.roundUp,t.sort=g.sort,t.findIndexOfMin=g.findIndexOfMin,t.sortObjectKeys=Co();var m=oo();t.aggNums=m.aggNums,t.len=m.len,t.mean=m.mean,t.geometricMean=m.geometricMean,t.median=m.median,t.midRange=m.midRange,t.variance=m.variance,t.stdev=m.stdev,t.interp=m.interp;var v=Ar();t.init2dArray=v.init2dArray,t.transposeRagged=v.transposeRagged,t.dot=v.dot,t.translationMatrix=v.translationMatrix,t.rotationMatrix=v.rotationMatrix,t.rotationXYMatrix=v.rotationXYMatrix,t.apply3DTransform=v.apply3DTransform,t.apply2DTransform=v.apply2DTransform,t.apply2DTransform2=v.apply2DTransform2,t.convertCssMatrix=v.convertCssMatrix,t.inverseTransformMatrix=v.inverseTransformMatrix;var u=Pi();t.deg2rad=u.deg2rad,t.rad2deg=u.rad2deg,t.angleDelta=u.angleDelta,t.angleDist=u.angleDist,t.isFullCircle=u.isFullCircle,t.isAngleInsideSector=u.isAngleInsideSector,t.isPtInsideSector=u.isPtInsideSector,t.pathArc=u.pathArc,t.pathSector=u.pathSector,t.pathAnnulus=u.pathAnnulus;var f=pl();t.isLeftAnchor=f.isLeftAnchor,t.isCenterAnchor=f.isCenterAnchor,t.isRightAnchor=f.isRightAnchor,t.isTopAnchor=f.isTopAnchor,t.isMiddleAnchor=f.isMiddleAnchor,t.isBottomAnchor=f.isBottomAnchor;var _=ra();t.segmentsIntersect=_.segmentsIntersect,t.segmentDistance=_.segmentDistance,t.getTextLocation=_.getTextLocation,t.clearLocationCache=_.clearLocationCache,t.getVisibleSegment=_.getVisibleSegment,t.findPointOnPath=_.findPointOnPath;var w=Ca();t.extendFlat=w.extendFlat,t.extendDeep=w.extendDeep,t.extendDeepAll=w.extendDeepAll,t.extendDeepNoArrays=w.extendDeepNoArrays;var k=Fr();t.log=k.log,t.warn=k.warn,t.error=k.error;var J=Yr();t.counterRegex=J.counter;var P=ma();t.throttle=P.throttle,t.throttleDone=P.done,t.clearThrottle=P.clear;var O=vr();t.getGraphDiv=O.getGraphDiv,t.isPlotDiv=O.isPlotDiv,t.removeElement=O.removeElement,t.addStyleRule=O.addStyleRule,t.addRelatedStyleRule=O.addRelatedStyleRule,t.deleteRelatedStyleRule=O.deleteRelatedStyleRule,t.setStyleOnHover=O.setStyleOnHover,t.getFullTransformMatrix=O.getFullTransformMatrix,t.getElementTransformMatrix=O.getElementTransformMatrix,t.getElementAndAncestors=O.getElementAndAncestors,t.equalDomRects=O.equalDomRects,t.clearResponsive=Fn(),t.preserveDrawingBuffer=rr(),t.makeTraceGroups=Yi(),t._=$i(),t.notifier=si(),t.filterUnique=Ui(),t.filterVisible=Gi(),t.pushUnique=cn(),t.increment=Ia(),t.cleanNumber=ni(),t.ensureNumber=function(I){return r(I)?(I=Number(I),I>o||I<s?d:I):d},t.isIndex=function(I,j){return j!==void 0&&I>=j?!1:r(I)&&I>=0&&I%1===0},t.noop=mi(),t.identity=Oo(),t.repeat=function(I,j){for(var T=new Array(j),L=0;L<j;L++)T[L]=I;return T},t.swapAttrs=function(I,j,T,L){T||(T="x"),L||(L="y");for(var $=0;$<j.length;$++){var Y=j[$],re=t.nestedProperty(I,Y.replace("?",T)),se=t.nestedProperty(I,Y.replace("?",L)),ce=re.get();re.set(se.get()),se.set(ce)}},t.raiseToTop=function(I){I.parentNode.appendChild(I)},t.cancelTransition=function(I){return I.transition().duration(0)},t.constrain=function(I,j,T){return j>T?Math.max(T,Math.min(j,I)):Math.max(j,Math.min(T,I))},t.bBoxIntersect=function(I,j,T){return T=T||0,I.left<=j.right+T&&j.left<=I.right+T&&I.top<=j.bottom+T&&j.top<=I.bottom+T},t.simpleMap=function(I,j,T,L,$){for(var Y=I.length,re=new Array(Y),se=0;se<Y;se++)re[se]=j(I[se],T,L,$);return re},t.randstr=function I(j,T,L,$){if(L||(L=16),T===void 0&&(T=24),T<=0)return"0";var Y=Math.log(Math.pow(2,T))/Math.log(L),re="",se,ce,we;for(se=2;Y===1/0;se*=2)Y=Math.log(Math.pow(2,T/se))/Math.log(L)*se;var Se=Y-Math.floor(Y);for(se=0;se<Math.floor(Y);se++)we=Math.floor(Math.random()*L).toString(L),re=we+re;Se&&(ce=Math.pow(L,Se),we=Math.floor(Math.random()*ce).toString(L),re=we+re);var Ie=parseInt(re,L);return j&&j[re]||Ie!==1/0&&Ie>=Math.pow(2,T)?$>10?(t.warn("randstr failed uniqueness"),re):I(j,T,L,($||0)+1):re},t.OptionControl=function(I,j){I||(I={}),j||(j="opt");var T={};return T.optionList=[],T._newoption=function(L){L[j]=I,T[L.name]=L,T.optionList.push(L)},T["_"+j]=I,T},t.smooth=function(I,j){if(j=Math.round(j)||0,j<2)return I;var T=I.length,L=2*T,$=2*j-1,Y=new Array($),re=new Array(T),se,ce,we,Se;for(se=0;se<$;se++)Y[se]=(1-Math.cos(Math.PI*(se+1)/j))/(2*j);for(se=0;se<T;se++){for(Se=0,ce=0;ce<$;ce++)we=se+ce+1-j,we<-T?we-=L*Math.round(we/L):we>=L&&(we-=L*Math.floor(we/L)),we<0?we=-1-we:we>=T&&(we=L-1-we),Se+=I[we]*Y[ce];re[se]=Se}return re},t.syncOrAsync=function(I,j,T){var L,$;function Y(){return t.syncOrAsync(I,j,T)}for(;I.length;)if($=I.splice(0,1)[0],L=$(j),L&&L.then)return L.then(Y);return T&&T(j)},t.stripTrailingSlash=function(I){return I.substr(-1)==="/"?I.substr(0,I.length-1):I},t.noneOrAll=function(I,j,T){if(I){var L=!1,$=!0,Y,re;for(Y=0;Y<T.length;Y++)re=I[T[Y]],re!=null?L=!0:$=!1;if(L&&!$)for(Y=0;Y<T.length;Y++)I[T[Y]]=j[T[Y]]}},t.mergeArray=function(I,j,T,L){var $=typeof L=="function";if(t.isArrayOrTypedArray(I))for(var Y=Math.min(I.length,j.length),re=0;re<Y;re++){var se=I[re];j[re][T]=$?L(se):se}},t.mergeArrayCastPositive=function(I,j,T){return t.mergeArray(I,j,T,function(L){var $=+L;return isFinite($)&&$>0?$:0})},t.fillArray=function(I,j,T,L){if(L=L||t.identity,t.isArrayOrTypedArray(I))for(var $=0;$<j.length;$++)j[$][T]=L(I[$])},t.castOption=function(I,j,T,L){L=L||t.identity;var $=t.nestedProperty(I,T).get();return t.isArrayOrTypedArray($)?Array.isArray(j)&&t.isArrayOrTypedArray($[j[0]])?L($[j[0]][j[1]]):L($[j]):$},t.extractOption=function(I,j,T,L){if(T in I)return I[T];var $=t.nestedProperty(j,L).get();if(!Array.isArray($))return $};function M(I){var j={};for(var T in I)for(var L=I[T],$=0;$<L.length;$++)j[L[$]]=+T;return j}t.tagSelected=function(I,j,T){var L=j.selectedpoints,$=j._indexToPoints,Y;$&&(Y=M($));function re(Ie){return Ie!==void 0&&Ie<I.length}for(var se=0;se<L.length;se++){var ce=L[se];if(t.isIndex(ce)||t.isArrayOrTypedArray(ce)&&t.isIndex(ce[0])&&t.isIndex(ce[1])){var we=Y?Y[ce]:ce,Se=T?T[we]:we;re(Se)&&(I[Se].selected=1)}}},t.selIndices2selPoints=function(I){var j=I.selectedpoints,T=I._indexToPoints;if(T){for(var L=M(T),$=[],Y=0;Y<j.length;Y++){var re=j[Y];if(t.isIndex(re)){var se=L[re];t.isIndex(se)&&$.push(se)}}return $}else return j},t.getTargetArray=function(I,j){var T=j.target;if(typeof T=="string"&&T){var L=t.nestedProperty(I,T).get();return t.isArrayOrTypedArray(L)?L:!1}else if(t.isArrayOrTypedArray(T))return T;return!1};function W(I,j,T){var L={};typeof j!="object"&&(j={});var $=T==="pieLike"?-1:3,Y=Object.keys(I),re,se,ce;for(re=0;re<Y.length;re++)se=Y[re],ce=I[se],!(se.charAt(0)==="_"||typeof ce=="function")&&(se==="module"?L[se]=ce:Array.isArray(ce)?se==="colorscale"||$===-1?L[se]=ce.slice():L[se]=ce.slice(0,$):t.isTypedArray(ce)?$===-1?L[se]=ce.subarray():L[se]=ce.subarray(0,$):ce&&typeof ce=="object"?L[se]=W(I[se],j[se],T):L[se]=ce);for(Y=Object.keys(j),re=0;re<Y.length;re++)se=Y[re],ce=j[se],(typeof ce!="object"||!(se in L)||typeof L[se]!="object")&&(L[se]=ce);return L}t.minExtend=W,t.titleCase=function(I){return I.charAt(0).toUpperCase()+I.substr(1)},t.containsAny=function(I,j){for(var T=0;T<j.length;T++)if(I.indexOf(j[T])!==-1)return!0;return!1};var E=/Version\/[\d\.]+.*Safari/;t.isSafari=function(){return E.test(window.navigator.userAgent)};var N=/iPad|iPhone|iPod/;t.isIOS=function(){return N.test(window.navigator.userAgent)};var R=/Firefox\/(\d+)\.\d+/;t.getFirefoxVersion=function(){var I=R.exec(window.navigator.userAgent);if(I&&I.length===2){var j=parseInt(I[1]);if(!isNaN(j))return j}return null},t.isD3Selection=function(I){return I instanceof i.selection},t.ensureSingle=function(I,j,T,L){var $=I.select(j+(T?"."+T:""));if($.size())return $;var Y=I.append(j);return T&&Y.classed(T,!0),L&&Y.call(L),Y},t.ensureSingleById=function(I,j,T,L){var $=I.select(j+"#"+T);if($.size())return $;var Y=I.append(j).attr("id",T);return L&&Y.call(L),Y},t.objectFromPath=function(I,j){for(var T=I.split("."),L,$=L={},Y=0;Y<T.length;Y++){var re=T[Y],se=null,ce=T[Y].match(/(.*)\[([0-9]+)\]/);ce?(re=ce[1],se=ce[2],L=L[re]=[],Y===T.length-1?L[se]=j:L[se]={},L=L[se]):(Y===T.length-1?L[re]=j:L[re]={},L=L[re])}return $};var V=/^([^\[\.]+)\.(.+)?/,U=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function G(I){return I.slice(0,2)==="__"}t.expandObjectPaths=function(I){var j,T,L,$,Y,re,se;if(typeof I=="object"&&!Array.isArray(I)){for(T in I)if(I.hasOwnProperty(T))if(j=T.match(V)){if($=I[T],L=j[1],G(L))continue;delete I[T],I[L]=t.extendDeepNoArrays(I[L]||{},t.objectFromPath(T,t.expandObjectPaths($))[L])}else if(j=T.match(U)){if($=I[T],L=j[1],G(L))continue;if(Y=parseInt(j[2]),delete I[T],I[L]=I[L]||[],j[3]===".")se=j[4],re=I[L][Y]=I[L][Y]||{},t.extendDeepNoArrays(re,t.objectFromPath(se,t.expandObjectPaths($)));else{if(G(L))continue;I[L][Y]=t.expandObjectPaths($)}}else{if(G(T))continue;I[T]=t.expandObjectPaths(I[T])}}return I},t.numSeparate=function(I,j,T){if(T||(T=!1),typeof j!="string"||j.length===0)throw new Error("Separator string required for formatting!");typeof I=="number"&&(I=String(I));var L=/(\d+)(\d{3})/,$=j.charAt(0),Y=j.charAt(1),re=I.split("."),se=re[0],ce=re.length>1?$+re[1]:"";if(Y&&(re.length>1||se.length>4||T))for(;L.test(se);)se=se.replace(L,"$1"+Y+"$2");return se+ce},t.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var D=/^\w*$/;t.templateString=function(I,j){var T={};return I.replace(t.TEMPLATE_STRING_REGEX,function(L,$){var Y;return D.test($)?Y=j[$]:(T[$]=T[$]||t.nestedProperty(j,$).get,Y=T[$](!0)),Y!==void 0?Y:""})};var Z={max:10,count:0,name:"hovertemplate"};t.hovertemplateString=function(){return he.apply(Z,arguments)};var q={max:10,count:0,name:"texttemplate"};t.texttemplateString=function(){return he.apply(q,arguments)};var ae=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function te(I){var j=I.match(ae);return j?{key:j[1],op:j[2],number:Number(j[3])}:{key:I,op:null,number:null}}var ie={max:10,count:0,name:"texttemplate",parseMultDiv:!0};t.texttemplateStringForShapes=function(){return he.apply(ie,arguments)};var fe=/^[:|\|]/;function he(I,j,T){var L=this,$=arguments;return j||(j={}),I.replace(t.TEMPLATE_STRING_REGEX,function(Y,re,se){var ce=re==="xother"||re==="yother",we=re==="_xother"||re==="_yother",Se=re==="_xother_"||re==="_yother_",Ie=re==="xother_"||re==="yother_",Ze=ce||we||Ie||Se,He=re;(we||Se)&&(He=He.substring(1)),(Ie||Se)&&(He=He.substring(0,He.length-1));var Be=null,pe=null;if(L.parseMultDiv){var _e=te(He);He=_e.key,Be=_e.op,pe=_e.number}var oe;if(Ze){if(oe=j[He],oe===void 0)return""}else{var Le,Re;for(Re=3;Re<$.length;Re++)if(Le=$[Re],!!Le){if(Le.hasOwnProperty(He)){oe=Le[He];break}if(D.test(He)||(oe=t.nestedProperty(Le,He).get(!0)),oe!==void 0)break}}if(oe!==void 0&&(Be==="*"&&(oe*=pe),Be==="/"&&(oe/=pe)),oe===void 0&&L)return L.count<L.max&&(t.warn("Variable '"+He+"' in "+L.name+" could not be found!"),oe=Y),L.count===L.max&&t.warn("Too many "+L.name+" warnings - additional warnings will be suppressed"),L.count++,Y;if(se){var Ye;if(se[0]===":"&&(Ye=T?T.numberFormat:t.numberFormat,oe!==""&&(oe=Ye(se.replace(fe,""))(oe))),se[0]==="|"){Ye=T?T.timeFormat:e;var ot=t.dateTime2ms(oe);oe=t.formatDate(ot,se.replace(fe,""),!1,Ye)}}else{var Xe=He+"Label";j.hasOwnProperty(Xe)&&(oe=j[Xe])}return Ze&&(oe="("+oe+")",(we||Se)&&(oe=" "+oe),(Ie||Se)&&(oe=oe+" ")),oe})}var be=48,H=57;t.subplotSort=function(I,j){for(var T=Math.min(I.length,j.length)+1,L=0,$=0,Y=0;Y<T;Y++){var re=I.charCodeAt(Y)||0,se=j.charCodeAt(Y)||0,ce=re>=be&&re<=H,we=se>=be&&se<=H;if(ce&&(L=10*L+re-be),we&&($=10*$+se-be),!ce||!we){if(L!==$)return L-$;if(re!==se)return re-se}}return $-L};var B=2e9;t.seedPseudoRandom=function(){B=2e9},t.pseudoRandom=function(){var I=B;return B=(69069*B+1)%4294967296,Math.abs(B-I)<429496729?t.pseudoRandom():B/4294967296},t.fillText=function(I,j,T){var L=Array.isArray(T)?function(re){T.push(re)}:function(re){T.text=re},$=t.extractOption(I,j,"htx","hovertext");if(t.isValidTextValue($))return L($);var Y=t.extractOption(I,j,"tx","text");if(t.isValidTextValue(Y))return L(Y)},t.isValidTextValue=function(I){return I||I===0},t.formatPercent=function(I,j){j=j||0;for(var T=(Math.round(100*I*Math.pow(10,j))*Math.pow(.1,j)).toFixed(j)+"%",L=0;L<j;L++)T.indexOf(".")!==-1&&(T=T.replace("0%","%"),T=T.replace(".%","%"));return T},t.isHidden=function(I){var j=window.getComputedStyle(I).display;return!j||j==="none"},t.strTranslate=function(I,j){return I||j?"translate("+I+","+j+")":""},t.strRotate=function(I){return I?"rotate("+I+")":""},t.strScale=function(I){return I!==1?"scale("+I+")":""},t.getTextTransform=function(I){var j=I.noCenter,T=I.textX,L=I.textY,$=I.targetX,Y=I.targetY,re=I.anchorX||0,se=I.anchorY||0,ce=I.rotate,we=I.scale;return we?we>1&&(we=1):we=0,t.strTranslate($-we*(T+re),Y-we*(L+se))+t.strScale(we)+(ce?"rotate("+ce+(j?"":" "+T+" "+L)+")":"")},t.setTransormAndDisplay=function(I,j){I.attr("transform",t.getTextTransform(j)),I.style("display",j.scale?null:"none")},t.ensureUniformFontSize=function(I,j){var T=t.extendFlat({},j);return T.size=Math.max(j.size,I._fullLayout.uniformtext.minsize||0),T},t.join2=function(I,j,T){var L=I.length;return L>1?I.slice(0,-1).join(j)+T+I[L-1]:I.join(j)},t.bigFont=function(I){return Math.round(1.2*I)};var A=t.getFirefoxVersion(),X=A!==null&&A<86;t.getPositionFromD3Event=function(){return X?[i.event.layerX,i.event.layerY]:[i.event.offsetX,i.event.offsetY]}}),yi=ye(()=>{var F=zt(),C={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(e in C)i=e.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier"),F.addStyleRule(i,C[e]);var i,e}),Wi=ye((F,C)=>{C.exports=!0}),Ts=ye((F,C)=>{var i=Wi(),e;typeof window.matchMedia=="function"?e=!window.matchMedia("(hover: none)").matches:e=i,C.exports=e}),vl=ye((F,C)=>{var i=typeof Reflect=="object"?Reflect:null,e=i&&typeof i.apply=="function"?i.apply:function(w,k,J){return Function.prototype.apply.call(w,k,J)},n;i&&typeof i.ownKeys=="function"?n=i.ownKeys:Object.getOwnPropertySymbols?n=function(w){return Object.getOwnPropertyNames(w).concat(Object.getOwnPropertySymbols(w))}:n=function(w){return Object.getOwnPropertyNames(w)};function r(w){console&&console.warn&&console.warn(w)}var l=Number.isNaN||function(w){return w!==w};function o(){o.init.call(this)}C.exports=o,C.exports.once=u,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function d(w){if(typeof w!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof w)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(w){if(typeof w!="number"||w<0||l(w))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+w+".");s=w}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(w){if(typeof w!="number"||w<0||l(w))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+w+".");return this._maxListeners=w,this};function t(w){return w._maxListeners===void 0?o.defaultMaxListeners:w._maxListeners}o.prototype.getMaxListeners=function(){return t(this)},o.prototype.emit=function(w){for(var k=[],J=1;J<arguments.length;J++)k.push(arguments[J]);var P=w==="error",O=this._events;if(O!==void 0)P=P&&O.error===void 0;else if(!P)return!1;if(P){var M;if(k.length>0&&(M=k[0]),M instanceof Error)throw M;var W=new Error("Unhandled error."+(M?" ("+M.message+")":""));throw W.context=M,W}var E=O[w];if(E===void 0)return!1;if(typeof E=="function")e(E,this,k);else for(var N=E.length,R=g(E,N),J=0;J<N;++J)e(R[J],this,k);return!0};function p(w,k,J,P){var O,M,W;if(d(J),M=w._events,M===void 0?(M=w._events=Object.create(null),w._eventsCount=0):(M.newListener!==void 0&&(w.emit("newListener",k,J.listener?J.listener:J),M=w._events),W=M[k]),W===void 0)W=M[k]=J,++w._eventsCount;else if(typeof W=="function"?W=M[k]=P?[J,W]:[W,J]:P?W.unshift(J):W.push(J),O=t(w),O>0&&W.length>O&&!W.warned){W.warned=!0;var E=new Error("Possible EventEmitter memory leak detected. "+W.length+" "+String(k)+" listeners added. Use emitter.setMaxListeners() to increase limit");E.name="MaxListenersExceededWarning",E.emitter=w,E.type=k,E.count=W.length,r(E)}return w}o.prototype.addListener=function(w,k){return p(this,w,k,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(w,k){return p(this,w,k,!0)};function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(w,k,J){var P={fired:!1,wrapFn:void 0,target:w,type:k,listener:J},O=c.bind(P);return O.listener=J,P.wrapFn=O,O}o.prototype.once=function(w,k){return d(k),this.on(w,h(this,w,k)),this},o.prototype.prependOnceListener=function(w,k){return d(k),this.prependListener(w,h(this,w,k)),this},o.prototype.removeListener=function(w,k){var J,P,O,M,W;if(d(k),P=this._events,P===void 0)return this;if(J=P[w],J===void 0)return this;if(J===k||J.listener===k)--this._eventsCount===0?this._events=Object.create(null):(delete P[w],P.removeListener&&this.emit("removeListener",w,J.listener||k));else if(typeof J!="function"){for(O=-1,M=J.length-1;M>=0;M--)if(J[M]===k||J[M].listener===k){W=J[M].listener,O=M;break}if(O<0)return this;O===0?J.shift():m(J,O),J.length===1&&(P[w]=J[0]),P.removeListener!==void 0&&this.emit("removeListener",w,W||k)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(w){var k,J,P;if(J=this._events,J===void 0)return this;if(J.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):J[w]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete J[w]),this;if(arguments.length===0){var O=Object.keys(J),M;for(P=0;P<O.length;++P)M=O[P],M!=="removeListener"&&this.removeAllListeners(M);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(k=J[w],typeof k=="function")this.removeListener(w,k);else if(k!==void 0)for(P=k.length-1;P>=0;P--)this.removeListener(w,k[P]);return this};function b(w,k,J){var P=w._events;if(P===void 0)return[];var O=P[k];return O===void 0?[]:typeof O=="function"?J?[O.listener||O]:[O]:J?v(O):g(O,O.length)}o.prototype.listeners=function(w){return b(this,w,!0)},o.prototype.rawListeners=function(w){return b(this,w,!1)},o.listenerCount=function(w,k){return typeof w.listenerCount=="function"?w.listenerCount(k):y.call(w,k)},o.prototype.listenerCount=y;function y(w){var k=this._events;if(k!==void 0){var J=k[w];if(typeof J=="function")return 1;if(J!==void 0)return J.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function g(w,k){for(var J=new Array(k),P=0;P<k;++P)J[P]=w[P];return J}function m(w,k){for(;k+1<w.length;k++)w[k]=w[k+1];w.pop()}function v(w){for(var k=new Array(w.length),J=0;J<k.length;++J)k[J]=w[J].listener||w[J];return k}function u(w,k){return new Promise(function(J,P){function O(W){w.removeListener(k,M),P(W)}function M(){typeof w.removeListener=="function"&&w.removeListener("error",O),J([].slice.call(arguments))}_(w,k,M,{once:!0}),k!=="error"&&f(w,O,{once:!0})})}function f(w,k,J){typeof w.on=="function"&&_(w,"error",k,J)}function _(w,k,J,P){if(typeof w.on=="function")P.once?w.once(k,J):w.on(k,J);else if(typeof w.addEventListener=="function")w.addEventListener(k,function O(M){P.once&&w.removeEventListener(k,O),J(M)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof w)}}),Po=ye((F,C)=>{var i=vl().EventEmitter,e={init:function(n){if(n._ev instanceof i)return n;var r=new i,l=new i;return n._ev=r,n._internalEv=l,n.on=r.on.bind(r),n.once=r.once.bind(r),n.removeListener=r.removeListener.bind(r),n.removeAllListeners=r.removeAllListeners.bind(r),n._internalOn=l.on.bind(l),n._internalOnce=l.once.bind(l),n._removeInternalListener=l.removeListener.bind(l),n._removeAllInternalListeners=l.removeAllListeners.bind(l),n.emit=function(o,s){r.emit(o,s),l.emit(o,s)},n},triggerHandler:function(n,r,l){var o,s=n._ev;if(!s)return;var d=s._events[r];if(!d)return;function t(c){if(c.listener){if(s.removeListener(r,c.listener),!c.fired)return c.fired=!0,c.listener.apply(s,[l])}else return c.apply(s,[l])}d=Array.isArray(d)?d:[d];var p;for(p=0;p<d.length-1;p++)t(d[p]);return o=t(d[p]),o},purge:function(n){return delete n._ev,delete n.on,delete n.once,delete n.removeListener,delete n.removeAllListeners,delete n.emit,delete n._ev,delete n._internalEv,delete n._internalOn,delete n._internalOnce,delete n._removeInternalListener,delete n._removeAllInternalListeners,n}};C.exports=e}),nu=ye((F,C)=>{var i=zt(),e=Ya().dfltConfig;function n(l,o){for(var s=[],d,t=0;t<o.length;t++)d=o[t],d===l?s[t]=d:typeof d=="object"?s[t]=Array.isArray(d)?i.extendDeep([],d):i.extendDeepAll({},d):s[t]=d;return s}var r={};r.add=function(l,o,s,d,t){var p,c;if(l.undoQueue=l.undoQueue||{index:0,queue:[],sequence:!1},c=l.undoQueue.index,l.autoplay){l.undoQueue.inSequence||(l.autoplay=!1);return}!l.undoQueue.sequence||l.undoQueue.beginSequence?(p={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},l.undoQueue.queue.splice(c,l.undoQueue.queue.length-c,p),l.undoQueue.index+=1):p=l.undoQueue.queue[c-1],l.undoQueue.beginSequence=!1,p&&(p.undo.calls.unshift(o),p.undo.args.unshift(s),p.redo.calls.push(d),p.redo.args.push(t)),l.undoQueue.queue.length>e.queueLength&&(l.undoQueue.queue.shift(),l.undoQueue.index--)},r.startSequence=function(l){l.undoQueue=l.undoQueue||{index:0,queue:[],sequence:!1},l.undoQueue.sequence=!0,l.undoQueue.beginSequence=!0},r.stopSequence=function(l){l.undoQueue=l.undoQueue||{index:0,queue:[],sequence:!1},l.undoQueue.sequence=!1,l.undoQueue.beginSequence=!1},r.undo=function(l){var o,s;if(!(l.undoQueue===void 0||isNaN(l.undoQueue.index)||l.undoQueue.index<=0)){for(l.undoQueue.index--,o=l.undoQueue.queue[l.undoQueue.index],l.undoQueue.inSequence=!0,s=0;s<o.undo.calls.length;s++)r.plotDo(l,o.undo.calls[s],o.undo.args[s]);l.undoQueue.inSequence=!1,l.autoplay=!1}},r.redo=function(l){var o,s;if(!(l.undoQueue===void 0||isNaN(l.undoQueue.index)||l.undoQueue.index>=l.undoQueue.queue.length)){for(o=l.undoQueue.queue[l.undoQueue.index],l.undoQueue.inSequence=!0,s=0;s<o.redo.calls.length;s++)r.plotDo(l,o.redo.calls[s],o.redo.args[s]);l.undoQueue.inSequence=!1,l.autoplay=!1,l.undoQueue.index++}},r.plotDo=function(l,o,s){l.autoplay=!0,s=n(l,s),o.apply(null,s)},C.exports=r}),Ms=ye((F,C)=>{C.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}}),yo=ye(F=>{var C=Kn(),i=zt(),e=Er(),n=Vi(),r=Ms(),l=gr(),o=Ya().configAttributes,s=Tr(),d=i.extendDeepAll,t=i.isPlainObject,p=i.isArrayOrTypedArray,c=i.nestedProperty,h=i.valObjectMeta,b="_isSubplotObj",y="_isLinkedToArray",g="_arrayAttrRegexps",m="_deprecated",v=[b,y,g,m];F.IS_SUBPLOT_OBJ=b,F.IS_LINKED_TO_ARRAY=y,F.DEPRECATED=m,F.UNDERSCORE_ATTRS=v,F.get=function(){var R={};return C.allTypes.forEach(function(V){R[V]=w(V)}),{defs:{valObjects:h,metaKeys:v.concat(["description","role","editType","impliedEdits"]),editType:{traces:s.traces,layout:s.layout},impliedEdits:{}},traces:R,layout:k(),frames:J(),animation:P(l),config:P(o)}},F.crawl=function(R,V,U,G){var D=U||0;G=G||"",Object.keys(R).forEach(function(Z){var q=R[Z];if(v.indexOf(Z)===-1){var ae=(G?G+".":"")+Z;V(q,Z,R,D,ae),!F.isValObject(q)&&t(q)&&Z!=="impliedEdits"&&F.crawl(q,V,D+1,ae)}})},F.isValObject=function(R){return R&&R.valType!==void 0},F.findArrayAttributes=function(R){var V=[],U=[],G=[],D,Z;function q(te,ie,fe,he){U=U.slice(0,he).concat([ie]),G=G.slice(0,he).concat([te&&te._isLinkedToArray]);var be=te&&(te.valType==="data_array"||te.arrayOk===!0)&&!(U[he-1]==="colorbar"&&(ie==="ticktext"||ie==="tickvals"));be&&ae(D,0,"")}function ae(te,ie,fe){var he=te[U[ie]],be=fe+U[ie];if(ie===U.length-1)p(he)&&V.push(Z+be);else if(G[ie]){if(Array.isArray(he))for(var H=0;H<he.length;H++)t(he[H])&&ae(he[H],ie+1,be+"["+H+"].")}else t(he)&&ae(he,ie+1,be+".")}return D=R,Z="",F.crawl(e,q),R._module&&R._module.attributes&&F.crawl(R._module.attributes,q),V},F.getTraceValObject=function(R,V){var U=V[0],G=1,D,Z,q=R._module;if(q||(q=(C.modules[R.type||e.type.dflt]||{})._module),!q)return!1;if(D=q.attributes,Z=D&&D[U],!Z){var ae=q.basePlotModule;ae&&ae.attributes&&(Z=ae.attributes[U])}return Z||(Z=e[U]),f(Z,V,G)},F.getLayoutValObject=function(R,V){var U=u(R,V[0]);return f(U,V,1)};function u(R,V){var U,G,D,Z,q=R._basePlotModules;if(q){var ae;for(U=0;U<q.length;U++){if(D=q[U],D.attrRegex&&D.attrRegex.test(V)){if(D.layoutAttrOverrides)return D.layoutAttrOverrides;!ae&&D.layoutAttributes&&(ae=D.layoutAttributes)}var te=D.baseLayoutAttrOverrides;if(te&&V in te)return te[V]}if(ae)return ae}var ie=R._modules;if(ie){for(U=0;U<ie.length;U++)if(Z=ie[U].layoutAttributes,Z&&V in Z)return Z[V]}for(G in C.componentsRegistry){if(D=C.componentsRegistry[G],D.name==="colorscale"&&V.indexOf("coloraxis")===0)return D.layoutAttributes[V];if(!D.schema&&V===D.name)return D.layoutAttributes}return V in n?n[V]:!1}function f(R,V,U){if(!R)return!1;if(R._isLinkedToArray){if(_(V[U]))U++;else if(U<V.length)return!1}for(;U<V.length;U++){var G=R[V[U]];if(t(G))R=G;else break;if(U===V.length-1)break;if(R._isLinkedToArray){if(U++,!_(V[U]))return!1}else if(R.valType==="info_array"){U++;var D=V[U];if(!_(D))return!1;var Z=R.items;if(Array.isArray(Z)){if(D>=Z.length)return!1;if(R.dimensions===2){if(U++,V.length===U)return R;var q=V[U];if(!_(q))return!1;R=Z[D][q]}else R=Z[D]}else R=Z}}return R}function _(R){return R===Math.round(R)&&R>=0}function w(R){var V,U;V=C.modules[R]._module,U=V.basePlotModule;var G={};G.type=null;var D=d({},e),Z=d({},V.attributes);F.crawl(Z,function(te,ie,fe,he,be){c(D,be).set(void 0),te===void 0&&c(Z,be).set(void 0)}),d(G,D),C.traceIs(R,"noOpacity")&&delete G.opacity,C.traceIs(R,"showLegend")||(delete G.showlegend,delete G.legendgroup),C.traceIs(R,"noHover")&&(delete G.hoverinfo,delete G.hoverlabel),V.selectPoints||delete G.selectedpoints,d(G,Z),U.attributes&&d(G,U.attributes),G.type=R;var q={meta:V.meta||{},categories:V.categories||{},animatable:!!V.animatable,type:R,attributes:P(G)};if(V.layoutAttributes){var ae={};d(ae,V.layoutAttributes),q.layoutAttributes=P(ae)}return V.animatable||F.crawl(q,function(te){F.isValObject(te)&&"anim"in te&&delete te.anim}),q}function k(){var R={},V,U;d(R,n);for(V in C.subplotsRegistry)if(U=C.subplotsRegistry[V],!!U.layoutAttributes)if(Array.isArray(U.attr))for(var G=0;G<U.attr.length;G++)E(R,U,U.attr[G]);else{var D=U.attr==="subplot"?U.name:U.attr;E(R,U,D)}for(V in C.componentsRegistry){U=C.componentsRegistry[V];var Z=U.schema;if(Z&&(Z.subplots||Z.layout)){var q=Z.subplots;if(q&&q.xaxis&&!q.yaxis)for(var ae in q.xaxis)delete R.yaxis[ae];delete R.xaxis.shift,delete R.xaxis.autoshift}else U.name==="colorscale"?d(R,U.layoutAttributes):U.layoutAttributes&&N(R,U.layoutAttributes,U.name)}return{layoutAttributes:P(R)}}function J(){var R={frames:d({},r)};return P(R),R.frames}function P(R){return O(R),M(R),W(R),R}function O(R){function V(G){return{valType:"string",editType:"none"}}function U(G,D,Z){F.isValObject(G)?(G.arrayOk===!0||G.valType==="data_array")&&(Z[D+"src"]=V()):t(G)&&(G.role="object")}F.crawl(R,U)}function M(R){function V(U,G,D){if(U){var Z=U[y];Z&&(delete U[y],D[G]={items:{}},D[G].items[Z]=U,D[G].role="object")}}F.crawl(R,V)}function W(R){function V(U){for(var G in U)if(t(U[G]))V(U[G]);else if(Array.isArray(U[G]))for(var D=0;D<U[G].length;D++)V(U[G][D]);else U[G]instanceof RegExp&&(U[G]=U[G].toString())}V(R)}function E(R,V,U){var G=c(R,U),D=d({},V.layoutAttributes);D[b]=!0,G.set(D)}function N(R,V,U){var G=c(R,U);G.set(d(G.get()||{},V))}}),or=ye(F=>{var C=zt(),i=Er(),e="templateitemname",n={name:{valType:"string",editType:"none"}};n[e]={valType:"string",editType:"calc"},F.templatedArray=function(o,s){return s._isLinkedToArray=o,s.name=n.name,s[e]=n[e],s},F.traceTemplater=function(o){var s={},d,t;for(d in o)t=o[d],Array.isArray(t)&&t.length&&(s[d]=0);function p(c){d=C.coerce(c,{},i,"type");var h={type:d,_template:null};if(d in s){t=o[d];var b=s[d]%t.length;s[d]++,h._template=t[b]}return h}return{newTrace:p}},F.newContainer=function(o,s,d){var t=o._template,p=t&&(t[s]||d&&t[d]);C.isPlainObject(p)||(p=null);var c=o[s]={_template:p};return c},F.arrayTemplater=function(o,s,d){var t=o._template,p=t&&t[l(s)],c=t&&t[s];(!Array.isArray(c)||!c.length)&&(c=[]);var h={};function b(g){var m={name:g.name,_input:g},v=m[e]=g[e];if(!r(v))return m._template=p,m;for(var u=0;u<c.length;u++){var f=c[u];if(f.name===v)return h[v]=1,m._template=f,m}return m[d]=g[d]||!1,m._template=!1,m}function y(){for(var g=[],m=0;m<c.length;m++){var v=c[m],u=v.name;if(r(u)&&!h[u]){var f={_template:v,name:u,_input:{_templateitemname:u}};f[e]=v[e],g.push(f),h[u]=1}}return g}return{newItem:b,defaultItems:y}};function r(o){return o&&typeof o=="string"}function l(o){var s=o.length-1;return o.charAt(s)!=="s"&&C.warn("bad argument to arrayDefaultKey: "+o),o.substr(0,o.length-1)+"defaults"}F.arrayDefaultKey=l,F.arrayEditor=function(o,s,d){var t=(C.nestedProperty(o,s).get()||[]).length,p=d._index,c=p>=t&&(d._input||{})._templateitemname;c&&(p=t);var h=s+"["+p+"]",b;function y(){b={},c&&(b[h]={},b[h][e]=c)}y();function g(f,_){b[f]=_}function m(f,_){c?C.nestedProperty(b[h],f).set(_):b[h+"."+f]=_}function v(){var f=b;return y(),f}function u(f,_){f&&m(f,_);var w=v();for(var k in w)C.nestedProperty(o,k).set(w[k])}return{modifyBase:g,modifyItem:m,getUpdateObj:v,applyUpdate:u}}}),$r=ye((F,C)=>{var i=Yr().counter;C.exports={idRegex:{x:i("x","( domain)?"),y:i("y","( domain)?")},attrRegex:i("[xy]axis"),xAxisMatch:i("xaxis"),yAxisMatch:i("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"},zindexSeparator:"z"}}),Nr=ye(F=>{var C=Kn(),i=$r();F.id2name=function(n){if(!(typeof n!="string"||!n.match(i.AX_ID_PATTERN))){var r=n.split(" ")[0].substr(1);return r==="1"&&(r=""),n.charAt(0)+"axis"+r}},F.name2id=function(n){if(n.match(i.AX_NAME_PATTERN)){var r=n.substr(5);return r==="1"&&(r=""),n.charAt(0)+r}},F.cleanId=function(n,r,l){var o=/( domain)$/.test(n);if(!(typeof n!="string"||!n.match(i.AX_ID_PATTERN))&&!(r&&n.charAt(0)!==r)&&!(o&&!l)){var s=n.split(" ")[0].substr(1).replace(/^0+/,"");return s==="1"&&(s=""),n.charAt(0)+s+(o&&l?" domain":"")}},F.list=function(n,r,l){var o=n._fullLayout;if(!o)return[];var s=F.listIds(n,r),d=new Array(s.length),t;for(t=0;t<s.length;t++){var p=s[t];d[t]=o[p.charAt(0)+"axis"+p.substr(1)]}if(!l){var c=o._subplots.gl3d||[];for(t=0;t<c.length;t++){var h=o[c[t]];r?d.push(h[r+"axis"]):d.push(h.xaxis,h.yaxis,h.zaxis)}}return d},F.listIds=function(n,r){var l=n._fullLayout;if(!l)return[];var o=l._subplots;return r?o[r+"axis"]:o.xaxis.concat(o.yaxis)},F.getFromId=function(n,r,l){var o=n._fullLayout;return r=r===void 0||typeof r!="string"?r:r.replace(" domain",""),l==="x"?r=r.replace(/y[0-9]*/,""):l==="y"&&(r=r.replace(/x[0-9]*/,"")),o[F.id2name(r)]},F.getFromTrace=function(n,r,l){var o=n._fullLayout,s=null;if(C.traceIs(r,"gl3d")){var d=r.scene;d.substr(0,5)==="scene"&&(s=o[d][l+"axis"])}else s=F.getFromId(n,r[l+"axis"]||l);return s},F.idSort=function(n,r){var l=n.charAt(0),o=r.charAt(0);return l!==o?l>o?1:-1:+(n.substr(1)||1)-+(r.substr(1)||1)},F.ref2id=function(n){return/^[xyz]/.test(n)?n.split(" ")[0]:!1};function e(n,r){if(r&&r.length){for(var l=0;l<r.length;l++)if(r[l][n])return!0}return!1}F.isLinked=function(n,r){return e(r,n._axisMatchGroups)||e(r,n._axisConstraintGroups)}}),Zi=ye((F,C)=>{function i(n){var r=n._fullLayout._zoomlayer;r&&r.selectAll(".outline-controllers").remove()}function e(n){var r=n._fullLayout._zoomlayer;r&&r.selectAll(".select-outline").remove(),n._fullLayout._outlining=!1}C.exports={clearOutlineControllers:i,clearOutline:e}}),gl=ye((F,C)=>{C.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}}),ks=ye(F=>{var C=Kn();$r().SUBPLOT_PATTERN,F.getSubplotCalcData=function(i,e,n){var r=C.subplotsRegistry[e];if(!r)return[];for(var l=r.attr,o=[],s=0;s<i.length;s++){var d=i[s],t=d[0].trace;t[l]===n&&o.push(d)}return o},F.getModuleCalcData=function(i,e,n){var r=[],l=[],o;if(typeof e=="string"?o=C.getModule(e).plot:typeof e=="function"?o=e:o=e.plot,!o)return[r,i];for(var s=n,d=0;d<i.length;d++){var t=i[d],p=t[0].trace,c=p.zorder!==void 0;p.visible!==!0||p._length===0||(p._module&&p._module.plot===o&&(!c||p.zorder===s)?r.push(t):l.push(t))}return[r,l]},F.getSubplotData=function(i,e,n){if(!C.subplotsRegistry[e])return[];for(var r=C.subplotsRegistry[e].attr,l=[],o,s,d,t=0;t<i.length;t++)o=i[t],o[r]===n&&l.push(o);return l}}),au=ye(F=>{var C=Kn(),i=zt();F.manageCommandObserver=function(s,d,t,p){var c={},h=!0;d&&d._commandObserver&&(c=d._commandObserver),c.cache||(c.cache={}),c.lookupTable={};var b=F.hasSimpleAPICommandBindings(s,t,c.lookupTable);if(d&&d._commandObserver){if(b)return c;if(d._commandObserver.remove)return d._commandObserver.remove(),d._commandObserver=null,c}if(b){e(s,b,c.cache),c.check=function(){if(h){var m=e(s,b,c.cache);return m.changed&&p&&c.lookupTable[m.value]!==void 0&&(c.disable(),Promise.resolve(p({value:m.value,type:b.type,prop:b.prop,traces:b.traces,index:c.lookupTable[m.value]})).then(c.enable,c.enable)),m.changed}};for(var y=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],g=0;g<y.length;g++)s._internalOn(y[g],c.check);c.remove=function(){for(var m=0;m<y.length;m++)s._removeInternalListener(y[m],c.check)}}else i.log("Unable to automatically bind plot updates to API command"),c.lookupTable={},c.remove=function(){};return c.disable=function(){h=!1},c.enable=function(){h=!0},d&&(d._commandObserver=c),c},F.hasSimpleAPICommandBindings=function(s,d,t){var p,c=d.length,h;for(p=0;p<c;p++){var b,y=d[p],g=y.method,m=y.args;if(Array.isArray(m)||(m=[]),!g)return!1;var v=F.computeAPICommandBindings(s,g,m);if(v.length!==1)return!1;if(!h)h=v[0],Array.isArray(h.traces)&&h.traces.sort();else{if(b=v[0],b.type!==h.type||b.prop!==h.prop)return!1;if(Array.isArray(h.traces))if(Array.isArray(b.traces)){b.traces.sort();for(var u=0;u<h.traces.length;u++)if(h.traces[u]!==b.traces[u])return!1}else return!1;else if(b.prop!==h.prop)return!1}b=v[0];var f=b.value;if(Array.isArray(f))if(f.length===1)f=f[0];else return!1;t&&(t[f]=p)}return h};function e(s,d,t){var p,c,h,b=!1;if(d.type==="data")p=s._fullData[d.traces!==null?d.traces[0]:0];else if(d.type==="layout")p=s._fullLayout;else return!1;return c=i.nestedProperty(p,d.prop).get(),h=t[d.type]=t[d.type]||{},h.hasOwnProperty(d.prop)&&h[d.prop]!==c&&(b=!0),h[d.prop]=c,{changed:b,value:c}}F.executeAPICommand=function(s,d,t){if(d==="skip")return Promise.resolve();var p=C.apiMethodRegistry[d],c=[s];Array.isArray(t)||(t=[]);for(var h=0;h<t.length;h++)c.push(t[h]);return p.apply(null,c).catch(function(b){return i.warn("API call to Plotly."+d+" rejected.",b),Promise.reject(b)})},F.computeAPICommandBindings=function(s,d,t){var p;switch(Array.isArray(t)||(t=[]),d){case"restyle":p=l(s,t);break;case"relayout":p=r(s,t);break;case"update":p=l(s,[t[0],t[2]]).concat(r(s,[t[1]]));break;case"animate":p=n(s,t);break;default:p=[]}return p};function n(s,d){return Array.isArray(d[0])&&d[0].length===1&&["string","number"].indexOf(typeof d[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:d[0][0].toString()}]:[]}function r(s,d){var t=[],p=d[0],c={};if(typeof p=="string")c[p]=d[1];else if(i.isPlainObject(p))c=p;else return t;return o(c,function(h,b,y){t.push({type:"layout",prop:h,value:y})},"",0),t}function l(s,d){var t,p,c,h,b=[];if(p=d[0],c=d[1],t=d[2],h={},typeof p=="string")h[p]=c;else if(i.isPlainObject(p))h=p,t===void 0&&(t=c);else return b;return t===void 0&&(t=null),o(h,function(y,g,m){var v,u;if(Array.isArray(m)){u=m.slice();var f=Math.min(u.length,s.data.length);t&&(f=Math.min(f,t.length)),v=[];for(var _=0;_<f;_++)v[_]=t?t[_]:_}else u=m,v=t?t.slice():null;if(v===null)Array.isArray(u)&&(u=u[0]);else if(Array.isArray(v)){if(!Array.isArray(u)){var w=u;u=[];for(var k=0;k<v.length;k++)u[k]=w}u.length=Math.min(v.length,u.length)}b.push({type:"data",prop:y,traces:v,value:u})},"",0),b}function o(s,d,t,p){Object.keys(s).forEach(function(c){var h=s[c];if(c[0]!=="_"){var b=t+(p>0?".":"")+c;i.isPlainObject(h)?o(h,d,b,p+1):d(b,c,h)}})}}),Lr=ye((F,C)=>{var i=Xt(),e=wa().timeFormatLocale,n=ka().formatLocale,r=on(),l=Pn(),o=Kn(),s=yo(),d=or(),t=zt(),p=$n(),c=Gn().BADNUM,h=Nr(),b=Zi().clearOutline,y=gl(),g=gr(),m=Ms(),v=ks().getModuleCalcData,u=t.relinkPrivateKeys,f=t._,_=C.exports={};t.extendFlat(_,o),_.attributes=Er(),_.attributes.type.values=_.allTypes,_.fontAttrs=Za(),_.layoutAttributes=Vi();var w=au();_.executeAPICommand=w.executeAPICommand,_.computeAPICommandBindings=w.computeAPICommandBindings,_.manageCommandObserver=w.manageCommandObserver,_.hasSimpleAPICommandBindings=w.hasSimpleAPICommandBindings,_.redrawText=function(H){return H=t.getGraphDiv(H),new Promise(function(B){setTimeout(function(){H._fullLayout&&(o.getComponentMethod("annotations","draw")(H),o.getComponentMethod("legend","draw")(H),o.getComponentMethod("colorbar","draw")(H),B(_.previousPromises(H)))},300)})},_.resize=function(H){H=t.getGraphDiv(H);var B,A=new Promise(function(X,I){(!H||t.isHidden(H))&&I(new Error("Resize must be passed a displayed plot div element.")),H._redrawTimer&&clearTimeout(H._redrawTimer),H._resolveResize&&(B=H._resolveResize),H._resolveResize=X,H._redrawTimer=setTimeout(function(){if(!H.layout||H.layout.width&&H.layout.height||t.isHidden(H)){X(H);return}delete H.layout.width,delete H.layout.height;var j=H.changed;H.autoplay=!0,o.call("relayout",H,{autosize:!0}).then(function(){H.changed=j,H._resolveResize===X&&(delete H._resolveResize,X(H))})},100)});return B&&B(A),A},_.previousPromises=function(H){if((H._promises||[]).length)return Promise.all(H._promises).then(function(){H._promises=[]})},_.addLinks=function(H){if(!(!H._context.showLink&&!H._context.showSources)){var B=H._fullLayout,A=t.ensureSingle(B._paper,"text","js-plot-link-container",function($){$.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:p.defaultLine,"pointer-events":"all"}).each(function(){var Y=i.select(this);Y.append("tspan").classed("js-link-to-tool",!0),Y.append("tspan").classed("js-link-spacer",!0),Y.append("tspan").classed("js-sourcelinks",!0)})}),X=A.node(),I={y:B._paper.attr("height")-9};document.body.contains(X)&&X.getComputedTextLength()>=B.width-20?(I["text-anchor"]="start",I.x=5):(I["text-anchor"]="end",I.x=B._paper.attr("width")-7),A.attr(I);var j=A.select(".js-link-to-tool"),T=A.select(".js-link-spacer"),L=A.select(".js-sourcelinks");H._context.showSources&&H._context.showSources(H),H._context.showLink&&k(H,j),T.text(j.text()&&L.text()?" - ":"")}};function k(H,B){B.text("");var A=B.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(H._context.linkText+" »");if(H._context.sendData)A.on("click",function(){_.sendDataToCloud(H)});else{var X=window.location.pathname.split("/"),I=window.location.search;A.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+X[2].split(".")[0]+"/"+X[1]+I})}}_.sendDataToCloud=function(H){var B=(window.PLOTLYENV||{}).BASE_URL||H._context.plotlyServerURL;if(B){H.emit("plotly_beforeexport");var A=i.select(H).append("div").attr("id","hiddenform").style("display","none"),X=A.append("form").attr({action:B+"/external",method:"post",target:"_blank"}),I=X.append("input").attr({type:"text",name:"data"});return I.node().value=_.graphJson(H,!1,"keepdata"),X.node().submit(),A.remove(),H.emit("plotly_afterexport"),!1}};var J=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],P=["year","month","dayMonth","dayMonthYear"];_.supplyDefaults=function(H,B){var A=B&&B.skipUpdateCalc,X=H._fullLayout||{};if(X._skipDefaults){delete X._skipDefaults;return}var I=H._fullLayout={},j=H.layout||{},T=H._fullData||[],L=H._fullData=[],$=H.data||[],Y=H.calcdata||[],re=H._context||{},se;H._transitionData||_.createTransitionData(H),I._dfltTitle={plot:f(H,"Click to enter Plot title"),subtitle:f(H,"Click to enter Plot subtitle"),x:f(H,"Click to enter X axis title"),y:f(H,"Click to enter Y axis title"),colorbar:f(H,"Click to enter Colorscale title"),annotation:f(H,"new text")},I._traceWord=f(H,"trace");var ce=W(H,J);if(I._mapboxAccessToken=re.mapboxAccessToken,X._initialAutoSizeIsDone){var we=X.width,Se=X.height;_.supplyLayoutGlobalDefaults(j,I,ce),j.width||(I.width=we),j.height||(I.height=Se),_.sanitizeMargins(I)}else{_.supplyLayoutGlobalDefaults(j,I,ce);var Ie=!j.width||!j.height,Ze=I.autosize,He=re.autosizable,Be=Ie&&(Ze||He);Be?_.plotAutoSize(H,j,I):Ie&&_.sanitizeMargins(I),!Ze&&Ie&&(j.width=I.width,j.height=I.height)}I._d3locale=E(ce,I.separators),I._extraFormat=W(H,P),I._initialAutoSizeIsDone=!0,I._dataLength=$.length,I._modules=[],I._visibleModules=[],I._basePlotModules=[];var pe=I._subplots=M(),_e=I._splomAxes={x:{},y:{}},oe=I._splomSubplots={};I._splomGridDflt={},I._scatterStackOpts={},I._firstScatter={},I._alignmentOpts={},I._colorAxes={},I._requestRangeslider={},I._traceUids=O(T,$),_.supplyDataDefaults($,L,j,I);var Le=Object.keys(_e.x),Re=Object.keys(_e.y);if(Le.length>1&&Re.length>1){for(o.getComponentMethod("grid","sizeDefaults")(j,I),se=0;se<Le.length;se++)t.pushUnique(pe.xaxis,Le[se]);for(se=0;se<Re.length;se++)t.pushUnique(pe.yaxis,Re[se]);for(var Ye in oe)t.pushUnique(pe.cartesian,Ye)}if(I._has=_._hasPlotType.bind(I),T.length===L.length)for(se=0;se<L.length;se++)u(L[se],T[se]);_.supplyLayoutModuleDefaults(j,I,L,H._transitionData);var ot=I._visibleModules,Xe=[];for(se=0;se<ot.length;se++){var lt=ot[se].crossTraceDefaults;lt&&t.pushUnique(Xe,lt)}for(se=0;se<Xe.length;se++)Xe[se](L,I);I._hasOnlyLargeSploms=I._basePlotModules.length===1&&I._basePlotModules[0].name==="splom"&&Le.length>15&&Re.length>15&&I.shapes.length===0&&I.images.length===0,_.linkSubplots(L,I,T,X),_.cleanPlot(L,I,T,X);var ut=!!(X._has&&X._has("cartesian")),dt=!!(I._has&&I._has("cartesian")),xt=ut,qe=dt;xt&&!qe?X._bgLayer.remove():qe&&!xt&&(I._shouldCreateBgLayer=!0),X._zoomlayer&&!H._dragging&&b({_fullLayout:X}),N(L,I),u(I,X),o.getComponentMethod("colorscale","crossTraceDefaults")(L,I),I._preGUI||(I._preGUI={}),I._tracePreGUI||(I._tracePreGUI={});var bt=I._tracePreGUI,Dt={},pt;for(pt in bt)Dt[pt]="old";for(se=0;se<L.length;se++)pt=L[se]._fullInput.uid,Dt[pt]||(bt[pt]={}),Dt[pt]="new";for(pt in Dt)Dt[pt]==="old"&&delete bt[pt];U(I),o.getComponentMethod("rangeslider","makeData")(I),!A&&Y.length===L.length&&_.supplyDefaultsUpdateCalc(Y,L)},_.supplyDefaultsUpdateCalc=function(H,B){for(var A=0;A<B.length;A++){var X=B[A],I=(H[A]||[])[0];if(I&&I.trace){var j=I.trace;if(j._hasCalcTransform){var T=j._arrayAttrs,L,$,Y;for(L=0;L<T.length;L++)$=T[L],Y=t.nestedProperty(j,$).get().slice(),t.nestedProperty(X,$).set(Y)}I.trace=X}}};function O(H,B){var A=B.length,X=[],I,j;for(I=0;I<H.length;I++){var T=H[I]._fullInput;T!==j&&X.push(T),j=T}var L=X.length,$=new Array(A),Y={};function re(we,Se){$[Se]=we,Y[we]=1}function se(we,Se){if(we&&typeof we=="string"&&!Y[we])return re(we,Se),!0}for(I=0;I<A;I++){var ce=B[I].uid;typeof ce=="number"&&(ce=String(ce)),!se(ce,I)&&(I<L&&se(X[I].uid,I)||re(t.randstr(Y),I))}return $}function M(){var H=o.collectableSubplotTypes,B={},A,X;if(!H){H=[];var I=o.subplotsRegistry;for(var j in I){var T=I[j],L=T.attr;if(L&&(H.push(j),Array.isArray(L)))for(X=0;X<L.length;X++)t.pushUnique(H,L[X])}}for(A=0;A<H.length;A++)B[H[A]]=[];return B}function W(H,B){var A=H._context.locale;A||(A="en-US");var X=!1,I={};function j(se){for(var ce=!0,we=0;we<B.length;we++){var Se=B[we];I[Se]||(se[Se]?I[Se]=se[Se]:ce=!1)}ce&&(X=!0)}for(var T=0;T<2;T++){for(var L=H._context.locales,$=0;$<2;$++){var Y=(L[A]||{}).format;if(Y&&(j(Y),X))break;L=o.localeRegistry}var re=A.split("-")[0];if(X||re===A)break;A=re}return X||j(o.localeRegistry.en.format),I}function E(H,B){return H.decimal=B.charAt(0),H.thousands=B.charAt(1),{numberFormat:function(A){try{A=n(H).format(t.adjustFormat(A))}catch{return t.warnBadFormat(A),t.noFormat}return A},timeFormat:e(H).utcFormat}}function N(H,B){var A,X=[];B.meta&&(A=B._meta={meta:B.meta,layout:{meta:B.meta}});for(var I=0;I<H.length;I++){var j=H[I];j.meta?X[j.index]=j._meta={meta:j.meta}:B.meta&&(j._meta={meta:B.meta}),B.meta&&(j._meta.layout={meta:B.meta})}X.length&&(A||(A=B._meta={}),A.data=X)}_.createTransitionData=function(H){H._transitionData||(H._transitionData={}),H._transitionData._frames||(H._transitionData._frames=[]),H._transitionData._frameHash||(H._transitionData._frameHash={}),H._transitionData._counter||(H._transitionData._counter=0),H._transitionData._interruptCallbacks||(H._transitionData._interruptCallbacks=[])},_._hasPlotType=function(H){var B,A=this._basePlotModules||[];for(B=0;B<A.length;B++)if(A[B].name===H)return!0;var X=this._modules||[];for(B=0;B<X.length;B++){var I=X[B].name;if(I===H)return!0;var j=o.modules[I];if(j&&j.categories[H])return!0}return!1},_.cleanPlot=function(H,B,A,X){var I,j,T=X._basePlotModules||[];for(I=0;I<T.length;I++){var L=T[I];L.clean&&L.clean(H,B,A,X)}var $=X._has&&X._has("gl"),Y=B._has&&B._has("gl");$&&!Y&&X._glcontainer!==void 0&&(X._glcontainer.selectAll(".gl-canvas").remove(),X._glcontainer.selectAll(".no-webgl").remove(),X._glcanvas=null);var re=!!X._infolayer;e:for(I=0;I<A.length;I++){var se=A[I],ce=se.uid;for(j=0;j<H.length;j++){var we=H[j];if(ce===we.uid)continue e}re&&X._infolayer.select(".cb"+ce).remove()}},_.linkSubplots=function(H,B,A,X){var I,j,T=X._plots||{},L=B._plots={},$=B._subplots,Y={_fullData:H,_fullLayout:B},re=$.cartesian||[];for(I=0;I<re.length;I++){var se=re[I],ce=T[se],we=h.getFromId(Y,se,"x"),Se=h.getFromId(Y,se,"y"),Ie;for(ce?Ie=L[se]=ce:(Ie=L[se]={},Ie.id=se),we._counterAxes.push(Se._id),Se._counterAxes.push(we._id),we._subplotsWith.push(se),Se._subplotsWith.push(se),Ie.xaxis=we,Ie.yaxis=Se,Ie._hasClipOnAxisFalse=!1,j=0;j<H.length;j++){var Ze=H[j];if(Ze.xaxis===Ie.xaxis._id&&Ze.yaxis===Ie.yaxis._id&&Ze.cliponaxis===!1){Ie._hasClipOnAxisFalse=!0;break}}}var He=h.list(Y,null,!0),Be;for(I=0;I<He.length;I++){Be=He[I];var pe=null;Be.overlaying&&(pe=h.getFromId(Y,Be.overlaying),pe&&pe.overlaying&&(Be.overlaying=!1,pe=null)),Be._mainAxis=pe||Be,pe&&(Be.domain=pe.domain.slice()),Be._anchorAxis=Be.anchor==="free"?null:h.getFromId(Y,Be.anchor)}for(I=0;I<He.length;I++)if(Be=He[I],Be._counterAxes.sort(h.idSort),Be._subplotsWith.sort(t.subplotSort),Be._mainSubplot=R(Be,B),Be._counterAxes.length&&(Be.spikemode&&Be.spikemode.indexOf("across")!==-1||Be.automargin&&Be.mirror&&Be.anchor!=="free"||o.getComponentMethod("rangeslider","isVisible")(Be))){var _e=1,oe=0;for(j=0;j<Be._counterAxes.length;j++){var Le=h.getFromId(Y,Be._counterAxes[j]);_e=Math.min(_e,Le.domain[0]),oe=Math.max(oe,Le.domain[1])}_e<oe&&(Be._counterDomainMin=_e,Be._counterDomainMax=oe)}};function R(H,B){var A={_fullLayout:B},X=H._id.charAt(0)==="x",I=H._mainAxis._anchorAxis,j="",T="",L="";if(I&&(L=I._mainAxis._id,j=X?H._id+L:L+H._id),!j||!B._plots[j]){j="";for(var $=H._counterAxes,Y=0;Y<$.length;Y++){var re=$[Y],se=X?H._id+re:re+H._id;T||(T=se);var ce=h.getFromId(A,re);if(L&&ce.overlaying===L){j=se;break}}}return j||T}_.clearExpandedTraceDefaultColors=function(H){var B,A,X;function I(T,L,$,Y){A[Y]=L,A.length=Y+1,T.valType==="color"&&T.dflt===void 0&&B.push(A.join("."))}for(A=[],B=H._module._colorAttrs,B||(H._module._colorAttrs=B=[],s.crawl(H._module.attributes,I)),X=0;X<B.length;X++){var j=t.nestedProperty(H,"_input."+B[X]);j.get()||t.nestedProperty(H,B[X]).set(null)}},_.supplyDataDefaults=function(H,B,A,X){var I=X._modules,j=X._visibleModules,T=X._basePlotModules,L=0,$,Y,re;X._transformModules=[];function se(He){B.push(He);var Be=He._module;Be&&(t.pushUnique(I,Be),He.visible===!0&&t.pushUnique(j,Be),t.pushUnique(T,He._module.basePlotModule),He._input.visible!==!1&&L++)}var ce={},we=[],Se=(A.template||{}).data||{},Ie=d.traceTemplater(Se);for($=0;$<H.length;$++)re=H[$],Y=Ie.newTrace(re),Y.uid=X._traceUids[$],_.supplyTraceDefaults(re,Y,L,X,$),Y.index=$,Y._input=re,Y._fullInput=Y,se(Y),o.traceIs(Y,"carpetAxis")&&(ce[Y.carpet]=Y),o.traceIs(Y,"carpetDependent")&&we.push($);for($=0;$<we.length;$++)if(Y=B[we[$]],!!Y.visible){var Ze=ce[Y.carpet];if(Y._carpet=Ze,!Ze||!Ze.visible){Y.visible=!1;continue}Y.xaxis=Ze.xaxis,Y.yaxis=Ze.yaxis}},_.supplyAnimationDefaults=function(H){H=H||{};var B,A={};function X(I,j){return t.coerce(H||{},A,g,I,j)}if(X("mode"),X("direction"),X("fromcurrent"),Array.isArray(H.frame))for(A.frame=[],B=0;B<H.frame.length;B++)A.frame[B]=_.supplyAnimationFrameDefaults(H.frame[B]||{});else A.frame=_.supplyAnimationFrameDefaults(H.frame||{});if(Array.isArray(H.transition))for(A.transition=[],B=0;B<H.transition.length;B++)A.transition[B]=_.supplyAnimationTransitionDefaults(H.transition[B]||{});else A.transition=_.supplyAnimationTransitionDefaults(H.transition||{});return A},_.supplyAnimationFrameDefaults=function(H){var B={};function A(X,I){return t.coerce(H||{},B,g.frame,X,I)}return A("duration"),A("redraw"),B},_.supplyAnimationTransitionDefaults=function(H){var B={};function A(X,I){return t.coerce(H||{},B,g.transition,X,I)}return A("duration"),A("easing"),B},_.supplyFrameDefaults=function(H){var B={};function A(X,I){return t.coerce(H,B,m,X,I)}return A("group"),A("name"),A("traces"),A("baseframe"),A("data"),A("layout"),B},_.supplyTraceDefaults=function(H,B,A,X,I){var j=X.colorway||p.defaults,T=j[A%j.length],L;function $(pe,_e){return t.coerce(H,B,_.attributes,pe,_e)}var Y=$("visible");$("type"),$("name",X._traceWord+" "+I),$("uirevision",X.uirevision);var re=_.getModule(B);if(B._module=re,re){var se=re.basePlotModule,ce=se.attr,we=se.attributes;if(ce&&we){var Se=X._subplots,Ie="";if(Array.isArray(ce))for(L=0;L<ce.length;L++){var Ze=ce[L],He=t.coerce(H,B,we,Ze);Se[Ze]&&t.pushUnique(Se[Ze],He),Ie+=He}else Ie=t.coerce(H,B,we,ce);Se[se.name]&&t.pushUnique(Se[se.name],Ie)}}if(Y&&($("customdata"),$("ids"),$("meta"),o.traceIs(B,"showLegend")?(t.coerce(H,B,re.attributes.showlegend?re.attributes:_.attributes,"showlegend"),$("legend"),$("legendwidth"),$("legendgroup"),$("legendgrouptitle.text"),$("legendrank"),B._dfltShowLegend=!0):B._dfltShowLegend=!1,re&&re.supplyDefaults(H,B,T,X),o.traceIs(B,"noOpacity")||$("opacity"),o.traceIs(B,"notLegendIsolatable")&&(B.visible=!!B.visible),o.traceIs(B,"noHover")||(B.hovertemplate||t.coerceHoverinfo(H,B,X),B.type!=="parcats"&&o.getComponentMethod("fx","supplyDefaults")(H,B,T,X)),re&&re.selectPoints)){var Be=$("selectedpoints");t.isTypedArray(Be)&&(B.selectedpoints=Array.from(Be))}return B},_.supplyLayoutGlobalDefaults=function(H,B,A){function X(se,ce){return t.coerce(H,B,_.layoutAttributes,se,ce)}var I=H.template;t.isPlainObject(I)&&(B.template=I,B._template=I.layout,B._dataTemplate=I.data),X("autotypenumbers");var j=t.coerceFont(X,"font"),T=j.size;t.coerceFont(X,"title.font",j,{overrideDflt:{size:Math.round(T*1.4)}}),X("title.text",B._dfltTitle.plot),X("title.xref");var L=X("title.yref");X("title.pad.t"),X("title.pad.r"),X("title.pad.b"),X("title.pad.l");var $=X("title.automargin");X("title.x"),X("title.xanchor"),X("title.y"),X("title.yanchor"),X("title.subtitle.text",B._dfltTitle.subtitle),t.coerceFont(X,"title.subtitle.font",j,{overrideDflt:{size:Math.round(B.title.font.size*.7)}}),$&&(L==="paper"&&(B.title.y!==0&&(B.title.y=1),B.title.yanchor==="auto"&&(B.title.yanchor=B.title.y===0?"top":"bottom")),L==="container"&&(B.title.y==="auto"&&(B.title.y=1),B.title.yanchor==="auto"&&(B.title.yanchor=B.title.y<.5?"bottom":"top")));var Y=X("uniformtext.mode");Y&&X("uniformtext.minsize"),X("autosize",!(H.width&&H.height)),X("width"),X("height"),X("minreducedwidth"),X("minreducedheight"),X("margin.l"),X("margin.r"),X("margin.t"),X("margin.b"),X("margin.pad"),X("margin.autoexpand"),H.width&&H.height&&_.sanitizeMargins(B),o.getComponentMethod("grid","sizeDefaults")(H,B),X("paper_bgcolor"),X("separators",A.decimal+A.thousands),X("hidesources"),X("colorway"),X("datarevision");var re=X("uirevision");X("editrevision",re),X("selectionrevision",re),o.getComponentMethod("modebar","supplyLayoutDefaults")(H,B),o.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(H,B,X),o.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(H,B,X),X("meta"),t.isPlainObject(H.transition)&&(X("transition.duration"),X("transition.easing"),X("transition.ordering")),o.getComponentMethod("calendars","handleDefaults")(H,B,"calendar"),o.getComponentMethod("fx","supplyLayoutGlobalDefaults")(H,B,X),t.coerce(H,B,y,"scattermode")};function V(H){return typeof H=="string"&&H.substr(H.length-2)==="px"&&parseFloat(H)}_.plotAutoSize=function(H,B,A){var X=H._context||{},I=X.frameMargins,j,T,L=t.isPlotDiv(H);if(L&&H.emit("plotly_autosize"),X.fillFrame)j=window.innerWidth,T=window.innerHeight,document.body.style.overflow="hidden";else{var $=L?window.getComputedStyle(H):{};if(j=V($.width)||V($.maxWidth)||A.width,T=V($.height)||V($.maxHeight)||A.height,r(I)&&I>0){var Y=1-2*I;j=Math.round(Y*j),T=Math.round(Y*T)}}var re=_.layoutAttributes.width.min,se=_.layoutAttributes.height.min;j<re&&(j=re),T<se&&(T=se);var ce=!B.width&&Math.abs(A.width-j)>1,we=!B.height&&Math.abs(A.height-T)>1;(we||ce)&&(ce&&(A.width=j),we&&(A.height=T)),H._initialAutoSize||(H._initialAutoSize={width:j,height:T}),_.sanitizeMargins(A)},_.supplyLayoutModuleDefaults=function(H,B,A,X){var I=o.componentsRegistry,j=B._basePlotModules,T,L,$,Y=o.subplotsRegistry.cartesian;for(T in I)$=I[T],$.includeBasePlot&&$.includeBasePlot(H,B);j.length||j.push(Y),B._has("cartesian")&&(o.getComponentMethod("grid","contentDefaults")(H,B),Y.finalizeSubplots(H,B));for(var re in B._subplots)B._subplots[re].sort(t.subplotSort);for(L=0;L<j.length;L++)$=j[L],$.supplyLayoutDefaults&&$.supplyLayoutDefaults(H,B,A);var se=B._modules;for(L=0;L<se.length;L++)$=se[L],$.supplyLayoutDefaults&&$.supplyLayoutDefaults(H,B,A);var ce=B._transformModules;for(L=0;L<ce.length;L++)$=ce[L],$.supplyLayoutDefaults&&$.supplyLayoutDefaults(H,B,A,X);for(T in I)$=I[T],$.supplyLayoutDefaults&&$.supplyLayoutDefaults(H,B,A)},_.purge=function(H){var B=H._fullLayout||{};B._glcontainer!==void 0&&(B._glcontainer.selectAll(".gl-canvas").remove(),B._glcontainer.remove(),B._glcanvas=null),B._modeBar&&B._modeBar.destroy(),H._transitionData&&(H._transitionData._interruptCallbacks&&(H._transitionData._interruptCallbacks.length=0),H._transitionData._animationRaf&&window.cancelAnimationFrame(H._transitionData._animationRaf)),t.clearThrottle(),t.clearResponsive(H),delete H.data,delete H.layout,delete H._fullData,delete H._fullLayout,delete H.calcdata,delete H.empty,delete H.fid,delete H.undoqueue,delete H.undonum,delete H.autoplay,delete H.changed,delete H._promises,delete H._redrawTimer,delete H._hmlumcount,delete H._hmpixcount,delete H._transitionData,delete H._transitioning,delete H._initialAutoSize,delete H._transitioningWithDuration,delete H._dragging,delete H._dragged,delete H._dragdata,delete H._hoverdata,delete H._snapshotInProgress,delete H._editing,delete H._mouseDownTime,delete H._legendMouseDownTime,H.removeAllListeners&&H.removeAllListeners()},_.style=function(H){var B=H._fullLayout._visibleModules,A=[],X;for(X=0;X<B.length;X++){var I=B[X];I.style&&t.pushUnique(A,I.style)}for(X=0;X<A.length;X++)A[X](H)},_.sanitizeMargins=function(H){if(!(!H||!H.margin)){var B=H.width,A=H.height,X=H.margin,I=B-(X.l+X.r),j=A-(X.t+X.b),T;I<0&&(T=(B-1)/(X.l+X.r),X.l=Math.floor(T*X.l),X.r=Math.floor(T*X.r)),j<0&&(T=(A-1)/(X.t+X.b),X.t=Math.floor(T*X.t),X.b=Math.floor(T*X.b))}},_.clearAutoMarginIds=function(H){H._fullLayout._pushmarginIds={}},_.allowAutoMargin=function(H,B){H._fullLayout._pushmarginIds[B]=1};function U(H){var B=H.margin;if(!H._size){var A=H._size={l:Math.round(B.l),r:Math.round(B.r),t:Math.round(B.t),b:Math.round(B.b),p:Math.round(B.pad)};A.w=Math.round(H.width)-A.l-A.r,A.h=Math.round(H.height)-A.t-A.b}H._pushmargin||(H._pushmargin={}),H._pushmarginIds||(H._pushmarginIds={}),H._reservedMargin||(H._reservedMargin={})}var G=2,D=2;_.autoMargin=function(H,B,A){var X=H._fullLayout,I=X.width,j=X.height,T=X.margin,L=X.minreducedwidth,$=X.minreducedheight,Y=t.constrain(I-T.l-T.r,G,L),re=t.constrain(j-T.t-T.b,D,$),se=Math.max(0,I-Y),ce=Math.max(0,j-re),we=X._pushmargin,Se=X._pushmarginIds;if(T.autoexpand!==!1){if(!A)delete we[B],delete Se[B];else{var Ie=A.pad;if(Ie===void 0&&(Ie=Math.min(12,T.l,T.r,T.t,T.b)),se){var Ze=(A.l+A.r)/se;Ze>1&&(A.l/=Ze,A.r/=Ze)}if(ce){var He=(A.t+A.b)/ce;He>1&&(A.t/=He,A.b/=He)}var Be=A.xl!==void 0?A.xl:A.x,pe=A.xr!==void 0?A.xr:A.x,_e=A.yt!==void 0?A.yt:A.y,oe=A.yb!==void 0?A.yb:A.y;we[B]={l:{val:Be,size:A.l+Ie},r:{val:pe,size:A.r+Ie},b:{val:oe,size:A.b+Ie},t:{val:_e,size:A.t+Ie}},Se[B]=1}if(!X._replotting)return _.doAutoMargin(H)}};function Z(H){if("_redrawFromAutoMarginCount"in H._fullLayout)return!1;var B=h.list(H,"",!0);for(var A in B)if(B[A].autoshift||B[A].shift)return!0;return!1}_.doAutoMargin=function(H){var B=H._fullLayout,A=B.width,X=B.height;B._size||(B._size={}),U(B);var I=B._size,j=B.margin,T={t:0,b:0,l:0,r:0},L=t.extendFlat({},I),$=j.l,Y=j.r,re=j.t,se=j.b,ce=B._pushmargin,we=B._pushmarginIds,Se=B.minreducedwidth,Ie=B.minreducedheight;if(j.autoexpand!==!1){for(var Ze in ce)we[Ze]||delete ce[Ze];var He=H._fullLayout._reservedMargin;for(var Be in He)for(var pe in He[Be]){var _e=He[Be][pe];T[pe]=Math.max(T[pe],_e)}ce.base={l:{val:0,size:$},r:{val:1,size:Y},t:{val:1,size:re},b:{val:0,size:se}};for(var oe in T){var Le=0;for(var Re in ce)Re!=="base"&&r(ce[Re][oe].size)&&(Le=ce[Re][oe].size>Le?ce[Re][oe].size:Le);var Ye=Math.max(0,j[oe]-Le);T[oe]=Math.max(0,T[oe]-Ye)}for(var ot in ce){var Xe=ce[ot].l||{},lt=ce[ot].b||{},ut=Xe.val,dt=Xe.size,xt=lt.val,qe=lt.size,bt=A-T.r-T.l,Dt=X-T.t-T.b;for(var pt in ce){if(r(dt)&&ce[pt].r){var St=ce[pt].r.val,me=ce[pt].r.size;if(St>ut){var Ae=(dt*St+(me-bt)*ut)/(St-ut),ke=(me*(1-ut)+(dt-bt)*(1-St))/(St-ut);Ae+ke>$+Y&&($=Ae,Y=ke)}}if(r(qe)&&ce[pt].t){var K=ce[pt].t.val,de=ce[pt].t.size;if(K>xt){var xe=(qe*K+(de-Dt)*xt)/(K-xt),ge=(de*(1-xt)+(qe-Dt)*(1-K))/(K-xt);xe+ge>se+re&&(se=xe,re=ge)}}}}}var Ee=t.constrain(A-j.l-j.r,G,Se),Me=t.constrain(X-j.t-j.b,D,Ie),Je=Math.max(0,A-Ee),Qe=Math.max(0,X-Me);if(Je){var st=($+Y)/Je;st>1&&($/=st,Y/=st)}if(Qe){var ze=(se+re)/Qe;ze>1&&(se/=ze,re/=ze)}if(I.l=Math.round($)+T.l,I.r=Math.round(Y)+T.r,I.t=Math.round(re)+T.t,I.b=Math.round(se)+T.b,I.p=Math.round(j.pad),I.w=Math.round(A)-I.l-I.r,I.h=Math.round(X)-I.t-I.b,!B._replotting&&(_.didMarginChange(L,I)||Z(H))){"_redrawFromAutoMarginCount"in B?B._redrawFromAutoMarginCount++:B._redrawFromAutoMarginCount=1;var rt=3*(1+Object.keys(we).length);if(B._redrawFromAutoMarginCount<rt)return o.call("_doPlot",H);B._size=L,t.warn("Too many auto-margin redraws.")}q(H)};function q(H){var B=h.list(H,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(A){for(var X=0;X<B.length;X++){var I=B[X][A];I&&I()}})}var ae=["l","r","t","b","p","w","h"];_.didMarginChange=function(H,B){for(var A=0;A<ae.length;A++){var X=ae[A],I=H[X],j=B[X];if(!r(I)||Math.abs(j-I)>1)return!0}return!1},_.graphJson=function(H,B,A,X,I,j){(I&&B&&!H._fullData||I&&!B&&!H._fullLayout)&&_.supplyDefaults(H);var T=I?H._fullData:H.data,L=I?H._fullLayout:H.layout,$=(H._transitionData||{})._frames;function Y(ce,we){if(typeof ce=="function")return we?"_function_":null;if(t.isPlainObject(ce)){var Se={},Ie;return Object.keys(ce).sort().forEach(function(pe){if(["_","["].indexOf(pe.charAt(0))===-1){if(typeof ce[pe]=="function"){we&&(Se[pe]="_function");return}if(A==="keepdata"){if(pe.substr(pe.length-3)==="src")return}else if(A==="keepstream"){if(Ie=ce[pe+"src"],typeof Ie=="string"&&Ie.indexOf(":")>0&&!t.isPlainObject(ce.stream))return}else if(A!=="keepall"&&(Ie=ce[pe+"src"],typeof Ie=="string"&&Ie.indexOf(":")>0))return;Se[pe]=Y(ce[pe],we)}}),Se}var Ze=Array.isArray(ce),He=t.isTypedArray(ce);if((Ze||He)&&ce.dtype&&ce.shape){var Be=ce.bdata;return Y({dtype:ce.dtype,shape:ce.shape,bdata:t.isArrayBuffer(Be)?l.encode(Be):Be},we)}return Ze?ce.map(function(pe){return Y(pe,we)}):He?t.simpleMap(ce,t.identity):t.isJSDate(ce)?t.ms2DateTimeLocal(+ce):ce}var re={data:(T||[]).map(function(ce){var we=Y(ce);return B&&delete we.fit,we})};if(!B&&(re.layout=Y(L),I)){var se=L._size;re.layout.computed={margin:{b:se.b,l:se.l,r:se.r,t:se.t}}}return $&&(re.frames=Y($)),j&&(re.config=Y(H._context,!0)),X==="object"?re:JSON.stringify(re)},_.modifyFrames=function(H,B){var A,X,I,j=H._transitionData._frames,T=H._transitionData._frameHash;for(A=0;A<B.length;A++)switch(X=B[A],X.type){case"replace":I=X.value;var L=(j[X.index]||{}).name,$=I.name;j[X.index]=T[$]=I,$!==L&&(delete T[L],T[$]=I);break;case"insert":I=X.value,T[I.name]=I,j.splice(X.index,0,I);break;case"delete":I=j[X.index],delete T[I.name],j.splice(X.index,1);break}return Promise.resolve()},_.computeFrame=function(H,B){var A=H._transitionData._frameHash,X,I,j,T;if(!B)throw new Error("computeFrame must be given a string frame name");var L=A[B.toString()];if(!L)return!1;for(var $=[L],Y=[L.name];L.baseframe&&(L=A[L.baseframe.toString()])&&Y.indexOf(L.name)===-1;)$.push(L),Y.push(L.name);for(var re={};L=$.pop();)if(L.layout&&(re.layout=_.extendLayout(re.layout,L.layout)),L.data){if(re.data||(re.data=[]),I=L.traces,!I)for(I=[],X=0;X<L.data.length;X++)I[X]=X;for(re.traces||(re.traces=[]),X=0;X<L.data.length;X++)j=I[X],j!=null&&(T=re.traces.indexOf(j),T===-1&&(T=re.data.length,re.traces[T]=j),re.data[T]=_.extendTrace(re.data[T],L.data[X]))}return re},_.recomputeFrameHash=function(H){for(var B=H._transitionData._frameHash={},A=H._transitionData._frames,X=0;X<A.length;X++){var I=A[X];I&&I.name&&(B[I.name]=I)}},_.extendObjectWithContainers=function(H,B,A){var X,I,j,T,L,$,Y,re,se=t.extendDeepNoArrays({},B||{}),ce=t.expandObjectPaths(se),we={};if(A&&A.length)for(j=0;j<A.length;j++)X=t.nestedProperty(ce,A[j]),I=X.get(),I===void 0?t.nestedProperty(we,A[j]).set(null):(X.set(null),t.nestedProperty(we,A[j]).set(I));if(H=t.extendDeepNoArrays(H||{},ce),A&&A.length){for(j=0;j<A.length;j++)if(L=t.nestedProperty(we,A[j]),Y=L.get(),!!Y){for($=t.nestedProperty(H,A[j]),re=$.get(),Array.isArray(re)||(re=[],$.set(re)),T=0;T<Y.length;T++){var Se=Y[T];Se===null?re[T]=null:re[T]=_.extendObjectWithContainers(re[T],Se)}$.set(re)}}return H},_.dataArrayContainers=["transforms","dimensions"],_.layoutArrayContainers=o.layoutArrayContainers,_.extendTrace=function(H,B){return _.extendObjectWithContainers(H,B,_.dataArrayContainers)},_.extendLayout=function(H,B){return _.extendObjectWithContainers(H,B,_.layoutArrayContainers)},_.transition=function(H,B,A,X,I,j){var T={redraw:I.redraw},L={},$=[];return T.prepareFn=function(){for(var Y=Array.isArray(B)?B.length:0,re=X.slice(0,Y),se=0;se<re.length;se++){var ce=re[se],we=H._fullData[ce],Se=we._module;if(Se){if(Se.animatable){var Ie=Se.basePlotModule.name;L[Ie]||(L[Ie]=[]),L[Ie].push(ce)}H.data[re[se]]=_.extendTrace(H.data[re[se]],B[se])}}var Ze=t.expandObjectPaths(t.extendDeepNoArrays({},A)),He=/^[xy]axis[0-9]*$/;for(var Be in Ze)He.test(Be)&&delete Ze[Be].range;_.extendLayout(H.layout,Ze),delete H.calcdata,_.supplyDefaults(H),_.doCalcdata(H);var pe=t.expandObjectPaths(A);if(pe){var _e=H._fullLayout._plots;for(var oe in _e){var Le=_e[oe],Re=Le.xaxis,Ye=Le.yaxis,ot=Re.range.slice(),Xe=Ye.range.slice(),lt=null,ut=null,dt=null,xt=null;Array.isArray(pe[Re._name+".range"])?lt=pe[Re._name+".range"].slice():Array.isArray((pe[Re._name]||{}).range)&&(lt=pe[Re._name].range.slice()),Array.isArray(pe[Ye._name+".range"])?ut=pe[Ye._name+".range"].slice():Array.isArray((pe[Ye._name]||{}).range)&&(ut=pe[Ye._name].range.slice()),ot&&lt&&(Re.r2l(ot[0])!==Re.r2l(lt[0])||Re.r2l(ot[1])!==Re.r2l(lt[1]))&&(dt={xr0:ot,xr1:lt}),Xe&&ut&&(Ye.r2l(Xe[0])!==Ye.r2l(ut[0])||Ye.r2l(Xe[1])!==Ye.r2l(ut[1]))&&(xt={yr0:Xe,yr1:ut}),(dt||xt)&&$.push(t.extendFlat({plotinfo:Le},dt,xt))}}return Promise.resolve()},T.runFn=function(Y){var re,se=H._fullLayout._basePlotModules,ce=$.length,we;if(A)for(we=0;we<se.length;we++)se[we].transitionAxes&&se[we].transitionAxes(H,$,j,Y);ce?(re=t.extendFlat({},j),re.duration=0,delete L.cartesian):re=j;for(var Se in L){var Ie=L[Se],Ze=H._fullData[Ie[0]]._module;Ze.basePlotModule.plot(H,Ie,re,Y)}},te(H,j,T)},_.transitionFromReact=function(H,B,A,X){var I=H._fullLayout,j=I.transition,T={},L=[];return T.prepareFn=function(){var $=I._plots;T.redraw=!1,B.anim==="some"&&(T.redraw=!0),A.anim==="some"&&(T.redraw=!0);for(var Y in $){var re=$[Y],se=re.xaxis,ce=re.yaxis,we=X[se._name].range.slice(),Se=X[ce._name].range.slice(),Ie=se.range.slice(),Ze=ce.range.slice();se.setScale(),ce.setScale();var He=null,Be=null;(se.r2l(we[0])!==se.r2l(Ie[0])||se.r2l(we[1])!==se.r2l(Ie[1]))&&(He={xr0:we,xr1:Ie}),(ce.r2l(Se[0])!==ce.r2l(Ze[0])||ce.r2l(Se[1])!==ce.r2l(Ze[1]))&&(Be={yr0:Se,yr1:Ze}),(He||Be)&&L.push(t.extendFlat({plotinfo:re},He,Be))}return Promise.resolve()},T.runFn=function($){for(var Y=H._fullData,re=H._fullLayout,se=re._basePlotModules,ce,we,Se,Ie=[],Ze=0;Ze<Y.length;Ze++)Ie.push(Ze);function He(){if(H._fullLayout)for(var pe=0;pe<se.length;pe++)se[pe].transitionAxes&&se[pe].transitionAxes(H,L,ce,$)}function Be(){if(H._fullLayout)for(var pe=0;pe<se.length;pe++)se[pe].plot(H,Se,we,$)}L.length&&B.anim?j.ordering==="traces first"?(ce=t.extendFlat({},j,{duration:0}),Se=Ie,we=j,setTimeout(He,j.duration),Be()):(ce=j,Se=null,we=t.extendFlat({},j,{duration:0}),setTimeout(Be,ce.duration),He()):L.length?(ce=j,He()):B.anim&&(Se=Ie,we=j,Be())},te(H,j,T)};function te(H,B,A){var X=!1;function I(se){var ce=Promise.resolve();if(!se)return ce;for(;se.length;)ce=ce.then(se.shift());return ce}function j(se){if(se)for(;se.length;)se.shift()}function T(){return H.emit("plotly_transitioning",[]),new Promise(function(se){H._transitioning=!0,B.duration>0&&(H._transitioningWithDuration=!0),H._transitionData._interruptCallbacks.push(function(){X=!0}),A.redraw&&H._transitionData._interruptCallbacks.push(function(){return o.call("redraw",H)}),H._transitionData._interruptCallbacks.push(function(){H.emit("plotly_transitioninterrupted",[])});var ce=0,we=0;function Se(){return ce++,function(){we++,!X&&we===ce&&L(se)}}A.runFn(Se),setTimeout(Se())})}function L(se){if(H._transitionData)return j(H._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(A.redraw)return o.call("redraw",H)}).then(function(){H._transitioning=!1,H._transitioningWithDuration=!1,H.emit("plotly_transitioned",[])}).then(se)}function $(){if(H._transitionData)return H._transitioning=!1,I(H._transitionData._interruptCallbacks)}var Y=[_.previousPromises,$,A.prepareFn,_.rehover,_.reselect,T],re=t.syncOrAsync(Y,H);return(!re||!re.then)&&(re=Promise.resolve()),re.then(function(){return H})}_.doCalcdata=function(H,B){var A=h.list(H),X=H._fullData,I=H._fullLayout,j,T,L,$,Y=new Array(X.length),re=(H.calcdata||[]).slice();for(H.calcdata=Y,I._numBoxes=0,I._numViolins=0,I._violinScaleGroupStats={},H._hmpixcount=0,H._hmlumcount=0,I._piecolormap={},I._sunburstcolormap={},I._treemapcolormap={},I._iciclecolormap={},I._funnelareacolormap={},L=0;L<X.length;L++)if(Array.isArray(B)&&B.indexOf(L)===-1){Y[L]=re[L];continue}for(L=0;L<X.length;L++)j=X[L],j._arrayAttrs=s.findArrayAttributes(j),j._extremes={};var se=I._subplots.polar||[];for(L=0;L<se.length;L++)A.push(I[se[L]].radialaxis,I[se[L]].angularaxis);for(var ce in I._colorAxes){var we=I[ce];we.cauto!==!1&&(delete we.cmin,delete we.cmax)}var Se=!1;function Ie(Be){if(j=X[Be],T=j._module,j.visible===!0&&j.transforms){if(T&&T.calc){var pe=T.calc(H,j);pe[0]&&pe[0].t&&pe[0].t._scene&&delete pe[0].t._scene.dirty}for($=0;$<j.transforms.length;$++){var _e=j.transforms[$];T=transformsRegistry[_e.type],T&&T.calcTransform&&(j._hasCalcTransform=!0,Se=!0,T.calcTransform(H,j,_e))}}}function Ze(Be,pe){if(j=X[Be],T=j._module,!!T.isContainer===pe){var _e=[];if(j.visible===!0&&j._length!==0){delete j._indexToPoints;var oe=j.transforms||[];for($=oe.length-1;$>=0;$--)if(oe[$].enabled){j._indexToPoints=oe[$]._indexToPoints;break}T&&T.calc&&(_e=T.calc(H,j))}(!Array.isArray(_e)||!_e[0])&&(_e=[{x:c,y:c}]),_e[0].t||(_e[0].t={}),_e[0].trace=j,Y[Be]=_e}}for(he(A,X,I),L=0;L<X.length;L++)Ze(L,!0);for(L=0;L<X.length;L++)Ie(L);for(Se&&he(A,X,I),L=0;L<X.length;L++)Ze(L,!0);for(L=0;L<X.length;L++)Ze(L,!1);be(H);var He=fe(A,H);if(He.length){for(I._numBoxes=0,I._numViolins=0,L=0;L<He.length;L++)Ze(He[L],!0);for(L=0;L<He.length;L++)Ze(He[L],!1);be(H)}o.getComponentMethod("fx","calc")(H),o.getComponentMethod("errorbars","calc")(H)};var ie=/(total|sum|min|max|mean|geometric mean|median) (ascending|descending)/;function fe(H,B){var A=[],X,I,j,T,L;function $(pt,St,me){var Ae=St._id.charAt(0);if(pt==="histogram2dcontour"){var ke=St._counterAxes[0],K=h.getFromId(B,ke),de=Ae==="x"||ke==="x"&&K.type==="category",xe=Ae==="y"||ke==="y"&&K.type==="category";return function(ge,Ee){return ge===0||Ee===0||de&&ge===me[Ee].length-1||xe&&Ee===me.length-1?-1:(Ae==="y"?Ee:ge)-1}}else return function(ge,Ee){return Ae==="y"?Ee:ge}}var Y={min:function(pt){return t.aggNums(Math.min,null,pt)},max:function(pt){return t.aggNums(Math.max,null,pt)},sum:function(pt){return t.aggNums(function(St,me){return St+me},null,pt)},total:function(pt){return t.aggNums(function(St,me){return St+me},null,pt)},mean:function(pt){return t.mean(pt)},"geometric mean":function(pt){return t.geometricMean(pt)},median:function(pt){return t.median(pt)}};function re(pt,St){return pt[1]-St[1]}function se(pt,St){return St[1]-pt[1]}for(X=0;X<H.length;X++){var ce=H[X];if(ce.type==="category"){var we=ce.categoryorder.match(ie);if(we){var Se=we[1],Ie=we[2],Ze=ce._id.charAt(0),He=Ze==="x",Be=[];for(I=0;I<ce._categories.length;I++)Be.push([ce._categories[I],[]]);for(I=0;I<ce._traceIndices.length;I++){var pe=ce._traceIndices[I],_e=B._fullData[pe];if(_e.visible===!0){var oe=_e.type;o.traceIs(_e,"histogram")&&(delete _e._xautoBinFinished,delete _e._yautoBinFinished);var Le=oe==="splom",Re=oe==="scattergl",Ye=B.calcdata[pe];for(j=0;j<Ye.length;j++){var ot=Ye[j],Xe,lt;if(Le){var ut=_e._axesDim[ce._id];if(!He){var dt=_e._diag[ut][0];dt&&(ce=B._fullLayout[h.id2name(dt)])}var xt=ot.trace.dimensions[ut].values;for(T=0;T<xt.length;T++)for(Xe=ce._categoriesMap[xt[T]],L=0;L<ot.trace.dimensions.length;L++)if(L!==ut){var qe=ot.trace.dimensions[L];Be[Xe][1].push(qe.values[T])}}else if(Re){for(T=0;T<ot.t.x.length;T++)He?(Xe=ot.t.x[T],lt=ot.t.y[T]):(Xe=ot.t.y[T],lt=ot.t.x[T]),Be[Xe][1].push(lt);ot.t&&ot.t._scene&&delete ot.t._scene.dirty}else if(ot.hasOwnProperty("z")){lt=ot.z;var bt=$(_e.type,ce,lt);for(T=0;T<lt.length;T++)for(L=0;L<lt[T].length;L++)Xe=bt(L,T),Xe+1&&Be[Xe][1].push(lt[T][L])}else for(Xe=ot.p,Xe===void 0&&(Xe=ot[Ze]),lt=ot.s,lt===void 0&&(lt=ot.v),lt===void 0&&(lt=He?ot.y:ot.x),Array.isArray(lt)||(lt===void 0?lt=[]:lt=[lt]),T=0;T<lt.length;T++)Be[Xe][1].push(lt[T])}}}ce._categoriesValue=Be;var Dt=[];for(I=0;I<Be.length;I++)Dt.push([Be[I][0],Y[Se](Be[I][1])]);Dt.sort(Ie==="descending"?se:re),ce._categoriesAggregatedValue=Dt,ce._initialCategories=Dt.map(function(pt){return pt[0]}),A=A.concat(ce.sortByInitialCategories())}}}return A}function he(H,B,A){var X={};function I($){$.clearCalc(),$.type==="multicategory"&&$.setupMultiCategory(B),X[$._id]=1}t.simpleMap(H,I);for(var j=A._axisMatchGroups||[],T=0;T<j.length;T++)for(var L in j[T])X[L]||I(A[h.id2name(L)])}function be(H){var B=H._fullLayout,A=B._visibleModules,X={},I,j,T;for(j=0;j<A.length;j++){var L=A[j],$=L.crossTraceCalc;if($){var Y=L.basePlotModule.name;X[Y]?t.pushUnique(X[Y],$):X[Y]=[$]}}for(T in X){var re=X[T],se=B._subplots[T];if(Array.isArray(se))for(I=0;I<se.length;I++){var ce=se[I],we=T==="cartesian"?B._plots[ce]:B[ce];for(j=0;j<re.length;j++)re[j](H,we,ce)}else for(j=0;j<re.length;j++)re[j](H)}}_.rehover=function(H){H._fullLayout._rehover&&H._fullLayout._rehover()},_.redrag=function(H){H._fullLayout._redrag&&H._fullLayout._redrag()},_.reselect=function(H){var B=H._fullLayout,A=(H.layout||{}).selections,X=B._previousSelections;B._previousSelections=A;var I=B._reselect||JSON.stringify(A)!==JSON.stringify(X);o.getComponentMethod("selections","reselect")(H,I)},_.generalUpdatePerTraceModule=function(H,B,A,X){var I=B.traceHash,j={},T;for(T=0;T<A.length;T++){var L=A[T],$=L[0].trace;$.visible&&(j[$.type]=j[$.type]||[],j[$.type].push(L))}for(var Y in I)if(!j[Y]){var re=I[Y][0],se=re[0].trace;se.visible=!1,j[Y]=[re]}for(var ce in j){var we=j[ce],Se=we[0][0].trace._module;Se.plot(H,B,t.filterVisible(we),X)}B.traceHash=j},_.plotBasePlot=function(H,B,A,X,I){var j=o.getModule(H),T=v(B.calcdata,j)[0];j.plot(B,T,X,I)},_.cleanBasePlot=function(H,B,A,X,I){var j=I._has&&I._has(H),T=A._has&&A._has(H);j&&!T&&I["_"+H+"layer"].selectAll("g.trace").remove()}}),lo=ye(F=>{F.xmlns="http://www.w3.org/2000/xmlns/",F.svg="http://www.w3.org/2000/svg",F.xlink="http://www.w3.org/1999/xlink",F.svgAttrs={xmlns:F.svg,"xmlns:xlink":F.xlink}}),ai=ye((F,C)=>{C.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}}),Xr=ye(F=>{var C=Xt(),i=zt(),e=i.strTranslate,n=lo(),r=ai().LINE_SPACING,l=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;F.convertToTspans=function(D,Z,q){var ae=D.text(),te=!D.attr("data-notex")&&Z&&Z._context.typesetMath&&typeof MathJax<"u"&&ae.match(l),ie=C.select(D.node().parentNode);if(ie.empty())return;var fe=D.attr("class")?D.attr("class").split(" ")[0]:"text";fe+="-math",ie.selectAll("svg."+fe).remove(),ie.selectAll("g."+fe+"-group").remove(),D.style("display",null).attr({"data-unformatted":ae,"data-math":"N"});function he(){ie.empty()||(fe=D.attr("class")+"-math",ie.select("svg."+fe).remove()),D.text("").style("white-space","pre");var be=R(D.node(),ae);be&&D.style("pointer-events","all"),F.positionText(D),q&&q.call(D)}return te?(Z&&Z._promises||[]).push(new Promise(function(be){D.style("display","none");var H=parseInt(D.node().style.fontSize,10),B={fontSize:H};p(te[2],B,function(A,X,I){ie.selectAll("svg."+fe).remove(),ie.selectAll("g."+fe+"-group").remove();var j=A&&A.select("svg");if(!j||!j.node()){he(),be();return}var T=ie.append("g").classed(fe+"-group",!0).attr({"pointer-events":"none","data-unformatted":ae,"data-math":"Y"});T.node().appendChild(j.node()),X&&X.node()&&j.node().insertBefore(X.node().cloneNode(!0),j.node().firstChild);var L=I.width,$=I.height;j.attr({class:fe,height:$,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var Y=D.node().style.fill||"black",re=j.select("g");re.attr({fill:Y,stroke:Y});var se=re.node().getBoundingClientRect(),ce=se.width,we=se.height;(ce>L||we>$)&&(j.style("overflow","hidden"),se=j.node().getBoundingClientRect(),ce=se.width,we=se.height);var Se=+D.attr("x"),Ie=+D.attr("y"),Ze=H||D.node().getBoundingClientRect().height,He=-Ze/4;if(fe[0]==="y")T.attr({transform:"rotate("+[-90,Se,Ie]+")"+e(-ce/2,He-we/2)});else if(fe[0]==="l")Ie=He-we/2;else if(fe[0]==="a"&&fe.indexOf("atitle")!==0)Se=0,Ie=He;else{var Be=D.attr("text-anchor");Se=Se-ce*(Be==="middle"?.5:Be==="end"?1:0),Ie=Ie+He-we/2}j.attr({x:Se,y:Ie}),q&&q.call(D,T),be(T)})})):he(),D};var o=/(<|&lt;|&#60;)/g,s=/(>|&gt;|&#62;)/g;function d(D){return D.replace(o,"\\lt ").replace(s,"\\gt ")}var t=[["$","$"],["\\(","\\)"]];function p(D,Z,q){var ae=parseInt((MathJax.version||"").split(".")[0]);if(ae!==2&&ae!==3){i.warn("No MathJax version:",MathJax.version);return}var te,ie,fe,he,be=function(){return ie=i.extendDeepAll({},MathJax.Hub.config),fe=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:t},displayAlign:"left"})},H=function(){ie=i.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=t},B=function(){if(te=MathJax.Hub.config.menuSettings.renderer,te!=="SVG")return MathJax.Hub.setRenderer("SVG")},A=function(){te=MathJax.config.startup.output,te!=="svg"&&(MathJax.config.startup.output="svg")},X=function(){var Y="math-output-"+i.randstr({},64);he=C.select("body").append("div").attr({id:Y}).style({visibility:"hidden",position:"absolute","font-size":Z.fontSize+"px"}).text(d(D));var re=he.node();return ae===2?MathJax.Hub.Typeset(re):MathJax.typeset([re])},I=function(){var Y=he.select(ae===2?".MathJax_SVG":".MathJax"),re=!Y.empty()&&he.select("svg").node();if(!re)i.log("There was an error in the tex syntax.",D),q();else{var se=re.getBoundingClientRect(),ce;ae===2?ce=C.select("body").select("#MathJax_SVG_glyphs"):ce=Y.select("defs"),q(Y,ce,se)}he.remove()},j=function(){if(te!=="SVG")return MathJax.Hub.setRenderer(te)},T=function(){te!=="svg"&&(MathJax.config.startup.output=te)},L=function(){return fe!==void 0&&(MathJax.Hub.processSectionDelay=fe),MathJax.Hub.Config(ie)},$=function(){MathJax.config=ie};ae===2?MathJax.Hub.Queue(be,B,X,I,j,L):ae===3&&(H(),A(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){X(),I(),T(),$()}))}var c={sup:"font-size:70%",sub:"font-size:70%",s:"text-decoration:line-through",u:"text-decoration:underline",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},h={sub:"0.3em",sup:"-0.6em"},b={sub:"-0.21em",sup:"0.42em"},y="​",g=["http:","https:","mailto:","",void 0,":"],m=F.NEWLINES=/(\r\n?|\n)/g,v=/(<[^<>]*>)/,u=/<(\/?)([^ >]*)(\s+(.*))?>/i,f=/<br(\s+.*)?>/i;F.BR_TAG_ALL=/<br(\s+.*)?>/gi;var _=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,w=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,k=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,J=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function P(D,Z){if(!D)return null;var q=D.match(Z),ae=q&&(q[3]||q[4]);return ae&&E(ae)}var O=/(^|;)\s*color:/;F.plainText=function(D,Z){Z=Z||{};for(var q=Z.len!==void 0&&Z.len!==-1?Z.len:1/0,ae=Z.allowedTags!==void 0?Z.allowedTags:["br"],te="...",ie=te.length,fe=D.split(v),he=[],be="",H=0,B=0;B<fe.length;B++){var A=fe[B],X=A.match(u),I=X&&X[2].toLowerCase();if(I)ae.indexOf(I)!==-1&&(he.push(A),be=I);else{var j=A.length;if(H+j<q)he.push(A),H+=j;else if(H<q){var T=q-H;be&&(be!=="br"||T<=ie||j<=ie)&&he.pop(),q>ie?he.push(A.substr(0,T-ie)+te):he.push(A.substr(0,T));break}be=""}}return he.join("")};var M={mu:"μ",amp:"&",lt:"<",gt:">",nbsp:" ",times:"×",plusmn:"±",deg:"°"},W=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function E(D){return D.replace(W,function(Z,q){var ae;return q.charAt(0)==="#"?ae=N(q.charAt(1)==="x"?parseInt(q.substr(2),16):parseInt(q.substr(1),10)):ae=M[q],ae||Z})}F.convertEntities=E;function N(D){if(!(D>1114111)){var Z=String.fromCodePoint;if(Z)return Z(D);var q=String.fromCharCode;return D<=65535?q(D):q((D>>10)+55232,D%1024+56320)}}function R(D,Z){Z=Z.replace(m," ");var q=!1,ae=[],te,ie=-1;function fe(){ie++;var we=document.createElementNS(n.svg,"tspan");C.select(we).attr({class:"line",dy:ie*r+"em"}),D.appendChild(we),te=we;var Se=ae;if(ae=[{node:we}],Se.length>1)for(var Ie=1;Ie<Se.length;Ie++)he(Se[Ie])}function he(we){var Se=we.type,Ie={},Ze;if(Se==="a"){Ze="a";var He=we.target,Be=we.href,pe=we.popup;Be&&(Ie={"xlink:xlink:show":He==="_blank"||He.charAt(0)!=="_"?"new":"replace",target:He,"xlink:xlink:href":Be},pe&&(Ie.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+pe+'");return false;'))}else Ze="tspan";we.style&&(Ie.style=we.style);var _e=document.createElementNS(n.svg,Ze);if(Se==="sup"||Se==="sub"){be(te,y),te.appendChild(_e);var oe=document.createElementNS(n.svg,"tspan");be(oe,y),C.select(oe).attr("dy",b[Se]),Ie.dy=h[Se],te.appendChild(_e),te.appendChild(oe)}else te.appendChild(_e);C.select(_e).attr(Ie),te=we.node=_e,ae.push(we)}function be(we,Se){we.appendChild(document.createTextNode(Se))}function H(we){if(ae.length===1){i.log("Ignoring unexpected end tag </"+we+">.",Z);return}var Se=ae.pop();we!==Se.type&&i.log("Start tag <"+Se.type+"> doesnt match end tag <"+we+">. Pretending it did match.",Z),te=ae[ae.length-1].node}var B=f.test(Z);B?fe():(te=D,ae=[{node:D}]);for(var A=Z.split(v),X=0;X<A.length;X++){var I=A[X],j=I.match(u),T=j&&j[2].toLowerCase(),L=c[T];if(T==="br")fe();else if(L===void 0)be(te,E(I));else if(j[1])H(T);else{var $=j[4],Y={type:T},re=P($,_);if(re?(re=re.replace(O,"$1 fill:"),L&&(re+=";"+L)):L&&(re=L),re&&(Y.style=re),T==="a"){q=!0;var se=P($,w);if(se){var ce=V(se);ce&&(Y.href=ce,Y.target=P($,k)||"_blank",Y.popup=P($,J))}}he(Y)}}return q}function V(D){var Z=encodeURI(decodeURI(D)),q=document.createElement("a"),ae=document.createElement("a");q.href=D,ae.href=Z;var te=q.protocol,ie=ae.protocol;return g.indexOf(te)!==-1&&g.indexOf(ie)!==-1?Z:""}F.sanitizeHTML=function(D){D=D.replace(m," ");for(var Z=document.createElement("p"),q=Z,ae=[],te=D.split(v),ie=0;ie<te.length;ie++){var fe=te[ie],he=fe.match(u),be=he&&he[2].toLowerCase();if(be in c)if(he[1])ae.length&&(q=ae.pop());else{var H=he[4],B=P(H,_),A=B?{style:B}:{};if(be==="a"){var X=P(H,w);if(X){var I=V(X);if(I){A.href=I;var j=P(H,k);j&&(A.target=j)}}}var T=document.createElement(be);q.appendChild(T),C.select(T).attr(A),q=T,ae.push(T)}else q.appendChild(document.createTextNode(E(fe)))}var L="innerHTML";return Z[L]},F.lineCount=function(D){return D.selectAll("tspan.line").size()||1},F.positionText=function(D,Z,q){return D.each(function(){var ae=C.select(this);function te(he,be){return be===void 0?(be=ae.attr(he),be===null&&(ae.attr(he,0),be=0)):ae.attr(he,be),be}var ie=te("x",Z),fe=te("y",q);this.nodeName==="text"&&ae.selectAll("tspan.line").attr({x:ie,y:fe})})};function U(D,Z,q){var ae=q.horizontalAlign,te=q.verticalAlign||"top",ie=D.node().getBoundingClientRect(),fe=Z.node().getBoundingClientRect(),he,be,H;return te==="bottom"?be=function(){return ie.bottom-he.height}:te==="middle"?be=function(){return ie.top+(ie.height-he.height)/2}:be=function(){return ie.top},ae==="right"?H=function(){return ie.right-he.width}:ae==="center"?H=function(){return ie.left+(ie.width-he.width)/2}:H=function(){return ie.left},function(){he=this.node().getBoundingClientRect();var B=H()-fe.left,A=be()-fe.top,X=q.gd||{};if(q.gd){X._fullLayout._calcInverseTransform(X);var I=i.apply3DTransform(X._fullLayout._invTransform)(B,A);B=I[0],A=I[1]}return this.style({top:A+"px",left:B+"px","z-index":1e3}),this}}var G="1px ";F.makeTextShadow=function(D){var Z=G,q=G,ae=G;return Z+q+ae+D+", -"+Z+"-"+q+ae+D+", "+Z+"-"+q+ae+D+", -"+Z+q+ae+D},F.makeEditable=function(D,Z){var q=Z.gd,ae=Z.delegate,te=C.dispatch("edit","input","cancel"),ie=ae||D;if(D.style({"pointer-events":ae?"none":"all"}),D.size()!==1)throw new Error("boo");function fe(){be(),D.style({opacity:0});var H=ie.attr("class"),B;H?B="."+H.split(" ")[0]+"-math-group":B="[class*=-math-group]",B&&C.select(D.node().parentNode).select(B).style({opacity:0})}function he(H){var B=H.node(),A=document.createRange();A.selectNodeContents(B);var X=window.getSelection();X.removeAllRanges(),X.addRange(A),B.focus()}function be(){var H=C.select(q),B=H.select(".svg-container"),A=B.append("div"),X=D.node().style,I=parseFloat(X.fontSize||12),j=Z.text;j===void 0&&(j=D.attr("data-unformatted")),A.classed("plugin-editable editable",!0).style({position:"absolute","font-family":X.fontFamily||"Arial","font-size":I,color:Z.fill||X.fill||"black",opacity:1,"background-color":Z.background||"transparent",outline:"#ffffff33 1px solid",margin:[-I/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(j).call(U(D,B,Z)).on("blur",function(){q._editing=!1,D.text(this.textContent).style({opacity:1});var T=C.select(this).attr("class"),L;T?L="."+T.split(" ")[0]+"-math-group":L="[class*=-math-group]",L&&C.select(D.node().parentNode).select(L).style({opacity:0});var $=this.textContent;C.select(this).transition().duration(0).remove(),C.select(document).on("mouseup",null),te.edit.call(D,$)}).on("focus",function(){var T=this;q._editing=!0,C.select(document).on("mouseup",function(){if(C.event.target===T)return!1;document.activeElement===A.node()&&A.node().blur()})}).on("keyup",function(){C.event.which===27?(q._editing=!1,D.style({opacity:1}),C.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),te.cancel.call(D,this.textContent)):(te.input.call(D,this.textContent),C.select(this).call(U(D,B,Z)))}).on("keydown",function(){C.event.which===13&&this.blur()}).call(he)}return Z.immediate?fe():ie.on("click",fe),C.rebind(D,te,"on")}}),xi=ye((F,C)=>{var i=Xt(),e=Va(),n=on(),r=zt(),l=$n(),o=pr().isValid;function s(m,v,u){var f=v?r.nestedProperty(m,v).get()||{}:m,_=f[u||"color"];_&&_._inputArray&&(_=_._inputArray);var w=!1;if(r.isArrayOrTypedArray(_)){for(var k=0;k<_.length;k++)if(n(_[k])){w=!0;break}}return r.isPlainObject(f)&&(w||f.showscale===!0||n(f.cmin)&&n(f.cmax)||o(f.colorscale)||r.isPlainObject(f.colorbar))}var d=["showscale","autocolorscale","colorscale","reversescale","colorbar"],t=["min","max","mid","auto"];function p(m){var v=m._colorAx,u=v||m,f={},_,w,k;for(w=0;w<d.length;w++)k=d[w],f[k]=u[k];if(v)for(_="c",w=0;w<t.length;w++)k=t[w],f[k]=u["c"+k];else{var J;for(w=0;w<t.length;w++){if(k=t[w],J="c"+k,J in u){f[k]=u[J];continue}J="z"+k,J in u&&(f[k]=u[J])}_=J.charAt(0)}return f._sync=function(P,O){var M=t.indexOf(P)!==-1?_+P:P;u[M]=u["_"+M]=O},f}function c(m){for(var v=p(m),u=v.min,f=v.max,_=v.reversescale?h(v.colorscale):v.colorscale,w=_.length,k=new Array(w),J=new Array(w),P=0;P<w;P++){var O=_[P];k[P]=u+O[0]*(f-u),J[P]=O[1]}return{domain:k,range:J}}function h(m){for(var v=m.length,u=new Array(v),f=v-1,_=0;f>=0;f--,_++){var w=m[f];u[_]=[1-w[0],w[1]]}return u}function b(m,v){v=v||{};for(var u=m.domain,f=m.range,_=f.length,w=new Array(_),k=0;k<_;k++){var J=e(f[k]).toRgb();w[k]=[J.r,J.g,J.b,J.a]}var P=i.scale.linear().domain(u).range(w).clamp(!0),O=v.noNumericCheck,M=v.returnArray,W;return O&&M?W=P:O?W=function(E){return g(P(E))}:M?W=function(E){return n(E)?P(E):e(E).isValid()?E:l.defaultLine}:W=function(E){return n(E)?g(P(E)):e(E).isValid()?E:l.defaultLine},W.domain=P.domain,W.range=function(){return f},W}function y(m,v){return b(c(m),v)}function g(m){var v={r:m[0],g:m[1],b:m[2],a:m[3]};return e(v).toRgbString()}C.exports={hasColorscale:s,extractOpts:p,extractScale:c,flipScale:h,makeColorScaleFunc:b,makeColorScaleFuncFromTrace:y}}),ml=ye((F,C)=>{var i=ua(),e=i.FORMAT_LINK,n=i.DATE_FORMAT_LINK;function r(s,d){return{valType:"string",dflt:"",editType:"none",description:(d?l:o)("hover text",s)+["By default the values are formatted using "+(d?"generic number format":"`"+s+"axis.hoverformat`")+"."].join(" ")}}function l(s,d){return["Sets the "+s+" formatting rule"+(d?"for `"+d+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+e+"."].join(" ")}function o(s,d){return l(s,d)+[" And for dates see: "+n+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}C.exports={axisHoverFormat:r,descriptionOnlyNumbers:l,descriptionWithDates:o}}),Mi=ye((F,C)=>{var i=Za(),e=kr(),n=Rr().dash,r=Ca().extendFlat,l=or().templatedArray,o=ml().descriptionWithDates,s=Gn().ONEDAY,d=$r(),t=d.HOUR_PATTERN,p=d.WEEKDAY_PATTERN,c={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},h=r({},c,{values:c.values.slice().concat(["sync"])});function b(O){return{valType:"integer",min:0,dflt:O?5:0,editType:"ticks"}}var y={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},g={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},m={valType:"data_array",editType:"ticks"},v={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function u(O){var M={valType:"number",min:0,editType:"ticks"};return O||(M.dflt=5),M}function f(O){var M={valType:"number",min:0,editType:"ticks"};return O||(M.dflt=1),M}var _={valType:"color",dflt:e.defaultLine,editType:"ticks"},w={valType:"color",dflt:e.lightLine,editType:"ticks"};function k(O){var M={valType:"number",min:0,editType:"ticks"};return O||(M.dflt=1),M}var J=r({},n,{editType:"ticks"}),P={valType:"boolean",editType:"ticks"};C.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:e.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:i({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[d.idRegex.x.toString(),d.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[d.idRegex.x.toString(),d.idRegex.y.toString()],editType:"calc"},rangebreaks:l("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[p,t,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:s},editType:"calc"}),tickmode:h,nticks:b(),tick0:y,dtick:g,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:m,ticktext:{valType:"data_array",editType:"ticks"},ticks:v,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},ticklabelshift:{valType:"integer",dflt:0,editType:"ticks"},ticklabelstandoff:{valType:"integer",dflt:0,editType:"ticks"},ticklabelindex:{valType:"integer",arrayOk:!0,editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:u(),tickwidth:f(),tickcolor:_,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:r({},n,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:i({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:o("tick label")},tickformatstops:l("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:o("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:e.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:P,gridcolor:w,gridwidth:k(),griddash:J,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:e.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:e.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",d.idRegex.x.toString(),d.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",d.idRegex.x.toString(),d.idRegex.y.toString()],editType:"plot"},minor:{tickmode:c,nticks:b("minor"),tick0:y,dtick:g,tickvals:m,ticks:v,ticklen:u("minor"),tickwidth:f("minor"),tickcolor:_,gridcolor:w,gridwidth:k("minor"),griddash:J,showgrid:P,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","geometric mean ascending","geometric mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc"}}),yl=ye((F,C)=>{var i=Mi(),e=Za(),n=Ca().extendFlat,r=Tr().overrideAll;C.exports=r({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:i.linecolor,outlinewidth:i.linewidth,bordercolor:i.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:i.minor.tickmode,nticks:i.nticks,tick0:i.tick0,dtick:i.dtick,tickvals:i.tickvals,ticktext:i.ticktext,ticks:n({},i.ticks,{dflt:""}),ticklabeloverflow:n({},i.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:i.ticklen,tickwidth:i.tickwidth,tickcolor:i.tickcolor,ticklabelstep:i.ticklabelstep,showticklabels:i.showticklabels,labelalias:i.labelalias,tickfont:e({}),tickangle:i.tickangle,tickformat:i.tickformat,tickformatstops:i.tickformatstops,tickprefix:i.tickprefix,showtickprefix:i.showtickprefix,ticksuffix:i.ticksuffix,showticksuffix:i.showticksuffix,separatethousands:i.separatethousands,exponentformat:i.exponentformat,minexponent:i.minexponent,showexponent:i.showexponent,title:{text:{valType:"string"},font:e({}),side:{valType:"enumerated",values:["right","top","bottom"]}}},"colorbars","from-root")}),Eo=ye((F,C)=>{var i=yl(),e=Yr().counter,n=Co(),r=pr().scales;n(r);function l(o){return"`"+o+"`"}C.exports=function(o,s){o=o||"",s=s||{};var d=s.cLetter||"c";"onlyIfNumerical"in s&&s.onlyIfNumerical;var t="noScale"in s?s.noScale:o==="marker.line",p="showScaleDflt"in s?s.showScaleDflt:d==="z",c=typeof s.colorscaleDflt=="string"?r[s.colorscaleDflt]:null,h=s.editTypeOverride||"",b=o?o+".":"",y;"colorAttr"in s?(y=s.colorAttr,s.colorAttr):(y={z:"z",c:"color"}[d],""+l(b+y));var g=d+"auto",m=d+"min",v=d+"max",u=d+"mid",f={};f[m]=f[v]=void 0;var _={};_[g]=!1;var w={};return y==="color"&&(w.color={valType:"color",arrayOk:!0,editType:h||"style"},s.anim&&(w.color.anim=!0)),w[g]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:f},w[m]={valType:"number",dflt:null,editType:h||"plot",impliedEdits:_},w[v]={valType:"number",dflt:null,editType:h||"plot",impliedEdits:_},w[u]={valType:"number",dflt:null,editType:"calc",impliedEdits:f},w.colorscale={valType:"colorscale",editType:"calc",dflt:c,impliedEdits:{autocolorscale:!1}},w.autocolorscale={valType:"boolean",dflt:s.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},w.reversescale={valType:"boolean",dflt:!1,editType:"plot"},t||(w.showscale={valType:"boolean",dflt:p,editType:"calc"},w.colorbar=i),s.noColorAxis||(w.coloraxis={valType:"subplotid",regex:e("coloraxis"),dflt:null,editType:"calc"}),w}}),As=ye((F,C)=>{var i=Ca().extendFlat,e=Eo(),n=pr().scales;C.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:n.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:n.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:n.RdBu,editType:"calc"}},coloraxis:i({_isSubplotObj:!0,editType:"calc"},e("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}}),Ss=ye((F,C)=>{var i=zt();C.exports=function(e){return i.isPlainObject(e.colorbar)}}),Ls=ye(F=>{var C=on(),i=zt(),e=Gn(),n=e.ONEDAY,r=e.ONEWEEK;F.dtick=function(l,o){var s=o==="log",d=o==="date",t=o==="category",p=d?n:1;if(!l)return p;if(C(l))return l=Number(l),l<=0?p:t?Math.max(1,Math.round(l)):d?Math.max(.1,l):l;if(typeof l!="string"||!(d||s))return p;var c=l.charAt(0),h=l.substr(1);return h=C(h)?Number(h):0,h<=0||!(d&&c==="M"&&h===Math.round(h)||s&&c==="L"||s&&c==="D"&&(h===1||h===2))?p:l},F.tick0=function(l,o,s,d){if(o==="date")return i.cleanDate(l,i.dateTick0(s,d%r===0?1:0));if(!(d==="D1"||d==="D2"))return C(l)?Number(l):0}}),Os=ye((F,C)=>{var i=Ls(),e=zt().isArrayOrTypedArray,n=aa().isTypedArraySpec,r=aa().decodeTypedArraySpec;C.exports=function(l,o,s,d,t){t||(t={});var p=t.isMinor,c=p?l.minor||{}:l,h=p?o.minor:o,b=p?"minor.":"";function y(k){var J=c[k];return n(J)&&(J=r(J)),J!==void 0?J:(h._template||{})[k]}var g=y("tick0"),m=y("dtick"),v=y("tickvals"),u=e(v)?"array":m?"linear":"auto",f=s(b+"tickmode",u);if(f==="auto"||f==="sync")s(b+"nticks");else if(f==="linear"){var _=h.dtick=i.dtick(m,d);h.tick0=i.tick0(g,d,o.calendar,_)}else if(d!=="multicategory"){var w=s(b+"tickvals");w===void 0?h.tickmode="auto":p||s("ticktext")}}}),Ds=ye((F,C)=>{var i=zt(),e=Mi();C.exports=function(n,r,l,o){var s=o.isMinor,d=s?n.minor||{}:n,t=s?r.minor:r,p=s?e.minor:e,c=s?"minor.":"",h=i.coerce2(d,t,p,"ticklen",s?(r.ticklen||5)*.6:void 0),b=i.coerce2(d,t,p,"tickwidth",s?r.tickwidth||1:void 0),y=i.coerce2(d,t,p,"tickcolor",(s?r.tickcolor:void 0)||t.color),g=l(c+"ticks",!s&&o.outerTicks||h||b||y?"outside":"");g||(delete t.ticklen,delete t.tickwidth,delete t.tickcolor)}}),Cs=ye((F,C)=>{C.exports=function(i){var e=["showexponent","showtickprefix","showticksuffix"],n=e.filter(function(l){return i[l]!==void 0}),r=function(l){return i[l]===i[n[0]]};if(n.every(r)||n.length===1)return i[n[0]]}}),ki=ye((F,C)=>{var i=zt(),e=or();C.exports=function(n,r,l){var o=l.name,s=l.inclusionAttr||"visible",d=r[o],t=i.isArrayOrTypedArray(n[o])?n[o]:[],p=r[o]=[],c=e.arrayTemplater(r,o,s),h,b;for(h=0;h<t.length;h++){var y=t[h];i.isPlainObject(y)?b=c.newItem(y):(b=c.newItem({}),b[s]=!1),b._index=h,b[s]!==!1&&l.handleItemDefaults(y,b,r,l),p.push(b)}var g=c.defaultItems();for(h=0;h<g.length;h++)b=g[h],b._index=p.length,l.handleItemDefaults({},b,r,l,{}),p.push(b);if(i.isArrayOrTypedArray(d)){var m=Math.min(d.length,p.length);for(h=0;h<m;h++)i.relinkPrivateKeys(p[h],d[h])}return p}}),Ps=ye((F,C)=>{var i=zt(),e=$n().contrast,n=Mi(),r=Cs(),l=ki();C.exports=function(s,d,t,p,c){c||(c={});var h=t("labelalias");i.isPlainObject(h)||delete d.labelalias;var b=r(s),y=t("showticklabels");if(y){c.noTicklabelshift||t("ticklabelshift"),c.noTicklabelstandoff||t("ticklabelstandoff");var g=c.font||{},m=d.color,v=d.ticklabelposition||"",u=v.indexOf("inside")!==-1?e(c.bgColor):m&&m!==n.color.dflt?m:g.color;if(i.coerceFont(t,"tickfont",g,{overrideDflt:{color:u}}),!c.noTicklabelstep&&p!=="multicategory"&&p!=="log"&&t("ticklabelstep"),!c.noAng){var f=t("tickangle");!c.noAutotickangles&&f==="auto"&&t("autotickangles")}if(p!=="category"){var _=t("tickformat");l(s,d,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:o}),d.tickformatstops.length||delete d.tickformatstops,!c.noExp&&!_&&p!=="date"&&(t("showexponent",b),t("exponentformat"),t("minexponent"),t("separatethousands"))}}};function o(s,d){function t(c,h){return i.coerce(s,d,n.tickformatstops,c,h)}var p=t("enabled");p&&(t("dtickrange"),t("value"))}}),Es=ye((F,C)=>{var i=Cs();C.exports=function(e,n,r,l,o){o||(o={});var s=o.tickSuffixDflt,d=i(e),t=r("tickprefix");t&&r("showtickprefix",d);var p=r("ticksuffix",s);p&&r("showticksuffix",d)}}),Fs=ye((F,C)=>{var i=zt(),e=or(),n=Os(),r=Ds(),l=Ps(),o=Es(),s=yl();C.exports=function(d,t,p){var c=e.newContainer(t,"colorbar"),h=d.colorbar||{};function b(D,Z){return i.coerce(h,c,s,D,Z)}var y=p.margin||{t:0,b:0,l:0,r:0},g=p.width-y.l-y.r,m=p.height-y.t-y.b,v=b("orientation"),u=v==="v",f=b("thicknessmode");b("thickness",f==="fraction"?30/(u?g:m):30);var _=b("lenmode");b("len",_==="fraction"?1:u?m:g);var w=b("yref"),k=b("xref"),J=w==="paper",P=k==="paper",O,M,W,E="left";u?(W="middle",E=P?"left":"right",O=P?1.02:1,M=.5):(W=J?"bottom":"top",E="center",O=.5,M=J?1.02:1),i.coerce(h,c,{x:{valType:"number",min:P?-2:0,max:P?3:1,dflt:O}},"x"),i.coerce(h,c,{y:{valType:"number",min:J?-2:0,max:J?3:1,dflt:M}},"y"),b("xanchor",E),b("xpad"),b("yanchor",W),b("ypad"),i.noneOrAll(h,c,["x","y"]),b("outlinecolor"),b("outlinewidth"),b("bordercolor"),b("borderwidth"),b("bgcolor");var N=i.coerce(h,c,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:u?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");b("ticklabeloverflow",N.indexOf("inside")!==-1?"hide past domain":"hide past div"),n(h,c,b,"linear");var R=p.font,V={noAutotickangles:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,outerTicks:!1,font:R};N.indexOf("inside")!==-1&&(V.bgColor="black"),o(h,c,b,"linear",V),l(h,c,b,"linear",V),r(h,c,b,"linear",V),b("title.text",p._dfltTitle.colorbar);var U=c.showticklabels?c.tickfont:R,G=i.extendFlat({},R,{family:U.family,size:i.bigFont(U.size)});i.coerceFont(b,"title.font",G),b("title.side",u?"top":"right")}}),xo=ye((F,C)=>{var i=on(),e=zt(),n=Ss(),r=Fs(),l=pr().isValid,o=Kn().traceIs;function s(d,t){var p=t.slice(0,t.length-1);return t?e.nestedProperty(d,p).get()||{}:d}C.exports=function d(t,p,c,h,b){var y=b.prefix,g=b.cLetter,m="_module"in p,v=s(t,y),u=s(p,y),f=s(p._template||{},y)||{},_=function(){return delete t.coloraxis,delete p.coloraxis,d(t,p,c,h,b)};if(m){var w=c._colorAxes||{},k=h(y+"coloraxis");if(k){var J=o(p,"contour")&&e.nestedProperty(p,"contours.coloring").get()||"heatmap",P=w[k];P?(P[2].push(_),P[0]!==J&&(P[0]=!1,e.warn(["Ignoring coloraxis:",k,"setting","as it is linked to incompatible colorscales."].join(" ")))):w[k]=[J,p,[_]];return}}var O=v[g+"min"],M=v[g+"max"],W=i(O)&&i(M)&&O<M,E=h(y+g+"auto",!W);E?h(y+g+"mid"):(h(y+g+"min"),h(y+g+"max"));var N=v.colorscale,R=f.colorscale,V;if(N!==void 0&&(V=!l(N)),R!==void 0&&(V=!l(R)),h(y+"autocolorscale",V),h(y+"colorscale"),h(y+"reversescale"),y!=="marker.line."){var U;y&&m&&(U=n(v));var G=h(y+"showscale",U);G&&(y&&f&&(u._template=f),r(v,u,c))}}}),ru=ye((F,C)=>{var i=zt(),e=or(),n=As(),r=xo();C.exports=function(l,o){function s(g,m){return i.coerce(l,o,n,g,m)}s("colorscale.sequential"),s("colorscale.sequentialminus"),s("colorscale.diverging");var d=o._colorAxes,t,p;function c(g,m){return i.coerce(t,p,n.coloraxis,g,m)}for(var h in d){var b=d[h];if(b[0])t=l[h]||{},p=e.newContainer(o,h,"coloraxis"),p._name=h,r(t,p,o,c,{prefix:"",cLetter:"c"});else{for(var y=0;y<b[2].length;y++)b[2][y]();delete o._colorAxes[h]}}}}),iu=ye((F,C)=>{var i=zt(),e=xi().hasColorscale,n=xi().extractOpts;C.exports=function(r,l){function o(b,y){var g=b["_"+y];g!==void 0&&(b[y]=g)}function s(b,y){var g=y.container?i.nestedProperty(b,y.container).get():b;if(g)if(g.coloraxis)g._colorAx=l[g.coloraxis];else{var m=n(g),v=m.auto;(v||m.min===void 0)&&o(g,y.min),(v||m.max===void 0)&&o(g,y.max),m.autocolorscale&&o(g,"colorscale")}}for(var d=0;d<r.length;d++){var t=r[d],p=t._module.colorbar;if(p)if(Array.isArray(p))for(var c=0;c<p.length;c++)s(t,p[c]);else s(t,p);e(t,"marker.line")&&s(t,{container:"marker.line",min:"cmin",max:"cmax"})}for(var h in l._colorAxes)s(l[h],{min:"cmin",max:"cmax"})}}),xl=ye((F,C)=>{var i=on(),e=zt(),n=xi().extractOpts;C.exports=function(r,l,o){var s=r._fullLayout,d=o.vals,t=o.containerStr,p=t?e.nestedProperty(l,t).get():l,c=n(p),h=c.auto!==!1,b=c.min,y=c.max,g=c.mid,m=function(){return e.aggNums(Math.min,null,d)},v=function(){return e.aggNums(Math.max,null,d)};if(b===void 0?b=m():h&&(p._colorAx&&i(b)?b=Math.min(b,m()):b=m()),y===void 0?y=v():h&&(p._colorAx&&i(y)?y=Math.max(y,v()):y=v()),h&&g!==void 0&&(y-g>g-b?b=g-(y-g):y-g<g-b&&(y=g+(g-b))),b===y&&(b-=.5,y+=.5),c._sync("min",b),c._sync("max",y),c.autocolorscale){var u;b*y<0?u=s.colorscale.diverging:b>=0?u=s.colorscale.sequential:u=s.colorscale.sequentialminus,c._sync("colorscale",u)}}}),Is=ye((F,C)=>{var i=pr(),e=xi();C.exports={moduleType:"component",name:"colorscale",attributes:Eo(),layoutAttributes:As(),supplyLayoutDefaults:ru(),handleDefaults:xo(),crossTraceDefaults:iu(),calc:xl(),scales:i.scales,defaultScale:i.defaultScale,getScale:i.get,isValidScale:i.isValid,hasColorscale:e.hasColorscale,extractOpts:e.extractOpts,extractScale:e.extractScale,flipScale:e.flipScale,makeColorScaleFunc:e.makeColorScaleFunc,makeColorScaleFuncFromTrace:e.makeColorScaleFuncFromTrace}}),fi=ye((F,C)=>{var i=zt(),e=aa().isTypedArraySpec;C.exports={hasLines:function(n){return n.visible&&n.mode&&n.mode.indexOf("lines")!==-1},hasMarkers:function(n){return n.visible&&(n.mode&&n.mode.indexOf("markers")!==-1||n.type==="splom")},hasText:function(n){return n.visible&&n.mode&&n.mode.indexOf("text")!==-1},isBubble:function(n){var r=n.marker;return i.isPlainObject(r)&&(i.isArrayOrTypedArray(r.size)||e(r.size))}}}),ou=ye((F,C)=>{var i=on();C.exports=function(e,n){n||(n=2);var r=e.marker,l=r.sizeref||1,o=r.sizemin||0,s=r.sizemode==="area"?function(d){return Math.sqrt(d/l)}:function(d){return d/l};return function(d){var t=s(d/n);return i(t)&&t>0?Math.max(t,o):0}}}),Ei=ye(F=>{var C=zt();F.getSubplot=function(o){return o.subplot||o.xaxis+o.yaxis||o.geo},F.isTraceInSubplots=function(o,s){if(o.type==="splom"){for(var d=o.xaxes||[],t=o.yaxes||[],p=0;p<d.length;p++)for(var c=0;c<t.length;c++)if(s.indexOf(d[p]+t[c])!==-1)return!0;return!1}return s.indexOf(F.getSubplot(o))!==-1},F.flat=function(o,s){for(var d=new Array(o.length),t=0;t<o.length;t++)d[t]=s;return d},F.p2c=function(o,s){for(var d=new Array(o.length),t=0;t<o.length;t++)d[t]=o[t].p2c(s);return d},F.getDistanceFunction=function(o,s,d,t){return o==="closest"?t||F.quadrature(s,d):o.charAt(0)==="x"?s:d},F.getClosest=function(o,s,d){if(d.index!==!1)d.index>=0&&d.index<o.length?d.distance=0:d.index=!1;else for(var t=1/0,p=o.length,c=0;c<p;c++)t=s(o[c]),t<=d.distance&&(d.index=c,d.distance=t);return d},F.inbox=function(o,s,d){return o*s<0||o===0?d:1/0},F.quadrature=function(o,s){return function(d){var t=o(d),p=s(d);return Math.sqrt(t*t+p*p)}},F.makeEventData=function(o,s,d){var t="index"in o?o.index:o.pointNumber,p={data:s._input,fullData:s,curveNumber:s.index,pointNumber:t};if(s._indexToPoints){var c=s._indexToPoints[t];c.length===1?p.pointIndex=c[0]:p.pointIndices=c}else p.pointIndex=t;return s._module.eventData?p=s._module.eventData(p,o,s,d,t):("xVal"in o?p.x=o.xVal:"x"in o&&(p.x=o.x),"yVal"in o?p.y=o.yVal:"y"in o&&(p.y=o.y),o.xa&&(p.xaxis=o.xa),o.ya&&(p.yaxis=o.ya),o.zLabelVal!==void 0&&(p.z=o.zLabelVal)),F.appendArrayPointValue(p,s,t),p},F.appendArrayPointValue=function(o,s,d){var t=s._arrayAttrs;if(t)for(var p=0;p<t.length;p++){var c=t[p],h=e(c);if(o[h]===void 0){var b=C.nestedProperty(s,c).get(),y=n(b,d);y!==void 0&&(o[h]=y)}}},F.appendArrayMultiPointValues=function(o,s,d){var t=s._arrayAttrs;if(t)for(var p=0;p<t.length;p++){var c=t[p],h=e(c);if(o[h]===void 0){for(var b=C.nestedProperty(s,c).get(),y=new Array(d.length),g=0;g<d.length;g++)y[g]=n(b,d[g]);o[h]=y}}};var i={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function e(o){return i[o]||o}function n(o,s){if(Array.isArray(s)){if(Array.isArray(o)&&Array.isArray(o[s[0]]))return o[s[0]][s[1]]}else return o[s]}var r={x:!0,y:!0},l={"x unified":!0,"y unified":!0};F.isUnifiedHover=function(o){return typeof o!="string"?!1:!!l[o]},F.isXYhover=function(o){return typeof o!="string"?!1:!!r[o]}}),Rs=ye((F,C)=>{C.exports=n;var i={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function n(o){var s=[];return o.replace(e,function(d,t,p){var c=t.toLowerCase();for(p=l(p),c=="m"&&p.length>2&&(s.push([t].concat(p.splice(0,2))),c="l",t=t=="m"?"l":"L");;){if(p.length==i[c])return p.unshift(t),s.push(p);if(p.length<i[c])throw new Error("malformed path data");s.push([t].concat(p.splice(0,i[c])))}}),s}var r=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function l(o){var s=o.match(r);return s?s.map(Number):[]}}),lu=ye((F,C)=>{var i=Rs(),e=function(g,m){return m?Math.round(g*(m=Math.pow(10,m)))/m:Math.round(g)},n="M0,0Z",r=Math.sqrt(2),l=Math.sqrt(3),o=Math.PI,s=Math.cos,d=Math.sin;C.exports={circle:{n:0,f:function(g,m,v){if(t(m))return n;var u=e(g,2),f="M"+u+",0A"+u+","+u+" 0 1,1 0,-"+u+"A"+u+","+u+" 0 0,1 "+u+",0Z";return v?y(m,v,f):f}},square:{n:1,f:function(g,m,v){if(t(m))return n;var u=e(g,2);return y(m,v,"M"+u+","+u+"H-"+u+"V-"+u+"H"+u+"Z")}},diamond:{n:2,f:function(g,m,v){if(t(m))return n;var u=e(g*1.3,2);return y(m,v,"M"+u+",0L0,"+u+"L-"+u+",0L0,-"+u+"Z")}},cross:{n:3,f:function(g,m,v){if(t(m))return n;var u=e(g*.4,2),f=e(g*1.2,2);return y(m,v,"M"+f+","+u+"H"+u+"V"+f+"H-"+u+"V"+u+"H-"+f+"V-"+u+"H-"+u+"V-"+f+"H"+u+"V-"+u+"H"+f+"Z")}},x:{n:4,f:function(g,m,v){if(t(m))return n;var u=e(g*.8/r,2),f="l"+u+","+u,_="l"+u+",-"+u,w="l-"+u+",-"+u,k="l-"+u+","+u;return y(m,v,"M0,"+u+f+_+w+_+w+k+w+k+f+k+f+"Z")}},"triangle-up":{n:5,f:function(g,m,v){if(t(m))return n;var u=e(g*2/l,2),f=e(g/2,2),_=e(g,2);return y(m,v,"M-"+u+","+f+"H"+u+"L0,-"+_+"Z")}},"triangle-down":{n:6,f:function(g,m,v){if(t(m))return n;var u=e(g*2/l,2),f=e(g/2,2),_=e(g,2);return y(m,v,"M-"+u+",-"+f+"H"+u+"L0,"+_+"Z")}},"triangle-left":{n:7,f:function(g,m,v){if(t(m))return n;var u=e(g*2/l,2),f=e(g/2,2),_=e(g,2);return y(m,v,"M"+f+",-"+u+"V"+u+"L-"+_+",0Z")}},"triangle-right":{n:8,f:function(g,m,v){if(t(m))return n;var u=e(g*2/l,2),f=e(g/2,2),_=e(g,2);return y(m,v,"M-"+f+",-"+u+"V"+u+"L"+_+",0Z")}},"triangle-ne":{n:9,f:function(g,m,v){if(t(m))return n;var u=e(g*.6,2),f=e(g*1.2,2);return y(m,v,"M-"+f+",-"+u+"H"+u+"V"+f+"Z")}},"triangle-se":{n:10,f:function(g,m,v){if(t(m))return n;var u=e(g*.6,2),f=e(g*1.2,2);return y(m,v,"M"+u+",-"+f+"V"+u+"H-"+f+"Z")}},"triangle-sw":{n:11,f:function(g,m,v){if(t(m))return n;var u=e(g*.6,2),f=e(g*1.2,2);return y(m,v,"M"+f+","+u+"H-"+u+"V-"+f+"Z")}},"triangle-nw":{n:12,f:function(g,m,v){if(t(m))return n;var u=e(g*.6,2),f=e(g*1.2,2);return y(m,v,"M-"+u+","+f+"V-"+u+"H"+f+"Z")}},pentagon:{n:13,f:function(g,m,v){if(t(m))return n;var u=e(g*.951,2),f=e(g*.588,2),_=e(-g,2),w=e(g*-.309,2),k=e(g*.809,2);return y(m,v,"M"+u+","+w+"L"+f+","+k+"H-"+f+"L-"+u+","+w+"L0,"+_+"Z")}},hexagon:{n:14,f:function(g,m,v){if(t(m))return n;var u=e(g,2),f=e(g/2,2),_=e(g*l/2,2);return y(m,v,"M"+_+",-"+f+"V"+f+"L0,"+u+"L-"+_+","+f+"V-"+f+"L0,-"+u+"Z")}},hexagon2:{n:15,f:function(g,m,v){if(t(m))return n;var u=e(g,2),f=e(g/2,2),_=e(g*l/2,2);return y(m,v,"M-"+f+","+_+"H"+f+"L"+u+",0L"+f+",-"+_+"H-"+f+"L-"+u+",0Z")}},octagon:{n:16,f:function(g,m,v){if(t(m))return n;var u=e(g*.924,2),f=e(g*.383,2);return y(m,v,"M-"+f+",-"+u+"H"+f+"L"+u+",-"+f+"V"+f+"L"+f+","+u+"H-"+f+"L-"+u+","+f+"V-"+f+"Z")}},star:{n:17,f:function(g,m,v){if(t(m))return n;var u=g*1.4,f=e(u*.225,2),_=e(u*.951,2),w=e(u*.363,2),k=e(u*.588,2),J=e(-u,2),P=e(u*-.309,2),O=e(u*.118,2),M=e(u*.809,2),W=e(u*.382,2);return y(m,v,"M"+f+","+P+"H"+_+"L"+w+","+O+"L"+k+","+M+"L0,"+W+"L-"+k+","+M+"L-"+w+","+O+"L-"+_+","+P+"H-"+f+"L0,"+J+"Z")}},hexagram:{n:18,f:function(g,m,v){if(t(m))return n;var u=e(g*.66,2),f=e(g*.38,2),_=e(g*.76,2);return y(m,v,"M-"+_+",0l-"+f+",-"+u+"h"+_+"l"+f+",-"+u+"l"+f+","+u+"h"+_+"l-"+f+","+u+"l"+f+","+u+"h-"+_+"l-"+f+","+u+"l-"+f+",-"+u+"h-"+_+"Z")}},"star-triangle-up":{n:19,f:function(g,m,v){if(t(m))return n;var u=e(g*l*.8,2),f=e(g*.8,2),_=e(g*1.6,2),w=e(g*4,2),k="A "+w+","+w+" 0 0 1 ";return y(m,v,"M-"+u+","+f+k+u+","+f+k+"0,-"+_+k+"-"+u+","+f+"Z")}},"star-triangle-down":{n:20,f:function(g,m,v){if(t(m))return n;var u=e(g*l*.8,2),f=e(g*.8,2),_=e(g*1.6,2),w=e(g*4,2),k="A "+w+","+w+" 0 0 1 ";return y(m,v,"M"+u+",-"+f+k+"-"+u+",-"+f+k+"0,"+_+k+u+",-"+f+"Z")}},"star-square":{n:21,f:function(g,m,v){if(t(m))return n;var u=e(g*1.1,2),f=e(g*2,2),_="A "+f+","+f+" 0 0 1 ";return y(m,v,"M-"+u+",-"+u+_+"-"+u+","+u+_+u+","+u+_+u+",-"+u+_+"-"+u+",-"+u+"Z")}},"star-diamond":{n:22,f:function(g,m,v){if(t(m))return n;var u=e(g*1.4,2),f=e(g*1.9,2),_="A "+f+","+f+" 0 0 1 ";return y(m,v,"M-"+u+",0"+_+"0,"+u+_+u+",0"+_+"0,-"+u+_+"-"+u+",0Z")}},"diamond-tall":{n:23,f:function(g,m,v){if(t(m))return n;var u=e(g*.7,2),f=e(g*1.4,2);return y(m,v,"M0,"+f+"L"+u+",0L0,-"+f+"L-"+u+",0Z")}},"diamond-wide":{n:24,f:function(g,m,v){if(t(m))return n;var u=e(g*1.4,2),f=e(g*.7,2);return y(m,v,"M0,"+f+"L"+u+",0L0,-"+f+"L-"+u+",0Z")}},hourglass:{n:25,f:function(g,m,v){if(t(m))return n;var u=e(g,2);return y(m,v,"M"+u+","+u+"H-"+u+"L"+u+",-"+u+"H-"+u+"Z")},noDot:!0},bowtie:{n:26,f:function(g,m,v){if(t(m))return n;var u=e(g,2);return y(m,v,"M"+u+","+u+"V-"+u+"L-"+u+","+u+"V-"+u+"Z")},noDot:!0},"circle-cross":{n:27,f:function(g,m,v){if(t(m))return n;var u=e(g,2);return y(m,v,"M0,"+u+"V-"+u+"M"+u+",0H-"+u+"M"+u+",0A"+u+","+u+" 0 1,1 0,-"+u+"A"+u+","+u+" 0 0,1 "+u+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(g,m,v){if(t(m))return n;var u=e(g,2),f=e(g/r,2);return y(m,v,"M"+f+","+f+"L-"+f+",-"+f+"M"+f+",-"+f+"L-"+f+","+f+"M"+u+",0A"+u+","+u+" 0 1,1 0,-"+u+"A"+u+","+u+" 0 0,1 "+u+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(g,m,v){if(t(m))return n;var u=e(g,2);return y(m,v,"M0,"+u+"V-"+u+"M"+u+",0H-"+u+"M"+u+","+u+"H-"+u+"V-"+u+"H"+u+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(g,m,v){if(t(m))return n;var u=e(g,2);return y(m,v,"M"+u+","+u+"L-"+u+",-"+u+"M"+u+",-"+u+"L-"+u+","+u+"M"+u+","+u+"H-"+u+"V-"+u+"H"+u+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(g,m,v){if(t(m))return n;var u=e(g*1.3,2);return y(m,v,"M"+u+",0L0,"+u+"L-"+u+",0L0,-"+u+"ZM0,-"+u+"V"+u+"M-"+u+",0H"+u)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(g,m,v){if(t(m))return n;var u=e(g*1.3,2),f=e(g*.65,2);return y(m,v,"M"+u+",0L0,"+u+"L-"+u+",0L0,-"+u+"ZM-"+f+",-"+f+"L"+f+","+f+"M-"+f+","+f+"L"+f+",-"+f)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(g,m,v){if(t(m))return n;var u=e(g*1.4,2);return y(m,v,"M0,"+u+"V-"+u+"M"+u+",0H-"+u)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(g,m,v){if(t(m))return n;var u=e(g,2);return y(m,v,"M"+u+","+u+"L-"+u+",-"+u+"M"+u+",-"+u+"L-"+u+","+u)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(g,m,v){if(t(m))return n;var u=e(g*1.2,2),f=e(g*.85,2);return y(m,v,"M0,"+u+"V-"+u+"M"+u+",0H-"+u+"M"+f+","+f+"L-"+f+",-"+f+"M"+f+",-"+f+"L-"+f+","+f)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(g,m,v){if(t(m))return n;var u=e(g/2,2),f=e(g,2);return y(m,v,"M"+u+","+f+"V-"+f+"M"+(u-f)+",-"+f+"V"+f+"M"+f+","+u+"H-"+f+"M-"+f+","+(u-f)+"H"+f)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(g,m,v){if(t(m))return n;var u=e(g*1.2,2),f=e(g*1.6,2),_=e(g*.8,2);return y(m,v,"M-"+u+","+_+"L0,0M"+u+","+_+"L0,0M0,-"+f+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(g,m,v){if(t(m))return n;var u=e(g*1.2,2),f=e(g*1.6,2),_=e(g*.8,2);return y(m,v,"M-"+u+",-"+_+"L0,0M"+u+",-"+_+"L0,0M0,"+f+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(g,m,v){if(t(m))return n;var u=e(g*1.2,2),f=e(g*1.6,2),_=e(g*.8,2);return y(m,v,"M"+_+","+u+"L0,0M"+_+",-"+u+"L0,0M-"+f+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(g,m,v){if(t(m))return n;var u=e(g*1.2,2),f=e(g*1.6,2),_=e(g*.8,2);return y(m,v,"M-"+_+","+u+"L0,0M-"+_+",-"+u+"L0,0M"+f+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(g,m,v){if(t(m))return n;var u=e(g*1.4,2);return y(m,v,"M"+u+",0H-"+u)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(g,m,v){if(t(m))return n;var u=e(g*1.4,2);return y(m,v,"M0,"+u+"V-"+u)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(g,m,v){if(t(m))return n;var u=e(g,2);return y(m,v,"M"+u+",-"+u+"L-"+u+","+u)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(g,m,v){if(t(m))return n;var u=e(g,2);return y(m,v,"M"+u+","+u+"L-"+u+",-"+u)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(g,m,v){if(t(m))return n;var u=e(g,2),f=e(g*2,2);return y(m,v,"M0,0L-"+u+","+f+"H"+u+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(g,m,v){if(t(m))return n;var u=e(g,2),f=e(g*2,2);return y(m,v,"M0,0L-"+u+",-"+f+"H"+u+"Z")},noDot:!0},"arrow-left":{n:47,f:function(g,m,v){if(t(m))return n;var u=e(g*2,2),f=e(g,2);return y(m,v,"M0,0L"+u+",-"+f+"V"+f+"Z")},noDot:!0},"arrow-right":{n:48,f:function(g,m,v){if(t(m))return n;var u=e(g*2,2),f=e(g,2);return y(m,v,"M0,0L-"+u+",-"+f+"V"+f+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(g,m,v){if(t(m))return n;var u=e(g,2),f=e(g*2,2);return y(m,v,"M-"+u+",0H"+u+"M0,0L-"+u+","+f+"H"+u+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(g,m,v){if(t(m))return n;var u=e(g,2),f=e(g*2,2);return y(m,v,"M-"+u+",0H"+u+"M0,0L-"+u+",-"+f+"H"+u+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(g,m,v){if(t(m))return n;var u=e(g*2,2),f=e(g,2);return y(m,v,"M0,-"+f+"V"+f+"M0,0L"+u+",-"+f+"V"+f+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(g,m,v){if(t(m))return n;var u=e(g*2,2),f=e(g,2);return y(m,v,"M0,-"+f+"V"+f+"M0,0L-"+u+",-"+f+"V"+f+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(g,m,v){if(t(m))return n;var u=o/2.5,f=2*g*s(u),_=2*g*d(u);return y(m,v,"M0,0L"+-f+","+_+"L"+f+","+_+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(g,m,v){if(t(m))return n;var u=o/4,f=2*g*s(u),_=2*g*d(u);return y(m,v,"M0,0L"+-f+","+_+"A "+2*g+","+2*g+" 0 0 1 "+f+","+_+"Z")},backoff:.4,noDot:!0}};function t(g){return g===null}var p,c,h,b;function y(g,m,v){if((!g||g%360===0)&&!m)return v;if(h===g&&b===m&&p===v)return c;h=g,b=m,p=v;function u(V,U){var G=s(V),D=d(V),Z=U[0],q=U[1]+(m||0);return[Z*G-q*D,Z*D+q*G]}for(var f=g/180*o,_=0,w=0,k=i(v),J="",P=0;P<k.length;P++){var O=k[P],M=O[0],W=_,E=w;if(M==="M"||M==="L")_=+O[1],w=+O[2];else if(M==="m"||M==="l")_+=+O[1],w+=+O[2];else if(M==="H")_=+O[1];else if(M==="h")_+=+O[1];else if(M==="V")w=+O[1];else if(M==="v")w+=+O[1];else if(M==="A"){_=+O[1],w=+O[2];var N=u(f,[+O[6],+O[7]]);O[6]=N[0],O[7]=N[1],O[3]=+O[3]+g}(M==="H"||M==="V")&&(M="L"),(M==="h"||M==="v")&&(M="l"),(M==="m"||M==="l")&&(_-=W,w-=E);var R=u(f,[_,w]);(M==="H"||M==="V")&&(M="L"),(M==="M"||M==="L"||M==="m"||M==="l")&&(O[1]=R[0],O[2]=R[1]),O[0]=M,J+=O[0]+O.slice(1).join(",")}return c=J,J}}),Ga=ye((F,C)=>{var i=Xt(),e=zt(),n=e.numberFormat,r=on(),l=Va(),o=Kn(),s=$n(),d=Is(),t=e.strTranslate,p=Xr(),c=lo(),h=ai(),b=h.LINE_SPACING,y=Ir().DESELECTDIM,g=fi(),m=ou(),v=Ei().appendArrayPointValue,u=C.exports={};u.font=function(pe,_e){var oe=_e.variant,Le=_e.style,Re=_e.weight,Ye=_e.color,ot=_e.size,Xe=_e.family,lt=_e.shadow,ut=_e.lineposition,dt=_e.textcase;Xe&&pe.style("font-family",Xe),ot+1&&pe.style("font-size",ot+"px"),Ye&&pe.call(s.fill,Ye),Re&&pe.style("font-weight",Re),Le&&pe.style("font-style",Le),oe&&pe.style("font-variant",oe),dt&&pe.style("text-transform",f(w(dt))),lt&&pe.style("text-shadow",lt==="auto"?p.makeTextShadow(s.contrast(Ye)):f(lt)),ut&&pe.style("text-decoration-line",f(k(ut)))};function f(pe){return pe==="none"?void 0:pe}var _={normal:"none",lower:"lowercase",upper:"uppercase","word caps":"capitalize"};function w(pe){return _[pe]}function k(pe){return pe.replace("under","underline").replace("over","overline").replace("through","line-through").split("+").join(" ")}u.setPosition=function(pe,_e,oe){pe.attr("x",_e).attr("y",oe)},u.setSize=function(pe,_e,oe){pe.attr("width",_e).attr("height",oe)},u.setRect=function(pe,_e,oe,Le,Re){pe.call(u.setPosition,_e,oe).call(u.setSize,Le,Re)},u.translatePoint=function(pe,_e,oe,Le){var Re=oe.c2p(pe.x),Ye=Le.c2p(pe.y);if(r(Re)&&r(Ye)&&_e.node())_e.node().nodeName==="text"?_e.attr("x",Re).attr("y",Ye):_e.attr("transform",t(Re,Ye));else return!1;return!0},u.translatePoints=function(pe,_e,oe){pe.each(function(Le){var Re=i.select(this);u.translatePoint(Le,Re,_e,oe)})},u.hideOutsideRangePoint=function(pe,_e,oe,Le,Re,Ye){_e.attr("display",oe.isPtWithinRange(pe,Re)&&Le.isPtWithinRange(pe,Ye)?null:"none")},u.hideOutsideRangePoints=function(pe,_e){if(_e._hasClipOnAxisFalse){var oe=_e.xaxis,Le=_e.yaxis;pe.each(function(Re){var Ye=Re[0].trace,ot=Ye.xcalendar,Xe=Ye.ycalendar,lt=o.traceIs(Ye,"bar-like")?".bartext":".point,.textpoint";pe.selectAll(lt).each(function(ut){u.hideOutsideRangePoint(ut,i.select(this),oe,Le,ot,Xe)})})}},u.crispRound=function(pe,_e,oe){return!_e||!r(_e)?oe||0:pe._context.staticPlot?_e:_e<1?1:Math.round(_e)},u.singleLineStyle=function(pe,_e,oe,Le,Re){_e.style("fill","none");var Ye=(((pe||[])[0]||{}).trace||{}).line||{},ot=oe||Ye.width||0,Xe=Re||Ye.dash||"";s.stroke(_e,Le||Ye.color),u.dashLine(_e,Xe,ot)},u.lineGroupStyle=function(pe,_e,oe,Le){pe.style("fill","none").each(function(Re){var Ye=(((Re||[])[0]||{}).trace||{}).line||{},ot=_e||Ye.width||0,Xe=Le||Ye.dash||"";i.select(this).call(s.stroke,oe||Ye.color).call(u.dashLine,Xe,ot)})},u.dashLine=function(pe,_e,oe){oe=+oe||0,_e=u.dashStyle(_e,oe),pe.style({"stroke-dasharray":_e,"stroke-width":oe+"px"})},u.dashStyle=function(pe,_e){_e=+_e||1;var oe=Math.max(_e,3);return pe==="solid"?pe="":pe==="dot"?pe=oe+"px,"+oe+"px":pe==="dash"?pe=3*oe+"px,"+3*oe+"px":pe==="longdash"?pe=5*oe+"px,"+5*oe+"px":pe==="dashdot"?pe=3*oe+"px,"+oe+"px,"+oe+"px,"+oe+"px":pe==="longdashdot"&&(pe=5*oe+"px,"+2*oe+"px,"+oe+"px,"+2*oe+"px"),pe};function J(pe,_e,oe,Le){var Re=_e.fillpattern,Ye=_e.fillgradient,ot=Re&&u.getPatternAttr(Re.shape,0,"");if(ot){var Xe=u.getPatternAttr(Re.bgcolor,0,null),lt=u.getPatternAttr(Re.fgcolor,0,null),ut=Re.fgopacity,dt=u.getPatternAttr(Re.size,0,8),xt=u.getPatternAttr(Re.solidity,0,.3),qe=_e.uid;u.pattern(pe,"point",oe,qe,ot,dt,xt,void 0,Re.fillmode,Xe,lt,ut)}else if(Ye&&Ye.type!=="none"){var bt=Ye.type,Dt="scatterfill-"+_e.uid;if(Le&&(Dt="legendfill-"+_e.uid),!Le&&(Ye.start!==void 0||Ye.stop!==void 0)){var pt,St;bt==="horizontal"?(pt={x:Ye.start,y:0},St={x:Ye.stop,y:0}):bt==="vertical"&&(pt={x:0,y:Ye.start},St={x:0,y:Ye.stop}),pt.x=_e._xA.c2p(pt.x===void 0?_e._extremes.x.min[0].val:pt.x,!0),pt.y=_e._yA.c2p(pt.y===void 0?_e._extremes.y.min[0].val:pt.y,!0),St.x=_e._xA.c2p(St.x===void 0?_e._extremes.x.max[0].val:St.x,!0),St.y=_e._yA.c2p(St.y===void 0?_e._extremes.y.max[0].val:St.y,!0),pe.call(R,oe,Dt,"linear",Ye.colorscale,"fill",pt,St,!0,!1)}else bt==="horizontal"&&(bt=bt+"reversed"),pe.call(u.gradient,oe,Dt,bt,Ye.colorscale,"fill")}else _e.fillcolor&&pe.call(s.fill,_e.fillcolor)}u.singleFillStyle=function(pe,_e){var oe=i.select(pe.node()),Le=oe.data(),Re=((Le[0]||[])[0]||{}).trace||{};J(pe,Re,_e,!1)},u.fillGroupStyle=function(pe,_e,oe){pe.style("stroke-width",0).each(function(Le){var Re=i.select(this);Le[0].trace&&J(Re,Le[0].trace,_e,oe)})};var P=lu();u.symbolNames=[],u.symbolFuncs=[],u.symbolBackOffs=[],u.symbolNeedLines={},u.symbolNoDot={},u.symbolNoFill={},u.symbolList=[],Object.keys(P).forEach(function(pe){var _e=P[pe],oe=_e.n;u.symbolList.push(oe,String(oe),pe,oe+100,String(oe+100),pe+"-open"),u.symbolNames[oe]=pe,u.symbolFuncs[oe]=_e.f,u.symbolBackOffs[oe]=_e.backoff||0,_e.needLine&&(u.symbolNeedLines[oe]=!0),_e.noDot?u.symbolNoDot[oe]=!0:u.symbolList.push(oe+200,String(oe+200),pe+"-dot",oe+300,String(oe+300),pe+"-open-dot"),_e.noFill&&(u.symbolNoFill[oe]=!0)});var O=u.symbolNames.length,M="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";u.symbolNumber=function(pe){if(r(pe))pe=+pe;else if(typeof pe=="string"){var _e=0;pe.indexOf("-open")>0&&(_e=100,pe=pe.replace("-open","")),pe.indexOf("-dot")>0&&(_e+=200,pe=pe.replace("-dot","")),pe=u.symbolNames.indexOf(pe),pe>=0&&(pe+=_e)}return pe%100>=O||pe>=400?0:Math.floor(Math.max(pe,0))};function W(pe,_e,oe,Le){var Re=pe%100;return u.symbolFuncs[Re](_e,oe,Le)+(pe>=200?M:"")}var E=n("~f"),N={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};u.gradient=function(pe,_e,oe,Le,Re,Ye){var ot=N[Le];return R(pe,_e,oe,ot.type,Re,Ye,ot.start,ot.stop,!1,ot.reversed)};function R(pe,_e,oe,Le,Re,Ye,ot,Xe,lt,ut){var dt=Re.length,xt;Le==="linear"?xt={node:"linearGradient",attrs:{x1:ot.x,y1:ot.y,x2:Xe.x,y2:Xe.y,gradientUnits:lt?"userSpaceOnUse":"objectBoundingBox"},reversed:ut}:Le==="radial"&&(xt={node:"radialGradient",reversed:ut});for(var qe=new Array(dt),bt=0;bt<dt;bt++)xt.reversed?qe[dt-1-bt]=[E((1-Re[bt][0])*100),Re[bt][1]]:qe[bt]=[E(Re[bt][0]*100),Re[bt][1]];var Dt=_e._fullLayout,pt="g"+Dt._uid+"-"+oe,St=Dt._defs.select(".gradients").selectAll("#"+pt).data([Le+qe.join(";")],e.identity);St.exit().remove(),St.enter().append(xt.node).each(function(){var me=i.select(this);xt.attrs&&me.attr(xt.attrs),me.attr("id",pt);var Ae=me.selectAll("stop").data(qe);Ae.exit().remove(),Ae.enter().append("stop"),Ae.each(function(ke){var K=l(ke[1]);i.select(this).attr({offset:ke[0]+"%","stop-color":s.tinyRGB(K),"stop-opacity":K.getAlpha()})})}),pe.style(Ye,I(pt,_e)).style(Ye+"-opacity",null),pe.classed("gradient_filled",!0)}u.pattern=function(pe,_e,oe,Le,Re,Ye,ot,Xe,lt,ut,dt,xt){var qe=_e==="legend";Xe&&(lt==="overlay"?(ut=Xe,dt=s.contrast(ut)):(ut=void 0,dt=Xe));var bt=oe._fullLayout,Dt="p"+bt._uid+"-"+Le,pt,St,me=function(ze,rt,ft,yt,Ht){return yt+(Ht-yt)*(ze-rt)/(ft-rt)},Ae,ke,K,de,xe={},ge=l(dt),Ee=s.tinyRGB(ge),Me=ge.getAlpha(),Je=xt*Me;switch(Re){case"/":pt=Ye*Math.sqrt(2),St=Ye*Math.sqrt(2),Ae="M-"+pt/4+","+St/4+"l"+pt/2+",-"+St/2+"M0,"+St+"L"+pt+",0M"+pt/4*3+","+St/4*5+"l"+pt/2+",-"+St/2,ke=ot*Ye,de="path",xe={d:Ae,opacity:Je,stroke:Ee,"stroke-width":ke+"px"};break;case"\\":pt=Ye*Math.sqrt(2),St=Ye*Math.sqrt(2),Ae="M"+pt/4*3+",-"+St/4+"l"+pt/2+","+St/2+"M0,0L"+pt+","+St+"M-"+pt/4+","+St/4*3+"l"+pt/2+","+St/2,ke=ot*Ye,de="path",xe={d:Ae,opacity:Je,stroke:Ee,"stroke-width":ke+"px"};break;case"x":pt=Ye*Math.sqrt(2),St=Ye*Math.sqrt(2),Ae="M-"+pt/4+","+St/4+"l"+pt/2+",-"+St/2+"M0,"+St+"L"+pt+",0M"+pt/4*3+","+St/4*5+"l"+pt/2+",-"+St/2+"M"+pt/4*3+",-"+St/4+"l"+pt/2+","+St/2+"M0,0L"+pt+","+St+"M-"+pt/4+","+St/4*3+"l"+pt/2+","+St/2,ke=Ye-Ye*Math.sqrt(1-ot),de="path",xe={d:Ae,opacity:Je,stroke:Ee,"stroke-width":ke+"px"};break;case"|":pt=Ye,St=Ye,de="path",Ae="M"+pt/2+",0L"+pt/2+","+St,ke=ot*Ye,de="path",xe={d:Ae,opacity:Je,stroke:Ee,"stroke-width":ke+"px"};break;case"-":pt=Ye,St=Ye,de="path",Ae="M0,"+St/2+"L"+pt+","+St/2,ke=ot*Ye,de="path",xe={d:Ae,opacity:Je,stroke:Ee,"stroke-width":ke+"px"};break;case"+":pt=Ye,St=Ye,de="path",Ae="M"+pt/2+",0L"+pt/2+","+St+"M0,"+St/2+"L"+pt+","+St/2,ke=Ye-Ye*Math.sqrt(1-ot),de="path",xe={d:Ae,opacity:Je,stroke:Ee,"stroke-width":ke+"px"};break;case".":pt=Ye,St=Ye,ot<Math.PI/4?K=Math.sqrt(ot*Ye*Ye/Math.PI):K=me(ot,Math.PI/4,1,Ye/2,Ye/Math.sqrt(2)),de="circle",xe={cx:pt/2,cy:St/2,r:K,opacity:Je,fill:Ee};break}var Qe=[Re||"noSh",ut||"noBg",dt||"noFg",Ye,ot].join(";"),st=bt._defs.select(".patterns").selectAll("#"+Dt).data([Qe],e.identity);st.exit().remove(),st.enter().append("pattern").each(function(){var ze=i.select(this);if(ze.attr({id:Dt,width:pt+"px",height:St+"px",patternUnits:"userSpaceOnUse",patternTransform:qe?"scale(0.8)":""}),ut){var rt=l(ut),ft=s.tinyRGB(rt),yt=rt.getAlpha(),Ht=ze.selectAll("rect").data([0]);Ht.exit().remove(),Ht.enter().append("rect").attr({width:pt+"px",height:St+"px",fill:ft,"fill-opacity":yt})}var Wt=ze.selectAll(de).data([0]);Wt.exit().remove(),Wt.enter().append(de).attr(xe)}),pe.style("fill",I(Dt,oe)).style("fill-opacity",null),pe.classed("pattern_filled",!0)},u.initGradients=function(pe){var _e=pe._fullLayout,oe=e.ensureSingle(_e._defs,"g","gradients");oe.selectAll("linearGradient,radialGradient").remove(),i.select(pe).selectAll(".gradient_filled").classed("gradient_filled",!1)},u.initPatterns=function(pe){var _e=pe._fullLayout,oe=e.ensureSingle(_e._defs,"g","patterns");oe.selectAll("pattern").remove(),i.select(pe).selectAll(".pattern_filled").classed("pattern_filled",!1)},u.getPatternAttr=function(pe,_e,oe){return pe&&e.isArrayOrTypedArray(pe)?_e<pe.length?pe[_e]:oe:pe},u.pointStyle=function(pe,_e,oe,Le){if(pe.size()){var Re=u.makePointStyleFns(_e);pe.each(function(Ye){u.singlePointStyle(Ye,i.select(this),_e,Re,oe,Le)})}},u.singlePointStyle=function(pe,_e,oe,Le,Re,Ye){var ot=oe.marker,Xe=ot.line;if(Ye&&Ye.i>=0&&pe.i===void 0&&(pe.i=Ye.i),_e.style("opacity",Le.selectedOpacityFn?Le.selectedOpacityFn(pe):pe.mo===void 0?ot.opacity:pe.mo),Le.ms2mrc){var lt;pe.ms==="various"||ot.size==="various"?lt=3:lt=Le.ms2mrc(pe.ms),pe.mrc=lt,Le.selectedSizeFn&&(lt=pe.mrc=Le.selectedSizeFn(pe));var ut=u.symbolNumber(pe.mx||ot.symbol)||0;pe.om=ut%200>=100;var dt=Be(pe,oe),xt=L(pe,oe);_e.attr("d",W(ut,lt,dt,xt))}var qe=!1,bt,Dt,pt;if(pe.so)pt=Xe.outlierwidth,Dt=Xe.outliercolor,bt=ot.outliercolor;else{var St=(Xe||{}).width;pt=(pe.mlw+1||St+1||(pe.trace?(pe.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in pe?Dt=pe.mlcc=Le.lineScale(pe.mlc):e.isArrayOrTypedArray(Xe.color)?Dt=s.defaultLine:Dt=Xe.color,e.isArrayOrTypedArray(ot.color)&&(bt=s.defaultLine,qe=!0),"mc"in pe?bt=pe.mcc=Le.markerScale(pe.mc):bt=ot.color||ot.colors||"rgba(0,0,0,0)",Le.selectedColorFn&&(bt=Le.selectedColorFn(pe))}if(pe.om)_e.call(s.stroke,bt).style({"stroke-width":(pt||1)+"px",fill:"none"});else{_e.style("stroke-width",(pe.isBlank?0:pt)+"px");var me=ot.gradient,Ae=pe.mgt;Ae?qe=!0:Ae=me&&me.type,e.isArrayOrTypedArray(Ae)&&(Ae=Ae[0],N[Ae]||(Ae=0));var ke=ot.pattern,K=ke&&u.getPatternAttr(ke.shape,pe.i,"");if(Ae&&Ae!=="none"){var de=pe.mgc;de?qe=!0:de=me.color;var xe=oe.uid;qe&&(xe+="-"+pe.i),u.gradient(_e,Re,xe,Ae,[[0,de],[1,bt]],"fill")}else if(K){var ge=!1,Ee=ke.fgcolor;!Ee&&Ye&&Ye.color&&(Ee=Ye.color,ge=!0);var Me=u.getPatternAttr(Ee,pe.i,Ye&&Ye.color||null),Je=u.getPatternAttr(ke.bgcolor,pe.i,null),Qe=ke.fgopacity,st=u.getPatternAttr(ke.size,pe.i,8),ze=u.getPatternAttr(ke.solidity,pe.i,.3);ge=ge||pe.mcc||e.isArrayOrTypedArray(ke.shape)||e.isArrayOrTypedArray(ke.bgcolor)||e.isArrayOrTypedArray(ke.fgcolor)||e.isArrayOrTypedArray(ke.size)||e.isArrayOrTypedArray(ke.solidity);var rt=oe.uid;ge&&(rt+="-"+pe.i),u.pattern(_e,"point",Re,rt,K,st,ze,pe.mcc,ke.fillmode,Je,Me,Qe)}else e.isArrayOrTypedArray(bt)?s.fill(_e,bt[pe.i]):s.fill(_e,bt);pt&&s.stroke(_e,Dt)}},u.makePointStyleFns=function(pe){var _e={},oe=pe.marker;return _e.markerScale=u.tryColorscale(oe,""),_e.lineScale=u.tryColorscale(oe,"line"),o.traceIs(pe,"symbols")&&(_e.ms2mrc=g.isBubble(pe)?m(pe):function(){return(oe.size||6)/2}),pe.selectedpoints&&e.extendFlat(_e,u.makeSelectedPointStyleFns(pe)),_e},u.makeSelectedPointStyleFns=function(pe){var _e={},oe=pe.selected||{},Le=pe.unselected||{},Re=pe.marker||{},Ye=oe.marker||{},ot=Le.marker||{},Xe=Re.opacity,lt=Ye.opacity,ut=ot.opacity,dt=lt!==void 0,xt=ut!==void 0;(e.isArrayOrTypedArray(Xe)||dt||xt)&&(_e.selectedOpacityFn=function(K){var de=K.mo===void 0?Re.opacity:K.mo;return K.selected?dt?lt:de:xt?ut:y*de});var qe=Re.color,bt=Ye.color,Dt=ot.color;(bt||Dt)&&(_e.selectedColorFn=function(K){var de=K.mcc||qe;return K.selected?bt||de:Dt||de});var pt=Re.size,St=Ye.size,me=ot.size,Ae=St!==void 0,ke=me!==void 0;return o.traceIs(pe,"symbols")&&(Ae||ke)&&(_e.selectedSizeFn=function(K){var de=K.mrc||pt/2;return K.selected?Ae?St/2:de:ke?me/2:de}),_e},u.makeSelectedTextStyleFns=function(pe){var _e={},oe=pe.selected||{},Le=pe.unselected||{},Re=pe.textfont||{},Ye=oe.textfont||{},ot=Le.textfont||{},Xe=Re.color,lt=Ye.color,ut=ot.color;return _e.selectedTextColorFn=function(dt){var xt=dt.tc||Xe;return dt.selected?lt||xt:ut||(lt?xt:s.addOpacity(xt,y))},_e},u.selectedPointStyle=function(pe,_e){if(!(!pe.size()||!_e.selectedpoints)){var oe=u.makeSelectedPointStyleFns(_e),Le=_e.marker||{},Re=[];oe.selectedOpacityFn&&Re.push(function(Ye,ot){Ye.style("opacity",oe.selectedOpacityFn(ot))}),oe.selectedColorFn&&Re.push(function(Ye,ot){s.fill(Ye,oe.selectedColorFn(ot))}),oe.selectedSizeFn&&Re.push(function(Ye,ot){var Xe=ot.mx||Le.symbol||0,lt=oe.selectedSizeFn(ot);Ye.attr("d",W(u.symbolNumber(Xe),lt,Be(ot,_e),L(ot,_e))),ot.mrc2=lt}),Re.length&&pe.each(function(Ye){for(var ot=i.select(this),Xe=0;Xe<Re.length;Xe++)Re[Xe](ot,Ye)})}},u.tryColorscale=function(pe,_e){var oe=_e?e.nestedProperty(pe,_e).get():pe;if(oe){var Le=oe.color;if((oe.colorscale||oe._colorAx)&&e.isArrayOrTypedArray(Le))return d.makeColorScaleFuncFromTrace(oe)}return e.identity};var V={start:1,end:-1,middle:0,bottom:1,top:-1};function U(pe,_e,oe,Le,Re){var Ye=i.select(pe.node().parentNode),ot=_e.indexOf("top")!==-1?"top":_e.indexOf("bottom")!==-1?"bottom":"middle",Xe=_e.indexOf("left")!==-1?"end":_e.indexOf("right")!==-1?"start":"middle",lt=Le?Le/.8+1:0,ut=(p.lineCount(pe)-1)*b+1,dt=V[Xe]*lt,xt=oe*.75+V[ot]*lt+(V[ot]-1)*ut*oe/2;pe.attr("text-anchor",Xe),Re||Ye.attr("transform",t(dt,xt))}function G(pe,_e){var oe=pe.ts||_e.textfont.size;return r(oe)&&oe>0?oe:0}u.textPointStyle=function(pe,_e,oe){if(pe.size()){var Le;if(_e.selectedpoints){var Re=u.makeSelectedTextStyleFns(_e);Le=Re.selectedTextColorFn}var Ye=_e.texttemplate,ot=oe._fullLayout;pe.each(function(Xe){var lt=i.select(this),ut=Ye?e.extractOption(Xe,_e,"txt","texttemplate"):e.extractOption(Xe,_e,"tx","text");if(!ut&&ut!==0){lt.remove();return}if(Ye){var dt=_e._module.formatLabels,xt=dt?dt(Xe,_e,ot):{},qe={};v(qe,_e,Xe.i);var bt=_e._meta||{};ut=e.texttemplateString(ut,xt,ot._d3locale,qe,Xe,bt)}var Dt=Xe.tp||_e.textposition,pt=G(Xe,_e),St=Le?Le(Xe):Xe.tc||_e.textfont.color;lt.call(u.font,{family:Xe.tf||_e.textfont.family,weight:Xe.tw||_e.textfont.weight,style:Xe.ty||_e.textfont.style,variant:Xe.tv||_e.textfont.variant,textcase:Xe.tC||_e.textfont.textcase,lineposition:Xe.tE||_e.textfont.lineposition,shadow:Xe.tS||_e.textfont.shadow,size:pt,color:St}).text(ut).call(p.convertToTspans,oe).call(U,Dt,pt,Xe.mrc)})}},u.selectedTextStyle=function(pe,_e){if(!(!pe.size()||!_e.selectedpoints)){var oe=u.makeSelectedTextStyleFns(_e);pe.each(function(Le){var Re=i.select(this),Ye=oe.selectedTextColorFn(Le),ot=Le.tp||_e.textposition,Xe=G(Le,_e);s.fill(Re,Ye);var lt=o.traceIs(_e,"bar-like");U(Re,ot,Xe,Le.mrc2||Le.mrc,lt)})}};var D=.5;u.smoothopen=function(pe,_e){if(pe.length<3)return"M"+pe.join("L");var oe="M"+pe[0],Le=[],Re;for(Re=1;Re<pe.length-1;Re++)Le.push(fe(pe[Re-1],pe[Re],pe[Re+1],_e));for(oe+="Q"+Le[0][0]+" "+pe[1],Re=2;Re<pe.length-1;Re++)oe+="C"+Le[Re-2][1]+" "+Le[Re-1][0]+" "+pe[Re];return oe+="Q"+Le[pe.length-3][1]+" "+pe[pe.length-1],oe},u.smoothclosed=function(pe,_e){if(pe.length<3)return"M"+pe.join("L")+"Z";var oe="M"+pe[0],Le=pe.length-1,Re=[fe(pe[Le],pe[0],pe[1],_e)],Ye;for(Ye=1;Ye<Le;Ye++)Re.push(fe(pe[Ye-1],pe[Ye],pe[Ye+1],_e));for(Re.push(fe(pe[Le-1],pe[Le],pe[0],_e)),Ye=1;Ye<=Le;Ye++)oe+="C"+Re[Ye-1][1]+" "+Re[Ye][0]+" "+pe[Ye];return oe+="C"+Re[Le][1]+" "+Re[0][0]+" "+pe[0]+"Z",oe};var Z,q;function ae(pe,_e,oe){return oe&&(pe=H(pe)),_e?ie(pe[1]):te(pe[0])}function te(pe){var _e=i.round(pe,2);return Z=_e,_e}function ie(pe){var _e=i.round(pe,2);return q=_e,_e}function fe(pe,_e,oe,Le){var Re=pe[0]-_e[0],Ye=pe[1]-_e[1],ot=oe[0]-_e[0],Xe=oe[1]-_e[1],lt=Math.pow(Re*Re+Ye*Ye,D/2),ut=Math.pow(ot*ot+Xe*Xe,D/2),dt=(ut*ut*Re-lt*lt*ot)*Le,xt=(ut*ut*Ye-lt*lt*Xe)*Le,qe=3*ut*(lt+ut),bt=3*lt*(lt+ut);return[[te(_e[0]+(qe&&dt/qe)),ie(_e[1]+(qe&&xt/qe))],[te(_e[0]-(bt&&dt/bt)),ie(_e[1]-(bt&&xt/bt))]]}var he={hv:function(pe,_e,oe){return"H"+te(_e[0])+"V"+ae(_e,1,oe)},vh:function(pe,_e,oe){return"V"+ie(_e[1])+"H"+ae(_e,0,oe)},hvh:function(pe,_e,oe){return"H"+te((pe[0]+_e[0])/2)+"V"+ie(_e[1])+"H"+ae(_e,0,oe)},vhv:function(pe,_e,oe){return"V"+ie((pe[1]+_e[1])/2)+"H"+te(_e[0])+"V"+ae(_e,1,oe)}},be=function(pe,_e,oe){return"L"+ae(_e,0,oe)+","+ae(_e,1,oe)};u.steps=function(pe){var _e=he[pe]||be;return function(oe){for(var Le="M"+te(oe[0][0])+","+ie(oe[0][1]),Re=oe.length,Ye=1;Ye<Re;Ye++)Le+=_e(oe[Ye-1],oe[Ye],Ye===Re-1);return Le}};function H(pe,_e){var oe=pe.backoff,Le=pe.trace,Re=pe.d,Ye=pe.i;if(oe&&Le&&Le.marker&&Le.marker.angle%360===0&&Le.line&&Le.line.shape!=="spline"){var ot=e.isArrayOrTypedArray(oe),Xe=pe,lt=_e?_e[0]:Z||0,ut=_e?_e[1]:q||0,dt=Xe[0],xt=Xe[1],qe=dt-lt,bt=xt-ut,Dt=Math.atan2(bt,qe),pt=ot?oe[Ye]:oe;if(pt==="auto"){var St=Xe.i;Le.type==="scatter"&&St--;var me=Xe.marker,Ae=me.symbol;e.isArrayOrTypedArray(Ae)&&(Ae=Ae[St]);var ke=me.size;e.isArrayOrTypedArray(ke)&&(ke=ke[St]),pt=me?u.symbolBackOffs[u.symbolNumber(Ae)]*ke:0,pt+=u.getMarkerStandoff(Re[St],Le)||0}var K=dt-pt*Math.cos(Dt),de=xt-pt*Math.sin(Dt);(K<=dt&&K>=lt||K>=dt&&K<=lt)&&(de<=xt&&de>=ut||de>=xt&&de<=ut)&&(pe=[K,de])}return pe}u.applyBackoff=H,u.makeTester=function(){var pe=e.ensureSingleById(i.select("body"),"svg","js-plotly-tester",function(oe){oe.attr(c.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),_e=e.ensureSingle(pe,"path","js-reference-point",function(oe){oe.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});u.tester=pe,u.testref=_e},u.savedBBoxes={};var B=0,A=1e4;u.bBox=function(pe,_e,oe){oe||(oe=X(pe));var Le;if(oe){if(Le=u.savedBBoxes[oe],Le)return e.extendFlat({},Le)}else if(pe.childNodes.length===1){var Re=pe.childNodes[0];if(oe=X(Re),oe){var Ye=+Re.getAttribute("x")||0,ot=+Re.getAttribute("y")||0,Xe=Re.getAttribute("transform");if(!Xe){var lt=u.bBox(Re,!1,oe);return Ye&&(lt.left+=Ye,lt.right+=Ye),ot&&(lt.top+=ot,lt.bottom+=ot),lt}if(oe+="~"+Ye+"~"+ot+"~"+Xe,Le=u.savedBBoxes[oe],Le)return e.extendFlat({},Le)}}var ut,dt;_e?ut=pe:(dt=u.tester.node(),ut=pe.cloneNode(!0),dt.appendChild(ut)),i.select(ut).attr("transform",null).call(p.positionText,0,0);var xt=ut.getBoundingClientRect(),qe=u.testref.node().getBoundingClientRect();_e||dt.removeChild(ut);var bt={height:xt.height,width:xt.width,left:xt.left-qe.left,top:xt.top-qe.top,right:xt.right-qe.left,bottom:xt.bottom-qe.top};return B>=A&&(u.savedBBoxes={},B=0),oe&&(u.savedBBoxes[oe]=bt),B++,e.extendFlat({},bt)};function X(pe){var _e=pe.getAttribute("data-unformatted");if(_e!==null)return _e+pe.getAttribute("data-math")+pe.getAttribute("text-anchor")+pe.getAttribute("style")}u.setClipUrl=function(pe,_e,oe){pe.attr("clip-path",I(_e,oe))};function I(pe,_e){if(!pe)return null;var oe=_e._context,Le=oe._exportedPlot?"":oe._baseUrl||"";return Le?"url('"+Le+"#"+pe+"')":"url(#"+pe+")"}u.getTranslate=function(pe){var _e=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,oe=pe.attr?"attr":"getAttribute",Le=pe[oe]("transform")||"",Re=Le.replace(_e,function(Ye,ot,Xe){return[ot,Xe].join(" ")}).split(" ");return{x:+Re[0]||0,y:+Re[1]||0}},u.setTranslate=function(pe,_e,oe){var Le=/(\btranslate\(.*?\);?)/,Re=pe.attr?"attr":"getAttribute",Ye=pe.attr?"attr":"setAttribute",ot=pe[Re]("transform")||"";return _e=_e||0,oe=oe||0,ot=ot.replace(Le,"").trim(),ot+=t(_e,oe),ot=ot.trim(),pe[Ye]("transform",ot),ot},u.getScale=function(pe){var _e=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,oe=pe.attr?"attr":"getAttribute",Le=pe[oe]("transform")||"",Re=Le.replace(_e,function(Ye,ot,Xe){return[ot,Xe].join(" ")}).split(" ");return{x:+Re[0]||1,y:+Re[1]||1}},u.setScale=function(pe,_e,oe){var Le=/(\bscale\(.*?\);?)/,Re=pe.attr?"attr":"getAttribute",Ye=pe.attr?"attr":"setAttribute",ot=pe[Re]("transform")||"";return _e=_e||1,oe=oe||1,ot=ot.replace(Le,"").trim(),ot+="scale("+_e+","+oe+")",ot=ot.trim(),pe[Ye]("transform",ot),ot};var j=/\s*sc.*/;u.setPointGroupScale=function(pe,_e,oe){if(_e=_e||1,oe=oe||1,!!pe){var Le=_e===1&&oe===1?"":"scale("+_e+","+oe+")";pe.each(function(){var Re=(this.getAttribute("transform")||"").replace(j,"");Re+=Le,Re=Re.trim(),this.setAttribute("transform",Re)})}};var T=/translate\([^)]*\)\s*$/;u.setTextPointsScale=function(pe,_e,oe){pe&&pe.each(function(){var Le,Re=i.select(this),Ye=Re.select("text");if(Ye.node()){var ot=parseFloat(Ye.attr("x")||0),Xe=parseFloat(Ye.attr("y")||0),lt=(Re.attr("transform")||"").match(T);_e===1&&oe===1?Le=[]:Le=[t(ot,Xe),"scale("+_e+","+oe+")",t(-ot,-Xe)],lt&&Le.push(lt),Re.attr("transform",Le.join(""))}})};function L(pe,_e){var oe;return pe&&(oe=pe.mf),oe===void 0&&(oe=_e.marker&&_e.marker.standoff||0),!_e._geo&&!_e._xA?-oe:oe}u.getMarkerStandoff=L;var $=Math.atan2,Y=Math.cos,re=Math.sin;function se(pe,_e){var oe=_e[0],Le=_e[1];return[oe*Y(pe)-Le*re(pe),oe*re(pe)+Le*Y(pe)]}var ce,we,Se,Ie,Ze,He;function Be(pe,_e){var oe=pe.ma;oe===void 0&&(oe=_e.marker.angle,(!oe||e.isArrayOrTypedArray(oe))&&(oe=0));var Le,Re,Ye=_e.marker.angleref;if(Ye==="previous"||Ye==="north"){if(_e._geo){var ot=_e._geo.project(pe.lonlat);Le=ot[0],Re=ot[1]}else{var Xe=_e._xA,lt=_e._yA;if(Xe&&lt)Le=Xe.c2p(pe.x),Re=lt.c2p(pe.y);else return 90}if(_e._geo){var ut=pe.lonlat[0],dt=pe.lonlat[1],xt=_e._geo.project([ut,dt+1e-5]),qe=_e._geo.project([ut+1e-5,dt]),bt=$(qe[1]-Re,qe[0]-Le),Dt=$(xt[1]-Re,xt[0]-Le),pt;if(Ye==="north")pt=oe/180*Math.PI;else if(Ye==="previous"){var St=ut/180*Math.PI,me=dt/180*Math.PI,Ae=ce/180*Math.PI,ke=we/180*Math.PI,K=Ae-St,de=Y(ke)*re(K),xe=re(ke)*Y(me)-Y(ke)*re(me)*Y(K);pt=-$(de,xe)-Math.PI,ce=ut,we=dt}var ge=se(bt,[Y(pt),0]),Ee=se(Dt,[re(pt),0]);oe=$(ge[1]+Ee[1],ge[0]+Ee[0])/Math.PI*180,Ye==="previous"&&!(He===_e.uid&&pe.i===Ze+1)&&(oe=null)}if(Ye==="previous"&&!_e._geo)if(He===_e.uid&&pe.i===Ze+1&&r(Le)&&r(Re)){var Me=Le-Se,Je=Re-Ie,Qe=_e.line&&_e.line.shape||"",st=Qe.slice(Qe.length-1);st==="h"&&(Je=0),st==="v"&&(Me=0),oe+=$(Je,Me)/Math.PI*180+90}else oe=null}return Se=Le,Ie=Re,Ze=pe.i,He=_e.uid,oe}u.getMarkerAngle=Be}),Fo=ye((F,C)=>{var i=Xt(),e=on(),n=Lr(),r=Kn(),l=zt(),o=l.strTranslate,s=Ga(),d=$n(),t=Xr(),p=Ir(),c=ai().OPPOSITE_SIDE,h=/ [XY][0-9]* /,b=1.6,y=1.6;function g(m,v,u){var f=m._fullLayout,_=u.propContainer,w=u.propName,k=u.placeholder,J=u.traceIndex,P=u.avoid||{},O=u.attributes,M=u.transform,W=u.containerGroup,E=1,N=_.title,R=(N&&N.text?N.text:"").trim(),V=!1,U=N&&N.font?N.font:{},G=U.family,D=U.size,Z=U.color,q=U.weight,ae=U.style,te=U.variant,ie=U.textcase,fe=U.lineposition,he=U.shadow,be=u.subtitlePropName,H=!!be,B=u.subtitlePlaceholder,A=(_.title||{}).subtitle||{text:"",font:{}},X=A.text.trim(),I=!1,j=1,T=A.font,L=T.family,$=T.size,Y=T.color,re=T.weight,se=T.style,ce=T.variant,we=T.textcase,Se=T.lineposition,Ie=T.shadow,Ze;w==="title.text"?Ze="titleText":w.indexOf("axis")!==-1?Ze="axisTitleText":w.indexOf("colorbar"!==-1)&&(Ze="colorbarTitleText");var He=m._context.edits[Ze];function Be(qe,bt){return qe===void 0||bt===void 0?!1:qe.replace(h," % ")===bt.replace(h," % ")}R===""?E=0:Be(R,k)&&(He||(R=""),E=.2,V=!0),H&&(X===""?j=0:Be(X,B)&&(He||(X=""),j=.2,I=!0)),u._meta?R=l.templateString(R,u._meta):f._meta&&(R=l.templateString(R,f._meta));var pe=R||X||He,_e;W||(W=l.ensureSingle(f._infolayer,"g","g-"+v),_e=f._hColorbarMoveTitle);var oe=W.selectAll("text."+v).data(pe?[0]:[]);oe.enter().append("text"),oe.text(R).attr("class",v),oe.exit().remove();var Le=null,Re=v+"-subtitle",Ye=X||He;if(H&&Ye&&(Le=W.selectAll("text."+Re).data(Ye?[0]:[]),Le.enter().append("text"),Le.text(X).attr("class",Re),Le.exit().remove()),!pe)return W;function ot(qe,bt){l.syncOrAsync([Xe,lt],{title:qe,subtitle:bt})}function Xe(qe){var bt=qe.title,Dt=qe.subtitle,pt;!M&&_e&&(M={}),M?(pt="",M.rotate&&(pt+="rotate("+[M.rotate,O.x,O.y]+")"),(M.offset||_e)&&(pt+=o(0,(M.offset||0)-(_e||0)))):pt=null,bt.attr("transform",pt);function St(xe){if(xe){var ge=i.select(xe.node().parentNode).select("."+Re);if(!ge.empty()){var Ee=xe.node().getBBox();if(Ee.height){var Me=Ee.y+Ee.height+b*$;ge.attr("y",Me)}}}}if(bt.style("opacity",E*d.opacity(Z)).call(s.font,{color:d.rgb(Z),size:i.round(D,2),family:G,weight:q,style:ae,variant:te,textcase:ie,shadow:he,lineposition:fe}).attr(O).call(t.convertToTspans,m,St),Dt){var me=W.select("."+v+"-math-group"),Ae=bt.node().getBBox(),ke=me.node()?me.node().getBBox():void 0,K=ke?ke.y+ke.height+b*$:Ae.y+Ae.height+y*$,de=l.extendFlat({},O,{y:K});Dt.attr("transform",pt),Dt.style("opacity",j*d.opacity(Y)).call(s.font,{color:d.rgb(Y),size:i.round($,2),family:L,weight:re,style:se,variant:ce,textcase:we,shadow:Ie,lineposition:Se}).attr(de).call(t.convertToTspans,m)}return n.previousPromises(m)}function lt(qe){var bt=qe.title,Dt=i.select(bt.node().parentNode);if(P&&P.selection&&P.side&&R){Dt.attr("transform",null);var pt=c[P.side],St=P.side==="left"||P.side==="top"?-1:1,me=e(P.pad)?P.pad:2,Ae=s.bBox(Dt.node()),ke={t:0,b:0,l:0,r:0},K=m._fullLayout._reservedMargin;for(var de in K)for(var xe in K[de]){var ge=K[de][xe];ke[xe]=Math.max(ke[xe],ge)}var Ee={left:ke.l,top:ke.t,right:f.width-ke.r,bottom:f.height-ke.b},Me=P.maxShift||St*(Ee[P.side]-Ae[P.side]),Je=0;if(Me<0)Je=Me;else{var Qe=P.offsetLeft||0,st=P.offsetTop||0;Ae.left-=Qe,Ae.right-=Qe,Ae.top-=st,Ae.bottom-=st,P.selection.each(function(){var rt=s.bBox(this);l.bBoxIntersect(Ae,rt,me)&&(Je=Math.max(Je,St*(rt[P.side]-Ae[pt])+me))}),Je=Math.min(Me,Je),_._titleScoot=Math.abs(Je)}if(Je>0||Me<0){var ze={left:[-Je,0],right:[Je,0],top:[0,-Je],bottom:[0,Je]}[P.side];Dt.attr("transform",o(ze[0],ze[1]))}}}oe.call(ot,Le);function ut(qe,bt){qe.text(bt).on("mouseover.opacity",function(){i.select(this).transition().duration(p.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){i.select(this).transition().duration(p.HIDE_PLACEHOLDER).style("opacity",0)})}if(He&&(R?oe.on(".opacity",null):(ut(oe,k),V=!0),oe.call(t.makeEditable,{gd:m}).on("edit",function(qe){J!==void 0?r.call("_guiRestyle",m,w,qe,J):r.call("_guiRelayout",m,w,qe)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(ot)}).on("input",function(qe){this.text(qe||" ").call(t.positionText,O.x,O.y)}),H)){if(H&&!R){var dt=oe.node().getBBox(),xt=dt.y+dt.height+y*$;Le.attr("y",xt)}X?Le.on(".opacity",null):(ut(Le,B),I=!0),Le.call(t.makeEditable,{gd:m}).on("edit",function(qe){r.call("_guiRelayout",m,"title.subtitle.text",qe)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(ot)}).on("input",function(qe){this.text(qe||" ").call(t.positionText,Le.attr("x"),Le.attr("y"))})}return oe.classed("js-placeholder",V),Le&&Le.classed("js-placeholder",I),W}C.exports={draw:g,SUBTITLE_PADDING_EM:y,SUBTITLE_PADDING_MATHJAX_EM:b}}),bl=ye((F,C)=>{var i=Xt(),e=wa().utcFormat,n=zt(),r=n.numberFormat,l=on(),o=n.cleanNumber,s=n.ms2DateTime,d=n.dateTime2ms,t=n.ensureNumber,p=n.isArrayOrTypedArray,c=Gn(),h=c.FP_SAFE,b=c.BADNUM,y=c.LOG_CLIP,g=c.ONEWEEK,m=c.ONEDAY,v=c.ONEHOUR,u=c.ONEMIN,f=c.ONESEC,_=Nr(),w=$r(),k=w.HOUR_PATTERN,J=w.WEEKDAY_PATTERN;function P(M){return Math.pow(10,M)}function O(M){return M!=null}C.exports=function(M,W){W=W||{};var E=M._id||"x",N=E.charAt(0);function R(A,X){if(A>0)return Math.log(A)/Math.LN10;if(A<=0&&X&&M.range&&M.range.length===2){var I=M.range[0],j=M.range[1];return .5*(I+j-2*y*Math.abs(I-j))}else return b}function V(A,X,I,j){if((j||{}).msUTC&&l(A))return+A;var T=d(A,I||M.calendar);if(T===b)if(l(A)){A=+A;var L=Math.floor(n.mod(A+.05,1)*10),$=Math.round(A-L/10);T=d(new Date($))+L/10}else return b;return T}function U(A,X,I){return s(A,X,I||M.calendar)}function G(A){return M._categories[Math.round(A)]}function D(A){if(O(A)){if(M._categoriesMap===void 0&&(M._categoriesMap={}),M._categoriesMap[A]!==void 0)return M._categoriesMap[A];M._categories.push(typeof A=="number"?String(A):A);var X=M._categories.length-1;return M._categoriesMap[A]=X,X}return b}function Z(A,X){for(var I=new Array(X),j=0;j<X;j++){var T=(A[0]||[])[j],L=(A[1]||[])[j];I[j]=q([T,L])}return I}function q(A){if(M._categoriesMap)return M._categoriesMap[A]}function ae(A){var X=q(A);if(X!==void 0)return X;if(l(A))return+A}function te(A){return l(A)?+A:q(A)}function ie(A,X,I){return i.round(I+X*A,2)}function fe(A,X,I){return(A-I)/X}var he=function(A){return l(A)?ie(A,M._m,M._b):b},be=function(A){return fe(A,M._m,M._b)};if(M.rangebreaks){var H=N==="y";he=function(A){if(!l(A))return b;var X=M._rangebreaks.length;if(!X)return ie(A,M._m,M._b);var I=H;M.range[0]>M.range[1]&&(I=!I);for(var j=I?-1:1,T=j*A,L=0,$=0;$<X;$++){var Y=j*M._rangebreaks[$].min,re=j*M._rangebreaks[$].max;if(T<Y)break;if(T>re)L=$+1;else{L=T<(Y+re)/2?$:$+1;break}}var se=M._B[L]||0;return isFinite(se)?ie(A,M._m2,se):0},be=function(A){var X=M._rangebreaks.length;if(!X)return fe(A,M._m,M._b);for(var I=0,j=0;j<X&&!(A<M._rangebreaks[j].pmin);j++)A>M._rangebreaks[j].pmax&&(I=j+1);return fe(A,M._m2,M._B[I])}}M.c2l=M.type==="log"?R:t,M.l2c=M.type==="log"?P:t,M.l2p=he,M.p2l=be,M.c2p=M.type==="log"?function(A,X){return he(R(A,X))}:he,M.p2c=M.type==="log"?function(A){return P(be(A))}:be,["linear","-"].indexOf(M.type)!==-1?(M.d2r=M.r2d=M.d2c=M.r2c=M.d2l=M.r2l=o,M.c2d=M.c2r=M.l2d=M.l2r=t,M.d2p=M.r2p=function(A){return M.l2p(o(A))},M.p2d=M.p2r=be,M.cleanPos=t):M.type==="log"?(M.d2r=M.d2l=function(A,X){return R(o(A),X)},M.r2d=M.r2c=function(A){return P(o(A))},M.d2c=M.r2l=o,M.c2d=M.l2r=t,M.c2r=R,M.l2d=P,M.d2p=function(A,X){return M.l2p(M.d2r(A,X))},M.p2d=function(A){return P(be(A))},M.r2p=function(A){return M.l2p(o(A))},M.p2r=be,M.cleanPos=t):M.type==="date"?(M.d2r=M.r2d=n.identity,M.d2c=M.r2c=M.d2l=M.r2l=V,M.c2d=M.c2r=M.l2d=M.l2r=U,M.d2p=M.r2p=function(A,X,I){return M.l2p(V(A,0,I))},M.p2d=M.p2r=function(A,X,I){return U(be(A),X,I)},M.cleanPos=function(A){return n.cleanDate(A,b,M.calendar)}):M.type==="category"?(M.d2c=M.d2l=D,M.r2d=M.c2d=M.l2d=G,M.d2r=M.d2l_noadd=ae,M.r2c=function(A){var X=te(A);return X!==void 0?X:M.fraction2r(.5)},M.l2r=M.c2r=t,M.r2l=te,M.d2p=function(A){return M.l2p(M.r2c(A))},M.p2d=function(A){return G(be(A))},M.r2p=M.d2p,M.p2r=be,M.cleanPos=function(A){return typeof A=="string"&&A!==""?A:t(A)}):M.type==="multicategory"&&(M.r2d=M.c2d=M.l2d=G,M.d2r=M.d2l_noadd=ae,M.r2c=function(A){var X=ae(A);return X!==void 0?X:M.fraction2r(.5)},M.r2c_just_indices=q,M.l2r=M.c2r=t,M.r2l=ae,M.d2p=function(A){return M.l2p(M.r2c(A))},M.p2d=function(A){return G(be(A))},M.r2p=M.d2p,M.p2r=be,M.cleanPos=function(A){return Array.isArray(A)||typeof A=="string"&&A!==""?A:t(A)},M.setupMultiCategory=function(A){var X=M._traceIndices,I,j,T=M._matchGroup;if(T&&M._categories.length===0){for(var L in T)if(L!==E){var $=W[_.id2name(L)];X=X.concat($._traceIndices)}}var Y=[[0,{}],[0,{}]],re=[];for(I=0;I<X.length;I++){var se=A[X[I]];if(N in se){var ce=se[N],we=se._length||n.minRowLength(ce);if(p(ce[0])&&p(ce[1]))for(j=0;j<we;j++){var Se=ce[0][j],Ie=ce[1][j];O(Se)&&O(Ie)&&(re.push([Se,Ie]),Se in Y[0][1]||(Y[0][1][Se]=Y[0][0]++),Ie in Y[1][1]||(Y[1][1][Ie]=Y[1][0]++))}}}for(re.sort(function(Ze,He){var Be=Y[0][1],pe=Be[Ze[0]]-Be[He[0]];if(pe)return pe;var _e=Y[1][1];return _e[Ze[1]]-_e[He[1]]}),I=0;I<re.length;I++)D(re[I])}),M.fraction2r=function(A){var X=M.r2l(M.range[0]),I=M.r2l(M.range[1]);return M.l2r(X+A*(I-X))},M.r2fraction=function(A){var X=M.r2l(M.range[0]),I=M.r2l(M.range[1]);return(M.r2l(A)-X)/(I-X)},M.limitRange=function(A){var X=M.minallowed,I=M.maxallowed;if(!(X===void 0&&I===void 0)){A||(A="range");var j=n.nestedProperty(M,A).get(),T=n.simpleMap(j,M.r2l),L=T[1]<T[0];L&&T.reverse();var $=n.simpleMap([X,I],M.r2l);if(X!==void 0&&T[0]<$[0]&&(j[L?1:0]=X),I!==void 0&&T[1]>$[1]&&(j[L?0:1]=I),j[0]===j[1]){var Y=M.l2r(X),re=M.l2r(I);if(X!==void 0){var se=Y+1;I!==void 0&&(se=Math.min(se,re)),j[L?1:0]=se}if(I!==void 0){var ce=re+1;X!==void 0&&(ce=Math.max(ce,Y)),j[L?0:1]=ce}}}},M.cleanRange=function(A,X){M._cleanRange(A,X),M.limitRange(A)},M._cleanRange=function(A,X){X||(X={}),A||(A="range");var I=n.nestedProperty(M,A).get(),j,T;if(M.type==="date"?T=n.dfltRange(M.calendar):N==="y"?T=w.DFLTRANGEY:M._name==="realaxis"?T=[0,1]:T=X.dfltRange||w.DFLTRANGEX,T=T.slice(),(M.rangemode==="tozero"||M.rangemode==="nonnegative")&&(T[0]=0),!I||I.length!==2){n.nestedProperty(M,A).set(T);return}var L=I[0]===null,$=I[1]===null;for(M.type==="date"&&!M.autorange&&(I[0]=n.cleanDate(I[0],b,M.calendar),I[1]=n.cleanDate(I[1],b,M.calendar)),j=0;j<2;j++)if(M.type==="date"){if(!n.isDateTime(I[j],M.calendar)){M[A]=T;break}if(M.r2l(I[0])===M.r2l(I[1])){var Y=n.constrain(M.r2l(I[0]),n.MIN_MS+1e3,n.MAX_MS-1e3);I[0]=M.l2r(Y-1e3),I[1]=M.l2r(Y+1e3);break}}else{if(!l(I[j]))if(!(L||$)&&l(I[1-j]))I[j]=I[1-j]*(j?10:.1);else{M[A]=T;break}if(I[j]<-h?I[j]=-h:I[j]>h&&(I[j]=h),I[0]===I[1]){var re=Math.max(1,Math.abs(I[0]*1e-6));I[0]-=re,I[1]+=re}}},M.setScale=function(A){var X=W._size;if(M.overlaying){var I=_.getFromId({_fullLayout:W},M.overlaying);M.domain=I.domain}var j=A&&M._r?"_r":"range",T=M.calendar;M.cleanRange(j);var L=M.r2l(M[j][0],T),$=M.r2l(M[j][1],T),Y=N==="y";if(Y?(M._offset=X.t+(1-M.domain[1])*X.h,M._length=X.h*(M.domain[1]-M.domain[0]),M._m=M._length/(L-$),M._b=-M._m*$):(M._offset=X.l+M.domain[0]*X.w,M._length=X.w*(M.domain[1]-M.domain[0]),M._m=M._length/($-L),M._b=-M._m*L),M._rangebreaks=[],M._lBreaks=0,M._m2=0,M._B=[],M.rangebreaks){var re,se;if(M._rangebreaks=M.locateBreaks(Math.min(L,$),Math.max(L,$)),M._rangebreaks.length){for(re=0;re<M._rangebreaks.length;re++)se=M._rangebreaks[re],M._lBreaks+=Math.abs(se.max-se.min);var ce=Y;L>$&&(ce=!ce),ce&&M._rangebreaks.reverse();var we=ce?-1:1;for(M._m2=we*M._length/(Math.abs($-L)-M._lBreaks),M._B.push(-M._m2*(Y?$:L)),re=0;re<M._rangebreaks.length;re++)se=M._rangebreaks[re],M._B.push(M._B[M._B.length-1]-we*M._m2*(se.max-se.min));for(re=0;re<M._rangebreaks.length;re++)se=M._rangebreaks[re],se.pmin=he(se.min),se.pmax=he(se.max)}}if(!isFinite(M._m)||!isFinite(M._b)||M._length<0)throw W._replotting=!1,new Error("Something went wrong with axis scaling")},M.maskBreaks=function(A){var X=M.rangebreaks||[],I,j,T,L,$;X._cachedPatterns||(X._cachedPatterns=X.map(function(Be){return Be.enabled&&Be.bounds?n.simpleMap(Be.bounds,Be.pattern?o:M.d2c):null})),X._cachedValues||(X._cachedValues=X.map(function(Be){return Be.enabled&&Be.values?n.simpleMap(Be.values,M.d2c).sort(n.sorterAsc):null}));for(var Y=0;Y<X.length;Y++){var re=X[Y];if(re.enabled){if(re.bounds){var se=re.pattern;switch(I=X._cachedPatterns[Y],j=I[0],T=I[1],se){case J:$=new Date(A),L=$.getUTCDay(),j>T&&(T+=7,L<j&&(L+=7));break;case k:$=new Date(A);var ce=$.getUTCHours(),we=$.getUTCMinutes(),Se=$.getUTCSeconds(),Ie=$.getUTCMilliseconds();L=ce+(we/60+Se/3600+Ie/36e5),j>T&&(T+=24,L<j&&(L+=24));break;case"":L=A;break}if(L>=j&&L<T)return b}else for(var Ze=X._cachedValues[Y],He=0;He<Ze.length;He++)if(j=Ze[He],T=j+re.dvalue,A>=j&&A<T)return b}}return A},M.locateBreaks=function(A,X){var I,j,T,L,$=[];if(!M.rangebreaks)return $;var Y=M.rangebreaks.slice().sort(function(_e,oe){return _e.pattern===J&&oe.pattern===k?-1:oe.pattern===J&&_e.pattern===k?1:0}),re=function(_e,oe){if(_e=n.constrain(_e,A,X),oe=n.constrain(oe,A,X),_e!==oe){for(var Le=!0,Re=0;Re<$.length;Re++){var Ye=$[Re];_e<Ye.max&&oe>=Ye.min&&(_e<Ye.min&&(Ye.min=_e),oe>Ye.max&&(Ye.max=oe),Le=!1)}Le&&$.push({min:_e,max:oe})}};for(I=0;I<Y.length;I++){var se=Y[I];if(se.enabled)if(se.bounds){var ce=A,we=X;se.pattern&&(ce=Math.floor(ce)),j=n.simpleMap(se.bounds,se.pattern?o:M.r2l),T=j[0],L=j[1];var Se=new Date(ce),Ie,Ze;switch(se.pattern){case J:Ze=g,Ie=((L<T?7:0)+(L-T))*m,ce+=T*m-(Se.getUTCDay()*m+Se.getUTCHours()*v+Se.getUTCMinutes()*u+Se.getUTCSeconds()*f+Se.getUTCMilliseconds());break;case k:Ze=m,Ie=((L<T?24:0)+(L-T))*v,ce+=T*v-(Se.getUTCHours()*v+Se.getUTCMinutes()*u+Se.getUTCSeconds()*f+Se.getUTCMilliseconds());break;default:ce=Math.min(j[0],j[1]),we=Math.max(j[0],j[1]),Ze=we-ce,Ie=Ze}for(var He=ce;He<we;He+=Ze)re(He,He+Ie)}else for(var Be=n.simpleMap(se.values,M.d2c),pe=0;pe<Be.length;pe++)T=Be[pe],L=T+se.dvalue,re(T,L)}return $.sort(function(_e,oe){return _e.min-oe.min}),$},M.makeCalcdata=function(A,X,I){var j,T,L,$,Y=M.type,re=Y==="date"&&A[X+"calendar"];if(X in A){if(j=A[X],$=A._length||n.minRowLength(j),n.isTypedArray(j)&&(Y==="linear"||Y==="log")){if($===j.length)return j;if(j.subarray)return j.subarray(0,$)}if(Y==="multicategory")return Z(j,$);for(T=new Array($),L=0;L<$;L++)T[L]=M.d2c(j[L],0,re,I)}else{var se=X+"0"in A?M.d2c(A[X+"0"],0,re):0,ce=A["d"+X]?Number(A["d"+X]):1;for(j=A[{x:"y",y:"x"}[X]],$=A._length||j.length,T=new Array($),L=0;L<$;L++)T[L]=se+L*ce}if(M.rangebreaks)for(L=0;L<$;L++)T[L]=M.maskBreaks(T[L]);return T},M.isValidRange=function(A,X){return Array.isArray(A)&&A.length===2&&(X&&A[0]===null||l(M.r2l(A[0])))&&(X&&A[1]===null||l(M.r2l(A[1])))},M.getAutorangeDflt=function(A,X){var I=!M.isValidRange(A,"nullOk");return I&&X&&X.reverseDflt?I="reversed":A&&(A[0]===null&&A[1]===null?I=!0:A[0]===null&&A[1]!==null?I="min":A[0]!==null&&A[1]===null&&(I="max")),I},M.isReversed=function(){var A=M.autorange;return A==="reversed"||A==="min reversed"||A==="max reversed"},M.isPtWithinRange=function(A,X){var I=M.c2l(A[N],null,X),j=M.r2l(M.range[0]),T=M.r2l(M.range[1]);return j<T?j<=I&&I<=T:T<=I&&I<=j},M._emptyCategories=function(){M._categories=[],M._categoriesMap={}},M.clearCalc=function(){var A=M._matchGroup;if(A){var X=null,I=null;for(var j in A){var T=W[_.id2name(j)];if(T._categories){X=T._categories,I=T._categoriesMap;break}}X&&I?(M._categories=X,M._categoriesMap=I):M._emptyCategories()}else M._emptyCategories();if(M._initialCategories)for(var L=0;L<M._initialCategories.length;L++)D(M._initialCategories[L])},M.sortByInitialCategories=function(){var A=[];if(M._emptyCategories(),M._initialCategories)for(var X=0;X<M._initialCategories.length;X++)D(M._initialCategories[X]);A=A.concat(M._traceIndices);var I=M._matchGroup;for(var j in I)if(E!==j){var T=W[_.id2name(j)];T._categories=M._categories,T._categoriesMap=M._categoriesMap,A=A.concat(T._traceIndices)}return A};var B=W._d3locale;M.type==="date"&&(M._dateFormat=B?B.timeFormat:e,M._extraFormat=W._extraFormat),M._separators=W.separators,M._numFormat=B?B.numberFormat:r,delete M._minDtick,delete M._forceTick0}}),Ns=ye((F,C)=>{var i=on(),e=zt(),n=Gn().BADNUM,r=e.isArrayOrTypedArray,l=e.isDateTime,o=e.cleanNumber,s=Math.round;C.exports=function(y,g,m){var v=y,u=m.noMultiCategory;if(r(v)&&!v.length)return"-";if(!u&&b(v))return"multicategory";if(u&&Array.isArray(v[0])){for(var f=[],_=0;_<v.length;_++)if(r(v[_]))for(var w=0;w<v[_].length;w++)f.push(v[_][w]);v=f}if(p(v,g))return"date";var k=m.autotypenumbers!=="strict";return h(v,k)?"category":t(v,k)?"linear":"-"};function d(y,g){return g?i(y):typeof y=="number"}function t(y,g){for(var m=y.length,v=0;v<m;v++)if(d(y[v],g))return!0;return!1}function p(y,g){for(var m=y.length,v=c(m),u=0,f=0,_={},w=0;w<m;w+=v){var k=s(w),J=y[k],P=String(J);_[P]||(_[P]=1,l(J,g)&&u++,i(J)&&f++)}return u>f*2}function c(y){return Math.max(1,(y-1)/1e3)}function h(y,g){for(var m=y.length,v=c(m),u=0,f=0,_={},w=0;w<m;w+=v){var k=s(w),J=y[k],P=String(J);if(!_[P]){_[P]=1;var O=typeof J;O==="boolean"?f++:(g?o(J)!==n:O==="number")?u++:O==="string"&&f++}}return f>u*2}function b(y){return r(y[0])&&r(y[1])}}),Io=ye((F,C)=>{var i=Xt(),e=on(),n=zt(),r=Gn().FP_SAFE,l=Kn(),o=Ga(),s=Nr(),d=s.getFromId,t=s.isLinked;C.exports={applyAutorangeOptions:W,getAutoRange:p,makePadFn:h,doAutoRange:m,findExtremes:v,concatExtremes:g};function p(E,N){var R,V,U=[],G=E._fullLayout,D=h(G,N,0),Z=h(G,N,1),q=g(E,N),ae=q.min,te=q.max;if(ae.length===0||te.length===0)return n.simpleMap(N.range,N.r2l);var ie=ae[0].val,fe=te[0].val;for(R=1;R<ae.length&&ie===fe;R++)ie=Math.min(ie,ae[R].val);for(R=1;R<te.length&&ie===fe;R++)fe=Math.max(fe,te[R].val);var he=N.autorange,be=he==="reversed"||he==="min reversed"||he==="max reversed";if(!be&&N.range){var H=n.simpleMap(N.range,N.r2l);be=H[1]<H[0]}N.autorange==="reversed"&&(N.autorange=!0);var B=N.rangemode,A=B==="tozero",X=B==="nonnegative",I=N._length,j=I/10,T=0,L,$,Y,re,se,ce;for(R=0;R<ae.length;R++)for(L=ae[R],V=0;V<te.length;V++)$=te[V],ce=$.val-L.val-c(N,L.val,$.val),ce>0&&(se=I-D(L)-Z($),se>j?ce/se>T&&(Y=L,re=$,T=ce/se):ce/I>T&&(Y={val:L.val,nopad:1},re={val:$.val,nopad:1},T=ce/I));function we(Be,pe){return Math.max(Be,Z(pe))}if(ie===fe){var Se=ie-1,Ie=ie+1;if(A)if(ie===0)U=[0,1];else{var Ze=(ie>0?te:ae).reduce(we,0),He=ie/(1-Math.min(.5,Ze/I));U=ie>0?[0,He]:[He,0]}else X?U=[Math.max(0,Se),Math.max(1,Ie)]:U=[Se,Ie]}else A?(Y.val>=0&&(Y={val:0,nopad:1}),re.val<=0&&(re={val:0,nopad:1})):X&&(Y.val-T*D(Y)<0&&(Y={val:0,nopad:1}),re.val<=0&&(re={val:1,nopad:1})),T=(re.val-Y.val-c(N,L.val,$.val))/(I-D(Y)-Z(re)),U=[Y.val-T*D(Y),re.val+T*Z(re)];return U=W(U,N),N.limitRange&&N.limitRange(),be&&U.reverse(),n.simpleMap(U,N.l2r||Number)}function c(E,N,R){var V=0;if(E.rangebreaks)for(var U=E.locateBreaks(N,R),G=0;G<U.length;G++){var D=U[G];V+=D.max-D.min}return V}function h(E,N,R){var V=.05*N._length,U=N._anchorAxis||{};if((N.ticklabelposition||"").indexOf("inside")!==-1||(U.ticklabelposition||"").indexOf("inside")!==-1){var G=N.isReversed();if(!G){var D=n.simpleMap(N.range,N.r2l);G=D[1]<D[0]}G&&(R=!R)}var Z=0;return t(E,N._id)||(Z=y(E,N,R)),V=Math.max(Z,V),N.constrain==="domain"&&N._inputDomain&&(V*=(N._inputDomain[1]-N._inputDomain[0])/(N.domain[1]-N.domain[0])),function(q){return q.nopad?0:q.pad+(q.extrapad?V:Z)}}var b=3;function y(E,N,R){var V=0,U=N._id.charAt(0)==="x";for(var G in E._plots){var D=E._plots[G];if(!(N._id!==D.xaxis._id&&N._id!==D.yaxis._id)){var Z=(U?D.yaxis:D.xaxis)||{};if((Z.ticklabelposition||"").indexOf("inside")!==-1&&(!R&&(Z.side==="left"||Z.side==="bottom")||R&&(Z.side==="top"||Z.side==="right"))){if(Z._vals){var q=n.deg2rad(Z._tickAngles[Z._id+"tick"]||0),ae=Math.abs(Math.cos(q)),te=Math.abs(Math.sin(q));if(!Z._vals[0].bb){var ie=Z._id+"tick",fe=Z._selections[ie];fe.each(function(X){var I=i.select(this),j=I.select(".text-math-group");j.empty()&&(X.bb=o.bBox(I.node()))})}for(var he=0;he<Z._vals.length;he++){var be=Z._vals[he],H=be.bb;if(H){var B=2*b+H.width,A=2*b+H.height;V=Math.max(V,U?Math.max(B*ae,A*te):Math.max(A*ae,B*te))}}}Z.ticks==="inside"&&Z.ticklabelposition==="inside"&&(V+=Z.ticklen||0)}}}return V}function g(E,N,R){var V=N._id,U=E._fullData,G=E._fullLayout,D=[],Z=[],q,ae,te;function ie(B,A){for(q=0;q<A.length;q++){var X=B[A[q]],I=(X._extremes||{})[V];if(X.visible===!0&&I){for(ae=0;ae<I.min.length;ae++)te=I.min[ae],u(D,te.val,te.pad,{extrapad:te.extrapad});for(ae=0;ae<I.max.length;ae++)te=I.max[ae],f(Z,te.val,te.pad,{extrapad:te.extrapad})}}}if(ie(U,N._traceIndices),ie(G.annotations||[],N._annIndices||[]),ie(G.shapes||[],N._shapeIndices||[]),N._matchGroup&&!R){for(var fe in N._matchGroup)if(fe!==N._id){var he=d(E,fe),be=g(E,he,!0),H=N._length/he._length;for(ae=0;ae<be.min.length;ae++)te=be.min[ae],u(D,te.val,te.pad*H,{extrapad:te.extrapad});for(ae=0;ae<be.max.length;ae++)te=be.max[ae],f(Z,te.val,te.pad*H,{extrapad:te.extrapad})}}return{min:D,max:Z}}function m(E,N,R){if(N.setScale(),N.autorange){N.range=R?R.slice():p(E,N),N._r=N.range.slice(),N._rl=n.simpleMap(N._r,N.r2l);var V=N._input,U={};U[N._attr+".range"]=N.range,U[N._attr+".autorange"]=N.autorange,l.call("_storeDirectGUIEdit",E.layout,E._fullLayout._preGUI,U),V.range=N.range.slice(),V.autorange=N.autorange}var G=N._anchorAxis;if(G&&G.rangeslider){var D=G.rangeslider[N._name];D&&D.rangemode==="auto"&&(D.range=p(E,N)),G._input.rangeslider[N._name]=n.extendFlat({},D)}}function v(E,N,R){R||(R={}),E._m||E.setScale();var V=[],U=[],G=N.length,D=R.padded||!1,Z=R.tozero&&(E.type==="linear"||E.type==="-"),q=E.type==="log",ae=!1,te=R.vpadLinearized||!1,ie,fe,he,be,H,B,A,X,I;function j(we){if(Array.isArray(we))return ae=!0,function(Ie){return Math.max(Number(we[Ie]||0),0)};var Se=Math.max(Number(we||0),0);return function(){return Se}}var T=j((E._m>0?R.ppadplus:R.ppadminus)||R.ppad||0),L=j((E._m>0?R.ppadminus:R.ppadplus)||R.ppad||0),$=j(R.vpadplus||R.vpad),Y=j(R.vpadminus||R.vpad);if(!ae){if(X=1/0,I=-1/0,q)for(ie=0;ie<G;ie++)fe=N[ie],fe<X&&fe>0&&(X=fe),fe>I&&fe<r&&(I=fe);else for(ie=0;ie<G;ie++)fe=N[ie],fe<X&&fe>-r&&(X=fe),fe>I&&fe<r&&(I=fe);N=[X,I],G=2}var re={tozero:Z,extrapad:D};function se(we){he=N[we],e(he)&&(B=T(we),A=L(we),te?(be=E.c2l(he)-Y(we),H=E.c2l(he)+$(we)):(X=he-Y(we),I=he+$(we),q&&X<I/10&&(X=I/10),be=E.c2l(X),H=E.c2l(I)),Z&&(be=Math.min(0,be),H=Math.max(0,H)),w(be)&&u(V,be,A,re),w(H)&&f(U,H,B,re))}var ce=Math.min(6,G);for(ie=0;ie<ce;ie++)se(ie);for(ie=G-1;ie>=ce;ie--)se(ie);return{min:V,max:U,opts:R}}function u(E,N,R,V){_(E,N,R,V,k)}function f(E,N,R,V){_(E,N,R,V,J)}function _(E,N,R,V,U){for(var G=V.tozero,D=V.extrapad,Z=!0,q=0;q<E.length&&Z;q++){var ae=E[q];if(U(ae.val,N)&&ae.pad>=R&&(ae.extrapad||!D)){Z=!1;break}else U(N,ae.val)&&ae.pad<=R&&(D||!ae.extrapad)&&(E.splice(q,1),q--)}if(Z){var te=G&&N===0;E.push({val:N,pad:te?0:R,extrapad:te?!1:D})}}function w(E){return e(E)&&Math.abs(E)<r}function k(E,N){return E<=N}function J(E,N){return E>=N}function P(E,N){var R=N.autorangeoptions;return R&&R.minallowed!==void 0&&M(N,R.minallowed,R.maxallowed)?R.minallowed:R&&R.clipmin!==void 0&&M(N,R.clipmin,R.clipmax)?Math.max(E,N.d2l(R.clipmin)):E}function O(E,N){var R=N.autorangeoptions;return R&&R.maxallowed!==void 0&&M(N,R.minallowed,R.maxallowed)?R.maxallowed:R&&R.clipmax!==void 0&&M(N,R.clipmin,R.clipmax)?Math.min(E,N.d2l(R.clipmax)):E}function M(E,N,R){return N!==void 0&&R!==void 0?(N=E.d2l(N),R=E.d2l(R),N<R):!0}function W(E,N){if(!N||!N.autorangeoptions)return E;var R=E[0],V=E[1],U=N.autorangeoptions.include;if(U!==void 0){var G=N.d2l(R),D=N.d2l(V);n.isArrayOrTypedArray(U)||(U=[U]);for(var Z=0;Z<U.length;Z++){var q=N.d2l(U[Z]);G>=q&&(G=q,R=q),D<=q&&(D=q,V=q)}}return R=P(R,N),V=O(V,N),[R,V]}}),cr=ye((F,C)=>{var i=Xt(),e=on(),n=Lr(),r=Kn(),l=zt(),o=l.strTranslate,s=Xr(),d=Fo(),t=$n(),p=Ga(),c=Mi(),h=Ls(),b=Gn(),y=b.ONEMAXYEAR,g=b.ONEAVGYEAR,m=b.ONEMINYEAR,v=b.ONEMAXQUARTER,u=b.ONEAVGQUARTER,f=b.ONEMINQUARTER,_=b.ONEMAXMONTH,w=b.ONEAVGMONTH,k=b.ONEMINMONTH,J=b.ONEWEEK,P=b.ONEDAY,O=P/2,M=b.ONEHOUR,W=b.ONEMIN,E=b.ONESEC,N=b.ONEMILLI,R=b.ONEMICROSEC,V=b.MINUS_SIGN,U=b.BADNUM,G={K:"zeroline"},D={K:"gridline",L:"path"},Z={K:"minor-gridline",L:"path"},q={K:"tick",L:"path"},ae={K:"tick",L:"text"},te={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},ie=ai(),fe=ie.MID_SHIFT,he=ie.CAP_SHIFT,be=ie.LINE_SPACING,H=ie.OPPOSITE_SIDE,B=3,A=C.exports={};A.setConvert=bl();var X=Ns(),I=Nr(),j=I.idSort,T=I.isLinked;A.id2name=I.id2name,A.name2id=I.name2id,A.cleanId=I.cleanId,A.list=I.list,A.listIds=I.listIds,A.getFromId=I.getFromId,A.getFromTrace=I.getFromTrace;var L=Io();A.getAutoRange=L.getAutoRange,A.findExtremes=L.findExtremes;var $=1e-4;function Y(ee){var le=(ee[1]-ee[0])*$;return[ee[0]-le,ee[1]+le]}A.coerceRef=function(ee,le,$e,Ve,De,Pe){var je=Ve.charAt(Ve.length-1),We=$e._fullLayout._subplots[je+"axis"],Ne=Ve+"ref",Ue={};return De||(De=We[0]||(typeof Pe=="string"?Pe:Pe[0])),Pe||(Pe=De),We=We.concat(We.map(function(Ke){return Ke+" domain"})),Ue[Ne]={valType:"enumerated",values:We.concat(Pe?typeof Pe=="string"?[Pe]:Pe:[]),dflt:De},l.coerce(ee,le,Ue,Ne)},A.getRefType=function(ee){return ee===void 0?ee:ee==="paper"?"paper":ee==="pixel"?"pixel":/( domain)$/.test(ee)?"domain":"range"},A.coercePosition=function(ee,le,$e,Ve,De,Pe){var je,We,Ne=A.getRefType(Ve);if(Ne!=="range")je=l.ensureNumber,We=$e(De,Pe);else{var Ue=A.getFromId(le,Ve);Pe=Ue.fraction2r(Pe),We=$e(De,Pe),je=Ue.cleanPos}ee[De]=je(We)},A.cleanPosition=function(ee,le,$e){var Ve=$e==="paper"||$e==="pixel"?l.ensureNumber:A.getFromId(le,$e).cleanPos;return Ve(ee)},A.redrawComponents=function(ee,le){le=le||A.listIds(ee);var $e=ee._fullLayout;function Ve(De,Pe,je,We){for(var Ne=r.getComponentMethod(De,Pe),Ue={},Ke=0;Ke<le.length;Ke++)for(var it=$e[A.id2name(le[Ke])],_t=it[je],Ct=0;Ct<_t.length;Ct++){var Mt=_t[Ct];if(!Ue[Mt]&&(Ne(ee,Mt),Ue[Mt]=1,We))return}}Ve("annotations","drawOne","_annIndices"),Ve("shapes","drawOne","_shapeIndices"),Ve("images","draw","_imgIndices",!0),Ve("selections","drawOne","_selectionIndices")};var re=A.getDataConversions=function(ee,le,$e,Ve){var De,Pe=$e==="x"||$e==="y"||$e==="z"?$e:Ve;if(l.isArrayOrTypedArray(Pe)){if(De={type:X(Ve,void 0,{autotypenumbers:ee._fullLayout.autotypenumbers}),_categories:[]},A.setConvert(De),De.type==="category")for(var je=0;je<Ve.length;je++)De.d2c(Ve[je])}else De=A.getFromTrace(ee,le,Pe);return De?{d2c:De.d2c,c2d:De.c2d}:Pe==="ids"?{d2c:ce,c2d:ce}:{d2c:se,c2d:se}};function se(ee){return+ee}function ce(ee){return String(ee)}A.getDataToCoordFunc=function(ee,le,$e,Ve){return re(ee,le,$e,Ve).d2c},A.counterLetter=function(ee){var le=ee.charAt(0);if(le==="x")return"y";if(le==="y")return"x"},A.minDtick=function(ee,le,$e,Ve){["log","category","multicategory"].indexOf(ee.type)!==-1||!Ve?ee._minDtick=0:ee._minDtick===void 0?(ee._minDtick=le,ee._forceTick0=$e):ee._minDtick&&((ee._minDtick/le+1e-6)%1<2e-6&&(($e-ee._forceTick0)/le%1+1.000001)%1<2e-6?(ee._minDtick=le,ee._forceTick0=$e):((le/ee._minDtick+1e-6)%1>2e-6||(($e-ee._forceTick0)/ee._minDtick%1+1.000001)%1>2e-6)&&(ee._minDtick=0))},A.saveRangeInitial=function(ee,le){for(var $e=A.list(ee,"",!0),Ve=!1,De=0;De<$e.length;De++){var Pe=$e[De],je=Pe._rangeInitial0===void 0&&Pe._rangeInitial1===void 0,We=je||Pe.range[0]!==Pe._rangeInitial0||Pe.range[1]!==Pe._rangeInitial1,Ne=Pe.autorange;(je&&Ne!==!0||le&&We)&&(Pe._rangeInitial0=Ne==="min"||Ne==="max reversed"?void 0:Pe.range[0],Pe._rangeInitial1=Ne==="max"||Ne==="min reversed"?void 0:Pe.range[1],Pe._autorangeInitial=Ne,Ve=!0)}return Ve},A.saveShowSpikeInitial=function(ee,le){for(var $e=A.list(ee,"",!0),Ve=!1,De="on",Pe=0;Pe<$e.length;Pe++){var je=$e[Pe],We=je._showSpikeInitial===void 0,Ne=We||je.showspikes!==je._showspikes;(We||le&&Ne)&&(je._showSpikeInitial=je.showspikes,Ve=!0),De==="on"&&!je.showspikes&&(De="off")}return ee._fullLayout._cartesianSpikesEnabled=De,Ve},A.autoBin=function(ee,le,$e,Ve,De,Pe){var je=l.aggNums(Math.min,null,ee),We=l.aggNums(Math.max,null,ee);if(le.type==="category"||le.type==="multicategory")return{start:je-.5,end:We+.5,size:Math.max(1,Math.round(Pe)||1),_dataSpan:We-je};De||(De=le.calendar);var Ne;if(le.type==="log"?Ne={type:"linear",range:[je,We]}:Ne={type:le.type,range:l.simpleMap([je,We],le.c2r,0,De),calendar:De},A.setConvert(Ne),Pe=Pe&&h.dtick(Pe,Ne.type),Pe)Ne.dtick=Pe,Ne.tick0=h.tick0(void 0,Ne.type,De);else{var Ue;if($e)Ue=(We-je)/$e;else{var Ke=l.distinctVals(ee),it=Math.pow(10,Math.floor(Math.log(Ke.minDiff)/Math.LN10)),_t=it*l.roundUp(Ke.minDiff/it,[.9,1.9,4.9,9.9],!0);Ue=Math.max(_t,2*l.stdev(ee)/Math.pow(ee.length,Ve?.25:.4)),e(Ue)||(Ue=1)}A.autoTicks(Ne,Ue)}var Ct=Ne.dtick,Mt=A.tickIncrement(A.tickFirst(Ne),Ct,"reverse",De),jt,$t;if(typeof Ct=="number")Mt=we(Mt,ee,Ne,je,We),$t=1+Math.floor((We-Mt)/Ct),jt=Mt+$t*Ct;else for(Ne.dtick.charAt(0)==="M"&&(Mt=Se(Mt,ee,Ct,je,De)),jt=Mt,$t=0;jt<=We;)jt=A.tickIncrement(jt,Ct,!1,De),$t++;return{start:le.c2r(Mt,0,De),end:le.c2r(jt,0,De),size:Ct,_dataSpan:We-je}};function we(ee,le,$e,Ve,De){var Pe=0,je=0,We=0,Ne=0;function Ue(Ct){return(1+(Ct-ee)*100/$e.dtick)%100<2}for(var Ke=0;Ke<le.length;Ke++)le[Ke]%1===0?We++:e(le[Ke])||Ne++,Ue(le[Ke])&&Pe++,Ue(le[Ke]+$e.dtick/2)&&je++;var it=le.length-Ne;if(We===it&&$e.type!=="date")$e.dtick<1?ee=Ve-.5*$e.dtick:(ee-=.5,ee+$e.dtick<Ve&&(ee+=$e.dtick));else if(je<it*.1&&(Pe>it*.3||Ue(Ve)||Ue(De))){var _t=$e.dtick/2;ee+=ee+_t<Ve?_t:-_t}return ee}function Se(ee,le,$e,Ve,De){var Pe=l.findExactDates(le,De),je=.8;if(Pe.exactDays>je){var We=Number($e.substr(1));Pe.exactYears>je&&We%12===0?ee=A.tickIncrement(ee,"M6","reverse")+P*1.5:Pe.exactMonths>je?ee=A.tickIncrement(ee,"M1","reverse")+P*15.5:ee-=O;var Ne=A.tickIncrement(ee,$e);if(Ne<=Ve)return Ne}return ee}A.prepMinorTicks=function(ee,le,$e){if(!le.minor.dtick){delete ee.dtick;var Ve=le.dtick&&e(le._tmin),De;if(Ve){var Pe=A.tickIncrement(le._tmin,le.dtick,!0);De=[le._tmin,Pe*.99+le._tmin*.01]}else{var je=l.simpleMap(le.range,le.r2l);De=[je[0],.8*je[0]+.2*je[1]]}if(ee.range=l.simpleMap(De,le.l2r),ee._isMinor=!0,A.prepTicks(ee,$e),Ve){var We=e(le.dtick),Ne=e(ee.dtick),Ue=We?le.dtick:+le.dtick.substring(1),Ke=Ne?ee.dtick:+ee.dtick.substring(1);We&&Ne?Ie(Ue,Ke)?Ue===2*J&&Ke===2*P&&(ee.dtick=J):Ue===2*J&&Ke===3*P?ee.dtick=J:Ue===J&&!(le._input.minor||{}).nticks?ee.dtick=P:Ze(Ue/Ke,2.5)?ee.dtick=Ue/2:ee.dtick=Ue:String(le.dtick).charAt(0)==="M"?Ne?ee.dtick="M1":Ie(Ue,Ke)?Ue>=12&&Ke===2&&(ee.dtick="M3"):ee.dtick=le.dtick:String(ee.dtick).charAt(0)==="L"?String(le.dtick).charAt(0)==="L"?Ie(Ue,Ke)||(ee.dtick=Ze(Ue/Ke,2.5)?le.dtick/2:le.dtick):ee.dtick="D1":ee.dtick==="D2"&&+le.dtick>1&&(ee.dtick=1)}ee.range=le.range}le.minor._tick0Init===void 0&&(ee.tick0=le.tick0)};function Ie(ee,le){return Math.abs((ee/le+.5)%1-.5)<.001}function Ze(ee,le){return Math.abs(ee/le-1)<.001}A.prepTicks=function(ee,le){var $e=l.simpleMap(ee.range,ee.r2l,void 0,void 0,le);if(ee.tickmode==="auto"||!ee.dtick){var Ve=ee.nticks,De;Ve||(ee.type==="category"||ee.type==="multicategory"?(De=ee.tickfont?l.bigFont(ee.tickfont.size||12):15,Ve=ee._length/De):(De=ee._id.charAt(0)==="y"?40:80,Ve=l.constrain(ee._length/De,4,9)+1),ee._name==="radialaxis"&&(Ve*=2)),ee.minor&&ee.minor.tickmode!=="array"||ee.tickmode==="array"&&(Ve*=100),ee._roughDTick=Math.abs($e[1]-$e[0])/Ve,A.autoTicks(ee,ee._roughDTick),ee._minDtick>0&&ee.dtick<ee._minDtick*2&&(ee.dtick=ee._minDtick,ee.tick0=ee.l2r(ee._forceTick0))}ee.ticklabelmode==="period"&&Be(ee),ee.tick0||(ee.tick0=ee.type==="date"?"2000-01-01":0),ee.type==="date"&&ee.dtick<.1&&(ee.dtick=.1),qe(ee)};function He(ee){return+ee.substring(1)}function Be(ee){var le;function $e(){return!(e(ee.dtick)||ee.dtick.charAt(0)!=="M")}var Ve=$e(),De=A.getTickFormat(ee);if(De){var Pe=ee._dtickInit!==ee.dtick;/%[fLQsSMX]/.test(De)||(/%[HI]/.test(De)?(le=M,Pe&&!Ve&&ee.dtick<M&&(ee.dtick=M)):/%p/.test(De)?(le=O,Pe&&!Ve&&ee.dtick<O&&(ee.dtick=O)):/%[Aadejuwx]/.test(De)?(le=P,Pe&&!Ve&&ee.dtick<P&&(ee.dtick=P)):/%[UVW]/.test(De)?(le=J,Pe&&!Ve&&ee.dtick<J&&(ee.dtick=J)):/%[Bbm]/.test(De)?(le=w,Pe&&(Ve?He(ee.dtick)<1:ee.dtick<k)&&(ee.dtick="M1")):/%[q]/.test(De)?(le=u,Pe&&(Ve?He(ee.dtick)<3:ee.dtick<f)&&(ee.dtick="M3")):/%[Yy]/.test(De)&&(le=g,Pe&&(Ve?He(ee.dtick)<12:ee.dtick<m)&&(ee.dtick="M12")))}Ve=$e(),Ve&&ee.tick0===ee._dowTick0&&(ee.tick0=ee._rawTick0),ee._definedDelta=le}function pe(ee,le,$e){for(var Ve=0;Ve<ee.length;Ve++){var De=ee[Ve].value,Pe=Ve,je=Ve+1;Ve<ee.length-1?(Pe=Ve,je=Ve+1):Ve>0?(Pe=Ve-1,je=Ve):(Pe=Ve,je=Ve);var We=ee[Pe].value,Ne=ee[je].value,Ue=Math.abs(Ne-We),Ke=$e||Ue,it=0;Ke>=m?Ue>=m&&Ue<=y?it=Ue:it=g:$e===u&&Ke>=f?Ue>=f&&Ue<=v?it=Ue:it=u:Ke>=k?Ue>=k&&Ue<=_?it=Ue:it=w:$e===J&&Ke>=J?it=J:Ke>=P?it=P:$e===O&&Ke>=O?it=O:$e===M&&Ke>=M&&(it=M);var _t;it>=Ue&&(it=Ue,_t=!0);var Ct=De+it;if(le.rangebreaks&&it>0){for(var Mt=84,jt=0,$t=0;$t<Mt;$t++){var bn=($t+.5)/Mt;le.maskBreaks(De*(1-bn)+bn*Ct)!==U&&jt++}it*=jt/Mt,it||(ee[Ve].drop=!0),_t&&Ue>J&&(it=Ue)}(it>0||Ve===0)&&(ee[Ve].periodX=De+it/2)}}A.calcTicks=function(ee,le){for(var $e=ee.type,Ve=ee.calendar,De=ee.ticklabelstep,Pe=ee.ticklabelmode==="period",je=ee.range[0]>ee.range[1],We=!ee.ticklabelindex||l.isArrayOrTypedArray(ee.ticklabelindex)?ee.ticklabelindex:[ee.ticklabelindex],Ne=l.simpleMap(ee.range,ee.r2l,void 0,void 0,le),Ue=Ne[1]<Ne[0],Ke=Math.min(Ne[0],Ne[1]),it=Math.max(Ne[0],Ne[1]),_t=Math.max(1e3,ee._length||0),Ct=[],Mt=[],jt=[],$t=[],bn=[],Zt=ee.minor&&(ee.minor.ticks||ee.minor.showgrid),an=1;an>=(Zt?0:1);an--){var wn=!an;an?(ee._dtickInit=ee.dtick,ee._tick0Init=ee.tick0):(ee.minor._dtickInit=ee.minor.dtick,ee.minor._tick0Init=ee.minor.tick0);var Bn=an?ee:l.extendFlat({},ee,ee.minor);if(wn?A.prepMinorTicks(Bn,ee,le):A.prepTicks(Bn,le),Bn.tickmode==="array"){an?(jt=[],Ct=Le(ee,!wn)):($t=[],Mt=Le(ee,!wn));continue}if(Bn.tickmode==="sync"){jt=[],Ct=oe(ee);continue}var na=Y(Ne),Ha=na[0],Ta=na[1],Oa=e(Bn.dtick),br=$e==="log"&&!(Oa||Bn.dtick.charAt(0)==="L"),mr=A.tickFirst(Bn,le);if(an){if(ee._tmin=mr,mr<Ha!==Ue)break;($e==="category"||$e==="multicategory")&&(Ta=Ue?Math.max(-.5,Ta):Math.min(ee._categories.length-.5,Ta))}var Ea=null,Ma=mr,Zn;if(an){var er;Oa?er=ee.dtick:$e==="date"?typeof ee.dtick=="string"&&ee.dtick.charAt(0)==="M"&&(er=w*ee.dtick.substring(1)):er=ee._roughDTick,Zn=Math.round((ee.r2l(Ma)-ee.r2l(ee.tick0))/er)-1}var Ba=Bn.dtick;for(Bn.rangebreaks&&Bn._tick0Init!==Bn.tick0&&(Ma=rn(Ma,ee),Ue||(Ma=A.tickIncrement(Ma,Ba,!Ue,Ve))),an&&Pe&&(Ma=A.tickIncrement(Ma,Ba,!Ue,Ve),Zn--);Ue?Ma>=Ta:Ma<=Ta;Ma=A.tickIncrement(Ma,Ba,Ue,Ve)){if(an&&Zn++,Bn.rangebreaks&&!Ue){if(Ma<Ha)continue;if(Bn.maskBreaks(Ma)===U&&rn(Ma,Bn)>=it)break}if(jt.length>_t||Ma===Ea)break;Ea=Ma;var Ja={value:Ma};an?(br&&Ma!==(Ma|0)&&(Ja.simpleLabel=!0),De>1&&Zn%De&&(Ja.skipLabel=!0),jt.push(Ja)):(Ja.minor=!0,$t.push(Ja))}}if(!$t||$t.length<2)We=!1;else{var fa=($t[1].value-$t[0].value)*(je?-1:1);ea(fa,ee.tickformat)||(We=!1)}if(!We)bn=jt;else{var ha=jt.concat($t);Pe&&jt.length&&(ha=ha.slice(1)),ha=ha.sort(function(nr,wr){return nr.value-wr.value}).filter(function(nr,wr,hr){return wr===0||nr.value!==hr[wr-1].value});var ia=ha.map(function(nr,wr){return nr.minor===void 0&&!nr.skipLabel?wr:null}).filter(function(nr){return nr!==null});ia.forEach(function(nr){We.map(function(wr){var hr=nr+wr;hr>=0&&hr<ha.length&&l.pushUnique(bn,ha[hr])})})}if(Zt){var Fa=ee.minor.ticks==="inside"&&ee.ticks==="outside"||ee.minor.ticks==="outside"&&ee.ticks==="inside";if(!Fa){for(var Wa=jt.map(function(nr){return nr.value}),Qa=[],ir=0;ir<$t.length;ir++){var tr=$t[ir],lr=tr.value;if(Wa.indexOf(lr)===-1){for(var ur=!1,yr=0;!ur&&yr<jt.length;yr++)1e7+jt[yr].value===1e7+lr&&(ur=!0);ur||Qa.push(tr)}}$t=Qa}}Pe&&pe(bn,ee,ee._definedDelta);var Ra;if(ee.rangebreaks){var Or=ee._id.charAt(0)==="y",jr=1;ee.tickmode==="auto"&&(jr=ee.tickfont?ee.tickfont.size:12);var Ur=NaN;for(Ra=jt.length-1;Ra>-1;Ra--){if(jt[Ra].drop){jt.splice(Ra,1);continue}jt[Ra].value=rn(jt[Ra].value,ee);var Kr=ee.c2p(jt[Ra].value);(Or?Ur>Kr-jr:Ur<Kr+jr)?jt.splice(Ue?Ra+1:Ra,1):Ur=Kr}}Qn(ee)&&Math.abs(Ne[1]-Ne[0])===360&&jt.pop(),ee._tmax=(jt[jt.length-1]||{}).value,ee._prevDateHead="",ee._inCalcTicks=!0;var ri,Gr=function(nr){nr.text="",ee._prevDateHead=ri};jt=jt.concat($t);function fr(nr,wr){var hr=A.tickText(nr,wr.value,!1,wr.simpleLabel),Pa=wr.periodX;return Pa!==void 0&&(hr.periodX=Pa,(Pa>it||Pa<Ke)&&(Pa>it&&(hr.periodX=it),Pa<Ke&&(hr.periodX=Ke),Gr(hr))),hr}var Dr;for(Ra=0;Ra<jt.length;Ra++){var Ii=jt[Ra].minor,_r=jt[Ra].value;Ii?(We&&bn.indexOf(jt[Ra])!==-1?Dr=fr(ee,jt[Ra]):Dr={x:_r},Dr.minor=!0,Mt.push(Dr)):(ri=ee._prevDateHead,Dr=fr(ee,jt[Ra]),(jt[Ra].skipLabel||We&&bn.indexOf(jt[Ra])===-1)&&Gr(Dr),Ct.push(Dr))}return Ct=Ct.concat(Mt),ee._inCalcTicks=!1,Pe&&Ct.length&&(Ct[0].noTick=!0),Ct};function _e(ee,le){return ee.rangebreaks&&(le=le.filter(function($e){return ee.maskBreaks($e.x)!==U})),le}function oe(ee){var le=ee._mainAxis,$e=[];if(le._vals){for(var Ve=0;Ve<le._vals.length;Ve++)if(!le._vals[Ve].noTick){var De=le.l2p(le._vals[Ve].x),Pe=ee.p2l(De),je=A.tickText(ee,Pe);le._vals[Ve].minor&&(je.minor=!0,je.text=""),$e.push(je)}}return $e=_e(ee,$e),$e}function Le(ee,le){var $e=l.simpleMap(ee.range,ee.r2l),Ve=Y($e),De=Math.min(Ve[0],Ve[1]),Pe=Math.max(Ve[0],Ve[1]),je=ee.type==="category"?ee.d2l_noadd:ee.d2l;ee.type==="log"&&String(ee.dtick).charAt(0)!=="L"&&(ee.dtick="L"+Math.pow(10,Math.floor(Math.min(ee.range[0],ee.range[1]))-1));for(var We=[],Ne=0;Ne<=1;Ne++)if(!(le!==void 0&&(le&&Ne||le===!1&&!Ne))&&!(Ne&&!ee.minor)){var Ue=Ne?ee.minor.tickvals:ee.tickvals,Ke=Ne?[]:ee.ticktext;if(Ue){l.isArrayOrTypedArray(Ke)||(Ke=[]);for(var it=0;it<Ue.length;it++){var _t=je(Ue[it]);if(_t>De&&_t<Pe){var Ct=A.tickText(ee,_t,!1,String(Ke[it]));Ne&&(Ct.minor=!0,Ct.text=""),We.push(Ct)}}}}return We=_e(ee,We),We}var Re=[2,5,10],Ye=[1,2,3,6,12],ot=[1,2,5,10,15,30],Xe=[1,2,3,7,14],lt=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],ut=[-.301,0,.301,.699,1],dt=[15,30,45,90,180];function xt(ee,le,$e){return le*l.roundUp(ee/le,$e)}A.autoTicks=function(ee,le,$e){var Ve;function De(it){return Math.pow(it,Math.floor(Math.log(le)/Math.LN10))}if(ee.type==="date"){ee.tick0=l.dateTick0(ee.calendar,0);var Pe=2*le;if(Pe>g)le/=g,Ve=De(10),ee.dtick="M"+12*xt(le,Ve,Re);else if(Pe>w)le/=w,ee.dtick="M"+xt(le,1,Ye);else if(Pe>P){if(ee.dtick=xt(le,P,ee._hasDayOfWeekBreaks?[1,2,7,14]:Xe),!$e){var je=A.getTickFormat(ee),We=ee.ticklabelmode==="period";We&&(ee._rawTick0=ee.tick0),/%[uVW]/.test(je)?ee.tick0=l.dateTick0(ee.calendar,2):ee.tick0=l.dateTick0(ee.calendar,1),We&&(ee._dowTick0=ee.tick0)}}else Pe>M?ee.dtick=xt(le,M,Ye):Pe>W?ee.dtick=xt(le,W,ot):Pe>E?ee.dtick=xt(le,E,ot):(Ve=De(10),ee.dtick=xt(le,Ve,Re))}else if(ee.type==="log"){ee.tick0=0;var Ne=l.simpleMap(ee.range,ee.r2l);if(ee._isMinor&&(le*=1.5),le>.7)ee.dtick=Math.ceil(le);else if(Math.abs(Ne[1]-Ne[0])<1){var Ue=1.5*Math.abs((Ne[1]-Ne[0])/le);le=Math.abs(Math.pow(10,Ne[1])-Math.pow(10,Ne[0]))/Ue,Ve=De(10),ee.dtick="L"+xt(le,Ve,Re)}else ee.dtick=le>.3?"D2":"D1"}else ee.type==="category"||ee.type==="multicategory"?(ee.tick0=0,ee.dtick=Math.ceil(Math.max(le,1))):Qn(ee)?(ee.tick0=0,Ve=1,ee.dtick=xt(le,Ve,dt)):(ee.tick0=0,Ve=De(10),ee.dtick=xt(le,Ve,Re));if(ee.dtick===0&&(ee.dtick=1),!e(ee.dtick)&&typeof ee.dtick!="string"){var Ke=ee.dtick;throw ee.dtick=1,"ax.dtick error: "+String(Ke)}};function qe(ee){var le=ee.dtick;if(ee._tickexponent=0,!e(le)&&typeof le!="string"&&(le=1),(ee.type==="category"||ee.type==="multicategory")&&(ee._tickround=null),ee.type==="date"){var $e=ee.r2l(ee.tick0),Ve=ee.l2r($e).replace(/(^-|i)/g,""),De=Ve.length;if(String(le).charAt(0)==="M")De>10||Ve.substr(5)!=="01-01"?ee._tickround="d":ee._tickround=+le.substr(1)%12===0?"y":"m";else if(le>=P&&De<=10||le>=P*15)ee._tickround="d";else if(le>=W&&De<=16||le>=M)ee._tickround="M";else if(le>=E&&De<=19||le>=W)ee._tickround="S";else{var Pe=ee.l2r($e+le).replace(/^-/,"").length;ee._tickround=Math.max(De,Pe)-20,ee._tickround<0&&(ee._tickround=4)}}else if(e(le)||le.charAt(0)==="L"){var je=ee.range.map(ee.r2d||Number);e(le)||(le=Number(le.substr(1))),ee._tickround=2-Math.floor(Math.log(le)/Math.LN10+.01);var We=Math.max(Math.abs(je[0]),Math.abs(je[1])),Ne=Math.floor(Math.log(We)/Math.LN10+.01),Ue=ee.minexponent===void 0?3:ee.minexponent;Math.abs(Ne)>Ue&&(xe(ee.exponentformat)&&!ge(Ne)?ee._tickexponent=3*Math.round((Ne-1)/3):ee._tickexponent=Ne)}else ee._tickround=null}A.tickIncrement=function(ee,le,$e,Ve){var De=$e?-1:1;if(e(le))return l.increment(ee,De*le);var Pe=le.charAt(0),je=De*Number(le.substr(1));if(Pe==="M")return l.incrementMonth(ee,je,Ve);if(Pe==="L")return Math.log(Math.pow(10,ee)+je)/Math.LN10;if(Pe==="D"){var We=le==="D2"?ut:lt,Ne=ee+De*.01,Ue=l.roundUp(l.mod(Ne,1),We,$e);return Math.floor(Ne)+Math.log(i.round(Math.pow(10,Ue),1))/Math.LN10}throw"unrecognized dtick "+String(le)},A.tickFirst=function(ee,le){var $e=ee.r2l||Number,Ve=l.simpleMap(ee.range,$e,void 0,void 0,le),De=Ve[1]<Ve[0],Pe=De?Math.floor:Math.ceil,je=Y(Ve)[0],We=ee.dtick,Ne=$e(ee.tick0);if(e(We)){var Ue=Pe((je-Ne)/We)*We+Ne;return(ee.type==="category"||ee.type==="multicategory")&&(Ue=l.constrain(Ue,0,ee._categories.length-1)),Ue}var Ke=We.charAt(0),it=Number(We.substr(1));if(Ke==="M"){for(var _t=0,Ct=Ne,Mt,jt,$t;_t<10;){if(Mt=A.tickIncrement(Ct,We,De,ee.calendar),(Mt-je)*(Ct-je)<=0)return De?Math.min(Ct,Mt):Math.max(Ct,Mt);jt=(je-(Ct+Mt)/2)/(Mt-Ct),$t=Ke+(Math.abs(Math.round(jt))||1)*it,Ct=A.tickIncrement(Ct,$t,jt<0?!De:De,ee.calendar),_t++}return l.error("tickFirst did not converge",ee),Ct}else{if(Ke==="L")return Math.log(Pe((Math.pow(10,je)-Ne)/it)*it+Ne)/Math.LN10;if(Ke==="D"){var bn=We==="D2"?ut:lt,Zt=l.roundUp(l.mod(je,1),bn,De);return Math.floor(je)+Math.log(i.round(Math.pow(10,Zt),1))/Math.LN10}else throw"unrecognized dtick "+String(We)}},A.tickText=function(ee,le,$e,Ve){var De=bt(ee,le),Pe=ee.tickmode==="array",je=$e||Pe,We=ee.type,Ne=We==="category"?ee.d2l_noadd:ee.d2l,Ue,Ke=function($t){var bn=ee.l2p($t);return bn>=0&&bn<=ee._length?$t:null};if(Pe&&l.isArrayOrTypedArray(ee.ticktext)){var it=l.simpleMap(ee.range,ee.r2l),_t=(Math.abs(it[1]-it[0])-(ee._lBreaks||0))/1e4;for(Ue=0;Ue<ee.ticktext.length&&!(Math.abs(le-Ne(ee.tickvals[Ue]))<_t);Ue++);if(Ue<ee.ticktext.length)return De.text=String(ee.ticktext[Ue]),De.xbnd=[Ke(De.x-.5),Ke(De.x+ee.dtick-.5)],De}function Ct($t){if($t===void 0)return!0;if($e)return $t==="none";var bn={first:ee._tmin,last:ee._tmax}[$t];return $t!=="all"&&le!==bn}var Mt=$e?"never":ee.exponentformat!=="none"&&Ct(ee.showexponent)?"hide":"";if(We==="date"?Dt(ee,De,$e,je):We==="log"?pt(ee,De,$e,je,Mt):We==="category"?St(ee,De):We==="multicategory"?me(ee,De,$e):Qn(ee)?ke(ee,De,$e,je,Mt):Ae(ee,De,$e,je,Mt),Ve||(ee.tickprefix&&!Ct(ee.showtickprefix)&&(De.text=ee.tickprefix+De.text),ee.ticksuffix&&!Ct(ee.showticksuffix)&&(De.text+=ee.ticksuffix)),ee.labelalias&&ee.labelalias.hasOwnProperty(De.text)){var jt=ee.labelalias[De.text];typeof jt=="string"&&(De.text=jt)}return(ee.tickson==="boundaries"||ee.showdividers)&&(De.xbnd=[Ke(De.x-.5),Ke(De.x+ee.dtick-.5)]),De},A.hoverLabelText=function(ee,le,$e){$e&&(ee=l.extendFlat({},ee,{hoverformat:$e}));var Ve=l.isArrayOrTypedArray(le)?le[0]:le,De=l.isArrayOrTypedArray(le)?le[1]:void 0;if(De!==void 0&&De!==Ve)return A.hoverLabelText(ee,Ve,$e)+" - "+A.hoverLabelText(ee,De,$e);var Pe=ee.type==="log"&&Ve<=0,je=A.tickText(ee,ee.c2l(Pe?-Ve:Ve),"hover").text;return Pe?Ve===0?"0":V+je:je};function bt(ee,le,$e){var Ve=ee.tickfont||{};return{x:le,dx:0,dy:0,text:$e||"",fontSize:Ve.size,font:Ve.family,fontWeight:Ve.weight,fontStyle:Ve.style,fontVariant:Ve.variant,fontTextcase:Ve.textcase,fontLineposition:Ve.lineposition,fontShadow:Ve.shadow,fontColor:Ve.color}}function Dt(ee,le,$e,Ve){var De=ee._tickround,Pe=$e&&ee.hoverformat||A.getTickFormat(ee);Ve=!Pe&&Ve,Ve&&(e(De)?De=4:De={y:"m",m:"d",d:"M",M:"S",S:4}[De]);var je=l.formatDate(le.x,Pe,De,ee._dateFormat,ee.calendar,ee._extraFormat),We,Ne=je.indexOf(`
`);if(Ne!==-1&&(We=je.substr(Ne+1),je=je.substr(0,Ne)),Ve&&(We!==void 0&&(je==="00:00:00"||je==="00:00")?(je=We,We=""):je.length===8&&(je=je.replace(/:00$/,""))),We)if($e)De==="d"?je+=", "+We:je=We+(je?", "+je:"");else if(!ee._inCalcTicks||ee._prevDateHead!==We)ee._prevDateHead=We,je+="<br>"+We;else{var Ue=In(ee),Ke=ee._trueSide||ee.side;(!Ue&&Ke==="top"||Ue&&Ke==="bottom")&&(je+="<br> ")}le.text=je}function pt(ee,le,$e,Ve,De){var Pe=ee.dtick,je=le.x,We=ee.tickformat,Ne=typeof Pe=="string"&&Pe.charAt(0);if(De==="never"&&(De=""),Ve&&Ne!=="L"&&(Pe="L3",Ne="L"),We||Ne==="L")le.text=Ee(Math.pow(10,je),ee,De,Ve);else if(e(Pe)||Ne==="D"&&l.mod(je+.01,1)<.1){var Ue=Math.round(je),Ke=Math.abs(Ue),it=ee.exponentformat;it==="power"||xe(it)&&ge(Ue)?(Ue===0?le.text=1:Ue===1?le.text="10":le.text="10<sup>"+(Ue>1?"":V)+Ke+"</sup>",le.fontSize*=1.25):(it==="e"||it==="E")&&Ke>2?le.text="1"+it+(Ue>0?"+":V)+Ke:(le.text=Ee(Math.pow(10,je),ee,"","fakehover"),Pe==="D1"&&ee._id.charAt(0)==="y"&&(le.dy-=le.fontSize/6))}else if(Ne==="D")le.text=String(Math.round(Math.pow(10,l.mod(je,1)))),le.fontSize*=.75;else throw"unrecognized dtick "+String(Pe);if(ee.dtick==="D1"){var _t=String(le.text).charAt(0);(_t==="0"||_t==="1")&&(ee._id.charAt(0)==="y"?le.dx-=le.fontSize/4:(le.dy+=le.fontSize/2,le.dx+=(ee.range[1]>ee.range[0]?1:-1)*le.fontSize*(je<0?.5:.25)))}}function St(ee,le){var $e=ee._categories[Math.round(le.x)];$e===void 0&&($e=""),le.text=String($e)}function me(ee,le,$e){var Ve=Math.round(le.x),De=ee._categories[Ve]||[],Pe=De[1]===void 0?"":String(De[1]),je=De[0]===void 0?"":String(De[0]);$e?le.text=je+" - "+Pe:(le.text=Pe,le.text2=je)}function Ae(ee,le,$e,Ve,De){De==="never"?De="":ee.showexponent==="all"&&Math.abs(le.x/ee.dtick)<1e-6&&(De="hide"),le.text=Ee(le.x,ee,De,Ve)}function ke(ee,le,$e,Ve,De){if(ee.thetaunit==="radians"&&!$e){var Pe=le.x/180;if(Pe===0)le.text="0";else{var je=K(Pe);if(je[1]>=100)le.text=Ee(l.deg2rad(le.x),ee,De,Ve);else{var We=le.x<0;je[1]===1?je[0]===1?le.text="π":le.text=je[0]+"π":le.text=["<sup>",je[0],"</sup>","⁄","<sub>",je[1],"</sub>","π"].join(""),We&&(le.text=V+le.text)}}}else le.text=Ee(le.x,ee,De,Ve)}function K(ee){function le(We,Ne){return Math.abs(We-Ne)<=1e-6}function $e(We,Ne){return le(Ne,0)?We:$e(Ne,We%Ne)}function Ve(We){for(var Ne=1;!le(Math.round(We*Ne)/Ne,We);)Ne*=10;return Ne}var De=Ve(ee),Pe=ee*De,je=Math.abs($e(Pe,De));return[Math.round(Pe/je),Math.round(De/je)]}var de=["f","p","n","μ","m","","k","M","G","T"];function xe(ee){return ee==="SI"||ee==="B"}function ge(ee){return ee>14||ee<-15}function Ee(ee,le,$e,Ve){var De=ee<0,Pe=le._tickround,je=$e||le.exponentformat||"B",We=le._tickexponent,Ne=A.getTickFormat(le),Ue=le.separatethousands;if(Ve){var Ke={exponentformat:je,minexponent:le.minexponent,dtick:le.showexponent==="none"?le.dtick:e(ee)&&Math.abs(ee)||1,range:le.showexponent==="none"?le.range.map(le.r2d):[0,ee||1]};qe(Ke),Pe=(Number(Ke._tickround)||0)+4,We=Ke._tickexponent,le.hoverformat&&(Ne=le.hoverformat)}if(Ne)return le._numFormat(Ne)(ee).replace(/-/g,V);var it=Math.pow(10,-Pe)/2;if(je==="none"&&(We=0),ee=Math.abs(ee),ee<it)ee="0",De=!1;else{if(ee+=it,We&&(ee*=Math.pow(10,-We),Pe+=We),Pe===0)ee=String(Math.floor(ee));else if(Pe<0){ee=String(Math.round(ee)),ee=ee.substr(0,ee.length+Pe);for(var _t=Pe;_t<0;_t++)ee+="0"}else{ee=String(ee);var Ct=ee.indexOf(".")+1;Ct&&(ee=ee.substr(0,Ct+Pe).replace(/\.?0+$/,""))}ee=l.numSeparate(ee,le._separators,Ue)}if(We&&je!=="hide"){xe(je)&&ge(We)&&(je="power");var Mt;We<0?Mt=V+-We:je!=="power"?Mt="+"+We:Mt=String(We),je==="e"||je==="E"?ee+=je+Mt:je==="power"?ee+="×10<sup>"+Mt+"</sup>":je==="B"&&We===9?ee+="B":xe(je)&&(ee+=de[We/3+5])}return De?V+ee:ee}A.getTickFormat=function(ee){var le;function $e(Ne){return typeof Ne!="string"?Ne:Number(Ne.replace("M",""))*w}function Ve(Ne,Ue){var Ke=["L","D"];if(typeof Ne==typeof Ue){if(typeof Ne=="number")return Ne-Ue;var it=Ke.indexOf(Ne.charAt(0)),_t=Ke.indexOf(Ue.charAt(0));return it===_t?Number(Ne.replace(/(L|D)/g,""))-Number(Ue.replace(/(L|D)/g,"")):it-_t}else return typeof Ne=="number"?1:-1}function De(Ne,Ue,Ke){var it=Ke||function(Mt){return Mt},_t=Ue[0],Ct=Ue[1];return(!_t&&typeof _t!="number"||it(_t)<=it(Ne))&&(!Ct&&typeof Ct!="number"||it(Ct)>=it(Ne))}function Pe(Ne,Ue){var Ke=Ue[0]===null,it=Ue[1]===null,_t=Ve(Ne,Ue[0])>=0,Ct=Ve(Ne,Ue[1])<=0;return(Ke||_t)&&(it||Ct)}var je,We;if(ee.tickformatstops&&ee.tickformatstops.length>0)switch(ee.type){case"date":case"linear":{for(le=0;le<ee.tickformatstops.length;le++)if(We=ee.tickformatstops[le],We.enabled&&De(ee.dtick,We.dtickrange,$e)){je=We;break}break}case"log":{for(le=0;le<ee.tickformatstops.length;le++)if(We=ee.tickformatstops[le],We.enabled&&Pe(ee.dtick,We.dtickrange)){je=We;break}break}}return je?je.value:ee.tickformat},A.getSubplots=function(ee,le){var $e=ee._fullLayout._subplots,Ve=$e.cartesian.concat($e.gl2d||[]),De=le?A.findSubplotsWithAxis(Ve,le):Ve;return De.sort(function(Pe,je){var We=Pe.substr(1).split("y"),Ne=je.substr(1).split("y");return We[0]===Ne[0]?+We[1]-+Ne[1]:+We[0]-+Ne[0]}),De},A.findSubplotsWithAxis=function(ee,le){for(var $e=new RegExp(le._id.charAt(0)==="x"?"^"+le._id+"y":le._id+"$"),Ve=[],De=0;De<ee.length;De++){var Pe=ee[De];$e.test(Pe)&&Ve.push(Pe)}return Ve},A.makeClipPaths=function(ee){var le=ee._fullLayout;if(!le._hasOnlyLargeSploms){var $e={_offset:0,_length:le.width,_id:""},Ve={_offset:0,_length:le.height,_id:""},De=A.list(ee,"x",!0),Pe=A.list(ee,"y",!0),je=[],We,Ne;for(We=0;We<De.length;We++)for(je.push({x:De[We],y:Ve}),Ne=0;Ne<Pe.length;Ne++)We===0&&je.push({x:$e,y:Pe[Ne]}),je.push({x:De[We],y:Pe[Ne]});var Ue=le._clips.selectAll(".axesclip").data(je,function(Ke){return Ke.x._id+Ke.y._id});Ue.enter().append("clipPath").classed("axesclip",!0).attr("id",function(Ke){return"clip"+le._uid+Ke.x._id+Ke.y._id}).append("rect"),Ue.exit().remove(),Ue.each(function(Ke){i.select(this).select("rect").attr({x:Ke.x._offset||0,y:Ke.y._offset||0,width:Ke.x._length||1,height:Ke.y._length||1})})}},A.draw=function(ee,le,$e){var Ve=ee._fullLayout;le==="redraw"&&Ve._paper.selectAll("g.subplot").each(function(Ne){var Ue=Ne[0],Ke=Ve._plots[Ue];if(Ke){var it=Ke.xaxis,_t=Ke.yaxis;Ke.xaxislayer.selectAll("."+it._id+"tick").remove(),Ke.yaxislayer.selectAll("."+_t._id+"tick").remove(),Ke.xaxislayer.selectAll("."+it._id+"tick2").remove(),Ke.yaxislayer.selectAll("."+_t._id+"tick2").remove(),Ke.xaxislayer.selectAll("."+it._id+"divider").remove(),Ke.yaxislayer.selectAll("."+_t._id+"divider").remove(),Ke.minorGridlayer&&Ke.minorGridlayer.selectAll("path").remove(),Ke.gridlayer&&Ke.gridlayer.selectAll("path").remove(),Ke.zerolinelayer&&Ke.zerolinelayer.selectAll("path").remove(),Ve._infolayer.select(".g-"+it._id+"title").remove(),Ve._infolayer.select(".g-"+_t._id+"title").remove()}});var De=!le||le==="redraw"?A.listIds(ee):le,Pe=A.list(ee),je=Pe.filter(function(Ne){return Ne.autoshift}).map(function(Ne){return Ne.overlaying});De.map(function(Ne){var Ue=A.getFromId(ee,Ne);if(Ue.tickmode==="sync"&&Ue.overlaying){var Ke=De.findIndex(function(it){return it===Ue.overlaying});Ke>=0&&De.unshift(De.splice(Ke,1).shift())}});var We={false:{left:0,right:0}};return l.syncOrAsync(De.map(function(Ne){return function(){if(Ne){var Ue=A.getFromId(ee,Ne);$e||($e={}),$e.axShifts=We,$e.overlayingShiftedAx=je;var Ke=A.drawOne(ee,Ue,$e);return Ue._shiftPusher&&xa(Ue,Ue._fullDepth||0,We,!0),Ue._r=Ue.range.slice(),Ue._rl=l.simpleMap(Ue._r,Ue.r2l),Ke}}}))},A.drawOne=function(ee,le,$e){$e=$e||{};var Ve=$e.axShifts||{},De=$e.overlayingShiftedAx||[],Pe,je,We;le.setScale();var Ne=ee._fullLayout,Ue=le._id,Ke=Ue.charAt(0),it=A.counterLetter(Ue),_t=Ne._plots[le._mainSubplot];if(!_t)return;if(le._shiftPusher=le.autoshift||De.indexOf(le._id)!==-1||De.indexOf(le.overlaying)!==-1,le._shiftPusher&le.anchor==="free"){var Ct=le.linewidth/2||0;le.ticks==="inside"&&(Ct+=le.ticklen),xa(le,Ct,Ve,!0),xa(le,le.shift||0,Ve,!1)}($e.skipTitle!==!0||le._shift===void 0)&&(le._shift=Et(le,Ve));var Mt=_t[Ke+"axislayer"],jt=le._mainLinePosition,$t=jt+=le._shift,bn=le._mainMirrorPosition,Zt=le._vals=A.calcTicks(le),an=[le.mirror,$t,bn].join("_");for(Pe=0;Pe<Zt.length;Pe++)Zt[Pe].axInfo=an;le._selections={},le._tickAngles&&(le._prevTickAngles=le._tickAngles),le._tickAngles={},le._depth=null;var wn={};function Bn(_r){var nr=Ue+(_r||"tick");return wn[nr]||(wn[nr]=ze(le,nr,$t)),wn[nr]}if(le.visible){var na=A.makeTransTickFn(le),Ha=A.makeTransTickLabelFn(le),Ta,Oa,br=le.ticks==="inside",mr=le.ticks==="outside";if(le.tickson==="boundaries"){var Ea=Je(le,Zt);Oa=A.clipEnds(le,Ea),Ta=br?Oa:Ea}else Oa=A.clipEnds(le,Zt),Ta=br&&le.ticklabelmode!=="period"?Oa:Zt;var Ma=le._gridVals=Oa,Zn=st(le,Zt);if(!Ne._hasOnlyLargeSploms){var er=le._subplotsWith,Ba={};for(Pe=0;Pe<er.length;Pe++){je=er[Pe],We=Ne._plots[je];var Ja=We[it+"axis"],fa=Ja._mainAxis._id;if(!Ba[fa]){Ba[fa]=1;var ha=Ke==="x"?"M0,"+Ja._offset+"v"+Ja._length:"M"+Ja._offset+",0h"+Ja._length;A.drawGrid(ee,le,{vals:Ma,counterAxis:Ja,layer:We.gridlayer.select("."+Ue),minorLayer:We.minorGridlayer.select("."+Ue),path:ha,transFn:na}),A.drawZeroLine(ee,le,{counterAxis:Ja,layer:We.zerolinelayer,path:ha,transFn:na})}}}var ia,Fa=A.getTickSigns(le),Wa=A.getTickSigns(le,"minor");if(le.ticks||le.minor&&le.minor.ticks){var Qa=A.makeTickPath(le,$t,Fa[2]),ir=A.makeTickPath(le,$t,Wa[2],{minor:!0}),tr,lr,ur,yr;if(le._anchorAxis&&le.mirror&&le.mirror!==!0?(tr=A.makeTickPath(le,bn,Fa[3]),lr=A.makeTickPath(le,bn,Wa[3],{minor:!0}),ur=Qa+tr,yr=ir+lr):(tr="",lr="",ur=Qa,yr=ir),le.showdividers&&mr&&le.tickson==="boundaries"){var Ra={};for(Pe=0;Pe<Zn.length;Pe++)Ra[Zn[Pe].x]=1;ia=function(_r){return Ra[_r.x]?tr:ur}}else ia=function(_r){return _r.minor?yr:ur}}if(A.drawTicks(ee,le,{vals:Ta,layer:Mt,path:ia,transFn:na}),le.mirror==="allticks"){var Or=Object.keys(le._linepositions||{});for(Pe=0;Pe<Or.length;Pe++){je=Or[Pe],We=Ne._plots[je];var jr=le._linepositions[je]||[],Ur=jr[0],Kr=jr[1],ri=jr[2],Gr=A.makeTickPath(le,Ur,ri?Fa[0]:Wa[0],{minor:ri})+A.makeTickPath(le,Kr,ri?Fa[1]:Wa[1],{minor:ri});A.drawTicks(ee,le,{vals:Ta,layer:We[Ke+"axislayer"],path:Gr,transFn:na})}}var fr=[];if(fr.push(function(){return A.drawLabels(ee,le,{vals:Zt,layer:Mt,plotinfo:We,transFn:Ha,labelFns:A.makeLabelFns(le,$t)})}),le.type==="multicategory"){var Dr={x:2,y:10}[Ke];fr.push(function(){var _r={x:"height",y:"width"}[Ke],nr=Bn()[_r]+Dr+(le._tickAngles[Ue+"tick"]?le.tickfont.size*be:0);return A.drawLabels(ee,le,{vals:Qe(le,Zt),layer:Mt,cls:Ue+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:na,labelFns:A.makeLabelFns(le,$t+nr*Fa[4])})}),fr.push(function(){return le._depth=Fa[4]*(Bn("tick2")[le.side]-$t),Ht(ee,le,{vals:Zn,layer:Mt,path:A.makeTickPath(le,$t,Fa[4],{len:le._depth}),transFn:na})})}else le.title.hasOwnProperty("standoff")&&fr.push(function(){le._depth=Fa[4]*(Bn()[le.side]-$t)});var Ii=r.getComponentMethod("rangeslider","isVisible")(le);return!$e.skipTitle&&!(Ii&&le.side==="bottom")&&fr.push(function(){return hn(ee,le)}),fr.push(function(){var _r=le.side.charAt(0),nr=H[le.side].charAt(0),wr=A.getPxPosition(ee,le),hr=mr?le.ticklen:0,Pa,sr,ii,Si;(le.automargin||Ii||le._shiftPusher)&&(le.type==="multicategory"?Pa=Bn("tick2"):(Pa=Bn(),Ke==="x"&&_r==="b"&&(le._depth=Math.max(Pa.width>0?Pa.bottom-wr:0,hr))));var Qi=0,Ri=0;if(le._shiftPusher&&(Qi=Math.max(hr,Pa.height>0?_r==="l"?wr-Pa.left:Pa.right-wr:0),le.title.text!==Ne._dfltTitle[Ke]&&(Ri=(le._titleStandoff||0)+(le._titleScoot||0),_r==="l"&&(Ri+=Wt(le))),le._fullDepth=Math.max(Qi,Ri)),le.automargin){sr={x:0,y:0,r:0,l:0,t:0,b:0};var bi=[0,1],To=typeof le._shift=="number"?le._shift:0;if(Ke==="x"){if(_r==="b"?sr[_r]=le._depth:(sr[_r]=le._depth=Math.max(Pa.width>0?wr-Pa.top:0,hr),bi.reverse()),Pa.width>0){var uo=Pa.right-(le._offset+le._length);uo>0&&(sr.xr=1,sr.r=uo);var $o=le._offset-Pa.left;$o>0&&(sr.xl=0,sr.l=$o)}}else if(_r==="l"?(le._depth=Math.max(Pa.height>0?wr-Pa.left:0,hr),sr[_r]=le._depth-To):(le._depth=Math.max(Pa.height>0?Pa.right-wr:0,hr),sr[_r]=le._depth+To,bi.reverse()),Pa.height>0){var Ki=Pa.bottom-(le._offset+le._length);Ki>0&&(sr.yb=0,sr.b=Ki);var Uo=le._offset-Pa.top;Uo>0&&(sr.yt=1,sr.t=Uo)}sr[it]=le.anchor==="free"?le.position:le._anchorAxis.domain[bi[0]],le.title.text!==Ne._dfltTitle[Ke]&&(sr[_r]+=Wt(le)+(le.title.standoff||0)),le.mirror&&le.anchor!=="free"&&(ii={x:0,y:0,r:0,l:0,t:0,b:0},ii[nr]=le.linewidth,le.mirror&&le.mirror!==!0&&(ii[nr]+=hr),le.mirror===!0||le.mirror==="ticks"?ii[it]=le._anchorAxis.domain[bi[1]]:(le.mirror==="all"||le.mirror==="allticks")&&(ii[it]=[le._counterDomainMin,le._counterDomainMax][bi[1]]))}Ii&&(Si=r.getComponentMethod("rangeslider","autoMarginOpts")(ee,le)),typeof le.automargin=="string"&&(Me(sr,le.automargin),Me(ii,le.automargin)),n.autoMargin(ee,ln(le),sr),n.autoMargin(ee,tn(le),ii),n.autoMargin(ee,sn(le),Si)}),l.syncOrAsync(fr)}};function Me(ee,le){if(ee){var $e=Object.keys(te).reduce(function(Ve,De){return le.indexOf(De)!==-1&&te[De].forEach(function(Pe){Ve[Pe]=1}),Ve},{});Object.keys(ee).forEach(function(Ve){$e[Ve]||(Ve.length===1?ee[Ve]=0:delete ee[Ve])})}}function Je(ee,le){var $e=[],Ve,De=function(Pe,je){var We=Pe.xbnd[je];We!==null&&$e.push(l.extendFlat({},Pe,{x:We}))};if(le.length){for(Ve=0;Ve<le.length;Ve++)De(le[Ve],0);De(le[Ve-1],1)}return $e}function Qe(ee,le){for(var $e=[],Ve={},De=0;De<le.length;De++){var Pe=le[De];Ve[Pe.text2]?Ve[Pe.text2].push(Pe.x):Ve[Pe.text2]=[Pe.x]}for(var je in Ve)$e.push(bt(ee,l.interp(Ve[je],.5),je));return $e}function st(ee,le){var $e=[],Ve,De,Pe=le.length&&le[le.length-1].x<le[0].x,je=function(Ne,Ue){var Ke=Ne.xbnd[Ue];Ke!==null&&$e.push(l.extendFlat({},Ne,{x:Ke}))};if(ee.showdividers&&le.length){for(Ve=0;Ve<le.length;Ve++){var We=le[Ve];We.text2!==De&&je(We,Pe?1:0),De=We.text2}je(le[Ve-1],Pe?0:1)}return $e}function ze(ee,le,$e){var Ve,De,Pe,je;if(ee._selections[le].size())Ve=1/0,De=-1/0,Pe=1/0,je=-1/0,ee._selections[le].each(function(){var Ne=Nt(this),Ue=p.bBox(Ne.node().parentNode);Ve=Math.min(Ve,Ue.top),De=Math.max(De,Ue.bottom),Pe=Math.min(Pe,Ue.left),je=Math.max(je,Ue.right)});else{var We=A.makeLabelFns(ee,$e);Ve=De=We.yFn({dx:0,dy:0,fontSize:0}),Pe=je=We.xFn({dx:0,dy:0,fontSize:0})}return{top:Ve,bottom:De,left:Pe,right:je,height:De-Ve,width:je-Pe}}A.getTickSigns=function(ee,le){var $e=ee._id.charAt(0),Ve={x:"top",y:"right"}[$e],De=ee.side===Ve?1:-1,Pe=[-1,1,De,-De],je=le?(ee.minor||{}).ticks:ee.ticks;return je!=="inside"==($e==="x")&&(Pe=Pe.map(function(We){return-We})),ee.side&&Pe.push({l:-1,t:-1,r:1,b:1}[ee.side.charAt(0)]),Pe},A.makeTransTickFn=function(ee){return ee._id.charAt(0)==="x"?function(le){return o(ee._offset+ee.l2p(le.x),0)}:function(le){return o(0,ee._offset+ee.l2p(le.x))}},A.makeTransTickLabelFn=function(ee){var le=ft(ee),$e=ee.ticklabelshift||0,Ve=ee.ticklabelstandoff||0,De=le[0],Pe=le[1],je=ee.range[0]>ee.range[1],We=ee.ticklabelposition&&ee.ticklabelposition.indexOf("inside")!==-1,Ne=!We;if($e){var Ue=je?-1:1;$e=$e*Ue}if(Ve){var Ke=ee.side,it=We&&(Ke==="top"||Ke==="left")||Ne&&(Ke==="bottom"||Ke==="right")?1:-1;Ve=Ve*it}return ee._id.charAt(0)==="x"?function(_t){return o(De+ee._offset+ee.l2p(rt(_t))+$e,Pe+Ve)}:function(_t){return o(Pe+Ve,De+ee._offset+ee.l2p(rt(_t))+$e)}};function rt(ee){return ee.periodX!==void 0?ee.periodX:ee.x}function ft(ee){var le=ee.ticklabelposition||"",$e=function(Ct){return le.indexOf(Ct)!==-1},Ve=$e("top"),De=$e("left"),Pe=$e("right"),je=$e("bottom"),We=$e("inside"),Ne=je||De||Ve||Pe;if(!Ne&&!We)return[0,0];var Ue=ee.side,Ke=Ne?(ee.tickwidth||0)/2:0,it=B,_t=ee.tickfont?ee.tickfont.size:12;return(je||Ve)&&(Ke+=_t*he,it+=(ee.linewidth||0)/2),(De||Pe)&&(Ke+=(ee.linewidth||0)/2,it+=B),We&&Ue==="top"&&(it-=_t*(1-he)),(De||Ve)&&(Ke=-Ke),(Ue==="bottom"||Ue==="right")&&(it=-it),[Ne?Ke:0,We?it:0]}A.makeTickPath=function(ee,le,$e,Ve){Ve||(Ve={});var De=Ve.minor;if(De&&!ee.minor)return"";var Pe=Ve.len!==void 0?Ve.len:De?ee.minor.ticklen:ee.ticklen,je=ee._id.charAt(0),We=(ee.linewidth||1)/2;return je==="x"?"M0,"+(le+We*$e)+"v"+Pe*$e:"M"+(le+We*$e)+",0h"+Pe*$e},A.makeLabelFns=function(ee,le,$e){var Ve=ee.ticklabelposition||"",De=function(Ea){return Ve.indexOf(Ea)!==-1},Pe=De("top"),je=De("left"),We=De("right"),Ne=De("bottom"),Ue=Ne||je||Pe||We,Ke=De("inside"),it=Ve==="inside"&&ee.ticks==="inside"||!Ke&&ee.ticks==="outside"&&ee.tickson!=="boundaries",_t=0,Ct=0,Mt=it?ee.ticklen:0;if(Ke?Mt*=-1:Ue&&(Mt=0),it&&(_t+=Mt,$e)){var jt=l.deg2rad($e);_t=Mt*Math.cos(jt)+1,Ct=Mt*Math.sin(jt)}ee.showticklabels&&(it||ee.showline)&&(_t+=.2*ee.tickfont.size),_t+=(ee.linewidth||1)/2*(Ke?-1:1);var $t={labelStandoff:_t,labelShift:Ct},bn,Zt,an,wn,Bn=0,na=ee.side,Ha=ee._id.charAt(0),Ta=ee.tickangle,Oa;if(Ha==="x")Oa=!Ke&&na==="bottom"||Ke&&na==="top",wn=Oa?1:-1,Ke&&(wn*=-1),bn=Ct*wn,Zt=le+_t*wn,an=Oa?1:-.2,Math.abs(Ta)===90&&(Ke?an+=fe:Ta===-90&&na==="bottom"?an=he:Ta===90&&na==="top"?an=fe:an=.5,Bn=fe/2*(Ta/90)),$t.xFn=function(Ea){return Ea.dx+bn+Bn*Ea.fontSize},$t.yFn=function(Ea){return Ea.dy+Zt+Ea.fontSize*an},$t.anchorFn=function(Ea,Ma){if(Ue){if(je)return"end";if(We)return"start"}return!e(Ma)||Ma===0||Ma===180?"middle":Ma*wn<0!==Ke?"end":"start"},$t.heightFn=function(Ea,Ma,Zn){return Ma<-60||Ma>60?-.5*Zn:ee.side==="top"!==Ke?-Zn:0};else if(Ha==="y"){if(Oa=!Ke&&na==="left"||Ke&&na==="right",wn=Oa?1:-1,Ke&&(wn*=-1),bn=_t,Zt=Ct*wn,an=0,!Ke&&Math.abs(Ta)===90&&(Ta===-90&&na==="left"||Ta===90&&na==="right"?an=he:an=.5),Ke){var br=e(Ta)?+Ta:0;if(br!==0){var mr=l.deg2rad(br);Bn=Math.abs(Math.sin(mr))*he*wn,an=0}}$t.xFn=function(Ea){return Ea.dx+le-(bn+Ea.fontSize*an)*wn+Bn*Ea.fontSize},$t.yFn=function(Ea){return Ea.dy+Zt+Ea.fontSize*fe},$t.anchorFn=function(Ea,Ma){return e(Ma)&&Math.abs(Ma)===90?"middle":Oa?"end":"start"},$t.heightFn=function(Ea,Ma,Zn){return ee.side==="right"&&(Ma*=-1),Ma<-30?-Zn:Ma<30?-.5*Zn:0}}return $t};function yt(ee){return[ee.text,ee.x,ee.axInfo,ee.font,ee.fontSize,ee.fontColor].join("_")}A.drawTicks=function(ee,le,$e){$e=$e||{};var Ve=le._id+"tick",De=[].concat(le.minor&&le.minor.ticks?$e.vals.filter(function(je){return je.minor&&!je.noTick}):[]).concat(le.ticks?$e.vals.filter(function(je){return!je.minor&&!je.noTick}):[]),Pe=$e.layer.selectAll("path."+Ve).data(De,yt);Pe.exit().remove(),Pe.enter().append("path").classed(Ve,1).classed("ticks",1).classed("crisp",$e.crisp!==!1).each(function(je){return t.stroke(i.select(this),je.minor?le.minor.tickcolor:le.tickcolor)}).style("stroke-width",function(je){return p.crispRound(ee,je.minor?le.minor.tickwidth:le.tickwidth,1)+"px"}).attr("d",$e.path).style("display",null),Nn(le,[q]),Pe.attr("transform",$e.transFn)},A.drawGrid=function(ee,le,$e){if($e=$e||{},le.tickmode!=="sync"){var Ve=le._id+"grid",De=le.minor&&le.minor.showgrid,Pe=De?$e.vals.filter(function(bn){return bn.minor}):[],je=le.showgrid?$e.vals.filter(function(bn){return!bn.minor}):[],We=$e.counterAxis;if(We&&A.shouldShowZeroLine(ee,le,We))for(var Ne=le.tickmode==="array",Ue=0;Ue<je.length;Ue++){var Ke=je[Ue].x;if(Ne?!Ke:Math.abs(Ke)<le.dtick/100)if(je=je.slice(0,Ue).concat(je.slice(Ue+1)),Ne)Ue--;else break}le._gw=p.crispRound(ee,le.gridwidth,1);for(var it=De?p.crispRound(ee,le.minor.gridwidth,1):0,_t=$e.layer,Ct=$e.minorLayer,Mt=1;Mt>=0;Mt--){var jt=Mt?_t:Ct;if(jt){var $t=jt.selectAll("path."+Ve).data(Mt?je:Pe,yt);$t.exit().remove(),$t.enter().append("path").classed(Ve,1).classed("crisp",$e.crisp!==!1),$t.attr("transform",$e.transFn).attr("d",$e.path).each(function(bn){return t.stroke(i.select(this),bn.minor?le.minor.gridcolor:le.gridcolor||"#ddd")}).style("stroke-dasharray",function(bn){return p.dashStyle(bn.minor?le.minor.griddash:le.griddash,bn.minor?le.minor.gridwidth:le.gridwidth)}).style("stroke-width",function(bn){return(bn.minor?it:le._gw)+"px"}).style("display",null),typeof $e.path=="function"&&$t.attr("d",$e.path)}}Nn(le,[D,Z])}},A.drawZeroLine=function(ee,le,$e){$e=$e||$e;var Ve=le._id+"zl",De=A.shouldShowZeroLine(ee,le,$e.counterAxis),Pe=$e.layer.selectAll("path."+Ve).data(De?[{x:0,id:le._id}]:[]);Pe.exit().remove(),Pe.enter().append("path").classed(Ve,1).classed("zl",1).classed("crisp",$e.crisp!==!1).each(function(){$e.layer.selectAll("path").sort(function(je,We){return j(je.id,We.id)})}),Pe.attr("transform",$e.transFn).attr("d",$e.path).call(t.stroke,le.zerolinecolor||t.defaultLine).style("stroke-width",p.crispRound(ee,le.zerolinewidth,le._gw||1)+"px").style("display",null),Nn(le,[G])},A.drawLabels=function(ee,le,$e){$e=$e||{};var Ve=ee._fullLayout,De=le._id,Pe=$e.cls||De+"tick",je=$e.vals.filter(function(fa){return fa.text}),We=$e.labelFns,Ne=$e.secondary?0:le.tickangle,Ue=(le._prevTickAngles||{})[Pe],Ke=$e.layer.selectAll("g."+Pe).data(le.showticklabels?je:[],yt),it=[];Ke.enter().append("g").classed(Pe,1).append("text").attr("text-anchor","middle").each(function(fa){var ha=i.select(this),ia=ee._promises.length;ha.call(s.positionText,We.xFn(fa),We.yFn(fa)).call(p.font,{family:fa.font,size:fa.fontSize,color:fa.fontColor,weight:fa.fontWeight,style:fa.fontStyle,variant:fa.fontVariant,textcase:fa.fontTextcase,lineposition:fa.fontLineposition,shadow:fa.fontShadow}).text(fa.text).call(s.convertToTspans,ee),ee._promises[ia]?it.push(ee._promises.pop().then(function(){_t(ha,Ne)})):_t(ha,Ne)}),Nn(le,[ae]),Ke.exit().remove(),$e.repositionOnUpdate&&Ke.each(function(fa){i.select(this).select("text").call(s.positionText,We.xFn(fa),We.yFn(fa))});function _t(fa,ha){fa.each(function(ia){var Fa=i.select(this),Wa=Fa.select(".text-math-group"),Qa=We.anchorFn(ia,ha),ir=$e.transFn.call(Fa.node(),ia)+(e(ha)&&+ha!=0?" rotate("+ha+","+We.xFn(ia)+","+(We.yFn(ia)-ia.fontSize/2)+")":""),tr=s.lineCount(Fa),lr=be*ia.fontSize,ur=We.heightFn(ia,e(ha)?+ha:0,(tr-1)*lr);if(ur&&(ir+=o(0,ur)),Wa.empty()){var yr=Fa.select("text");yr.attr({transform:ir,"text-anchor":Qa}),yr.style("opacity",1),le._adjustTickLabelsOverflow&&le._adjustTickLabelsOverflow()}else{var Ra=p.bBox(Wa.node()).width,Or=Ra*{end:-.5,start:.5}[Qa];Wa.attr("transform",ir+o(Or,0))}})}le._adjustTickLabelsOverflow=function(){var fa=le.ticklabeloverflow;if(!(!fa||fa==="allow")){var ha=fa.indexOf("hide")!==-1,ia=le._id.charAt(0)==="x",Fa=0,Wa=ia?ee._fullLayout.width:ee._fullLayout.height;if(fa.indexOf("domain")!==-1){var Qa=l.simpleMap(le.range,le.r2l);Fa=le.l2p(Qa[0])+le._offset,Wa=le.l2p(Qa[1])+le._offset}var ir=Math.min(Fa,Wa),tr=Math.max(Fa,Wa),lr=le.side,ur=1/0,yr=-1/0;Ke.each(function(Ur){var Kr=i.select(this),ri=Kr.select(".text-math-group");if(ri.empty()){var Gr=p.bBox(Kr.node()),fr=0;ia?(Gr.right>tr||Gr.left<ir)&&(fr=1):(Gr.bottom>tr||Gr.top+(le.tickangle?0:Ur.fontSize/4)<ir)&&(fr=1);var Dr=Kr.select("text");fr?ha&&Dr.style("opacity",0):(Dr.style("opacity",1),lr==="bottom"||lr==="right"?ur=Math.min(ur,ia?Gr.top:Gr.left):ur=-1/0,lr==="top"||lr==="left"?yr=Math.max(yr,ia?Gr.bottom:Gr.right):yr=1/0)}});for(var Ra in Ve._plots){var Or=Ve._plots[Ra];if(!(le._id!==Or.xaxis._id&&le._id!==Or.yaxis._id)){var jr=ia?Or.yaxis:Or.xaxis;jr&&(jr["_visibleLabelMin_"+le._id]=ur,jr["_visibleLabelMax_"+le._id]=yr)}}}},le._hideCounterAxisInsideTickLabels=function(fa){var ha=le._id.charAt(0)==="x",ia=[];for(var Fa in Ve._plots){var Wa=Ve._plots[Fa];le._id!==Wa.xaxis._id&&le._id!==Wa.yaxis._id||ia.push(ha?Wa.yaxis:Wa.xaxis)}ia.forEach(function(Qa,ir){Qa&&In(Qa)&&(fa||[G,Z,D,q,ae]).forEach(function(tr){var lr=tr.K==="tick"&&tr.L==="text"&&le.ticklabelmode==="period",ur=Ve._plots[le._mainSubplot],yr;tr.K===G.K?yr=ur.zerolinelayer.selectAll("."+le._id+"zl"):tr.K===Z.K?yr=ur.minorGridlayer.selectAll("."+le._id):tr.K===D.K?yr=ur.gridlayer.selectAll("."+le._id):yr=ur[le._id.charAt(0)+"axislayer"],yr.each(function(){var Ra=i.select(this);tr.L&&(Ra=Ra.selectAll(tr.L)),Ra.each(function(Or){var jr=le.l2p(lr?rt(Or):Or.x)+le._offset,Ur=i.select(this);jr<le["_visibleLabelMax_"+Qa._id]&&jr>le["_visibleLabelMin_"+Qa._id]?Ur.style("display","none"):tr.K==="tick"&&!ir&&Ur.style("display",null)})})})})},_t(Ke,Ue+1?Ue:Ne);function Ct(){return it.length&&Promise.all(it)}var Mt=null;function jt(){if(_t(Ke,Ne),je.length&&le.autotickangles&&(le.type!=="log"||String(le.dtick).charAt(0)!=="D")){Mt=le.autotickangles[0];var fa=0,ha=[],ia,Fa=1;Ke.each(function(Pa){fa=Math.max(fa,Pa.fontSize);var sr=le.l2p(Pa.x),ii=Nt(this),Si=p.bBox(ii.node());Fa=Math.max(Fa,s.lineCount(ii)),ha.push({top:0,bottom:10,height:10,left:sr-Si.width/2,right:sr+Si.width/2+2,width:Si.width+2})});var Wa=(le.tickson==="boundaries"||le.showdividers)&&!$e.secondary,Qa=je.length,ir=Math.abs((je[Qa-1].x-je[0].x)*le._m)/(Qa-1),tr=Wa?ir/2:ir,lr=Wa?le.ticklen:fa*1.25*Fa,ur=Math.sqrt(Math.pow(tr,2)+Math.pow(lr,2)),yr=tr/ur,Ra=le.autotickangles.map(function(Pa){return Pa*Math.PI/180}),Or=Ra.find(function(Pa){return Math.abs(Math.cos(Pa))<=yr});Or===void 0&&(Or=Ra.reduce(function(Pa,sr){return Math.abs(Math.cos(Pa))<Math.abs(Math.cos(sr))?Pa:sr},Ra[0]));var jr=Or*(180/Math.PI);if(Wa){var Ur=2;for(le.ticks&&(Ur+=le.tickwidth/2),ia=0;ia<ha.length;ia++){var Kr=je[ia].xbnd,ri=ha[ia];if(Kr[0]!==null&&ri.left-le.l2p(Kr[0])<Ur||Kr[1]!==null&&le.l2p(Kr[1])-ri.right<Ur){Mt=jr;break}}}else{var Gr=le.ticklabelposition||"",fr=function(Pa){return Gr.indexOf(Pa)!==-1},Dr=fr("top"),Ii=fr("left"),_r=fr("right"),nr=fr("bottom"),wr=nr||Ii||Dr||_r,hr=wr?(le.tickwidth||0)+2*B:0;for(ia=0;ia<ha.length-1;ia++)if(l.bBoxIntersect(ha[ia],ha[ia+1],hr)){Mt=jr;break}}Mt&&_t(Ke,Mt)}}le._selections&&(le._selections[Pe]=Ke);var $t=[Ct];le.automargin&&Ve._redrawFromAutoMarginCount&&Ue===90?(Mt=Ue,$t.push(function(){_t(Ke,Ue)})):$t.push(jt),le._tickAngles&&$t.push(function(){le._tickAngles[Pe]=Mt===null?e(Ne)?Ne:0:Mt});var bn=function(){var fa=0,ha=0;return Ke.each(function(ia,Fa){var Wa=Nt(this),Qa=Wa.select(".text-math-group");if(Qa.empty()){var ir;le._vals[Fa]&&(ir=le._vals[Fa].bb||p.bBox(Wa.node()),le._vals[Fa].bb=ir),fa=Math.max(fa,ir.width),ha=Math.max(ha,ir.height)}}),{labelsMaxW:fa,labelsMaxH:ha}},Zt=le._anchorAxis;if(Zt&&(Zt.autorange||Zt.insiderange)&&In(le)&&!T(Ve,le._id)&&(Ve._insideTickLabelsUpdaterange||(Ve._insideTickLabelsUpdaterange={}),Zt.autorange&&(Ve._insideTickLabelsUpdaterange[Zt._name+".autorange"]=Zt.autorange,$t.push(bn)),Zt.insiderange)){var an=bn(),wn=le._id.charAt(0)==="y"?an.labelsMaxW:an.labelsMaxH;wn+=2*B,le.ticklabelposition==="inside"&&(wn+=le.ticklen||0);var Bn=le.side==="right"||le.side==="top"?1:-1,na=Bn===1?1:0,Ha=Bn===1?0:1,Ta=[];Ta[Ha]=Zt.range[Ha];var Oa=Zt.range,br=Zt.r2p(Oa[na]),mr=Zt.r2p(Oa[Ha]),Ea=Ve._insideTickLabelsUpdaterange[Zt._name+".range"];if(Ea){var Ma=Zt.r2p(Ea[na]),Zn=Zt.r2p(Ea[Ha]),er=Bn*(le._id.charAt(0)==="y"?1:-1);er*br<er*Ma&&(br=Ma,Ta[na]=Oa[na]=Ea[na]),er*mr>er*Zn&&(mr=Zn,Ta[Ha]=Oa[Ha]=Ea[Ha])}var Ba=Math.abs(mr-br);Ba-wn>0?(Ba-=wn,wn*=1+wn/Ba):wn=0,le._id.charAt(0)!=="y"&&(wn=-wn),Ta[na]=Zt.p2r(Zt.r2p(Oa[na])+Bn*wn),Zt.autorange==="min"||Zt.autorange==="max reversed"?(Ta[0]=null,Zt._rangeInitial0=void 0,Zt._rangeInitial1=void 0):(Zt.autorange==="max"||Zt.autorange==="min reversed")&&(Ta[1]=null,Zt._rangeInitial0=void 0,Zt._rangeInitial1=void 0),Ve._insideTickLabelsUpdaterange[Zt._name+".range"]=Ta}var Ja=l.syncOrAsync($t);return Ja&&Ja.then&&ee._promises.push(Ja),Ja};function Ht(ee,le,$e){var Ve=le._id+"divider",De=$e.vals,Pe=$e.layer.selectAll("path."+Ve).data(De,yt);Pe.exit().remove(),Pe.enter().insert("path",":first-child").classed(Ve,1).classed("crisp",1).call(t.stroke,le.dividercolor).style("stroke-width",p.crispRound(ee,le.dividerwidth,1)+"px"),Pe.attr("transform",$e.transFn).attr("d",$e.path)}A.getPxPosition=function(ee,le){var $e=ee._fullLayout._size,Ve=le._id.charAt(0),De=le.side,Pe;if(le.anchor!=="free"?Pe=le._anchorAxis:Ve==="x"?Pe={_offset:$e.t+(1-(le.position||0))*$e.h,_length:0}:Ve==="y"&&(Pe={_offset:$e.l+(le.position||0)*$e.w+le._shift,_length:0}),De==="top"||De==="left")return Pe._offset;if(De==="bottom"||De==="right")return Pe._offset+Pe._length};function Wt(ee){var le=ee.title.font.size,$e=(ee.title.text.match(s.BR_TAG_ALL)||[]).length;return ee.title.hasOwnProperty("standoff")?le*(he+$e*be):$e?le*($e+1)*be:le}function hn(ee,le){var $e=ee._fullLayout,Ve=le._id,De=Ve.charAt(0),Pe=le.title.font.size,je,We=(le.title.text.match(s.BR_TAG_ALL)||[]).length;if(le.title.hasOwnProperty("standoff"))le.side==="bottom"||le.side==="right"?je=le._depth+le.title.standoff+Pe*he:(le.side==="top"||le.side==="left")&&(je=le._depth+le.title.standoff+Pe*(fe+We*be));else{var Ne=In(le);if(le.type==="multicategory")je=le._depth;else{var Ue=1.5*Pe;Ne&&(Ue=.5*Pe,le.ticks==="outside"&&(Ue+=le.ticklen)),je=10+Ue+(le.linewidth?le.linewidth-1:0)}Ne||(De==="x"?je+=le.side==="top"?Pe*(le.showticklabels?1:0):Pe*(le.showticklabels?1.5:.5):je+=le.side==="right"?Pe*(le.showticklabels?1:.5):Pe*(le.showticklabels?.5:0))}var Ke=A.getPxPosition(ee,le),it,_t,Ct;De==="x"?(_t=le._offset+le._length/2,Ct=le.side==="top"?Ke-je:Ke+je):(Ct=le._offset+le._length/2,_t=le.side==="right"?Ke+je:Ke-je,it={rotate:"-90",offset:0});var Mt;if(le.type!=="multicategory"){var jt=le._selections[le._id+"tick"];if(Mt={selection:jt,side:le.side},jt&&jt.node()&&jt.node().parentNode){var $t=p.getTranslate(jt.node().parentNode);Mt.offsetLeft=$t.x,Mt.offsetTop=$t.y}le.title.hasOwnProperty("standoff")&&(Mt.pad=0)}return le._titleStandoff=je,d.draw(ee,Ve+"title",{propContainer:le,propName:le._name+".title.text",placeholder:$e._dfltTitle[De],avoid:Mt,transform:it,attributes:{x:_t,y:Ct,"text-anchor":"middle"}})}A.shouldShowZeroLine=function(ee,le,$e){var Ve=l.simpleMap(le.range,le.r2l);return Ve[0]*Ve[1]<=0&&le.zeroline&&(le.type==="linear"||le.type==="-")&&!(le.rangebreaks&&le.maskBreaks(0)===U)&&(Bt(le,0)||!en(ee,le,$e,Ve)||Ft(ee,le))},A.clipEnds=function(ee,le){return le.filter(function($e){return Bt(ee,$e.x)})};function Bt(ee,le){var $e=ee.l2p(le);return $e>1&&$e<ee._length-1}function en(ee,le,$e,Ve){var De=$e._mainAxis;if(!De)return;var Pe=ee._fullLayout,je=le._id.charAt(0),We=A.counterLetter(le._id),Ne=le._offset+(Math.abs(Ve[0])<Math.abs(Ve[1])==(je==="x")?0:le._length);function Ue(Mt){if(!Mt.showline||!Mt.linewidth)return!1;var jt=Math.max((Mt.linewidth+le.zerolinewidth)/2,1);function $t(an){return typeof an=="number"&&Math.abs(an-Ne)<jt}if($t(Mt._mainLinePosition)||$t(Mt._mainMirrorPosition))return!0;var bn=Mt._linepositions||{};for(var Zt in bn)if($t(bn[Zt][0])||$t(bn[Zt][1]))return!0}var Ke=Pe._plots[$e._mainSubplot];if(!(Ke.mainplotinfo||Ke).overlays.length)return Ue($e);for(var it=A.list(ee,We),_t=0;_t<it.length;_t++){var Ct=it[_t];if(Ct._mainAxis===De&&Ue(Ct))return!0}}function Ft(ee,le){for(var $e=ee._fullData,Ve=le._mainSubplot,De=le._id.charAt(0),Pe=0;Pe<$e.length;Pe++){var je=$e[Pe];if(je.visible===!0&&je.xaxis+je.yaxis===Ve&&(r.traceIs(je,"bar-like")&&je.orientation==={x:"h",y:"v"}[De]||je.fill&&je.fill.charAt(je.fill.length-1)===De))return!0}return!1}function Nt(ee){var le=i.select(ee),$e=le.select(".text-math-group");return $e.empty()?le.select("text"):$e}A.allowAutoMargin=function(ee){for(var le=A.list(ee,"",!0),$e=0;$e<le.length;$e++){var Ve=le[$e];Ve.automargin&&(n.allowAutoMargin(ee,ln(Ve)),Ve.mirror&&n.allowAutoMargin(ee,tn(Ve))),r.getComponentMethod("rangeslider","isVisible")(Ve)&&n.allowAutoMargin(ee,sn(Ve))}};function ln(ee){return ee._id+".automargin"}function tn(ee){return ln(ee)+".mirror"}function sn(ee){return ee._id+".rangeslider"}A.swap=function(ee,le){for(var $e=Ut(ee,le),Ve=0;Ve<$e.length;Ve++)nn(ee,$e[Ve].x,$e[Ve].y)};function Ut(ee,le){var $e=[],Ve,De;for(Ve=0;Ve<le.length;Ve++){var Pe=[],je=ee._fullData[le[Ve]].xaxis,We=ee._fullData[le[Ve]].yaxis;if(!(!je||!We)){for(De=0;De<$e.length;De++)($e[De].x.indexOf(je)!==-1||$e[De].y.indexOf(We)!==-1)&&Pe.push(De);if(!Pe.length){$e.push({x:[je],y:[We]});continue}var Ne=$e[Pe[0]],Ue;if(Pe.length>1)for(De=1;De<Pe.length;De++)Ue=$e[Pe[De]],Pt(Ne.x,Ue.x),Pt(Ne.y,Ue.y);Pt(Ne.x,[je]),Pt(Ne.y,[We])}}return $e}function Pt(ee,le){for(var $e=0;$e<le.length;$e++)ee.indexOf(le[$e])===-1&&ee.push(le[$e])}function nn(ee,le,$e){var Ve=[],De=[],Pe=ee.layout,je,We;for(je=0;je<le.length;je++)Ve.push(A.getFromId(ee,le[je]));for(je=0;je<$e.length;je++)De.push(A.getFromId(ee,$e[je]));var Ne=Object.keys(c),Ue=["anchor","domain","overlaying","position","side","tickangle","editType"],Ke=["linear","log"];for(je=0;je<Ne.length;je++){var it=Ne[je],_t=Ve[0][it],Ct=De[0][it],Mt=!0,jt=!1,$t=!1;if(!(it.charAt(0)==="_"||typeof _t=="function"||Ue.indexOf(it)!==-1)){for(We=1;We<Ve.length&&Mt;We++){var bn=Ve[We][it];it==="type"&&Ke.indexOf(_t)!==-1&&Ke.indexOf(bn)!==-1&&_t!==bn?jt=!0:bn!==_t&&(Mt=!1)}for(We=1;We<De.length&&Mt;We++){var Zt=De[We][it];it==="type"&&Ke.indexOf(Ct)!==-1&&Ke.indexOf(Zt)!==-1&&Ct!==Zt?$t=!0:De[We][it]!==Ct&&(Mt=!1)}Mt&&(jt&&(Pe[Ve[0]._name].type="linear"),$t&&(Pe[De[0]._name].type="linear"),On(Pe,it,Ve,De,ee._fullLayout._dfltTitle))}}for(je=0;je<ee._fullLayout.annotations.length;je++){var an=ee._fullLayout.annotations[je];le.indexOf(an.xref)!==-1&&$e.indexOf(an.yref)!==-1&&l.swapAttrs(Pe.annotations[je],["?"])}}function On(ee,le,$e,Ve,De){var Pe=l.nestedProperty,je=Pe(ee[$e[0]._name],le).get(),We=Pe(ee[Ve[0]._name],le).get(),Ne;for(le==="title"&&(je&&je.text===De.x&&(je.text=De.y),We&&We.text===De.y&&(We.text=De.x)),Ne=0;Ne<$e.length;Ne++)Pe(ee,$e[Ne]._name+"."+le).set(We);for(Ne=0;Ne<Ve.length;Ne++)Pe(ee,Ve[Ne]._name+"."+le).set(je)}function Qn(ee){return ee._id==="angularaxis"}function rn(ee,le){for(var $e=le._rangebreaks.length,Ve=0;Ve<$e;Ve++){var De=le._rangebreaks[Ve];if(ee>=De.min&&ee<De.max)return De.max}return ee}function In(ee){return(ee.ticklabelposition||"").indexOf("inside")!==-1}function Nn(ee,le){In(ee._anchorAxis||{})&&ee._hideCounterAxisInsideTickLabels&&ee._hideCounterAxisInsideTickLabels(le)}function xa(ee,le,$e,Ve){var De=ee.anchor!=="free"&&(ee.overlaying===void 0||ee.overlaying===!1)?ee._id:ee.overlaying,Pe;Ve?Pe=ee.side==="right"?le:-le:Pe=le,De in $e||($e[De]={}),ee.side in $e[De]||($e[De][ee.side]=0),$e[De][ee.side]+=Pe}function Et(ee,le){return ee.autoshift?le[ee.overlaying][ee.side]:ee.shift||0}function ea(ee,le){return/%f/.test(le)?ee>=R:/%L/.test(le)?ee>=N:/%[SX]/.test(le)?ee>=E:/%M/.test(le)?ee>=W:/%[HI]/.test(le)?ee>=M:/%p/.test(le)?ee>=O:/%[Aadejuwx]/.test(le)?ee>=P:/%[UVW]/.test(le)?ee>=J:/%[Bbm]/.test(le)?ee>=k:/%[q]/.test(le)?ee>=f:/%[Yy]/.test(le)?ee>=m:!0}}),su=ye((F,C)=>{C.exports=function(i,e,n){var r,l;if(n){var o=e==="reversed"||e==="min reversed"||e==="max reversed";r=n[o?1:0],l=n[o?0:1]}var s=i("autorangeoptions.minallowed",l===null?r:void 0),d=i("autorangeoptions.maxallowed",r===null?l:void 0);s===void 0&&i("autorangeoptions.clipmin"),d===void 0&&i("autorangeoptions.clipmax"),i("autorangeoptions.include")}}),js=ye((F,C)=>{var i=su();C.exports=function(e,n,r,l){var o=n._template||{},s=n.type||o.type||"-";r("minallowed"),r("maxallowed");var d=r("range");if(!d){var t;!l.noInsiderange&&s!=="log"&&(t=r("insiderange"),t&&(t[0]===null||t[1]===null)&&(n.insiderange=!1,t=void 0),t&&(d=r("range",t)))}var p=n.getAutorangeDflt(d,l),c=r("autorange",p),h;d&&(d[0]===null&&d[1]===null||(d[0]===null||d[1]===null)&&(c==="reversed"||c===!0)||d[0]!==null&&(c==="min"||c==="max reversed")||d[1]!==null&&(c==="max"||c==="min reversed"))&&(d=void 0,delete n.range,n.autorange=!0,h=!0),h||(p=n.getAutorangeDflt(d,l),c=r("autorange",p)),c&&(i(r,c,d),(s==="linear"||s==="-")&&r("rangemode")),n.cleanRange()}}),cu=ye((F,C)=>{var i={left:0,top:0};C.exports=e;function e(r,l,o){l=l||r.currentTarget||r.srcElement,Array.isArray(o)||(o=[0,0]);var s=r.clientX||0,d=r.clientY||0,t=n(l);return o[0]=s-t.left,o[1]=d-t.top,o}function n(r){return r===window||r===document||r===document.body?i:r.getBoundingClientRect()}}),zs=ye((F,C)=>{var i=Wi();function e(){var n=!1;try{var r=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,r),window.removeEventListener("test",null,r)}catch{n=!1}return n}C.exports=i&&e()}),uu=ye((F,C)=>{C.exports=function(i,e,n,r,l){var o=(i-n)/(r-n),s=o+e/(r-n),d=(o+s)/2;return l==="left"||l==="bottom"?o:l==="center"||l==="middle"?d:l==="right"||l==="top"?s:o<2/3-d?o:s>4/3-d?s:d}}),du=ye((F,C)=>{var i=zt(),e=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];C.exports=function(n,r,l,o){return l==="left"?n=0:l==="center"?n=1:l==="right"?n=2:n=i.constrain(Math.floor(n*3),0,2),o==="bottom"?r=0:o==="middle"?r=1:o==="top"?r=2:r=i.constrain(Math.floor(r*3),0,2),e[r][n]}}),fu=ye((F,C)=>{var i=Po(),e=ma(),n=vr().getGraphDiv,r=zr(),l=C.exports={};l.wrapped=function(o,s,d){o=n(o),o._fullLayout&&e.clear(o._fullLayout._uid+r.HOVERID),l.raw(o,s,d)},l.raw=function(o,s){var d=o._fullLayout,t=o._hoverdata;s||(s={}),!(s.target&&!o._dragged&&i.triggerHandler(o,"plotly_beforehover",s)===!1)&&(d._hoverlayer.selectAll("g").remove(),d._hoverlayer.selectAll("line").remove(),d._hoverlayer.selectAll("circle").remove(),o._hoverdata=void 0,s.target&&t&&o.emit("plotly_unhover",{event:s,points:t}))}}),Ai=ye((F,C)=>{var i=cu(),e=Ts(),n=zs(),r=zt().removeElement,l=$r(),o=C.exports={};o.align=uu(),o.getCursor=du();var s=fu();o.unhover=s.wrapped,o.unhoverRaw=s.raw,o.init=function(p){var c=p.gd,h=1,b=c._context.doubleClickDelay,y=p.element,g,m,v,u,f,_,w,k;c._mouseDownTime||(c._mouseDownTime=0),y.style.pointerEvents="all",y.onmousedown=O,n?(y._ontouchstart&&y.removeEventListener("touchstart",y._ontouchstart),y._ontouchstart=O,y.addEventListener("touchstart",O,{passive:!1})):y.ontouchstart=O;function J(E,N,R){return Math.abs(E)<R&&(E=0),Math.abs(N)<R&&(N=0),[E,N]}var P=p.clampFn||J;function O(E){c._dragged=!1,c._dragging=!0;var N=t(E);g=N[0],m=N[1],w=E.target,_=E,k=E.buttons===2||E.ctrlKey,typeof E.clientX>"u"&&typeof E.clientY>"u"&&(E.clientX=g,E.clientY=m),v=new Date().getTime(),v-c._mouseDownTime<b?h+=1:(h=1,c._mouseDownTime=v),p.prepFn&&p.prepFn(E,g,m),e&&!k?(f=d(),f.style.cursor=window.getComputedStyle(y).cursor):e||(f=document,u=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(y).cursor),document.addEventListener("mouseup",W),document.addEventListener("touchend",W),p.dragmode!==!1&&(E.preventDefault(),document.addEventListener("mousemove",M),document.addEventListener("touchmove",M,{passive:!1}))}function M(E){E.preventDefault();var N=t(E),R=p.minDrag||l.MINDRAG,V=P(N[0]-g,N[1]-m,R),U=V[0],G=V[1];(U||G)&&(c._dragged=!0,o.unhover(c,E)),c._dragged&&p.moveFn&&!k&&(c._dragdata={element:y,dx:U,dy:G},p.moveFn(U,G))}function W(E){if(delete c._dragdata,p.dragmode!==!1&&(E.preventDefault(),document.removeEventListener("mousemove",M),document.removeEventListener("touchmove",M)),document.removeEventListener("mouseup",W),document.removeEventListener("touchend",W),e?r(f):u&&(f.documentElement.style.cursor=u,u=null),!c._dragging){c._dragged=!1;return}if(c._dragging=!1,new Date().getTime()-c._mouseDownTime>b&&(h=Math.max(h-1,1)),c._dragged)p.doneFn&&p.doneFn();else{var N;_.target===w?N=_:(N={target:w,srcElement:w,toElement:w},Object.keys(_).concat(Object.keys(_.__proto__)).forEach(R=>{var V=_[R];!N[R]&&typeof V!="function"&&(N[R]=V)})),p.clickFn&&p.clickFn(h,N),k||w.dispatchEvent(new MouseEvent("click",E))}c._dragging=!1,c._dragged=!1}};function d(){var p=document.createElement("div");p.className="dragcover";var c=p.style;return c.position="fixed",c.left=0,c.right=0,c.top=0,c.bottom=0,c.zIndex=999999999,c.background="none",document.body.appendChild(p),p}o.coverSlip=d;function t(p){return i(p.changedTouches?p.changedTouches[0]:p,document.body)}}),qi=ye((F,C)=>{C.exports=function(i,e){(i.attr("class")||"").split(" ").forEach(function(n){n.indexOf("cursor-")===0&&i.classed(n,!1)}),e&&i.classed("cursor-"+e,!0)}}),hu=ye((F,C)=>{var i=qi(),e="data-savedcursor",n="!!";C.exports=function(r,l){var o=r.attr(e);if(l){if(!o){for(var s=(r.attr("class")||"").split(" "),d=0;d<s.length;d++){var t=s[d];t.indexOf("cursor-")===0&&r.attr(e,t.substr(7)).classed(t,!1)}r.attr(e)||r.attr(e,n)}i(r,l)}else o&&(r.attr(e,null),o===n?i(r):i(r,o))}}),Hs=ye((F,C)=>{var i=Za(),e=kr();C.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:e.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:i({editType:"legend"}),grouptitlefont:i({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:i({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}}),_l=ye(F=>{F.isGrouped=function(C){return(C.traceorder||"").indexOf("grouped")!==-1},F.isVertical=function(C){return C.orientation!=="h"},F.isReversed=function(C){return(C.traceorder||"").indexOf("reversed")!==-1}}),Bs=ye((F,C)=>{var i=Kn(),e=zt(),n=or(),r=Er(),l=Hs(),o=Vi(),s=_l();function d(t,p,c,h){var b=p[t]||{},y=n.newContainer(c,t);function g(be,H){return e.coerce(b,y,l,be,H)}var m=e.coerceFont(g,"font",c.font);g("bgcolor",c.paper_bgcolor),g("bordercolor");var v=g("visible");if(v){for(var u,f=function(be,H){var B=u._input,A=u;return e.coerce(B,A,r,be,H)},_=c.font||{},w=e.coerceFont(g,"grouptitlefont",_,{overrideDflt:{size:Math.round(_.size*1.1)}}),k=0,J=!1,P="normal",O=(c.shapes||[]).filter(function(be){return be.showlegend}),M=h.concat(O).filter(function(be){return t===(be.legend||"legend")}),W=0;W<M.length;W++)if(u=M[W],!!u.visible){var E=u._isShape;(u.showlegend||u._dfltShowLegend&&!(u._module&&u._module.attributes&&u._module.attributes.showlegend&&u._module.attributes.showlegend.dflt===!1))&&(k++,u.showlegend&&(J=!0,(!E&&i.traceIs(u,"pie-like")||u._input.showlegend===!0)&&k++),e.coerceFont(f,"legendgrouptitle.font",w)),(!E&&i.traceIs(u,"bar")&&c.barmode==="stack"||["tonextx","tonexty"].indexOf(u.fill)!==-1)&&(P=s.isGrouped({traceorder:P})?"grouped+reversed":"reversed"),u.legendgroup!==void 0&&u.legendgroup!==""&&(P=s.isReversed({traceorder:P})?"reversed+grouped":"grouped")}var N=e.coerce(p,c,o,"showlegend",J&&k>(t==="legend"?1:0));if(N===!1&&(c[t]=void 0),!(N===!1&&!b.uirevision)&&(g("uirevision",c.uirevision),N!==!1)){g("borderwidth");var R=g("orientation"),V=g("yref"),U=g("xref"),G=R==="h",D=V==="paper",Z=U==="paper",q,ae,te,ie="left";G?(q=0,i.getComponentMethod("rangeslider","isVisible")(p.xaxis)?D?(ae=1.1,te="bottom"):(ae=1,te="top"):D?(ae=-.1,te="top"):(ae=0,te="bottom")):(ae=1,te="auto",Z?q=1.02:(q=1,ie="right")),e.coerce(b,y,{x:{valType:"number",editType:"legend",min:Z?-2:0,max:Z?3:1,dflt:q}},"x"),e.coerce(b,y,{y:{valType:"number",editType:"legend",min:D?-2:0,max:D?3:1,dflt:ae}},"y"),g("traceorder",P),s.isGrouped(c[t])&&g("tracegroupgap"),g("entrywidth"),g("entrywidthmode"),g("indentation"),g("itemsizing"),g("itemwidth"),g("itemclick"),g("itemdoubleclick"),g("groupclick"),g("xanchor",ie),g("yanchor",te),g("valign"),e.noneOrAll(b,y,["x","y"]);var fe=g("title.text");if(fe){g("title.side",G?"left":"top");var he=e.extendFlat({},m,{size:e.bigFont(m.size)});e.coerceFont(g,"title.font",he)}}}}C.exports=function(t,p,c){var h,b=c.slice(),y=p.shapes;if(y)for(h=0;h<y.length;h++){var g=y[h];if(g.showlegend){var m={_input:g._input,visible:g.visible,showlegend:g.showlegend,legend:g.legend};b.push(m)}}var v=["legend"];for(h=0;h<b.length;h++)e.pushUnique(v,b[h].legend);for(p._legends=[],h=0;h<v.length;h++){var u=v[h];d(u,t,p,b),p[u]&&p[u].visible&&(p[u]._id=u),p._legends.push(u)}}}),pu=ye((F,C)=>{var i=Kn(),e=zt(),n=e.pushUnique,r=!0;C.exports=function(l,o,s){var d=o._fullLayout;if(o._dragged||o._editing)return;var t=d.legend.itemclick,p=d.legend.itemdoubleclick,c=d.legend.groupclick;s===1&&t==="toggle"&&p==="toggleothers"&&r&&o.data&&o._context.showTips&&e.notifier(e._(o,"Double-click on legend to isolate one trace"),"long"),r=!1;var h;if(s===1?h=t:s===2&&(h=p),!h)return;var b=c==="togglegroup",y=d.hiddenlabels?d.hiddenlabels.slice():[],g=l.data()[0][0];if(g.groupTitle&&g.noClick)return;var m=o._fullData,v=(d.shapes||[]).filter(function(Be){return Be.showlegend}),u=m.concat(v),f=g.trace;f._isShape&&(f=f._fullInput);var _=f.legendgroup,w,k,J,P,O,M,W={},E=[],N=[],R=[];function V(Be,pe){var _e=E.indexOf(Be),oe=W.visible;return oe||(oe=W.visible=[]),E.indexOf(Be)===-1&&(E.push(Be),_e=E.length-1),oe[_e]=pe,_e}var U=(d.shapes||[]).map(function(Be){return Be._input}),G=!1;function D(Be,pe){U[Be].visible=pe,G=!0}function Z(Be,pe){if(!(g.groupTitle&&!b)){var _e=Be._fullInput||Be,oe=_e._isShape,Le=_e.index;Le===void 0&&(Le=_e._index);var Re=_e.visible===!1?!1:pe;oe?D(Le,Re):V(Le,Re)}}var q=f.legend,ae=f._fullInput,te=ae&&ae._isShape;if(!te&&i.traceIs(f,"pie-like")){var ie=g.label,fe=y.indexOf(ie);if(h==="toggle")fe===-1?y.push(ie):y.splice(fe,1);else if(h==="toggleothers"){var he=fe!==-1,be=[];for(w=0;w<o.calcdata.length;w++){var H=o.calcdata[w];for(k=0;k<H.length;k++){var B=H[k],A=B.label;q===H[0].trace.legend&&ie!==A&&(y.indexOf(A)===-1&&(he=!0),n(y,A),be.push(A))}}if(!he)for(var X=0;X<be.length;X++){var I=y.indexOf(be[X]);I!==-1&&y.splice(I,1)}}i.call("_guiRelayout",o,"hiddenlabels",y)}else{var j=_&&_.length,T=[],L;if(j)for(w=0;w<u.length;w++)L=u[w],L.visible&&L.legendgroup===_&&T.push(w);if(h==="toggle"){var $;switch(f.visible){case!0:$="legendonly";break;case!1:$=!1;break;case"legendonly":$=!0;break}if(j)if(b)for(w=0;w<u.length;w++){var Y=u[w];Y.visible!==!1&&Y.legendgroup===_&&Z(Y,$)}else Z(f,$);else Z(f,$)}else if(h==="toggleothers"){var re,se,ce,we,Se,Ie=!0;for(w=0;w<u.length;w++)if(Se=u[w],re=Se===f,ce=Se.showlegend!==!0,!(re||ce)&&(se=j&&Se.legendgroup===_,!se&&Se.legend===q&&Se.visible===!0&&!i.traceIs(Se,"notLegendIsolatable"))){Ie=!1;break}for(w=0;w<u.length;w++)if(Se=u[w],!(Se.visible===!1||Se.legend!==q)&&!i.traceIs(Se,"notLegendIsolatable"))switch(f.visible){case"legendonly":Z(Se,!0);break;case!0:we=Ie?!0:"legendonly",re=Se===f,ce=Se.showlegend!==!0&&!Se.legendgroup,se=re||j&&Se.legendgroup===_,Z(Se,se||ce?!0:we);break}}for(w=0;w<N.length;w++)if(J=N[w],!!J){var Ze=J.constructUpdate(),He=Object.keys(Ze);for(k=0;k<He.length;k++)P=He[k],M=W[P]=W[P]||[],M[R[w]]=Ze[P]}for(O=Object.keys(W),w=0;w<O.length;w++)for(P=O[w],k=0;k<E.length;k++)W[P].hasOwnProperty(k)||(W[P][k]=void 0);G?i.call("_guiUpdate",o,W,{shapes:U},E):i.call("_guiRestyle",o,W,E)}}}),Vs=ye((F,C)=>{C.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}}),vu=ye((F,C)=>{var i=Kn(),e=_l();C.exports=function(n,r,l){var o=r._inHover,s=e.isGrouped(r),d=e.isReversed(r),t={},p=[],c=!1,h={},b=0,y=0,g,m;function v(Z,q,ae){if(r.visible!==!1&&!(l&&Z!==r._id))if(q===""||!e.isGrouped(r)){var te="~~i"+b;p.push(te),t[te]=[ae],b++}else p.indexOf(q)===-1?(p.push(q),c=!0,t[q]=[ae]):t[q].push(ae)}for(g=0;g<n.length;g++){var u=n[g],f=u[0],_=f.trace,w=_.legend,k=_.legendgroup;if(!(!o&&(!_.visible||!_.showlegend)))if(i.traceIs(_,"pie-like"))for(h[k]||(h[k]={}),m=0;m<u.length;m++){var J=u[m].label;h[k][J]||(v(w,k,{label:J,color:u[m].color,i:u[m].i,trace:_,pts:u[m].pts}),h[k][J]=!0,y=Math.max(y,(J||"").length))}else v(w,k,f),y=Math.max(y,(_.name||"").length)}if(!p.length)return[];var P=!c||!s,O=[];for(g=0;g<p.length;g++){var M=t[p[g]];P?O.push(M[0]):O.push(M)}for(P&&(O=[O]),g=0;g<O.length;g++){var W=1/0;for(m=0;m<O[g].length;m++){var E=O[g][m].trace.legendrank;W>E&&(W=E)}O[g][0]._groupMinRank=W,O[g][0]._preGroupSort=g}var N=function(Z,q){return Z[0]._groupMinRank-q[0]._groupMinRank||Z[0]._preGroupSort-q[0]._preGroupSort},R=function(Z,q){return Z.trace.legendrank-q.trace.legendrank||Z._preSort-q._preSort};for(O.forEach(function(Z,q){Z[0]._preGroupSort=q}),O.sort(N),g=0;g<O.length;g++){O[g].forEach(function(Z,q){Z._preSort=q}),O[g].sort(R);var V=O[g][0].trace,U=null;for(m=0;m<O[g].length;m++){var G=O[g][m].trace.legendgrouptitle;if(G&&G.text){U=G,o&&(G.font=r._groupTitleFont);break}}if(d&&O[g].reverse(),U){var D=!1;for(m=0;m<O[g].length;m++)if(i.traceIs(O[g][m].trace,"pie-like")){D=!0;break}O[g].unshift({i:-1,groupTitle:U,noClick:D,trace:{showlegend:V.showlegend,legendgroup:V.legendgroup,visible:r.groupclick==="toggleitem"?!0:V.visible}})}for(m=0;m<O[g].length;m++)O[g][m]=[O[g][m]]}return r._lgroupsLength=O.length,r._maxNameLength=y,O}}),wl=ye(F=>{var C=zt();function i(e){return e.indexOf("e")!==-1?e.replace(/[.]?0+e/,"e"):e.indexOf(".")!==-1?e.replace(/[.]?0+$/,""):e}F.formatPiePercent=function(e,n){var r=i((e*100).toPrecision(3));return C.numSeparate(r,n)+"%"},F.formatPieValue=function(e,n){var r=i(e.toPrecision(10));return C.numSeparate(r,n)},F.getFirstFilled=function(e,n){if(C.isArrayOrTypedArray(e))for(var r=0;r<n.length;r++){var l=e[n[r]];if(l||l===0||l==="")return l}},F.castOption=function(e,n){if(C.isArrayOrTypedArray(e))return F.getFirstFilled(e,n);if(e)return e},F.getRotationAngle=function(e){return(e==="auto"?0:e)*Math.PI/180}}),gu=ye((F,C)=>{var i=Ga(),e=$n();C.exports=function(n,r,l,o){var s=l.marker.pattern;s&&s.shape?i.pointStyle(n,l,o,r):e.fill(n,r.color)}}),Tl=ye((F,C)=>{var i=$n(),e=wl().castOption,n=gu();C.exports=function(r,l,o,s){var d=o.marker.line,t=e(d.color,l.pts)||i.defaultLine,p=e(d.width,l.pts)||0;r.call(n,l,o,s).style("stroke-width",p).call(i.stroke,t)}}),Ys=ye((F,C)=>{var i=Xt(),e=Kn(),n=zt(),r=n.strTranslate,l=Ga(),o=$n(),s=xi().extractOpts,d=fi(),t=Tl(),p=wl().castOption,c=Vs(),h=12,b=5,y=2,g=10,m=5;C.exports=function(_,w,k){var J=w._fullLayout;k||(k=J.legend);var P=k.itemsizing==="constant",O=k.itemwidth,M=(O+c.itemGap*2)/2,W=r(M,0),E=function(be,H,B,A){var X;if(be+1)X=be;else if(H&&H.width>0)X=H.width;else return 0;return P?A:Math.min(X,B)};_.each(function(be){var H=i.select(this),B=n.ensureSingle(H,"g","layers");B.style("opacity",be[0].trace.opacity);var A=k.indentation,X=k.valign,I=be[0].lineHeight,j=be[0].height;if(X==="middle"&&A===0||!I||!j)B.attr("transform",null);else{var T={top:1,bottom:-1}[X],L=T*(.5*(I-j+3))||0,$=k.indentation;B.attr("transform",r($,L))}var Y=B.selectAll("g.legendfill").data([be]);Y.enter().append("g").classed("legendfill",!0);var re=B.selectAll("g.legendlines").data([be]);re.enter().append("g").classed("legendlines",!0);var se=B.selectAll("g.legendsymbols").data([be]);se.enter().append("g").classed("legendsymbols",!0),se.selectAll("g.legendpoints").data([be]).enter().append("g").classed("legendpoints",!0)}).each(he).each(V).each(G).each(U).each(Z).each(ie).each(te).each(N).each(R).each(q).each(ae);function N(be){var H=u(be),B=H.showFill,A=H.showLine,X=H.showGradientLine,I=H.showGradientFill,j=H.anyFill,T=H.anyLine,L=be[0],$=L.trace,Y,re,se=s($),ce=se.colorscale,we=se.reversescale,Se=function(oe){if(oe.size())if(B)l.fillGroupStyle(oe,w,!0);else{var Le="legendfill-"+$.uid;l.gradient(oe,w,Le,v(we),ce,"fill")}},Ie=function(oe){if(oe.size()){var Le="legendline-"+$.uid;l.lineGroupStyle(oe),l.gradient(oe,w,Le,v(we),ce,"stroke")}},Ze=d.hasMarkers($)||!j?"M5,0":T?"M5,-2":"M5,-3",He=i.select(this),Be=He.select(".legendfill").selectAll("path").data(B||I?[be]:[]);if(Be.enter().append("path").classed("js-fill",!0),Be.exit().remove(),Be.attr("d",Ze+"h"+O+"v6h-"+O+"z").call(Se),A||X){var pe=E(void 0,$.line,g,b);re=n.minExtend($,{line:{width:pe}}),Y=[n.minExtend(L,{trace:re})]}var _e=He.select(".legendlines").selectAll("path").data(A||X?[Y]:[]);_e.enter().append("path").classed("js-line",!0),_e.exit().remove(),_e.attr("d",Ze+(X?"l"+O+",0.0001":"h"+O)).call(A?l.lineGroupStyle:Ie)}function R(be){var H=u(be),B=H.anyFill,A=H.anyLine,X=H.showLine,I=H.showMarker,j=be[0],T=j.trace,L=!I&&!A&&!B&&d.hasText(T),$,Y;function re(Be,pe,_e,oe){var Le=n.nestedProperty(T,Be).get(),Re=n.isArrayOrTypedArray(Le)&&pe?pe(Le):Le;if(P&&Re&&oe!==void 0&&(Re=oe),_e){if(Re<_e[0])return _e[0];if(Re>_e[1])return _e[1]}return Re}function se(Be){return j._distinct&&j.index&&Be[j.index]?Be[j.index]:Be[0]}if(I||L||X){var ce={},we={};if(I){ce.mc=re("marker.color",se),ce.mx=re("marker.symbol",se),ce.mo=re("marker.opacity",n.mean,[.2,1]),ce.mlc=re("marker.line.color",se),ce.mlw=re("marker.line.width",n.mean,[0,5],y),we.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var Se=re("marker.size",n.mean,[2,16],h);ce.ms=Se,we.marker.size=Se}X&&(we.line={width:re("line.width",se,[0,10],b)}),L&&(ce.tx="Aa",ce.tp=re("textposition",se),ce.ts=10,ce.tc=re("textfont.color",se),ce.tf=re("textfont.family",se),ce.tw=re("textfont.weight",se),ce.ty=re("textfont.style",se),ce.tv=re("textfont.variant",se),ce.tC=re("textfont.textcase",se),ce.tE=re("textfont.lineposition",se),ce.tS=re("textfont.shadow",se)),$=[n.minExtend(j,ce)],Y=n.minExtend(T,we),Y.selectedpoints=null,Y.texttemplate=null}var Ie=i.select(this).select("g.legendpoints"),Ze=Ie.selectAll("path.scatterpts").data(I?$:[]);Ze.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",W),Ze.exit().remove(),Ze.call(l.pointStyle,Y,w),I&&($[0].mrc=3);var He=Ie.selectAll("g.pointtext").data(L?$:[]);He.enter().append("g").classed("pointtext",!0).append("text").attr("transform",W),He.exit().remove(),He.selectAll("text").call(l.textPointStyle,Y,w)}function V(be){var H=be[0].trace,B=H.type==="waterfall";if(be[0]._distinct&&B){var A=be[0].trace[be[0].dir].marker;return be[0].mc=A.color,be[0].mlw=A.line.width,be[0].mlc=A.line.color,D(be,this,"waterfall")}var X=[];H.visible&&B&&(X=be[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var I=i.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(X);I.enter().append("path").classed("legendwaterfall",!0).attr("transform",W).style("stroke-miterlimit",1),I.exit().remove(),I.each(function(j){var T=i.select(this),L=H[j[0]].marker,$=E(void 0,L.line,m,y);T.attr("d",j[1]).style("stroke-width",$+"px").call(o.fill,L.color),$&&T.call(o.stroke,L.line.color)})}function U(be){D(be,this)}function G(be){D(be,this,"funnel")}function D(be,H,B){var A=be[0].trace,X=A.marker||{},I=X.line||{},j=X.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",T=B?A.visible&&A.type===B:e.traceIs(A,"bar"),L=i.select(H).select("g.legendpoints").selectAll("path.legend"+B).data(T?[be]:[]);L.enter().append("path").classed("legend"+B,!0).attr("d",j).attr("transform",W),L.exit().remove(),L.each(function($){var Y=i.select(this),re=$[0],se=E(re.mlw,X.line,m,y);Y.style("stroke-width",se+"px");var ce=re.mcc;if(!k._inHover&&"mc"in re){var we=s(X),Se=we.mid;Se===void 0&&(Se=(we.max+we.min)/2),ce=l.tryColorscale(X,"")(Se)}var Ie=ce||re.mc||X.color,Ze=X.pattern,He=Ze&&l.getPatternAttr(Ze.shape,0,"");if(He){var Be=l.getPatternAttr(Ze.bgcolor,0,null),pe=l.getPatternAttr(Ze.fgcolor,0,null),_e=Ze.fgopacity,oe=f(Ze.size,8,10),Le=f(Ze.solidity,.5,1),Re="legend-"+A.uid;Y.call(l.pattern,"legend",w,Re,He,oe,Le,ce,Ze.fillmode,Be,pe,_e)}else Y.call(o.fill,Ie);se&&o.stroke(Y,re.mlc||I.color)})}function Z(be){var H=be[0].trace,B=i.select(this).select("g.legendpoints").selectAll("path.legendbox").data(H.visible&&e.traceIs(H,"box-violin")?[be]:[]);B.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",W),B.exit().remove(),B.each(function(){var A=i.select(this);if((H.boxpoints==="all"||H.points==="all")&&o.opacity(H.fillcolor)===0&&o.opacity((H.line||{}).color)===0){var X=n.minExtend(H,{marker:{size:P?h:n.constrain(H.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});B.call(l.pointStyle,X,w)}else{var I=E(void 0,H.line,m,y);A.style("stroke-width",I+"px").call(o.fill,H.fillcolor),I&&o.stroke(A,H.line.color)}})}function q(be){var H=be[0].trace,B=i.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(H.visible&&H.type==="candlestick"?[be,be]:[]);B.enter().append("path").classed("legendcandle",!0).attr("d",function(A,X){return X?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",W).style("stroke-miterlimit",1),B.exit().remove(),B.each(function(A,X){var I=i.select(this),j=H[X?"increasing":"decreasing"],T=E(void 0,j.line,m,y);I.style("stroke-width",T+"px").call(o.fill,j.fillcolor),T&&o.stroke(I,j.line.color)})}function ae(be){var H=be[0].trace,B=i.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(H.visible&&H.type==="ohlc"?[be,be]:[]);B.enter().append("path").classed("legendohlc",!0).attr("d",function(A,X){return X?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",W).style("stroke-miterlimit",1),B.exit().remove(),B.each(function(A,X){var I=i.select(this),j=H[X?"increasing":"decreasing"],T=E(void 0,j.line,m,y);I.style("fill","none").call(l.dashLine,j.line.dash,T),T&&o.stroke(I,j.line.color)})}function te(be){fe(be,this,"pie")}function ie(be){fe(be,this,"funnelarea")}function fe(be,H,B){var A=be[0],X=A.trace,I=B?X.visible&&X.type===B:e.traceIs(X,B),j=i.select(H).select("g.legendpoints").selectAll("path.legend"+B).data(I?[be]:[]);if(j.enter().append("path").classed("legend"+B,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",W),j.exit().remove(),j.size()){var T=X.marker||{},L=E(p(T.line.width,A.pts),T.line,m,y),$="pieLike",Y=n.minExtend(X,{marker:{line:{width:L}}},$),re=n.minExtend(A,{trace:Y},$);t(j,re,Y,w)}}function he(be){var H=be[0].trace,B,A=[];if(H.visible)switch(H.type){case"histogram2d":case"heatmap":A=[["M-15,-2V4H15V-2Z"]],B=!0;break;case"choropleth":case"choroplethmapbox":case"choroplethmap":A=[["M-6,-6V6H6V-6Z"]],B=!0;break;case"densitymapbox":case"densitymap":A=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],B="radial";break;case"cone":A=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],B=!1;break;case"streamtube":A=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],B=!1;break;case"surface":A=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],B=!0;break;case"mesh3d":A=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],B=!1;break;case"volume":A=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],B=!0;break;case"isosurface":A=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],B=!1;break}var X=i.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(A);X.enter().append("path").classed("legend3dandfriends",!0).attr("transform",W).style("stroke-miterlimit",1),X.exit().remove(),X.each(function(I,j){var T=i.select(this),L=s(H),$=L.colorscale,Y=L.reversescale,re=function(Se){if(Se.size()){var Ie="legendfill-"+H.uid;l.gradient(Se,w,Ie,v(Y,B==="radial"),$,"fill")}},se;if($){if(!B){var ce=$.length;se=j===0?$[Y?ce-1:0][1]:j===1?$[Y?0:ce-1][1]:$[Math.floor((ce-1)/2)][1]}}else{var we=H.vertexcolor||H.facecolor||H.color;se=n.isArrayOrTypedArray(we)?we[j]||we[0]:we}T.attr("d",I[0]),se?T.call(o.fill,se):T.call(re)})}};function v(_,w){var k=w?"radial":"horizontal";return k+(_?"":"reversed")}function u(_){var w=_[0].trace,k=w.contours,J=d.hasLines(w),P=d.hasMarkers(w),O=w.visible&&w.fill&&w.fill!=="none",M=!1,W=!1;if(k){var E=k.coloring;E==="lines"?M=!0:J=E==="none"||E==="heatmap"||k.showlines,k.type==="constraint"?O=k._operation!=="=":(E==="fill"||E==="heatmap")&&(W=!0)}return{showMarker:P,showLine:J,showFill:O,showGradientLine:M,showGradientFill:W,anyLine:J||M,anyFill:O||W}}function f(_,w,k){return _&&n.isArrayOrTypedArray(_)?w:_>k?k:_}}),$s=ye((F,C)=>{var i=Xt(),e=zt(),n=Lr(),r=Kn(),l=Po(),o=Ai(),s=Ga(),d=$n(),t=Xr(),p=pu(),c=Vs(),h=ai(),b=h.LINE_SPACING,y=h.FROM_TL,g=h.FROM_BR,m=vu(),v=Ys(),u=_l(),f=1,_=/^legend[0-9]*$/;C.exports=function(q,ae){if(ae)k(q,ae);else{var te=q._fullLayout,ie=te._legends,fe=te._infolayer.selectAll('[class^="legend"]');fe.each(function(){var B=i.select(this),A=B.attr("class"),X=A.split(" ")[0];X.match(_)&&ie.indexOf(X)===-1&&B.remove()});for(var he=0;he<ie.length;he++){var be=ie[he],H=q._fullLayout[be];k(q,H)}}};function w(q,ae,te){if(!(ae.title.side!=="top center"&&ae.title.side!=="top right")){var ie=ae.title.font,fe=ie.size*b,he=0,be=q.node(),H=s.bBox(be).width;ae.title.side==="top center"?he=.5*(ae._width-2*te-2*c.titlePad-H):ae.title.side==="top right"&&(he=ae._width-2*te-2*c.titlePad-H),t.positionText(q,te+c.titlePad+he,te+fe)}}function k(q,ae){var te=ae||{},ie=q._fullLayout,fe=Z(te),he,be,H=te._inHover;if(H?(be=te.layer,he="hover"):(be=ie._infolayer,he=fe),!!be){he+=ie._uid,q._legendMouseDownTime||(q._legendMouseDownTime=0);var B;if(H){if(!te.entries)return;B=m(te.entries,te)}else{for(var A=(q.calcdata||[]).slice(),X=ie.shapes,I=0;I<X.length;I++){var j=X[I];if(j.showlegend){var T={_isShape:!0,_fullInput:j,index:j._index,name:j.name||j.label.text||"shape "+j._index,legend:j.legend,legendgroup:j.legendgroup,legendgrouptitle:j.legendgrouptitle,legendrank:j.legendrank,legendwidth:j.legendwidth,showlegend:j.showlegend,visible:j.visible,opacity:j.opacity,mode:j.type==="line"?"lines":"markers",line:j.line,marker:{line:j.line,color:j.fillcolor,size:12,symbol:j.type==="rect"?"square":j.type==="circle"?"circle":"hexagon2"}};A.push([{trace:T}])}}B=ie.showlegend&&m(A,te,ie._legends.length>1)}var L=ie.hiddenlabels||[];if(!H&&(!ie.showlegend||!B.length))return be.selectAll("."+fe).remove(),ie._topdefs.select("#"+he).remove(),n.autoMargin(q,fe);var $=e.ensureSingle(be,"g",fe,function(He){H||He.attr("pointer-events","all")}),Y=e.ensureSingleById(ie._topdefs,"clipPath",he,function(He){He.append("rect")}),re=e.ensureSingle($,"rect","bg",function(He){He.attr("shape-rendering","crispEdges")});re.call(d.stroke,te.bordercolor).call(d.fill,te.bgcolor).style("stroke-width",te.borderwidth+"px");var se=e.ensureSingle($,"g","scrollbox"),ce=te.title;te._titleWidth=0,te._titleHeight=0;var we;ce.text?(we=e.ensureSingle(se,"text",fe+"titletext"),we.attr("text-anchor","start").call(s.font,ce.font).text(ce.text),E(we,se,q,te,f)):se.selectAll("."+fe+"titletext").remove();var Se=e.ensureSingle($,"rect","scrollbar",function(He){He.attr(c.scrollBarEnterAttrs).call(d.fill,c.scrollBarColor)}),Ie=se.selectAll("g.groups").data(B);Ie.enter().append("g").attr("class","groups"),Ie.exit().remove();var Ze=Ie.selectAll("g.traces").data(e.identity);Ze.enter().append("g").attr("class","traces"),Ze.exit().remove(),Ze.style("opacity",function(He){var Be=He[0].trace;return r.traceIs(Be,"pie-like")?L.indexOf(He[0].label)!==-1?.5:1:Be.visible==="legendonly"?.5:1}).each(function(){i.select(this).call(O,q,te)}).call(v,q,te).each(function(){H||i.select(this).call(W,q,fe)}),e.syncOrAsync([n.previousPromises,function(){return V(q,Ie,Ze,te)},function(){var He=ie._size,Be=te.borderwidth,pe=te.xref==="paper",_e=te.yref==="paper";if(ce.text&&w(we,te,Be),!H){var oe,Le;pe?oe=He.l+He.w*te.x-y[G(te)]*te._width:oe=ie.width*te.x-y[G(te)]*te._width,_e?Le=He.t+He.h*(1-te.y)-y[D(te)]*te._effHeight:Le=ie.height*(1-te.y)-y[D(te)]*te._effHeight;var Re=U(q,fe,oe,Le);if(Re)return;if(ie.margin.autoexpand){var Ye=oe,ot=Le;oe=pe?e.constrain(oe,0,ie.width-te._width):Ye,Le=_e?e.constrain(Le,0,ie.height-te._effHeight):ot,oe!==Ye&&e.log("Constrain "+fe+".x to make legend fit inside graph"),Le!==ot&&e.log("Constrain "+fe+".y to make legend fit inside graph")}s.setTranslate($,oe,Le)}if(Se.on(".drag",null),$.on("wheel",null),H||te._height<=te._maxHeight||q._context.staticPlot){var Xe=te._effHeight;H&&(Xe=te._height),re.attr({width:te._width-Be,height:Xe-Be,x:Be/2,y:Be/2}),s.setTranslate(se,0,0),Y.select("rect").attr({width:te._width-2*Be,height:Xe-2*Be,x:Be,y:Be}),s.setClipUrl(se,he,q),s.setRect(Se,0,0,0,0),delete te._scrollY}else{var lt=Math.max(c.scrollBarMinHeight,te._effHeight*te._effHeight/te._height),ut=te._effHeight-lt-2*c.scrollBarMargin,dt=te._height-te._effHeight,xt=ut/dt,qe=Math.min(te._scrollY||0,dt);re.attr({width:te._width-2*Be+c.scrollBarWidth+c.scrollBarMargin,height:te._effHeight-Be,x:Be/2,y:Be/2}),Y.select("rect").attr({width:te._width-2*Be+c.scrollBarWidth+c.scrollBarMargin,height:te._effHeight-2*Be,x:Be,y:Be+qe}),s.setClipUrl(se,he,q),K(qe,lt,xt),$.on("wheel",function(){qe=e.constrain(te._scrollY+i.event.deltaY/ut*dt,0,dt),K(qe,lt,xt),qe!==0&&qe!==dt&&i.event.preventDefault()});var bt,Dt,pt,St=function(Me,Je,Qe){var st=(Qe-Je)/xt+Me;return e.constrain(st,0,dt)},me=function(Me,Je,Qe){var st=(Je-Qe)/xt+Me;return e.constrain(st,0,dt)},Ae=i.behavior.drag().on("dragstart",function(){var Me=i.event.sourceEvent;Me.type==="touchstart"?bt=Me.changedTouches[0].clientY:bt=Me.clientY,pt=qe}).on("drag",function(){var Me=i.event.sourceEvent;Me.buttons===2||Me.ctrlKey||(Me.type==="touchmove"?Dt=Me.changedTouches[0].clientY:Dt=Me.clientY,qe=St(pt,bt,Dt),K(qe,lt,xt))});Se.call(Ae);var ke=i.behavior.drag().on("dragstart",function(){var Me=i.event.sourceEvent;Me.type==="touchstart"&&(bt=Me.changedTouches[0].clientY,pt=qe)}).on("drag",function(){var Me=i.event.sourceEvent;Me.type==="touchmove"&&(Dt=Me.changedTouches[0].clientY,qe=me(pt,bt,Dt),K(qe,lt,xt))});se.call(ke)}function K(Me,Je,Qe){te._scrollY=q._fullLayout[fe]._scrollY=Me,s.setTranslate(se,0,-Me),s.setRect(Se,te._width,c.scrollBarMargin+Me*Qe,c.scrollBarWidth,Je),Y.select("rect").attr("y",Be+Me)}if(q._context.edits.legendPosition){var de,xe,ge,Ee;$.classed("cursor-move",!0),o.init({element:$.node(),gd:q,prepFn:function(Me){if(Me.target!==Se.node()){var Je=s.getTranslate($);ge=Je.x,Ee=Je.y}},moveFn:function(Me,Je){if(ge!==void 0&&Ee!==void 0){var Qe=ge+Me,st=Ee+Je;s.setTranslate($,Qe,st),de=o.align(Qe,te._width,He.l,He.l+He.w,te.xanchor),xe=o.align(st+te._height,-te._height,He.t+He.h,He.t,te.yanchor)}},doneFn:function(){if(de!==void 0&&xe!==void 0){var Me={};Me[fe+".x"]=de,Me[fe+".y"]=xe,r.call("_guiRelayout",q,Me)}},clickFn:function(Me,Je){var Qe=be.selectAll("g.traces").filter(function(){var st=this.getBoundingClientRect();return Je.clientX>=st.left&&Je.clientX<=st.right&&Je.clientY>=st.top&&Je.clientY<=st.bottom});Qe.size()>0&&P(q,$,Qe,Me,Je)}})}}],q)}}function J(q,ae,te){var ie=q[0],fe=ie.width,he=ae.entrywidthmode,be=ie.trace.legendwidth||ae.entrywidth;return he==="fraction"?ae._maxWidth*be:te+(be||fe)}function P(q,ae,te,ie,fe){var he=te.data()[0][0].trace,be={event:fe,node:te.node(),curveNumber:he.index,expandedIndex:he.index,data:q.data,layout:q.layout,frames:q._transitionData._frames,config:q._context,fullData:q._fullData,fullLayout:q._fullLayout};he._group&&(be.group=he._group),r.traceIs(he,"pie-like")&&(be.label=te.datum()[0].label);var H=l.triggerHandler(q,"plotly_legendclick",be);if(ie===1){if(H===!1)return;ae._clickTimeout=setTimeout(function(){q._fullLayout&&p(te,q,ie)},q._context.doubleClickDelay)}else if(ie===2){ae._clickTimeout&&clearTimeout(ae._clickTimeout),q._legendMouseDownTime=0;var B=l.triggerHandler(q,"plotly_legenddoubleclick",be);B!==!1&&H!==!1&&p(te,q,ie)}}function O(q,ae,te){var ie=Z(te),fe=q.data()[0][0],he=fe.trace,be=r.traceIs(he,"pie-like"),H=!te._inHover&&ae._context.edits.legendText&&!be,B=te._maxNameLength,A,X;fe.groupTitle?(A=fe.groupTitle.text,X=fe.groupTitle.font):(X=te.font,te.entries?A=fe.text:(A=be?fe.label:he.name,he._meta&&(A=e.templateString(A,he._meta))));var I=e.ensureSingle(q,"text",ie+"text");I.attr("text-anchor","start").call(s.font,X).text(H?M(A,B):A);var j=te.indentation+te.itemwidth+c.itemGap*2;t.positionText(I,j,0),H?I.call(t.makeEditable,{gd:ae,text:A}).call(E,q,ae,te).on("edit",function(T){this.text(M(T,B)).call(E,q,ae,te);var L=fe.trace._fullInput||{},$={};return $.name=T,L._isShape?r.call("_guiRelayout",ae,"shapes["+he.index+"].name",$.name):r.call("_guiRestyle",ae,$,he.index)}):E(I,q,ae,te)}function M(q,ae){var te=Math.max(4,ae);if(q&&q.trim().length>=te/2)return q;q=q||"";for(var ie=te-q.length;ie>0;ie--)q+=" ";return q}function W(q,ae,te){var ie=ae._context.doubleClickDelay,fe,he=1,be=e.ensureSingle(q,"rect",te+"toggle",function(H){ae._context.staticPlot||H.style("cursor","pointer").attr("pointer-events","all"),H.call(d.fill,"rgba(0,0,0,0)")});ae._context.staticPlot||(be.on("mousedown",function(){fe=new Date().getTime(),fe-ae._legendMouseDownTime<ie?he+=1:(he=1,ae._legendMouseDownTime=fe)}),be.on("mouseup",function(){if(!(ae._dragged||ae._editing)){var H=ae._fullLayout[te];new Date().getTime()-ae._legendMouseDownTime>ie&&(he=Math.max(he-1,1)),P(ae,H,q,he,i.event)}}))}function E(q,ae,te,ie,fe){ie._inHover&&q.attr("data-notex",!0),t.convertToTspans(q,te,function(){N(ae,te,ie,fe)})}function N(q,ae,te,ie){var fe=q.data()[0][0];if(!te._inHover&&fe&&!fe.trace.showlegend){q.remove();return}var he=q.select("g[class*=math-group]"),be=he.node(),H=Z(te);te||(te=ae._fullLayout[H]);var B=te.borderwidth,A;ie===f?A=te.title.font:fe.groupTitle?A=fe.groupTitle.font:A=te.font;var X=A.size*b,I,j;if(be){var T=s.bBox(be);I=T.height,j=T.width,ie===f?s.setTranslate(he,B,B+I*.75):s.setTranslate(he,0,I*.25)}else{var L="."+H+(ie===f?"title":"")+"text",$=q.select(L),Y=t.lineCount($),re=$.node();if(I=X*Y,j=re?s.bBox(re).width:0,ie===f)te.title.side==="left"&&(j+=c.itemGap*2),t.positionText($,B+c.titlePad,B+X);else{var se=c.itemGap*2+te.indentation+te.itemwidth;fe.groupTitle&&(se=c.itemGap,j-=te.indentation+te.itemwidth),t.positionText($,se,-X*((Y-1)/2-.3))}}ie===f?(te._titleWidth=j,te._titleHeight=I):(fe.lineHeight=X,fe.height=Math.max(I,16)+3,fe.width=j)}function R(q){var ae=0,te=0,ie=q.title.side;return ie&&(ie.indexOf("left")!==-1&&(ae=q._titleWidth),ie.indexOf("top")!==-1&&(te=q._titleHeight)),[ae,te]}function V(q,ae,te,ie){var fe=q._fullLayout,he=Z(ie);ie||(ie=fe[he]);var be=fe._size,H=u.isVertical(ie),B=u.isGrouped(ie),A=ie.entrywidthmode==="fraction",X=ie.borderwidth,I=2*X,j=c.itemGap,T=ie.indentation+ie.itemwidth+j*2,L=2*(X+j),$=D(ie),Y=ie.y<0||ie.y===0&&$==="top",re=ie.y>1||ie.y===1&&$==="bottom",se=ie.tracegroupgap,ce={};ie._maxHeight=Math.max(Y||re?fe.height/2:be.h,30);var we=0;ie._width=0,ie._height=0;var Se=R(ie);if(H)te.each(function(pt){var St=pt[0].height;s.setTranslate(this,X+Se[0],X+Se[1]+ie._height+St/2+j),ie._height+=St,ie._width=Math.max(ie._width,pt[0].width)}),we=T+ie._width,ie._width+=j+T+I,ie._height+=L,B&&(ae.each(function(pt,St){s.setTranslate(this,0,St*ie.tracegroupgap)}),ie._height+=(ie._lgroupsLength-1)*ie.tracegroupgap);else{var Ie=G(ie),Ze=ie.x<0||ie.x===0&&Ie==="right",He=ie.x>1||ie.x===1&&Ie==="left",Be=re||Y,pe=fe.width/2;ie._maxWidth=Math.max(Ze?Be&&Ie==="left"?be.l+be.w:pe:He?Be&&Ie==="right"?be.r+be.w:pe:be.w,2*T);var _e=0,oe=0;te.each(function(pt){var St=J(pt,ie,T);_e=Math.max(_e,St),oe+=St}),we=null;var Le=0;if(B){var Re=0,Ye=0,ot=0;ae.each(function(){var pt=0,St=0;i.select(this).selectAll("g.traces").each(function(Ae){var ke=J(Ae,ie,T),K=Ae[0].height;s.setTranslate(this,Se[0],Se[1]+X+j+K/2+St),St+=K,pt=Math.max(pt,ke),ce[Ae[0].trace.legendgroup]=pt});var me=pt+j;Ye>0&&me+X+Ye>ie._maxWidth?(Le=Math.max(Le,Ye),Ye=0,ot+=Re+se,Re=St):Re=Math.max(Re,St),s.setTranslate(this,Ye,ot),Ye+=me}),ie._width=Math.max(Le,Ye)+X,ie._height=ot+Re+L}else{var Xe=te.size(),lt=oe+I+(Xe-1)*j<ie._maxWidth,ut=0,dt=0,xt=0,qe=0;te.each(function(pt){var St=pt[0].height,me=J(pt,ie,T),Ae=lt?me:_e;A||(Ae+=j),Ae+X+dt-j>=ie._maxWidth&&(Le=Math.max(Le,qe),dt=0,xt+=ut,ie._height+=ut,ut=0),s.setTranslate(this,Se[0]+X+dt,Se[1]+X+xt+St/2+j),qe=dt+me+j,dt+=Ae,ut=Math.max(ut,St)}),lt?(ie._width=dt+I,ie._height=ut+L):(ie._width=Math.max(Le,qe)+I,ie._height+=ut+L)}}ie._width=Math.ceil(Math.max(ie._width+Se[0],ie._titleWidth+2*(X+c.titlePad))),ie._height=Math.ceil(Math.max(ie._height+Se[1],ie._titleHeight+2*(X+c.itemGap))),ie._effHeight=Math.min(ie._height,ie._maxHeight);var bt=q._context.edits,Dt=bt.legendText||bt.legendPosition;te.each(function(pt){var St=i.select(this).select("."+he+"toggle"),me=pt[0].height,Ae=pt[0].trace.legendgroup,ke=J(pt,ie,T);B&&Ae!==""&&(ke=ce[Ae]);var K=Dt?T:we||ke;!H&&!A&&(K+=j/2),s.setRect(St,0,-me/2,K,me)})}function U(q,ae,te,ie){var fe=q._fullLayout,he=fe[ae],be=G(he),H=D(he),B=he.xref==="paper",A=he.yref==="paper";q._fullLayout._reservedMargin[ae]={};var X=he.y<.5?"b":"t",I=he.x<.5?"l":"r",j={r:fe.width-te,l:te+he._width,b:fe.height-ie,t:ie+he._effHeight};if(B&&A)return n.autoMargin(q,ae,{x:he.x,y:he.y,l:he._width*y[be],r:he._width*g[be],b:he._effHeight*g[H],t:he._effHeight*y[H]});B?q._fullLayout._reservedMargin[ae][X]=j[X]:A||he.orientation==="v"?q._fullLayout._reservedMargin[ae][I]=j[I]:q._fullLayout._reservedMargin[ae][X]=j[X]}function G(q){return e.isRightAnchor(q)?"right":e.isCenterAnchor(q)?"center":"left"}function D(q){return e.isBottomAnchor(q)?"bottom":e.isMiddleAnchor(q)?"middle":"top"}function Z(q){return q._id||"legend"}}),Us=ye(F=>{var C=Xt(),i=on(),e=Va(),n=zt(),r=n.pushUnique,l=n.strTranslate,o=n.strRotate,s=Po(),d=Xr(),t=hu(),p=Ga(),c=$n(),h=Ai(),b=cr(),y=$r().zindexSeparator,g=Kn(),m=Ei(),v=zr(),u=Bs(),f=$s(),_=v.YANGLE,w=Math.PI*_/180,k=1/Math.sin(w),J=Math.cos(w),P=Math.sin(w),O=v.HOVERARROWSIZE,M=v.HOVERTEXTPAD,W={box:!0,ohlc:!0,violin:!0,candlestick:!0},E={scatter:!0,scattergl:!0,splom:!0};function N(T,L){return T.distance-L.distance}F.hover=function(T,L,$,Y){T=n.getGraphDiv(T);var re=L.target;n.throttle(T._fullLayout._uid+v.HOVERID,v.HOVERMINTIME,function(){R(T,L,$,Y,re)})},F.loneHover=function(T,L){var $=!0;Array.isArray(T)||($=!1,T=[T]);var Y=L.gd,re=X(Y),se=I(Y),ce=T.map(function(oe){var Le=oe._x0||oe.x0||oe.x||0,Re=oe._x1||oe.x1||oe.x||0,Ye=oe._y0||oe.y0||oe.y||0,ot=oe._y1||oe.y1||oe.y||0,Xe=oe.eventData;if(Xe){var lt=Math.min(Le,Re),ut=Math.max(Le,Re),dt=Math.min(Ye,ot),xt=Math.max(Ye,ot),qe=oe.trace;if(g.traceIs(qe,"gl3d")){var bt=Y._fullLayout[qe.scene]._scene.container,Dt=bt.offsetLeft,pt=bt.offsetTop;lt+=Dt,ut+=Dt,dt+=pt,xt+=pt}Xe.bbox={x0:lt+se,x1:ut+se,y0:dt+re,y1:xt+re},L.inOut_bbox&&L.inOut_bbox.push(Xe.bbox)}else Xe=!1;return{color:oe.color||c.defaultLine,x0:oe.x0||oe.x||0,x1:oe.x1||oe.x||0,y0:oe.y0||oe.y||0,y1:oe.y1||oe.y||0,xLabel:oe.xLabel,yLabel:oe.yLabel,zLabel:oe.zLabel,text:oe.text,name:oe.name,idealAlign:oe.idealAlign,borderColor:oe.borderColor,fontFamily:oe.fontFamily,fontSize:oe.fontSize,fontColor:oe.fontColor,fontWeight:oe.fontWeight,fontStyle:oe.fontStyle,fontVariant:oe.fontVariant,nameLength:oe.nameLength,textAlign:oe.textAlign,trace:oe.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:oe.hovertemplate||!1,hovertemplateLabels:oe.hovertemplateLabels||!1,eventData:Xe}}),we=!1,Se=G(ce,{gd:Y,hovermode:"closest",rotateLabels:we,bgColor:L.bgColor||c.background,container:C.select(L.container),outerContainer:L.outerContainer||L.container}),Ie=Se.hoverLabels,Ze=5,He=0,Be=0;Ie.sort(function(oe,Le){return oe.y0-Le.y0}).each(function(oe,Le){var Re=oe.y0-oe.by/2;Re-Ze<He?oe.offset=He-Re+Ze:oe.offset=0,He=Re+oe.by+oe.offset,Le===L.anchorIndex&&(Be=oe.offset)}).each(function(oe){oe.offset-=Be});var pe=Y._fullLayout._invScaleX,_e=Y._fullLayout._invScaleY;return te(Ie,we,pe,_e),$?Ie:Ie.node()};function R(T,L,$,Y,re){$||($="xy"),typeof $=="string"&&($=$.split(y)[0]);var se=Array.isArray($)?$:[$],ce,we=T._fullLayout,Se=we.hoversubplots,Ie=we._plots||[],Ze=Ie[$],He=we._has("cartesian"),Be=L.hovermode||we.hovermode,pe=(Be||"").charAt(0)==="x",_e=(Be||"").charAt(0)==="y",oe,Le;if(He&&(pe||_e)&&Se==="axis"){for(var Re=se.length,Ye=0;Ye<Re;Ye++)if(ce=se[Ye],Ie[ce]){oe=b.getFromId(T,ce,"x"),Le=b.getFromId(T,ce,"y");var ot=(pe?oe:Le)._subplotsWith;if(ot&&ot.length)for(var Xe=0;Xe<ot.length;Xe++)r(se,ot[Xe])}}if(Ze&&Se!=="single"){var lt=Ze.overlays.map(function(Zn){return Zn.id});se=se.concat(lt)}for(var ut=se.length,dt=new Array(ut),xt=new Array(ut),qe=!1,bt=0;bt<ut;bt++)if(ce=se[bt],Ie[ce])qe=!0,dt[bt]=Ie[ce].xaxis,xt[bt]=Ie[ce].yaxis;else if(we[ce]&&we[ce]._subplot){var Dt=we[ce]._subplot;dt[bt]=Dt.xaxis,xt[bt]=Dt.yaxis}else{n.warn("Unrecognized subplot: "+ce);return}if(Be&&!qe&&(Be="closest"),["x","y","closest","x unified","y unified"].indexOf(Be)===-1||!T.calcdata||T.querySelector(".zoombox")||T._dragging)return h.unhoverRaw(T,L);var pt=we.hoverdistance;pt===-1&&(pt=1/0);var St=we.spikedistance;St===-1&&(St=1/0);var me=[],Ae=[],ke,K,de,xe,ge,Ee,Me,Je,Qe,st,ze,rt,ft,yt={hLinePoint:null,vLinePoint:null},Ht=!1;if(Array.isArray(L))for(Be="array",de=0;de<L.length;de++)ge=T.calcdata[L[de].curveNumber||0],ge&&(Ee=ge[0].trace,ge[0].trace.hoverinfo!=="skip"&&(Ae.push(ge),Ee.orientation==="h"&&(Ht=!0)));else{var Wt=T.calcdata.slice();for(Wt.sort(function(Zn,er){var Ba=Zn[0].trace.zorder||0,Ja=er[0].trace.zorder||0;return Ba-Ja}),xe=0;xe<Wt.length;xe++)ge=Wt[xe],Ee=ge[0].trace,Ee.hoverinfo!=="skip"&&m.isTraceInSubplots(Ee,se)&&(Ae.push(ge),Ee.orientation==="h"&&(Ht=!0));var hn=!re,Bt,en;if(hn)"xpx"in L?Bt=L.xpx:Bt=dt[0]._length/2,"ypx"in L?en=L.ypx:en=xt[0]._length/2;else{if(s.triggerHandler(T,"plotly_beforehover",L)===!1)return;var Ft=re.getBoundingClientRect();Bt=L.clientX-Ft.left,en=L.clientY-Ft.top,we._calcInverseTransform(T);var Nt=n.apply3DTransform(we._invTransform)(Bt,en);if(Bt=Nt[0],en=Nt[1],Bt<0||Bt>dt[0]._length||en<0||en>xt[0]._length)return h.unhoverRaw(T,L)}if(L.pointerX=Bt+dt[0]._offset,L.pointerY=en+xt[0]._offset,"xval"in L?ke=m.flat(se,L.xval):ke=m.p2c(dt,Bt),"yval"in L?K=m.flat(se,L.yval):K=m.p2c(xt,en),!i(ke[0])||!i(K[0]))return n.warn("Fx.hover failed",L,T),h.unhoverRaw(T,L)}var ln=1/0;function tn(Zn,er){for(xe=0;xe<Ae.length;xe++)if(ge=Ae[xe],!(!ge||!ge[0]||!ge[0].trace)&&(Ee=ge[0].trace,!(Ee.visible!==!0||Ee._length===0)&&["carpet","contourcarpet"].indexOf(Ee._module.name)===-1)){if(Qe=Be,m.isUnifiedHover(Qe)&&(Qe=Qe.charAt(0)),Ee.type==="splom"?(Je=0,Me=se[Je]):(Me=m.getSubplot(Ee),Je=se.indexOf(Me)),rt={cd:ge,trace:Ee,xa:dt[Je],ya:xt[Je],maxHoverDistance:pt,maxSpikeDistance:St,index:!1,distance:Math.min(ln,pt),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:c.defaultLine,name:Ee.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},we[Me]&&(rt.subplot=we[Me]._subplot),we._splomScenes&&we._splomScenes[Ee.uid]&&(rt.scene=we._splomScenes[Ee.uid]),Qe==="array"){var Ba=L[xe];"pointNumber"in Ba?(rt.index=Ba.pointNumber,Qe="closest"):(Qe="","xval"in Ba&&(st=Ba.xval,Qe="x"),"yval"in Ba&&(ze=Ba.yval,Qe=Qe?"closest":"y"))}else Zn!==void 0&&er!==void 0?(st=Zn,ze=er):(st=ke[Je],ze=K[Je]);if(ft=me.length,pt!==0)if(Ee._module&&Ee._module.hoverPoints){var Ja=Ee._module.hoverPoints(rt,st,ze,Qe,{finiteRange:!0,hoverLayer:we._hoverlayer,hoversubplots:Se,gd:T});if(Ja)for(var fa,ha=0;ha<Ja.length;ha++)fa=Ja[ha],i(fa.x0)&&i(fa.y0)&&me.push(ie(fa,Be))}else n.log("Unrecognized trace type in hover:",Ee);if(Be==="closest"&&me.length>ft&&(me.splice(0,ft),ln=me[0].distance),He&&St!==0&&me.length===0){rt.distance=St,rt.index=!1;var ia=Ee._module.hoverPoints(rt,st,ze,"closest",{hoverLayer:we._hoverlayer});if(ia&&(ia=ia.filter(function(lr){return lr.spikeDistance<=St})),ia&&ia.length){var Fa,Wa=ia.filter(function(lr){return lr.xa.showspikes&&lr.xa.spikesnap!=="hovered data"});if(Wa.length){var Qa=Wa[0];i(Qa.x0)&&i(Qa.y0)&&(Fa=Ut(Qa),(!yt.vLinePoint||yt.vLinePoint.spikeDistance>Fa.spikeDistance)&&(yt.vLinePoint=Fa))}var ir=ia.filter(function(lr){return lr.ya.showspikes&&lr.ya.spikesnap!=="hovered data"});if(ir.length){var tr=ir[0];i(tr.x0)&&i(tr.y0)&&(Fa=Ut(tr),(!yt.hLinePoint||yt.hLinePoint.spikeDistance>Fa.spikeDistance)&&(yt.hLinePoint=Fa))}}}}}tn();function sn(Zn,er,Ba){for(var Ja=null,fa=1/0,ha,ia=0;ia<Zn.length;ia++)oe&&oe._id!==Zn[ia].xa._id||Le&&Le._id!==Zn[ia].ya._id||(ha=Zn[ia].spikeDistance,Ba&&ia===0&&(ha=-1/0),ha<=fa&&ha<=er&&(Ja=Zn[ia],fa=ha));return Ja}function Ut(Zn){return Zn?{xa:Zn.xa,ya:Zn.ya,x:Zn.xSpike!==void 0?Zn.xSpike:(Zn.x0+Zn.x1)/2,y:Zn.ySpike!==void 0?Zn.ySpike:(Zn.y0+Zn.y1)/2,distance:Zn.distance,spikeDistance:Zn.spikeDistance,curveNumber:Zn.trace.index,color:Zn.color,pointNumber:Zn.index}:null}var Pt={fullLayout:we,container:we._hoverlayer,event:L},nn=T._spikepoints,On={vLinePoint:yt.vLinePoint,hLinePoint:yt.hLinePoint};T._spikepoints=On;var Qn=function(){var Zn=me.filter(function(Ba){return oe&&oe._id===Ba.xa._id&&Le&&Le._id===Ba.ya._id}),er=me.filter(function(Ba){return!(oe&&oe._id===Ba.xa._id&&Le&&Le._id===Ba.ya._id)});Zn.sort(N),er.sort(N),me=Zn.concat(er),me=B(me,Be)};Qn();var rn=Be.charAt(0),In=(rn==="x"||rn==="y")&&me[0]&&E[me[0].trace.type];if(He&&St!==0&&me.length!==0){var Nn=me.filter(function(Zn){return Zn.ya.showspikes}),xa=sn(Nn,St,In);yt.hLinePoint=Ut(xa);var Et=me.filter(function(Zn){return Zn.xa.showspikes}),ea=sn(Et,St,In);yt.vLinePoint=Ut(ea)}if(me.length===0){var ee=h.unhoverRaw(T,L);return He&&(yt.hLinePoint!==null||yt.vLinePoint!==null)&&be(nn)&&fe(T,yt,Pt),ee}if(He&&be(nn)&&fe(T,yt,Pt),m.isXYhover(Qe)&&me[0].length!==0&&me[0].trace.type!=="splom"){var le=me[0];W[le.trace.type]?me=me.filter(function(Zn){return Zn.trace.index===le.trace.index}):me=[le];var $e=me.length,Ve=A("x",le,we),De=A("y",le,we);tn(Ve,De);var Pe=[],je={},We=0,Ne=function(Zn){var er=W[Zn.trace.type]?V(Zn):Zn.trace.index;if(!je[er])We++,je[er]=We,Pe.push(Zn);else{var Ba=je[er]-1,Ja=Pe[Ba];Ba>0&&Math.abs(Zn.distance)<Math.abs(Ja.distance)&&(Pe[Ba]=Zn)}},Ue;for(Ue=0;Ue<$e;Ue++)Ne(me[Ue]);for(Ue=me.length-1;Ue>$e-1;Ue--)Ne(me[Ue]);me=Pe,Qn()}var Ke=T._hoverdata,it=[],_t=X(T),Ct=I(T);for(de=0;de<me.length;de++){var Mt=me[de],jt=m.makeEventData(Mt,Mt.trace,Mt.cd);if(Mt.hovertemplate!==!1){var $t=!1;Mt.cd[Mt.index]&&Mt.cd[Mt.index].ht&&($t=Mt.cd[Mt.index].ht),Mt.hovertemplate=$t||Mt.trace.hovertemplate||!1}if(Mt.xa&&Mt.ya){var bn=Mt.x0+Mt.xa._offset,Zt=Mt.x1+Mt.xa._offset,an=Mt.y0+Mt.ya._offset,wn=Mt.y1+Mt.ya._offset,Bn=Math.min(bn,Zt),na=Math.max(bn,Zt),Ha=Math.min(an,wn),Ta=Math.max(an,wn);jt.bbox={x0:Bn+Ct,x1:na+Ct,y0:Ha+_t,y1:Ta+_t}}Mt.eventData=[jt],it.push(jt)}T._hoverdata=it;var Oa=Be==="y"&&(Ae.length>1||me.length>1)||Be==="closest"&&Ht&&me.length>1,br=c.combine(we.plot_bgcolor||c.background,we.paper_bgcolor),mr=G(me,{gd:T,hovermode:Be,rotateLabels:Oa,bgColor:br,container:we._hoverlayer,outerContainer:we._paper.node(),commonLabelOpts:we.hoverlabel,hoverdistance:we.hoverdistance}),Ea=mr.hoverLabels;if(m.isUnifiedHover(Be)||(Z(Ea,Oa,we,mr.commonLabelBoundingBox),te(Ea,Oa,we._invScaleX,we._invScaleY)),re&&re.tagName){var Ma=g.getComponentMethod("annotations","hasClickToShow")(T,it);t(C.select(re),Ma?"pointer":"")}!re||Y||!he(T,L,Ke)||(Ke&&T.emit("plotly_unhover",{event:L,points:Ke}),T.emit("plotly_hover",{event:L,points:T._hoverdata,xaxes:dt,yaxes:xt,xvals:ke,yvals:K}))}function V(T){return[T.trace.index,T.index,T.x0,T.y0,T.name,T.attr,T.xa?T.xa._id:"",T.ya?T.ya._id:""].join(",")}var U=/<extra>([\s\S]*)<\/extra>/;function G(T,L){var $=L.gd,Y=$._fullLayout,re=L.hovermode,se=L.rotateLabels,ce=L.bgColor,we=L.container,Se=L.outerContainer,Ie=L.commonLabelOpts||{};if(T.length===0)return[[]];var Ze=L.fontFamily||v.HOVERFONT,He=L.fontSize||v.HOVERFONTSIZE,Be=L.fontWeight||Y.font.weight,pe=L.fontStyle||Y.font.style,_e=L.fontVariant||Y.font.variant,oe=L.fontTextcase||Y.font.textcase,Le=L.fontLineposition||Y.font.lineposition,Re=L.fontShadow||Y.font.shadow,Ye=T[0],ot=Ye.xa,Xe=Ye.ya,lt=re.charAt(0),ut=lt+"Label",dt=Ye[ut];if(dt===void 0&&ot.type==="multicategory")for(var xt=0;xt<T.length&&(dt=T[xt][ut],dt===void 0);xt++);var qe=j($,Se),bt=qe.top,Dt=qe.width,pt=qe.height,St=dt!==void 0&&Ye.distance<=L.hoverdistance&&(re==="x"||re==="y");if(St){var me=!0,Ae,ke;for(Ae=0;Ae<T.length;Ae++)if(me&&T[Ae].zLabel===void 0&&(me=!1),ke=T[Ae].hoverinfo||T[Ae].trace.hoverinfo,ke){var K=Array.isArray(ke)?ke:ke.split("+");if(K.indexOf("all")===-1&&K.indexOf(re)===-1){St=!1;break}}me&&(St=!1)}var de=we.selectAll("g.axistext").data(St?[0]:[]);de.enter().append("g").classed("axistext",!0),de.exit().remove();var xe={minX:0,maxX:0,minY:0,maxY:0};if(de.each(function(){var Et=C.select(this),ea=n.ensureSingle(Et,"path","",function(Bn){Bn.style({"stroke-width":"1px"})}),ee=n.ensureSingle(Et,"text","",function(Bn){Bn.attr("data-notex",1)}),le=Ie.bgcolor||c.defaultLine,$e=Ie.bordercolor||c.contrast(le),Ve=c.contrast(le),De=Ie.font,Pe={weight:De.weight||Be,style:De.style||pe,variant:De.variant||_e,textcase:De.textcase||oe,lineposition:De.lineposition||Le,shadow:De.shadow||Re,family:De.family||Ze,size:De.size||He,color:De.color||Ve};ea.style({fill:le,stroke:$e}),ee.text(dt).call(p.font,Pe).call(d.positionText,0,0).call(d.convertToTspans,$),Et.attr("transform","");var je=j($,ee.node()),We,Ne;if(re==="x"){var Ue=ot.side==="top"?"-":"";ee.attr("text-anchor","middle").call(d.positionText,0,ot.side==="top"?bt-je.bottom-O-M:bt-je.top+O+M),We=ot._offset+(Ye.x0+Ye.x1)/2,Ne=Xe._offset+(ot.side==="top"?0:Xe._length);var Ke=je.width/2+M,it=We;We<Ke?it=Ke:We>Y.width-Ke&&(it=Y.width-Ke),ea.attr("d","M"+(We-it)+",0L"+(We-it+O)+","+Ue+O+"H"+Ke+"v"+Ue+(M*2+je.height)+"H"+-Ke+"V"+Ue+O+"H"+(We-it-O)+"Z"),We=it,xe.minX=We-Ke,xe.maxX=We+Ke,ot.side==="top"?(xe.minY=Ne-(M*2+je.height),xe.maxY=Ne-M):(xe.minY=Ne+M,xe.maxY=Ne+(M*2+je.height))}else{var _t,Ct,Mt;Xe.side==="right"?(_t="start",Ct=1,Mt="",We=ot._offset+ot._length):(_t="end",Ct=-1,Mt="-",We=ot._offset),Ne=Xe._offset+(Ye.y0+Ye.y1)/2,ee.attr("text-anchor",_t),ea.attr("d","M0,0L"+Mt+O+","+O+"V"+(M+je.height/2)+"h"+Mt+(M*2+je.width)+"V-"+(M+je.height/2)+"H"+Mt+O+"V-"+O+"Z"),xe.minY=Ne-(M+je.height/2),xe.maxY=Ne+(M+je.height/2),Xe.side==="right"?(xe.minX=We+O,xe.maxX=We+O+(M*2+je.width)):(xe.minX=We-O-(M*2+je.width),xe.maxX=We-O);var jt=je.height/2,$t=bt-je.top-jt,bn="clip"+Y._uid+"commonlabel"+Xe._id,Zt;if(We<je.width+2*M+O){Zt="M-"+(O+M)+"-"+jt+"h-"+(je.width-M)+"V"+jt+"h"+(je.width-M)+"Z";var an=je.width-We+M;d.positionText(ee,an,$t),_t==="end"&&ee.selectAll("tspan").each(function(){var Bn=C.select(this),na=p.tester.append("text").text(Bn.text()).call(p.font,Pe),Ha=j($,na.node());Math.round(Ha.width)<Math.round(je.width)&&Bn.attr("x",an-Ha.width),na.remove()})}else d.positionText(ee,Ct*(M+O),$t),Zt=null;var wn=Y._topclips.selectAll("#"+bn).data(Zt?[0]:[]);wn.enter().append("clipPath").attr("id",bn).append("path"),wn.exit().remove(),wn.select("path").attr("d",Zt),p.setClipUrl(ee,Zt?bn:null,$)}Et.attr("transform",l(We,Ne))}),m.isUnifiedHover(re)){we.selectAll("g.hovertext").remove();var ge=T.filter(function(Et){return Et.hoverinfo!=="none"});if(ge.length===0)return[];var Ee=Y.hoverlabel,Me=Ee.font,Je={showlegend:!0,legend:{title:{text:dt,font:Me},font:Me,bgcolor:Ee.bgcolor,bordercolor:Ee.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:Y.legend?Y.legend.traceorder:void 0,orientation:"v"}},Qe={font:Me};u(Je,Qe,$._fullData);var st=Qe.legend;st.entries=[];for(var ze=0;ze<ge.length;ze++){var rt=ge[ze];if(rt.hoverinfo!=="none"){var ft=D(rt,!0,re,Y,dt),yt=ft[0],Ht=ft[1];rt.name=Ht,Ht!==""?rt.text=Ht+" : "+yt:rt.text=yt;var Wt=rt.cd[rt.index];Wt&&(Wt.mc&&(rt.mc=Wt.mc),Wt.mcc&&(rt.mc=Wt.mcc),Wt.mlc&&(rt.mlc=Wt.mlc),Wt.mlcc&&(rt.mlc=Wt.mlcc),Wt.mlw&&(rt.mlw=Wt.mlw),Wt.mrc&&(rt.mrc=Wt.mrc),Wt.dir&&(rt.dir=Wt.dir)),rt._distinct=!0,st.entries.push([rt])}}st.entries.sort(function(Et,ea){return Et[0].trace.index-ea[0].trace.index}),st.layer=we,st._inHover=!0,st._groupTitleFont=Ee.grouptitlefont,f($,st);var hn=we.select("g.legend"),Bt=j($,hn.node()),en=Bt.width+2*M,Ft=Bt.height+2*M,Nt=ge[0],ln=(Nt.x0+Nt.x1)/2,tn=(Nt.y0+Nt.y1)/2,sn=!(g.traceIs(Nt.trace,"bar-like")||g.traceIs(Nt.trace,"box-violin")),Ut,Pt;lt==="y"?sn?(Pt=tn-M,Ut=tn+M):(Pt=Math.min.apply(null,ge.map(function(Et){return Math.min(Et.y0,Et.y1)})),Ut=Math.max.apply(null,ge.map(function(Et){return Math.max(Et.y0,Et.y1)}))):Pt=Ut=n.mean(ge.map(function(Et){return(Et.y0+Et.y1)/2}))-Ft/2;var nn,On;lt==="x"?sn?(nn=ln+M,On=ln-M):(nn=Math.max.apply(null,ge.map(function(Et){return Math.max(Et.x0,Et.x1)})),On=Math.min.apply(null,ge.map(function(Et){return Math.min(Et.x0,Et.x1)}))):nn=On=n.mean(ge.map(function(Et){return(Et.x0+Et.x1)/2}))-en/2;var Qn=ot._offset,rn=Xe._offset;Ut+=rn,nn+=Qn,On+=Qn-en,Pt+=rn-Ft;var In,Nn;return nn+en<Dt&&nn>=0?In=nn:On+en<Dt&&On>=0?In=On:Qn+en<Dt?In=Qn:nn-ln<ln-On+en?In=Dt-en:In=0,In+=M,Ut+Ft<pt&&Ut>=0?Nn=Ut:Pt+Ft<pt&&Pt>=0?Nn=Pt:rn+Ft<pt?Nn=rn:Ut-tn<tn-Pt+Ft?Nn=pt-Ft:Nn=0,Nn+=M,hn.attr("transform",l(In-1,Nn-1)),hn}var xa=we.selectAll("g.hovertext").data(T,function(Et){return V(Et)});return xa.enter().append("g").classed("hovertext",!0).each(function(){var Et=C.select(this);Et.append("rect").call(c.fill,c.addOpacity(ce,.8)),Et.append("text").classed("name",!0),Et.append("path").style("stroke-width","1px"),Et.append("text").classed("nums",!0).call(p.font,{weight:Be,style:pe,variant:_e,textcase:oe,lineposition:Le,shadow:Re,family:Ze,size:He})}),xa.exit().remove(),xa.each(function(Et){var ea=C.select(this).attr("transform",""),ee=Et.color;Array.isArray(ee)&&(ee=ee[Et.eventData[0].pointNumber]);var le=Et.bgcolor||ee,$e=c.combine(c.opacity(le)?le:c.defaultLine,ce),Ve=c.combine(c.opacity(ee)?ee:c.defaultLine,ce),De=Et.borderColor||c.contrast($e),Pe=D(Et,St,re,Y,dt,ea),je=Pe[0],We=Pe[1],Ne=ea.select("text.nums").call(p.font,{family:Et.fontFamily||Ze,size:Et.fontSize||He,color:Et.fontColor||De,weight:Et.fontWeight||Be,style:Et.fontStyle||pe,variant:Et.fontVariant||_e,textcase:Et.fontTextcase||oe,lineposition:Et.fontLineposition||Le,shadow:Et.fontShadow||Re}).text(je).attr("data-notex",1).call(d.positionText,0,0).call(d.convertToTspans,$),Ue=ea.select("text.name"),Ke=0,it=0;if(We&&We!==je){Ue.call(p.font,{family:Et.fontFamily||Ze,size:Et.fontSize||He,color:Ve,weight:Et.fontWeight||Be,style:Et.fontStyle||pe,variant:Et.fontVariant||_e,textcase:Et.fontTextcase||oe,lineposition:Et.fontLineposition||Le,shadow:Et.fontShadow||Re}).text(We).attr("data-notex",1).call(d.positionText,0,0).call(d.convertToTspans,$);var _t=j($,Ue.node());Ke=_t.width+2*M,it=_t.height+2*M}else Ue.remove(),ea.select("rect").remove();ea.select("path").style({fill:$e,stroke:De});var Ct=Et.xa._offset+(Et.x0+Et.x1)/2,Mt=Et.ya._offset+(Et.y0+Et.y1)/2,jt=Math.abs(Et.x1-Et.x0),$t=Math.abs(Et.y1-Et.y0),bn=j($,Ne.node()),Zt=bn.width/Y._invScaleX,an=bn.height/Y._invScaleY;Et.ty0=(bt-bn.top)/Y._invScaleY,Et.bx=Zt+2*M,Et.by=Math.max(an+2*M,it),Et.anchor="start",Et.txwidth=Zt,Et.tx2width=Ke,Et.offset=0;var wn=(Zt+O+M+Ke)*Y._invScaleX,Bn,na;if(se)Et.pos=Ct,Bn=Mt+$t/2+wn<=pt,na=Mt-$t/2-wn>=0,(Et.idealAlign==="top"||!Bn)&&na?(Mt-=$t/2,Et.anchor="end"):Bn?(Mt+=$t/2,Et.anchor="start"):Et.anchor="middle",Et.crossPos=Mt;else{if(Et.pos=Mt,Bn=Ct+jt/2+wn<=Dt,na=Ct-jt/2-wn>=0,(Et.idealAlign==="left"||!Bn)&&na)Ct-=jt/2,Et.anchor="end";else if(Bn)Ct+=jt/2,Et.anchor="start";else{Et.anchor="middle";var Ha=wn/2,Ta=Ct+Ha-Dt,Oa=Ct-Ha;Ta>0&&(Ct-=Ta),Oa<0&&(Ct+=-Oa)}Et.crossPos=Ct}Ne.attr("text-anchor",Et.anchor),Ke&&Ue.attr("text-anchor",Et.anchor),ea.attr("transform",l(Ct,Mt)+(se?o(_):""))}),{hoverLabels:xa,commonLabelBoundingBox:xe}}function D(T,L,$,Y,re,se){var ce="",we="";T.nameOverride!==void 0&&(T.name=T.nameOverride),T.name&&(T.trace._meta&&(T.name=n.templateString(T.name,T.trace._meta)),ce=H(T.name,T.nameLength));var Se=$.charAt(0),Ie=Se==="x"?"y":"x";T.zLabel!==void 0?(T.xLabel!==void 0&&(we+="x: "+T.xLabel+"<br>"),T.yLabel!==void 0&&(we+="y: "+T.yLabel+"<br>"),T.trace.type!=="choropleth"&&T.trace.type!=="choroplethmapbox"&&T.trace.type!=="choroplethmap"&&(we+=(we?"z: ":"")+T.zLabel)):L&&T[Se+"Label"]===re?we=T[Ie+"Label"]||"":T.xLabel===void 0?T.yLabel!==void 0&&T.trace.type!=="scattercarpet"&&(we=T.yLabel):T.yLabel===void 0?we=T.xLabel:we="("+T.xLabel+", "+T.yLabel+")",(T.text||T.text===0)&&!Array.isArray(T.text)&&(we+=(we?"<br>":"")+T.text),T.extraText!==void 0&&(we+=(we?"<br>":"")+T.extraText),se&&we===""&&!T.hovertemplate&&(ce===""&&se.remove(),we=ce);var Ze=T.hovertemplate||!1;if(Ze){var He=T.hovertemplateLabels||T;T[Se+"Label"]!==re&&(He[Se+"other"]=He[Se+"Val"],He[Se+"otherLabel"]=He[Se+"Label"]),we=n.hovertemplateString(Ze,He,Y._d3locale,T.eventData[0]||{},T.trace._meta),we=we.replace(U,function(Be,pe){return ce=H(pe,T.nameLength),""})}return[we,ce]}function Z(T,L,$,Y){var re=L?"xa":"ya",se=L?"ya":"xa",ce=0,we=1,Se=T.size(),Ie=new Array(Se),Ze=0,He=Y.minX,Be=Y.maxX,pe=Y.minY,_e=Y.maxY,oe=function(ke){return ke*$._invScaleX},Le=function(ke){return ke*$._invScaleY};T.each(function(ke){var K=ke[re],de=ke[se],xe=K._id.charAt(0)==="x",ge=K.range;Ze===0&&ge&&ge[0]>ge[1]!==xe&&(we=-1);var Ee=0,Me=xe?$.width:$.height;if($.hovermode==="x"||$.hovermode==="y"){var Je=q(ke,L),Qe=ke.anchor,st=Qe==="end"?-1:1,ze,rt;if(Qe==="middle")ze=ke.crossPos+(xe?Le(Je.y-ke.by/2):oe(ke.bx/2+ke.tx2width/2)),rt=ze+(xe?Le(ke.by):oe(ke.bx));else if(xe)ze=ke.crossPos+Le(O+Je.y)-Le(ke.by/2-O),rt=ze+Le(ke.by);else{var ft=oe(st*O+Je.x),yt=ft+oe(st*ke.bx);ze=ke.crossPos+Math.min(ft,yt),rt=ke.crossPos+Math.max(ft,yt)}xe?pe!==void 0&&_e!==void 0&&Math.min(rt,_e)-Math.max(ze,pe)>1&&(de.side==="left"?(Ee=de._mainLinePosition,Me=$.width):Me=de._mainLinePosition):He!==void 0&&Be!==void 0&&Math.min(rt,Be)-Math.max(ze,He)>1&&(de.side==="top"?(Ee=de._mainLinePosition,Me=$.height):Me=de._mainLinePosition)}Ie[Ze++]=[{datum:ke,traceIndex:ke.trace.index,dp:0,pos:ke.pos,posref:ke.posref,size:ke.by*(xe?k:1)/2,pmin:Ee,pmax:Me}]}),Ie.sort(function(ke,K){return ke[0].posref-K[0].posref||we*(K[0].traceIndex-ke[0].traceIndex)});var Re,Ye,ot,Xe,lt,ut,dt;function xt(ke){var K=ke[0],de=ke[ke.length-1];if(Ye=K.pmin-K.pos-K.dp+K.size,ot=de.pos+de.dp+de.size-K.pmax,Ye>.01){for(lt=ke.length-1;lt>=0;lt--)ke[lt].dp+=Ye;Re=!1}if(!(ot<.01)){if(Ye<-.01){for(lt=ke.length-1;lt>=0;lt--)ke[lt].dp-=ot;Re=!1}if(Re){var xe=0;for(Xe=0;Xe<ke.length;Xe++)ut=ke[Xe],ut.pos+ut.dp+ut.size>K.pmax&&xe++;for(Xe=ke.length-1;Xe>=0&&!(xe<=0);Xe--)ut=ke[Xe],ut.pos>K.pmax-1&&(ut.del=!0,xe--);for(Xe=0;Xe<ke.length&&!(xe<=0);Xe++)if(ut=ke[Xe],ut.pos<K.pmin+1)for(ut.del=!0,xe--,ot=ut.size*2,lt=ke.length-1;lt>=0;lt--)ke[lt].dp-=ot;for(Xe=ke.length-1;Xe>=0&&!(xe<=0);Xe--)ut=ke[Xe],ut.pos+ut.dp+ut.size>K.pmax&&(ut.del=!0,xe--)}}}for(;!Re&&ce<=Se;){for(ce++,Re=!0,Xe=0;Xe<Ie.length-1;){var qe=Ie[Xe],bt=Ie[Xe+1],Dt=qe[qe.length-1],pt=bt[0];if(Ye=Dt.pos+Dt.dp+Dt.size-pt.pos-pt.dp+pt.size,Ye>.01){for(lt=bt.length-1;lt>=0;lt--)bt[lt].dp+=Ye;for(qe.push.apply(qe,bt),Ie.splice(Xe+1,1),dt=0,lt=qe.length-1;lt>=0;lt--)dt+=qe[lt].dp;for(ot=dt/qe.length,lt=qe.length-1;lt>=0;lt--)qe[lt].dp-=ot;Re=!1}else Xe++}Ie.forEach(xt)}for(Xe=Ie.length-1;Xe>=0;Xe--){var St=Ie[Xe];for(lt=St.length-1;lt>=0;lt--){var me=St[lt],Ae=me.datum;Ae.offset=me.dp,Ae.del=me.del}}}function q(T,L){var $=0,Y=T.offset;return L&&(Y*=-P,$=T.offset*J),{x:$,y:Y}}function ae(T){var L={start:1,end:-1,middle:0}[T.anchor],$=L*(O+M),Y=$+L*(T.txwidth+M),re=T.anchor==="middle";return re&&($-=T.tx2width/2,Y+=T.txwidth/2+M),{alignShift:L,textShiftX:$,text2ShiftX:Y}}function te(T,L,$,Y){var re=function(ce){return ce*$},se=function(ce){return ce*Y};T.each(function(ce){var we=C.select(this);if(ce.del)return we.remove();var Se=we.select("text.nums"),Ie=ce.anchor,Ze=Ie==="end"?-1:1,He=ae(ce),Be=q(ce,L),pe=Be.x,_e=Be.y,oe=Ie==="middle";we.select("path").attr("d",oe?"M-"+re(ce.bx/2+ce.tx2width/2)+","+se(_e-ce.by/2)+"h"+re(ce.bx)+"v"+se(ce.by)+"h-"+re(ce.bx)+"Z":"M0,0L"+re(Ze*O+pe)+","+se(O+_e)+"v"+se(ce.by/2-O)+"h"+re(Ze*ce.bx)+"v-"+se(ce.by)+"H"+re(Ze*O+pe)+"V"+se(_e-O)+"Z");var Le=pe+He.textShiftX,Re=_e+ce.ty0-ce.by/2+M,Ye=ce.textAlign||"auto";Ye!=="auto"&&(Ye==="left"&&Ie!=="start"?(Se.attr("text-anchor","start"),Le=oe?-ce.bx/2-ce.tx2width/2+M:-ce.bx-M):Ye==="right"&&Ie!=="end"&&(Se.attr("text-anchor","end"),Le=oe?ce.bx/2-ce.tx2width/2-M:ce.bx+M)),Se.call(d.positionText,re(Le),se(Re)),ce.tx2width&&(we.select("text.name").call(d.positionText,re(He.text2ShiftX+He.alignShift*M+pe),se(_e+ce.ty0-ce.by/2+M)),we.select("rect").call(p.setRect,re(He.text2ShiftX+(He.alignShift-1)*ce.tx2width/2+pe),se(_e-ce.by/2-1),re(ce.tx2width),se(ce.by+2)))})}function ie(T,L){var $=T.index,Y=T.trace||{},re=T.cd[0],se=T.cd[$]||{};function ce(Be){return Be||i(Be)&&Be===0}var we=Array.isArray($)?function(Be,pe){var _e=n.castOption(re,$,Be);return ce(_e)?_e:n.extractOption({},Y,"",pe)}:function(Be,pe){return n.extractOption(se,Y,Be,pe)};function Se(Be,pe,_e){var oe=we(pe,_e);ce(oe)&&(T[Be]=oe)}if(Se("hoverinfo","hi","hoverinfo"),Se("bgcolor","hbg","hoverlabel.bgcolor"),Se("borderColor","hbc","hoverlabel.bordercolor"),Se("fontFamily","htf","hoverlabel.font.family"),Se("fontSize","hts","hoverlabel.font.size"),Se("fontColor","htc","hoverlabel.font.color"),Se("fontWeight","htw","hoverlabel.font.weight"),Se("fontStyle","hty","hoverlabel.font.style"),Se("fontVariant","htv","hoverlabel.font.variant"),Se("nameLength","hnl","hoverlabel.namelength"),Se("textAlign","hta","hoverlabel.align"),T.posref=L==="y"||L==="closest"&&Y.orientation==="h"?T.xa._offset+(T.x0+T.x1)/2:T.ya._offset+(T.y0+T.y1)/2,T.x0=n.constrain(T.x0,0,T.xa._length),T.x1=n.constrain(T.x1,0,T.xa._length),T.y0=n.constrain(T.y0,0,T.ya._length),T.y1=n.constrain(T.y1,0,T.ya._length),T.xLabelVal!==void 0&&(T.xLabel="xLabel"in T?T.xLabel:b.hoverLabelText(T.xa,T.xLabelVal,Y.xhoverformat),T.xVal=T.xa.c2d(T.xLabelVal)),T.yLabelVal!==void 0&&(T.yLabel="yLabel"in T?T.yLabel:b.hoverLabelText(T.ya,T.yLabelVal,Y.yhoverformat),T.yVal=T.ya.c2d(T.yLabelVal)),T.zLabelVal!==void 0&&T.zLabel===void 0&&(T.zLabel=String(T.zLabelVal)),!isNaN(T.xerr)&&!(T.xa.type==="log"&&T.xerr<=0)){var Ie=b.tickText(T.xa,T.xa.c2l(T.xerr),"hover").text;T.xerrneg!==void 0?T.xLabel+=" +"+Ie+" / -"+b.tickText(T.xa,T.xa.c2l(T.xerrneg),"hover").text:T.xLabel+=" ± "+Ie,L==="x"&&(T.distance+=1)}if(!isNaN(T.yerr)&&!(T.ya.type==="log"&&T.yerr<=0)){var Ze=b.tickText(T.ya,T.ya.c2l(T.yerr),"hover").text;T.yerrneg!==void 0?T.yLabel+=" +"+Ze+" / -"+b.tickText(T.ya,T.ya.c2l(T.yerrneg),"hover").text:T.yLabel+=" ± "+Ze,L==="y"&&(T.distance+=1)}var He=T.hoverinfo||T.trace.hoverinfo;return He&&He!=="all"&&(He=Array.isArray(He)?He:He.split("+"),He.indexOf("x")===-1&&(T.xLabel=void 0),He.indexOf("y")===-1&&(T.yLabel=void 0),He.indexOf("z")===-1&&(T.zLabel=void 0),He.indexOf("text")===-1&&(T.text=void 0),He.indexOf("name")===-1&&(T.name=void 0)),T}function fe(T,L,$){var Y=$.container,re=$.fullLayout,se=re._size,ce=$.event,we=!!L.hLinePoint,Se=!!L.vLinePoint,Ie,Ze;if(Y.selectAll(".spikeline").remove(),!!(Se||we)){var He=c.combine(re.plot_bgcolor,re.paper_bgcolor);if(we){var Be=L.hLinePoint,pe,_e;Ie=Be&&Be.xa,Ze=Be&&Be.ya;var oe=Ze.spikesnap;oe==="cursor"?(pe=ce.pointerX,_e=ce.pointerY):(pe=Ie._offset+Be.x,_e=Ze._offset+Be.y);var Le=e.readability(Be.color,He)<1.5?c.contrast(He):Be.color,Re=Ze.spikemode,Ye=Ze.spikethickness,ot=Ze.spikecolor||Le,Xe=b.getPxPosition(T,Ze),lt,ut;if(Re.indexOf("toaxis")!==-1||Re.indexOf("across")!==-1){if(Re.indexOf("toaxis")!==-1&&(lt=Xe,ut=pe),Re.indexOf("across")!==-1){var dt=Ze._counterDomainMin,xt=Ze._counterDomainMax;Ze.anchor==="free"&&(dt=Math.min(dt,Ze.position),xt=Math.max(xt,Ze.position)),lt=se.l+dt*se.w,ut=se.l+xt*se.w}Y.insert("line",":first-child").attr({x1:lt,x2:ut,y1:_e,y2:_e,"stroke-width":Ye,stroke:ot,"stroke-dasharray":p.dashStyle(Ze.spikedash,Ye)}).classed("spikeline",!0).classed("crisp",!0),Y.insert("line",":first-child").attr({x1:lt,x2:ut,y1:_e,y2:_e,"stroke-width":Ye+2,stroke:He}).classed("spikeline",!0).classed("crisp",!0)}Re.indexOf("marker")!==-1&&Y.insert("circle",":first-child").attr({cx:Xe+(Ze.side!=="right"?Ye:-Ye),cy:_e,r:Ye,fill:ot}).classed("spikeline",!0)}if(Se){var qe=L.vLinePoint,bt,Dt;Ie=qe&&qe.xa,Ze=qe&&qe.ya;var pt=Ie.spikesnap;pt==="cursor"?(bt=ce.pointerX,Dt=ce.pointerY):(bt=Ie._offset+qe.x,Dt=Ze._offset+qe.y);var St=e.readability(qe.color,He)<1.5?c.contrast(He):qe.color,me=Ie.spikemode,Ae=Ie.spikethickness,ke=Ie.spikecolor||St,K=b.getPxPosition(T,Ie),de,xe;if(me.indexOf("toaxis")!==-1||me.indexOf("across")!==-1){if(me.indexOf("toaxis")!==-1&&(de=K,xe=Dt),me.indexOf("across")!==-1){var ge=Ie._counterDomainMin,Ee=Ie._counterDomainMax;Ie.anchor==="free"&&(ge=Math.min(ge,Ie.position),Ee=Math.max(Ee,Ie.position)),de=se.t+(1-Ee)*se.h,xe=se.t+(1-ge)*se.h}Y.insert("line",":first-child").attr({x1:bt,x2:bt,y1:de,y2:xe,"stroke-width":Ae,stroke:ke,"stroke-dasharray":p.dashStyle(Ie.spikedash,Ae)}).classed("spikeline",!0).classed("crisp",!0),Y.insert("line",":first-child").attr({x1:bt,x2:bt,y1:de,y2:xe,"stroke-width":Ae+2,stroke:He}).classed("spikeline",!0).classed("crisp",!0)}me.indexOf("marker")!==-1&&Y.insert("circle",":first-child").attr({cx:bt,cy:K-(Ie.side!=="top"?Ae:-Ae),r:Ae,fill:ke}).classed("spikeline",!0)}}}function he(T,L,$){if(!$||$.length!==T._hoverdata.length)return!0;for(var Y=$.length-1;Y>=0;Y--){var re=$[Y],se=T._hoverdata[Y];if(re.curveNumber!==se.curveNumber||String(re.pointNumber)!==String(se.pointNumber)||String(re.pointNumbers)!==String(se.pointNumbers))return!0}return!1}function be(T,L){return!L||L.vLinePoint!==T._spikepoints.vLinePoint||L.hLinePoint!==T._spikepoints.hLinePoint}function H(T,L){return d.plainText(T||"",{len:L,allowedTags:["br","sub","sup","b","i","em","s","u"]})}function B(T,L){for(var $=L.charAt(0),Y=[],re=[],se=[],ce=0;ce<T.length;ce++){var we=T[ce];g.traceIs(we.trace,"bar-like")||g.traceIs(we.trace,"box-violin")?se.push(we):we.trace[$+"period"]?re.push(we):Y.push(we)}return Y.concat(re).concat(se)}function A(T,L,$){var Y=L[T+"a"],re=L[T+"Val"],se=L.cd[0];if(Y.type==="category"||Y.type==="multicategory")re=Y._categoriesMap[re];else if(Y.type==="date"){var ce=L.trace[T+"periodalignment"];if(ce){var we=L.cd[L.index],Se=we[T+"Start"];Se===void 0&&(Se=we[T]);var Ie=we[T+"End"];Ie===void 0&&(Ie=we[T]);var Ze=Ie-Se;ce==="end"?re+=Ze:ce==="middle"&&(re+=Ze/2)}re=Y.d2c(re)}return se&&se.t&&se.t.posLetter===Y._id&&($.boxmode==="group"||$.violinmode==="group")&&(re+=se.t.dPos),re}function X(T){return T.offsetTop+T.clientTop}function I(T){return T.offsetLeft+T.clientLeft}function j(T,L){var $=T._fullLayout,Y=L.getBoundingClientRect(),re=Y.left,se=Y.top,ce=re+Y.width,we=se+Y.height,Se=n.apply3DTransform($._invTransform)(re,se),Ie=n.apply3DTransform($._invTransform)(ce,we),Ze=Se[0],He=Se[1],Be=Ie[0],pe=Ie[1];return{x:Ze,y:He,width:Be-Ze,height:pe-He,top:Math.min(He,pe),left:Math.min(Ze,Be),right:Math.max(Ze,Be),bottom:Math.max(He,pe)}}}),Ml=ye((F,C)=>{var i=zt(),e=$n(),n=Ei().isUnifiedHover;C.exports=function(r,l,o,s){s=s||{};var d=l.legend;function t(p){s.font[p]||(s.font[p]=d?l.legend.font[p]:l.font[p])}l&&n(l.hovermode)&&(s.font||(s.font={}),t("size"),t("family"),t("color"),t("weight"),t("style"),t("variant"),d?(s.bgcolor||(s.bgcolor=e.combine(l.legend.bgcolor,l.paper_bgcolor)),s.bordercolor||(s.bordercolor=l.legend.bordercolor)):s.bgcolor||(s.bgcolor=l.paper_bgcolor)),o("hoverlabel.bgcolor",s.bgcolor),o("hoverlabel.bordercolor",s.bordercolor),o("hoverlabel.namelength",s.namelength),i.coerceFont(o,"hoverlabel.font",s.font),o("hoverlabel.align",s.align)}}),mu=ye((F,C)=>{var i=zt(),e=Ml(),n=Hr();C.exports=function(r,l){function o(s,d){return i.coerce(r,l,n,s,d)}e(r,l,o)}}),yu=ye((F,C)=>{var i=zt(),e=li(),n=Ml();C.exports=function(r,l,o,s){function d(p,c){return i.coerce(r,l,e,p,c)}var t=i.extendFlat({},s.hoverlabel);l.hovertemplate&&(t.namelength=-1),n(r,l,d,t)}}),Gs=ye((F,C)=>{var i=zt(),e=Hr();C.exports=function(n,r){function l(o,s){return r[o]!==void 0?r[o]:i.coerce(n,r,e,o,s)}return l("clickmode"),l("hoversubplots"),l("hovermode")}}),xu=ye((F,C)=>{var i=zt(),e=Hr(),n=Gs(),r=Ml();C.exports=function(l,o){function s(y,g){return i.coerce(l,o,e,y,g)}var d=n(l,o);d&&(s("hoverdistance"),s("spikedistance"));var t=s("dragmode");t==="select"&&s("selectdirection");var p=o._has("mapbox"),c=o._has("map"),h=o._has("geo"),b=o._basePlotModules.length;o.dragmode==="zoom"&&((p||c||h)&&b===1||(p||c)&&h&&b===2)&&(o.dragmode="pan"),r(l,o,s),i.coerceFont(s,"hoverlabel.grouptitlefont",o.hoverlabel.font)}}),bu=ye((F,C)=>{var i=zt(),e=Kn();C.exports=function(r){var l=r.calcdata,o=r._fullLayout;function s(h){return function(b){return i.coerceHoverinfo({hoverinfo:b},{_module:h._module},o)}}for(var d=0;d<l.length;d++){var t=l[d],p=t[0].trace;if(!e.traceIs(p,"pie-like")){var c=e.traceIs(p,"2dMap")?n:i.fillArray;c(p.hoverinfo,t,"hi",s(p)),p.hovertemplate&&c(p.hovertemplate,t,"ht"),p.hoverlabel&&(c(p.hoverlabel.bgcolor,t,"hbg"),c(p.hoverlabel.bordercolor,t,"hbc"),c(p.hoverlabel.font.size,t,"hts"),c(p.hoverlabel.font.color,t,"htc"),c(p.hoverlabel.font.family,t,"htf"),c(p.hoverlabel.font.weight,t,"htw"),c(p.hoverlabel.font.style,t,"hty"),c(p.hoverlabel.font.variant,t,"htv"),c(p.hoverlabel.namelength,t,"hnl"),c(p.hoverlabel.align,t,"hta"))}}};function n(r,l,o,s){s=s||i.identity,Array.isArray(r)&&(l[0][o]=s(r))}}),_u=ye((F,C)=>{var i=Kn(),e=Us().hover;C.exports=function(n,r,l){var o=i.getComponentMethod("annotations","onClick")(n,n._hoverdata);l!==void 0&&e(n,r,l,!0);function s(){n.emit("plotly_click",{points:n._hoverdata,event:r})}n._hoverdata&&r&&r.target&&(o&&o.then?o.then(s):s(),r.stopImmediatePropagation&&r.stopImmediatePropagation())}}),Fi=ye((F,C)=>{var i=Xt(),e=zt(),n=Ai(),r=Ei(),l=Hr(),o=Us();C.exports={moduleType:"component",name:"fx",constants:zr(),schema:{layout:l},attributes:li(),layoutAttributes:l,supplyLayoutGlobalDefaults:mu(),supplyDefaults:yu(),supplyLayoutDefaults:xu(),calc:bu(),getDistanceFunction:r.getDistanceFunction,getClosest:r.getClosest,inbox:r.inbox,quadrature:r.quadrature,appendArrayPointValue:r.appendArrayPointValue,castHoverOption:d,castHoverinfo:t,hover:o.hover,unhover:n.unhover,loneHover:o.loneHover,loneUnhover:s,click:_u()};function s(p){var c=e.isD3Selection(p)?p:i.select(p);c.selectAll("g.hovertext").remove(),c.selectAll(".spikeline").remove()}function d(p,c,h){return e.castOption(p,c,"hoverlabel."+h)}function t(p,c,h){function b(y){return e.coerceHoverinfo({hoverinfo:y},{_module:p._module},c)}return e.castOption(p,h,"hoverinfo",b)}}),bo=ye(F=>{F.selectMode=function(C){return C==="lasso"||C==="select"},F.drawMode=function(C){return C==="drawclosedpath"||C==="drawopenpath"||C==="drawline"||C==="drawrect"||C==="drawcircle"},F.openMode=function(C){return C==="drawline"||C==="drawopenpath"},F.rectMode=function(C){return C==="select"||C==="drawline"||C==="drawrect"||C==="drawcircle"},F.freeMode=function(C){return C==="lasso"||C==="drawclosedpath"||C==="drawopenpath"},F.selectingOrDrawing=function(C){return F.freeMode(C)||F.rectMode(C)}}),kl=ye((F,C)=>{C.exports=function(i){var e=i._fullLayout;e._glcanvas&&e._glcanvas.size()&&e._glcanvas.each(function(n){n.regl&&n.regl.clear({color:!0,depth:!0})})}}),Al=ye((F,C)=>{C.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect fill='#000' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle fill='#9EF' cx='102' cy='30' r='6'/>","  <circle fill='#BAC' cx='78' cy='30' r='6'/>","  <circle fill='#BAC' cx='78' cy='54' r='6'/>","  <circle fill='#D69' cx='54' cy='30' r='6'/>","  <circle fill='#F26' cx='30' cy='30' r='6'/>","  <circle fill='#F26' cx='30' cy='54' r='6'/>","  <path fill='#FFF' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path fill='#FFF' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path fill='#FFF' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path fill='#FFF' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}}),Sl=ye((F,C)=>{var i=32;C.exports={CIRCLE_SIDES:i,i000:0,i090:i/4,i180:i/2,i270:i/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}}),Ll=ye((F,C)=>{var i=zt().strTranslate;function e(o,s){switch(o.type){case"log":return o.p2d(s);case"date":return o.p2r(s,0,o.calendar);default:return o.p2r(s)}}function n(o,s){switch(o.type){case"log":return o.d2p(s);case"date":return o.r2p(s,0,o.calendar);default:return o.r2p(s)}}function r(o){var s=o._id.charAt(0)==="y"?1:0;return function(d){return e(o,d[s])}}function l(o){return i(o.xaxis._offset,o.yaxis._offset)}C.exports={p2r:e,r2p:n,axValue:r,getTransform:l}}),Xi=ye(F=>{var C=Rs(),i=Sl(),e=i.CIRCLE_SIDES,n=i.SQRT2,r=Ll(),l=r.p2r,o=r.r2p,s=[0,3,4,5,6,1,2],d=[0,3,4,1,2];F.writePaths=function(c){var h=c.length;if(!h)return"M0,0Z";for(var b="",y=0;y<h;y++)for(var g=c[y].length,m=0;m<g;m++){var v=c[y][m][0];if(v==="Z")b+="Z";else for(var u=c[y][m].length,f=0;f<u;f++){var _=f;v==="Q"||v==="S"?_=d[f]:v==="C"&&(_=s[f]),b+=c[y][m][_],f>0&&f<u-1&&(b+=",")}}return b},F.readPaths=function(c,h,b,y){var g=C(c),m=[],v=-1,u=function(){v++,m[v]=[]},f,_=0,w=0,k,J,P=function(){k=_,J=w};P();for(var O=0;O<g.length;O++){var M=[],W,E,N,R,V=g[O][0],U=V;switch(V){case"M":u(),_=+g[O][1],w=+g[O][2],M.push([U,_,w]),P();break;case"Q":case"S":W=+g[O][1],N=+g[O][2],_=+g[O][3],w=+g[O][4],M.push([U,_,w,W,N]);break;case"C":W=+g[O][1],N=+g[O][2],E=+g[O][3],R=+g[O][4],_=+g[O][5],w=+g[O][6],M.push([U,_,w,W,N,E,R]);break;case"T":case"L":_=+g[O][1],w=+g[O][2],M.push([U,_,w]);break;case"H":U="L",_=+g[O][1],M.push([U,_,w]);break;case"V":U="L",w=+g[O][1],M.push([U,_,w]);break;case"A":U="L";var G=+g[O][1],D=+g[O][2];+g[O][4]||(G=-G,D=-D);var Z=_-G,q=w;for(f=1;f<=e/2;f++){var ae=2*Math.PI*f/e;M.push([U,Z+G*Math.cos(ae),q+D*Math.sin(ae)])}break;case"Z":(_!==k||w!==J)&&(_=k,w=J,M.push([U,_,w]));break}for(var te=(b||{}).domain,ie=h._fullLayout._size,fe=b&&b.xsizemode==="pixel",he=b&&b.ysizemode==="pixel",be=y===!1,H=0;H<M.length;H++){for(f=0;f+2<7;f+=2){var B=M[H][f+1],A=M[H][f+2];B===void 0||A===void 0||(_=B,w=A,b&&(b.xaxis&&b.xaxis.p2r?(be&&(B-=b.xaxis._offset),fe?B=o(b.xaxis,b.xanchor)+B:B=l(b.xaxis,B)):(be&&(B-=ie.l),te?B=te.x[0]+B/ie.w:B=B/ie.w),b.yaxis&&b.yaxis.p2r?(be&&(A-=b.yaxis._offset),he?A=o(b.yaxis,b.yanchor)-A:A=l(b.yaxis,A)):(be&&(A-=ie.t),te?A=te.y[1]-A/ie.h:A=1-A/ie.h)),M[H][f+1]=B,M[H][f+2]=A)}m[v].push(M[H].slice())}}return m};function t(c,h){return Math.abs(c-h)<=1e-6}function p(c,h){var b=h[1]-c[1],y=h[2]-c[2];return Math.sqrt(b*b+y*y)}F.pointsOnRectangle=function(c){var h=c.length;if(h!==5)return!1;for(var b=1;b<3;b++){var y=c[0][b]-c[1][b],g=c[3][b]-c[2][b];if(!t(y,g))return!1;var m=c[0][b]-c[3][b],v=c[1][b]-c[2][b];if(!t(m,v))return!1}return!t(c[0][1],c[1][1])&&!t(c[0][1],c[3][1])?!1:!!(p(c[0],c[1])*p(c[0],c[3]))},F.pointsOnEllipse=function(c){var h=c.length;if(h!==e+1)return!1;h=e;for(var b=0;b<h;b++){var y=(h*2-b)%h,g=(h/2+y)%h,m=(h/2+b)%h;if(!t(p(c[b],c[m]),p(c[y],c[g])))return!1}return!0},F.handleEllipse=function(c,h,b){if(!c)return[h,b];var y=F.ellipseOver({x0:h[0],y0:h[1],x1:b[0],y1:b[1]}),g=(y.x1+y.x0)/2,m=(y.y1+y.y0)/2,v=(y.x1-y.x0)/2,u=(y.y1-y.y0)/2;v||(v=u=u/n),u||(u=v=v/n);for(var f=[],_=0;_<e;_++){var w=_*2*Math.PI/e;f.push([g+v*Math.cos(w),m+u*Math.sin(w)])}return f},F.ellipseOver=function(c){var h=c.x0,b=c.y0,y=c.x1,g=c.y1,m=y-h,v=g-b;h-=m,b-=v;var u=(h+y)/2,f=(b+g)/2,_=n;return m*=_,v*=_,{x0:u-m,y0:f-v,x1:u+m,y1:f+v}},F.fixDatesForPaths=function(c,h,b){var y=h.type==="date",g=b.type==="date";if(!y&&!g)return c;for(var m=0;m<c.length;m++)for(var v=0;v<c[m].length;v++)for(var u=0;u+2<c[m][v].length;u+=2)y&&(c[m][v][u+1]=c[m][v][u+1].replace(" ","_")),g&&(c[m][v][u+2]=c[m][v][u+2].replace(" ","_"));return c}}),Ol=ye((F,C)=>{var i=bo(),e=i.drawMode,n=i.openMode,r=Sl(),l=r.i000,o=r.i090,s=r.i180,d=r.i270,t=r.cos45,p=r.sin45,c=Ll(),h=c.p2r,b=c.r2p,y=Zi(),g=y.clearOutline,m=Xi(),v=m.readPaths,u=m.writePaths,f=m.ellipseOver,_=m.fixDatesForPaths;function w(J,P){if(J.length){var O=J[0][0];if(O){var M=P.gd,W=P.isActiveShape,E=P.dragmode,N=(M.layout||{}).shapes||[];if(!e(E)&&W!==void 0){var R=M._fullLayout._activeShapeIndex;if(R<N.length)switch(M._fullLayout.shapes[R].type){case"rect":E="drawrect";break;case"circle":E="drawcircle";break;case"line":E="drawline";break;case"path":var V=N[R].path||"";V[V.length-1]==="Z"?E="drawclosedpath":E="drawopenpath";break}}var U=k(J,P,E);g(M);for(var G=P.editHelpers,D=(G||{}).modifyItem,Z=[],q=0;q<N.length;q++){var ae=M._fullLayout.shapes[q];if(Z[q]=ae._input,W!==void 0&&q===M._fullLayout._activeShapeIndex){var te=U;switch(ae.type){case"line":case"rect":case"circle":D("x0",te.x0-(ae.x0shift||0)),D("x1",te.x1-(ae.x1shift||0)),D("y0",te.y0-(ae.y0shift||0)),D("y1",te.y1-(ae.y1shift||0));break;case"path":D("path",te.path);break}}}return W===void 0?(Z.push(U),Z):G?G.getUpdateObj():{}}}}function k(J,P,O){var M=J[0][0],W=P.gd,E=M.getAttribute("d"),N=W._fullLayout.newshape,R=P.plotinfo,V=P.isActiveShape,U=R.xaxis,G=R.yaxis,D=!!R.domain||!R.xaxis,Z=!!R.domain||!R.yaxis,q=n(O),ae=v(E,W,R,V),te={editable:!0,visible:N.visible,name:N.name,showlegend:N.showlegend,legend:N.legend,legendwidth:N.legendwidth,legendgroup:N.legendgroup,legendgrouptitle:{text:N.legendgrouptitle.text,font:N.legendgrouptitle.font},legendrank:N.legendrank,label:N.label,xref:D?"paper":U._id,yref:Z?"paper":G._id,layer:N.layer,opacity:N.opacity,line:{color:N.line.color,width:N.line.width,dash:N.line.dash}};q||(te.fillcolor=N.fillcolor,te.fillrule=N.fillrule);var ie;if(ae.length===1&&(ie=ae[0]),ie&&ie.length===5&&O==="drawrect")te.type="rect",te.x0=ie[0][1],te.y0=ie[0][2],te.x1=ie[2][1],te.y1=ie[2][2];else if(ie&&O==="drawline")te.type="line",te.x0=ie[0][1],te.y0=ie[0][2],te.x1=ie[1][1],te.y1=ie[1][2];else if(ie&&O==="drawcircle"){te.type="circle";var fe=ie[l][1],he=ie[o][1],be=ie[s][1],H=ie[d][1],B=ie[l][2],A=ie[o][2],X=ie[s][2],I=ie[d][2],j=R.xaxis&&(R.xaxis.type==="date"||R.xaxis.type==="log"),T=R.yaxis&&(R.yaxis.type==="date"||R.yaxis.type==="log");j&&(fe=b(R.xaxis,fe),he=b(R.xaxis,he),be=b(R.xaxis,be),H=b(R.xaxis,H)),T&&(B=b(R.yaxis,B),A=b(R.yaxis,A),X=b(R.yaxis,X),I=b(R.yaxis,I));var L=(he+H)/2,$=(B+X)/2,Y=(H-he+be-fe)/2,re=(I-A+X-B)/2,se=f({x0:L,y0:$,x1:L+Y*t,y1:$+re*p});j&&(se.x0=h(R.xaxis,se.x0),se.x1=h(R.xaxis,se.x1)),T&&(se.y0=h(R.yaxis,se.y0),se.y1=h(R.yaxis,se.y1)),te.x0=se.x0,te.y0=se.y0,te.x1=se.x1,te.y1=se.y1}else te.type="path",U&&G&&_(ae,U,G),te.path=u(ae),ie=null;return te}C.exports={newShapes:w,createShapeObj:k}}),Ws=ye((F,C)=>{var i=bo(),e=i.selectMode,n=Zi(),r=n.clearOutline,l=Xi(),o=l.readPaths,s=l.writePaths,d=l.fixDatesForPaths;C.exports=function(t,p){if(t.length){var c=t[0][0];if(c){var h=c.getAttribute("d"),b=p.gd,y=b._fullLayout.newselection,g=p.plotinfo,m=g.xaxis,v=g.yaxis,u=p.isActiveSelection,f=p.dragmode,_=(b.layout||{}).selections||[];if(!e(f)&&u!==void 0){var w=b._fullLayout._activeSelectionIndex;if(w<_.length)switch(b._fullLayout.selections[w].type){case"rect":f="select";break;case"path":f="lasso";break}}var k=o(h,b,g,u),J={xref:m._id,yref:v._id,opacity:y.opacity,line:{color:y.line.color,width:y.line.width,dash:y.line.dash}},P;k.length===1&&(P=k[0]),P&&P.length===5&&f==="select"?(J.type="rect",J.x0=P[0][1],J.y0=P[0][2],J.x1=P[2][1],J.y1=P[2][2]):(J.type="path",m&&v&&d(k,m,v),J.path=s(k),P=null),r(b);for(var O=p.editHelpers,M=(O||{}).modifyItem,W=[],E=0;E<_.length;E++){var N=b._fullLayout.selections[E];if(!N){W[E]=N;continue}if(W[E]=N._input,u!==void 0&&E===b._fullLayout._activeSelectionIndex){var R=J;switch(N.type){case"rect":M("x0",R.x0),M("x1",R.x1),M("y0",R.y0),M("y1",R.y1);break;case"path":M("path",R.path);break}}}return u===void 0?(W.push(J),W):O?O.getUpdateObj():{}}}}}),Ro=ye((F,C)=>{C.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}}),Ji=ye(F=>{var C=Ro(),i=zt(),e=cr();F.rangeToShapePosition=function(l){return l.type==="log"?l.r2d:function(o){return o}},F.shapePositionToRange=function(l){return l.type==="log"?l.d2r:function(o){return o}},F.decodeDate=function(l){return function(o){return o.replace&&(o=o.replace("_"," ")),l(o)}},F.encodeDate=function(l){return function(o){return l(o).replace(" ","_")}},F.extractPathCoords=function(l,o,s){var d=[],t=l.match(C.segmentRE);return t.forEach(function(p){var c=o[p.charAt(0)].drawn;if(c!==void 0){var h=p.substr(1).match(C.paramRE);if(!(!h||h.length<c)){var b=h[c],y=s?b:i.cleanNumber(b);d.push(y)}}}),d},F.getDataToPixel=function(l,o,s,d,t){var p=l._fullLayout._size,c;if(o)if(t==="domain")c=function(b){return o._length*(d?1-b:b)+o._offset};else{var h=F.shapePositionToRange(o);c=function(b){var y=r(o,s);return o._offset+o.r2p(h(b,!0))+y},o.type==="date"&&(c=F.decodeDate(c))}else d?c=function(b){return p.t+p.h*(1-b)}:c=function(b){return p.l+p.w*b};return c},F.getPixelToData=function(l,o,s,d){var t=l._fullLayout._size,p;if(o)if(d==="domain")p=function(h){var b=(h-o._offset)/o._length;return s?1-b:b};else{var c=F.rangeToShapePosition(o);p=function(h){return c(o.p2r(h-o._offset))}}else s?p=function(h){return 1-(h-t.t)/t.h}:p=function(h){return(h-t.l)/t.w};return p},F.roundPositionForSharpStrokeRendering=function(l,o){var s=Math.round(o%2)===1,d=Math.round(l);return s?d+.5:d},F.makeShapesOptionsAndPlotinfo=function(l,o){var s=l._fullLayout.shapes[o]||{},d=l._fullLayout._plots[s.xref+s.yref],t=!!d;return t?d._hadPlotinfo=!0:(d={},s.xref&&s.xref!=="paper"&&(d.xaxis=l._fullLayout[s.xref+"axis"]),s.yref&&s.yref!=="paper"&&(d.yaxis=l._fullLayout[s.yref+"axis"])),d.xsizemode=s.xsizemode,d.ysizemode=s.ysizemode,d.xanchor=s.xanchor,d.yanchor=s.yanchor,{options:s,plotinfo:d}},F.makeSelectionsOptionsAndPlotinfo=function(l,o){var s=l._fullLayout.selections[o]||{},d=l._fullLayout._plots[s.xref+s.yref],t=!!d;return t?d._hadPlotinfo=!0:(d={},s.xref&&(d.xaxis=l._fullLayout[s.xref+"axis"]),s.yref&&(d.yaxis=l._fullLayout[s.yref+"axis"])),{options:s,plotinfo:d}},F.getPathString=function(l,o){var s=o.type,d=e.getRefType(o.xref),t=e.getRefType(o.yref),p=e.getFromId(l,o.xref),c=e.getFromId(l,o.yref),h=l._fullLayout._size,b,y,g,m,v=r(p,o.x0shift),u=r(p,o.x1shift),f=r(c,o.y0shift),_=r(c,o.y1shift),w,k,J,P;if(p?d==="domain"?y=function(D){return p._offset+p._length*D}:(b=F.shapePositionToRange(p),y=function(D){return p._offset+p.r2p(b(D,!0))}):y=function(D){return h.l+h.w*D},c?t==="domain"?m=function(D){return c._offset+c._length*(1-D)}:(g=F.shapePositionToRange(c),m=function(D){return c._offset+c.r2p(g(D,!0))}):m=function(D){return h.t+h.h*(1-D)},s==="path")return p&&p.type==="date"&&(y=F.decodeDate(y)),c&&c.type==="date"&&(m=F.decodeDate(m)),n(o,y,m);if(o.xsizemode==="pixel"){var O=y(o.xanchor);w=O+o.x0+v,k=O+o.x1+u}else w=y(o.x0)+v,k=y(o.x1)+u;if(o.ysizemode==="pixel"){var M=m(o.yanchor);J=M-o.y0+f,P=M-o.y1+_}else J=m(o.y0)+f,P=m(o.y1)+_;if(s==="line")return"M"+w+","+J+"L"+k+","+P;if(s==="rect")return"M"+w+","+J+"H"+k+"V"+P+"H"+w+"Z";var W=(w+k)/2,E=(J+P)/2,N=Math.abs(W-w),R=Math.abs(E-J),V="A"+N+","+R,U=W+N+","+E,G=W+","+(E-R);return"M"+U+V+" 0 1,1 "+G+V+" 0 0,1 "+U+"Z"};function n(l,o,s){var d=l.path,t=l.xsizemode,p=l.ysizemode,c=l.xanchor,h=l.yanchor;return d.replace(C.segmentRE,function(b){var y=0,g=b.charAt(0),m=C.paramIsX[g],v=C.paramIsY[g],u=C.numParams[g],f=b.substr(1).replace(C.paramRE,function(_){return m[y]?t==="pixel"?_=o(c)+Number(_):_=o(_):v[y]&&(p==="pixel"?_=s(h)-Number(_):_=s(_)),y++,y>u&&(_="X"),_});return y>u&&(f=f.replace(/[\s,]*X.*/,""),i.log("Ignoring extra params in segment "+b)),g+f})}function r(l,o){o=o||0;var s=0;return o&&l&&(l.type==="category"||l.type==="multicategory")&&(s=(l.r2p(1)-l.r2p(0))*o),s}}),Zs=ye((F,C)=>{var i=zt(),e=cr(),n=Xr(),r=Ga(),l=Xi().readPaths,o=Ji(),s=o.getPathString,d=go(),t=ai().FROM_TL;C.exports=function(h,b,y,g){if(g.selectAll(".shape-label").remove(),!!(y.label.text||y.label.texttemplate)){var m;if(y.label.texttemplate){var v={};if(y.type!=="path"){var u=e.getFromId(h,y.xref),f=e.getFromId(h,y.yref);for(var _ in d){var w=d[_](y,u,f);w!==void 0&&(v[_]=w)}}m=i.texttemplateStringForShapes(y.label.texttemplate,{},h._fullLayout._d3locale,v)}else m=y.label.text;var k={"data-index":b},J=y.label.font,P={"data-notex":1},O=g.append("g").attr(k).classed("shape-label",!0),M=O.append("text").attr(P).classed("shape-label-text",!0).text(m),W,E,N,R;if(y.path){var V=s(h,y),U=l(V,h);W=1/0,N=1/0,E=-1/0,R=-1/0;for(var G=0;G<U.length;G++)for(var D=0;D<U[G].length;D++)for(var Z=U[G][D],q=1;q<Z.length;q+=2){var ae=Z[q],te=Z[q+1];W=Math.min(W,ae),E=Math.max(E,ae),N=Math.min(N,te),R=Math.max(R,te)}}else{var ie=e.getFromId(h,y.xref),fe=y.x0shift,he=y.x1shift,be=e.getRefType(y.xref),H=e.getFromId(h,y.yref),B=y.y0shift,A=y.y1shift,X=e.getRefType(y.yref),I=function(ce,we){var Se=o.getDataToPixel(h,ie,we,!1,be);return Se(ce)},j=function(ce,we){var Se=o.getDataToPixel(h,H,we,!0,X);return Se(ce)};W=I(y.x0,fe),E=I(y.x1,he),N=j(y.y0,B),R=j(y.y1,A)}var T=y.label.textangle;T==="auto"&&(y.type==="line"?T=p(W,N,E,R):T=0),M.call(function(ce){return ce.call(r.font,J).attr({}),n.convertToTspans(ce,h),ce});var L=r.bBox(M.node()),$=c(W,N,E,R,y,T,L),Y=$.textx,re=$.texty,se=$.xanchor;M.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[se],y:re,x:Y,transform:"rotate("+T+","+Y+","+re+")"}).call(n.positionText,Y,re)}};function p(h,b,y,g){var m,v;return v=Math.abs(y-h),y>=h?m=b-g:m=g-b,-180/Math.PI*Math.atan2(m,v)}function c(h,b,y,g,m,v,u){var f=m.label.textposition,_=m.label.textangle,w=m.label.padding,k=m.type,J=Math.PI/180*v,P=Math.sin(J),O=Math.cos(J),M=m.label.xanchor,W=m.label.yanchor,E,N,R,V;if(k==="line"){f==="start"?(E=h,N=b):f==="end"?(E=y,N=g):(E=(h+y)/2,N=(b+g)/2),M==="auto"&&(f==="start"?_==="auto"?y>h?M="left":y<h?M="right":M="center":y>h?M="right":y<h?M="left":M="center":f==="end"?_==="auto"?y>h?M="right":y<h?M="left":M="center":y>h?M="left":y<h?M="right":M="center":M="center");var U={left:1,center:0,right:-1},G={bottom:-1,middle:0,top:1};if(_==="auto"){var D=G[W];R=-w*P*D,V=w*O*D}else{var Z=U[M],q=G[W];R=w*Z,V=w*q}E=E+R,N=N+V}else R=w+3,f.indexOf("right")!==-1?(E=Math.max(h,y)-R,M==="auto"&&(M="right")):f.indexOf("left")!==-1?(E=Math.min(h,y)+R,M==="auto"&&(M="left")):(E=(h+y)/2,M==="auto"&&(M="center")),f.indexOf("top")!==-1?N=Math.min(b,g):f.indexOf("bottom")!==-1?N=Math.max(b,g):N=(b+g)/2,V=w,W==="bottom"?N=N-V:W==="top"&&(N=N+V);var ae=t[W],te=m.label.font.size,ie=u.height,fe=(ie*ae-te)*P,he=-(ie*ae-te)*O;return{textx:E+fe,texty:N+he,xanchor:M}}}),Dl=ye((F,C)=>{var i=zt(),e=i.strTranslate,n=Ai(),r=bo(),l=r.drawMode,o=r.selectMode,s=Kn(),d=$n(),t=Sl(),p=t.i000,c=t.i090,h=t.i180,b=t.i270,y=Zi(),g=y.clearOutlineControllers,m=Xi(),v=m.pointsOnRectangle,u=m.pointsOnEllipse,f=m.writePaths,_=Ol().newShapes,w=Ol().createShapeObj,k=Ws(),J=Zs();C.exports=function W(E,N,R,V){V||(V=0);var U=R.gd;function G(){W(E,N,R,V++),(u(E[0])||R.hasText)&&D({redrawing:!0})}function D(He){var Be={};R.isActiveShape!==void 0&&(R.isActiveShape=!1,Be=_(N,R)),R.isActiveSelection!==void 0&&(R.isActiveSelection=!1,Be=k(N,R),U._fullLayout._reselect=!0),Object.keys(Be).length&&s.call((He||{}).redrawing?"relayout":"_guiRelayout",U,Be)}var Z=U._fullLayout,q=Z._zoomlayer,ae=R.dragmode,te=l(ae),ie=o(ae);(te||ie)&&(U._fullLayout._outlining=!0),g(U),N.attr("d",f(E));var fe,he,be,H,B;if(!V&&(R.isActiveShape||R.isActiveSelection)){B=P([],E);var A=q.append("g").attr("class","outline-controllers");re(A),Ze()}if(te&&R.hasText){var X=q.select(".label-temp"),I=w(N,R,R.dragmode);J(U,"label-temp",I,X)}function j(He){be=+He.srcElement.getAttribute("data-i"),H=+He.srcElement.getAttribute("data-j"),fe[be][H].moveFn=T}function T(He,Be){if(E.length){var pe=B[be][H][1],_e=B[be][H][2],oe=E[be],Le=oe.length;if(v(oe)){var Re=He,Ye=Be;if(R.isActiveSelection){var ot=O(oe,H);ot[1]===oe[H][1]?Ye=0:Re=0}for(var Xe=0;Xe<Le;Xe++)if(Xe!==H){var lt=oe[Xe];lt[1]===oe[H][1]&&(lt[1]=pe+Re),lt[2]===oe[H][2]&&(lt[2]=_e+Ye)}if(oe[H][1]=pe+Re,oe[H][2]=_e+Ye,!v(oe))for(var ut=0;ut<Le;ut++)for(var dt=0;dt<oe[ut].length;dt++)oe[ut][dt]=B[be][ut][dt]}else oe[H][1]=pe+He,oe[H][2]=_e+Be;G()}}function L(){D()}function $(){if(E.length&&E[be]&&E[be].length){for(var He=[],Be=0;Be<E[be].length;Be++)Be!==H&&He.push(E[be][Be]);He.length>1&&!(He.length===2&&He[1][0]==="Z")&&(H===0&&(He[0][0]="M"),E[be]=He,G(),D())}}function Y(He,Be){if(He===2){be=+Be.srcElement.getAttribute("data-i"),H=+Be.srcElement.getAttribute("data-j");var pe=E[be];!v(pe)&&!u(pe)&&$()}}function re(He){fe=[];for(var Be=0;Be<E.length;Be++){var pe=E[Be],_e=v(pe),oe=!_e&&u(pe);fe[Be]=[];for(var Le=pe.length,Re=0;Re<Le;Re++)if(pe[Re][0]!=="Z"&&!(oe&&Re!==p&&Re!==c&&Re!==h&&Re!==b)){var Ye=_e&&R.isActiveSelection,ot;Ye&&(ot=O(pe,Re));var Xe=pe[Re][1],lt=pe[Re][2],ut=He.append(Ye?"rect":"circle").attr("data-i",Be).attr("data-j",Re).style({fill:d.background,stroke:d.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(Ye){var dt=ot[1]-Xe,xt=ot[2]-lt,qe=xt?5:Math.max(Math.min(25,Math.abs(dt)-5),5),bt=dt?5:Math.max(Math.min(25,Math.abs(xt)-5),5);ut.classed(xt?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",qe).attr("height",bt).attr("x",Xe-qe/2).attr("y",lt-bt/2).attr("transform",e(dt/2,xt/2))}else ut.classed("cursor-grab",!0).attr("r",5).attr("cx",Xe).attr("cy",lt);fe[Be][Re]={element:ut.node(),gd:U,prepFn:j,doneFn:L,clickFn:Y},n.init(fe[Be][Re])}}}function se(He,Be){if(E.length)for(var pe=0;pe<E.length;pe++)for(var _e=0;_e<E[pe].length;_e++)for(var oe=0;oe+2<E[pe][_e].length;oe+=2)E[pe][_e][oe+1]=B[pe][_e][oe+1]+He,E[pe][_e][oe+2]=B[pe][_e][oe+2]+Be}function ce(He,Be){se(He,Be),G()}function we(He){be=+He.srcElement.getAttribute("data-i"),be||(be=0),he[be].moveFn=ce}function Se(){D()}function Ie(He){He===2&&M(U)}function Ze(){if(he=[],!!E.length){var He=0;he[He]={element:N[0][0],gd:U,prepFn:we,doneFn:Se,clickFn:Ie},n.init(he[He])}}};function P(W,E){for(var N=0;N<E.length;N++){var R=E[N];W[N]=[];for(var V=0;V<R.length;V++){W[N][V]=[];for(var U=0;U<R[V].length;U++)W[N][V][U]=R[V][U]}}return W}function O(W,E){var N=W[E][1],R=W[E][2],V=W.length,U,G,D;return U=(E+1)%V,G=W[U][1],D=W[U][2],G===N&&D===R&&(U=(E+2)%V,G=W[U][1],D=W[U][2]),[U,G,D]}function M(W){if(o(W._fullLayout.dragmode)){g(W);var E=W._fullLayout._activeSelectionIndex,N=(W.layout||{}).selections||[];if(E<N.length){for(var R=[],V=0;V<N.length;V++)V!==E&&R.push(N[V]);delete W._fullLayout._activeSelectionIndex;var U=W._fullLayout.selections[E];W._fullLayout._deselect={xref:U.xref,yref:U.yref},s.call("_guiRelayout",W,{selections:R})}}}}),Cl=ye((F,C)=>{var i=Xt(),e=Kn(),n=zt(),r=cr(),l=Xi().readPaths,o=Dl(),s=Zs(),d=Zi().clearOutlineControllers,t=$n(),p=Ga(),c=or().arrayEditor,h=Ai(),b=qi(),y=Ro(),g=Ji(),m=g.getPathString;C.exports={draw:v,drawOne:_,eraseActiveShape:M,drawLabel:s};function v(W){var E=W._fullLayout;E._shapeUpperLayer.selectAll("path").remove(),E._shapeLowerLayer.selectAll("path").remove(),E._shapeUpperLayer.selectAll("text").remove(),E._shapeLowerLayer.selectAll("text").remove();for(var N in E._plots){var R=E._plots[N].shapelayer;R&&(R.selectAll("path").remove(),R.selectAll("text").remove())}for(var V=0;V<E.shapes.length;V++)E.shapes[V].visible===!0&&_(W,V)}function u(W){return!!W._fullLayout._outlining}function f(W){return!W._context.edits.shapePosition}function _(W,E){W._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+E+'"]').remove();var N=g.makeShapesOptionsAndPlotinfo(W,E),R=N.options,V=N.plotinfo;if(!R._input||R.visible!==!0)return;if(R.layer==="above")G(W._fullLayout._shapeUpperLayer);else if(R.xref==="paper"||R.yref==="paper")G(W._fullLayout._shapeLowerLayer);else if(R.layer==="between")G(V.shapelayerBetween);else if(V._hadPlotinfo){var U=V.mainplotinfo||V;G(U.shapelayer)}else G(W._fullLayout._shapeLowerLayer);function G(D){var Z=m(W,R),q={"data-index":E,"fill-rule":R.fillrule,d:Z},ae=R.opacity,te=R.fillcolor,ie=R.line.width?R.line.color:"rgba(0,0,0,0)",fe=R.line.width,he=R.line.dash;!fe&&R.editable===!0&&(fe=5,he="solid");var be=Z[Z.length-1]!=="Z",H=f(W)&&R.editable&&W._fullLayout._activeShapeIndex===E;H&&(te=be?"rgba(0,0,0,0)":W._fullLayout.activeshape.fillcolor,ae=W._fullLayout.activeshape.opacity);var B=D.append("g").classed("shape-group",!0).attr({"data-index":E}),A=B.append("path").attr(q).style("opacity",ae).call(t.stroke,ie).call(t.fill,te).call(p.dashLine,he,fe);w(B,W,R),s(W,E,R,B);var X;if((H||W._context.edits.shapePosition)&&(X=c(W.layout,"shapes",R)),H){A.style({cursor:"move"});var I={element:A.node(),plotinfo:V,gd:W,editHelpers:X,hasText:R.label.text||R.label.texttemplate,isActiveShape:!0},j=l(Z,W);o(j,A,I)}else W._context.edits.shapePosition?k(W,A,R,E,D,X):R.editable===!0&&A.style("pointer-events",be||t.opacity(te)*ae<=.5?"stroke":"all");A.node().addEventListener("click",function(){return P(W,A)})}}function w(W,E,N){var R=(N.xref+N.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");p.setClipUrl(W,R?"clip"+E._fullLayout._uid+R:null,E)}function k(W,E,N,R,V,U){var G=10,D=10,Z=N.xsizemode==="pixel",q=N.ysizemode==="pixel",ae=N.type==="line",te=N.type==="path",ie=U.modifyItem,fe,he,be,H,B,A,X,I,j,T,L,$,Y,re,se,ce=i.select(E.node().parentNode),we=r.getFromId(W,N.xref),Se=r.getRefType(N.xref),Ie=r.getFromId(W,N.yref),Ze=r.getRefType(N.yref),He=N.x0shift,Be=N.x1shift,pe=N.y0shift,_e=N.y1shift,oe=function(K,de){var xe=g.getDataToPixel(W,we,de,!1,Se);return xe(K)},Le=function(K,de){var xe=g.getDataToPixel(W,Ie,de,!0,Ze);return xe(K)},Re=g.getPixelToData(W,we,!1,Se),Ye=g.getPixelToData(W,Ie,!0,Ze),ot=ut(),Xe={element:ot.node(),gd:W,prepFn:qe,doneFn:bt,clickFn:Dt},lt;h.init(Xe),ot.node().onmousemove=xt;function ut(){return ae?dt():E}function dt(){var K=10,de=Math.max(N.line.width,K),xe=V.append("g").attr("data-index",R).attr("drag-helper",!0);xe.append("path").attr("d",E.attr("d")).style({cursor:"move","stroke-width":de,"stroke-opacity":"0"});var ge={"fill-opacity":"0"},Ee=Math.max(de/2,K);return xe.append("circle").attr({"data-line-point":"start-point",cx:Z?oe(N.xanchor)+N.x0:oe(N.x0,He),cy:q?Le(N.yanchor)-N.y0:Le(N.y0,pe),r:Ee}).style(ge).classed("cursor-grab",!0),xe.append("circle").attr({"data-line-point":"end-point",cx:Z?oe(N.xanchor)+N.x1:oe(N.x1,Be),cy:q?Le(N.yanchor)-N.y1:Le(N.y1,_e),r:Ee}).style(ge).classed("cursor-grab",!0),xe}function xt(K){if(u(W)){lt=null;return}if(ae)K.target.tagName==="path"?lt="move":lt=K.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var de=Xe.element.getBoundingClientRect(),xe=de.right-de.left,ge=de.bottom-de.top,Ee=K.clientX-de.left,Me=K.clientY-de.top,Je=!te&&xe>G&&ge>D&&!K.shiftKey?h.getCursor(Ee/xe,1-Me/ge):"move";b(E,Je),lt=Je.split("-")[0]}}function qe(K){u(W)||(Z&&(B=oe(N.xanchor)),q&&(A=Le(N.yanchor)),N.type==="path"?se=N.path:(fe=Z?N.x0:oe(N.x0),he=q?N.y0:Le(N.y0),be=Z?N.x1:oe(N.x1),H=q?N.y1:Le(N.y1)),fe<be?(j=fe,Y="x0",T=be,re="x1"):(j=be,Y="x1",T=fe,re="x0"),!q&&he<H||q&&he>H?(X=he,L="y0",I=H,$="y1"):(X=H,L="y1",I=he,$="y0"),xt(K),me(V,N),ke(E,N,W),Xe.moveFn=lt==="move"?pt:St,Xe.altKey=K.altKey)}function bt(){u(W)||(b(E),Ae(V),w(E,W,N),e.call("_guiRelayout",W,U.getUpdateObj()))}function Dt(){u(W)||Ae(V)}function pt(K,de){if(N.type==="path"){var xe=function(Me){return Me},ge=xe,Ee=xe;Z?ie("xanchor",N.xanchor=Re(B+K)):(ge=function(Me){return Re(oe(Me)+K)},we&&we.type==="date"&&(ge=g.encodeDate(ge))),q?ie("yanchor",N.yanchor=Ye(A+de)):(Ee=function(Me){return Ye(Le(Me)+de)},Ie&&Ie.type==="date"&&(Ee=g.encodeDate(Ee))),ie("path",N.path=J(se,ge,Ee))}else Z?ie("xanchor",N.xanchor=Re(B+K)):(ie("x0",N.x0=Re(fe+K)),ie("x1",N.x1=Re(be+K))),q?ie("yanchor",N.yanchor=Ye(A+de)):(ie("y0",N.y0=Ye(he+de)),ie("y1",N.y1=Ye(H+de)));E.attr("d",m(W,N)),me(V,N),s(W,R,N,ce)}function St(K,de){if(te){var xe=function(Ft){return Ft},ge=xe,Ee=xe;Z?ie("xanchor",N.xanchor=Re(B+K)):(ge=function(Ft){return Re(oe(Ft)+K)},we&&we.type==="date"&&(ge=g.encodeDate(ge))),q?ie("yanchor",N.yanchor=Ye(A+de)):(Ee=function(Ft){return Ye(Le(Ft)+de)},Ie&&Ie.type==="date"&&(Ee=g.encodeDate(Ee))),ie("path",N.path=J(se,ge,Ee))}else if(ae){if(lt==="resize-over-start-point"){var Me=fe+K,Je=q?he-de:he+de;ie("x0",N.x0=Z?Me:Re(Me)),ie("y0",N.y0=q?Je:Ye(Je))}else if(lt==="resize-over-end-point"){var Qe=be+K,st=q?H-de:H+de;ie("x1",N.x1=Z?Qe:Re(Qe)),ie("y1",N.y1=q?st:Ye(st))}}else{var ze=function(Ft){return lt.indexOf(Ft)!==-1},rt=ze("n"),ft=ze("s"),yt=ze("w"),Ht=ze("e"),Wt=rt?X+de:X,hn=ft?I+de:I,Bt=yt?j+K:j,en=Ht?T+K:T;q&&(rt&&(Wt=X-de),ft&&(hn=I-de)),(!q&&hn-Wt>D||q&&Wt-hn>D)&&(ie(L,N[L]=q?Wt:Ye(Wt)),ie($,N[$]=q?hn:Ye(hn))),en-Bt>G&&(ie(Y,N[Y]=Z?Bt:Re(Bt)),ie(re,N[re]=Z?en:Re(en)))}E.attr("d",m(W,N)),me(V,N),s(W,R,N,ce)}function me(K,de){(Z||q)&&xe();function xe(){var ge=de.type!=="path",Ee=K.selectAll(".visual-cue").data([0]),Me=1;Ee.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":Me}).classed("visual-cue",!0);var Je=oe(Z?de.xanchor:n.midRange(ge?[de.x0,de.x1]:g.extractPathCoords(de.path,y.paramIsX))),Qe=Le(q?de.yanchor:n.midRange(ge?[de.y0,de.y1]:g.extractPathCoords(de.path,y.paramIsY)));if(Je=g.roundPositionForSharpStrokeRendering(Je,Me),Qe=g.roundPositionForSharpStrokeRendering(Qe,Me),Z&&q){var st="M"+(Je-1-Me)+","+(Qe-1-Me)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";Ee.attr("d",st)}else if(Z){var ze="M"+(Je-1-Me)+","+(Qe-9-Me)+"v18 h2 v-18 Z";Ee.attr("d",ze)}else{var rt="M"+(Je-9-Me)+","+(Qe-1-Me)+"h18 v2 h-18 Z";Ee.attr("d",rt)}}}function Ae(K){K.selectAll(".visual-cue").remove()}function ke(K,de,xe){var ge=de.xref,Ee=de.yref,Me=r.getFromId(xe,ge),Je=r.getFromId(xe,Ee),Qe="";ge!=="paper"&&!Me.autorange&&(Qe+=ge),Ee!=="paper"&&!Je.autorange&&(Qe+=Ee),p.setClipUrl(K,Qe?"clip"+xe._fullLayout._uid+Qe:null,xe)}}function J(W,E,N){return W.replace(y.segmentRE,function(R){var V=0,U=R.charAt(0),G=y.paramIsX[U],D=y.paramIsY[U],Z=y.numParams[U],q=R.substr(1).replace(y.paramRE,function(ae){return V>=Z||(G[V]?ae=E(ae):D[V]&&(ae=N(ae)),V++),ae});return U+q})}function P(W,E){if(f(W)){var N=E.node(),R=+N.getAttribute("data-index");if(R>=0){if(R===W._fullLayout._activeShapeIndex){O(W);return}W._fullLayout._activeShapeIndex=R,W._fullLayout._deactivateShape=O,v(W)}}}function O(W){if(f(W)){var E=W._fullLayout._activeShapeIndex;E>=0&&(d(W),delete W._fullLayout._activeShapeIndex,v(W))}}function M(W){if(f(W)){d(W);var E=W._fullLayout._activeShapeIndex,N=(W.layout||{}).shapes||[];if(E<N.length){for(var R=[],V=0;V<N.length;V++)V!==E&&R.push(N[V]);return delete W._fullLayout._activeShapeIndex,e.call("_guiRelayout",W,{shapes:R})}}}}),qs=ye((F,C)=>{var i=Kn(),e=Lr(),n=Nr(),r=Al(),l=Cl().eraseActiveShape,o=zt(),s=o._,d=C.exports={};d.toImage={name:"toImage",title:function(k){var J=k._context.toImageButtonOptions||{},P=J.format||"png";return P==="png"?s(k,"Download plot as a png"):s(k,"Download plot")},icon:r.camera,click:function(k){var J=k._context.toImageButtonOptions,P={format:J.format||"png"};o.notifier(s(k,"Taking snapshot - this may take a few seconds"),"long"),["filename","width","height","scale"].forEach(function(O){O in J&&(P[O]=J[O])}),i.call("downloadImage",k,P).then(function(O){o.notifier(s(k,"Snapshot succeeded")+" - "+O,"long")}).catch(function(){o.notifier(s(k,"Sorry, there was a problem downloading your snapshot!"),"long")})}},d.sendDataToCloud={name:"sendDataToCloud",title:function(k){return s(k,"Edit in Chart Studio")},icon:r.disk,click:function(k){e.sendDataToCloud(k)}},d.editInChartStudio={name:"editInChartStudio",title:function(k){return s(k,"Edit in Chart Studio")},icon:r.pencil,click:function(k){e.sendDataToCloud(k)}},d.zoom2d={name:"zoom2d",_cat:"zoom",title:function(k){return s(k,"Zoom")},attr:"dragmode",val:"zoom",icon:r.zoombox,click:t},d.pan2d={name:"pan2d",_cat:"pan",title:function(k){return s(k,"Pan")},attr:"dragmode",val:"pan",icon:r.pan,click:t},d.select2d={name:"select2d",_cat:"select",title:function(k){return s(k,"Box Select")},attr:"dragmode",val:"select",icon:r.selectbox,click:t},d.lasso2d={name:"lasso2d",_cat:"lasso",title:function(k){return s(k,"Lasso Select")},attr:"dragmode",val:"lasso",icon:r.lasso,click:t},d.drawclosedpath={name:"drawclosedpath",title:function(k){return s(k,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:r.drawclosedpath,click:t},d.drawopenpath={name:"drawopenpath",title:function(k){return s(k,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:r.drawopenpath,click:t},d.drawline={name:"drawline",title:function(k){return s(k,"Draw line")},attr:"dragmode",val:"drawline",icon:r.drawline,click:t},d.drawrect={name:"drawrect",title:function(k){return s(k,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:r.drawrect,click:t},d.drawcircle={name:"drawcircle",title:function(k){return s(k,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:r.drawcircle,click:t},d.eraseshape={name:"eraseshape",title:function(k){return s(k,"Erase active shape")},icon:r.eraseshape,click:l},d.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(k){return s(k,"Zoom in")},attr:"zoom",val:"in",icon:r.zoom_plus,click:t},d.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(k){return s(k,"Zoom out")},attr:"zoom",val:"out",icon:r.zoom_minus,click:t},d.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(k){return s(k,"Autoscale")},attr:"zoom",val:"auto",icon:r.autoscale,click:t},d.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(k){return s(k,"Reset axes")},attr:"zoom",val:"reset",icon:r.home,click:t},d.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(k){return s(k,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:r.tooltip_basic,gravity:"ne",click:t},d.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(k){return s(k,"Compare data on hover")},attr:"hovermode",val:function(k){return k._fullLayout._isHoriz?"y":"x"},icon:r.tooltip_compare,gravity:"ne",click:t};function t(k,J){var P=J.currentTarget,O=P.getAttribute("data-attr"),M=P.getAttribute("data-val")||!0,W=k._fullLayout,E={},N=n.list(k,null,!0),R=W._cartesianSpikesEnabled,V,U;if(O==="zoom"){var G=M==="in"?.5:2,D=(1+G)/2,Z=(1-G)/2,q;for(U=0;U<N.length;U++)if(V=N[U],!V.fixedrange)if(q=V._name,M==="auto")E[q+".autorange"]=!0;else if(M==="reset")V._rangeInitial0===void 0&&V._rangeInitial1===void 0?E[q+".autorange"]=!0:V._rangeInitial0===void 0?(E[q+".autorange"]=V._autorangeInitial,E[q+".range"]=[null,V._rangeInitial1]):V._rangeInitial1===void 0?(E[q+".range"]=[V._rangeInitial0,null],E[q+".autorange"]=V._autorangeInitial):E[q+".range"]=[V._rangeInitial0,V._rangeInitial1],V._showSpikeInitial!==void 0&&(E[q+".showspikes"]=V._showSpikeInitial,R==="on"&&!V._showSpikeInitial&&(R="off"));else{var ae=[V.r2l(V.range[0]),V.r2l(V.range[1])],te=[D*ae[0]+Z*ae[1],D*ae[1]+Z*ae[0]];E[q+".range[0]"]=V.l2r(te[0]),E[q+".range[1]"]=V.l2r(te[1])}}else O==="hovermode"&&(M==="x"||M==="y")&&(M=W._isHoriz?"y":"x",P.setAttribute("data-val",M)),E[O]=M;W._cartesianSpikesEnabled=R,i.call("_guiRelayout",k,E)}d.zoom3d={name:"zoom3d",_cat:"zoom",title:function(k){return s(k,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:r.zoombox,click:p},d.pan3d={name:"pan3d",_cat:"pan",title:function(k){return s(k,"Pan")},attr:"scene.dragmode",val:"pan",icon:r.pan,click:p},d.orbitRotation={name:"orbitRotation",title:function(k){return s(k,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:r["3d_rotate"],click:p},d.tableRotation={name:"tableRotation",title:function(k){return s(k,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:r["z-axis"],click:p};function p(k,J){for(var P=J.currentTarget,O=P.getAttribute("data-attr"),M=P.getAttribute("data-val")||!0,W=k._fullLayout._subplots.gl3d||[],E={},N=O.split("."),R=0;R<W.length;R++)E[W[R]+"."+N[1]]=M;var V=M==="pan"?M:"zoom";E.dragmode=V,i.call("_guiRelayout",k,E)}d.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(k){return s(k,"Reset camera to default")},attr:"resetDefault",icon:r.home,click:c},d.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(k){return s(k,"Reset camera to last save")},attr:"resetLastSave",icon:r.movie,click:c};function c(k,J){for(var P=J.currentTarget,O=P.getAttribute("data-attr"),M=O==="resetLastSave",W=O==="resetDefault",E=k._fullLayout,N=E._subplots.gl3d||[],R={},V=0;V<N.length;V++){var U=N[V],G=U+".camera",D=U+".aspectratio",Z=U+".aspectmode",q=E[U]._scene,ae;M?(R[G+".up"]=q.viewInitial.up,R[G+".eye"]=q.viewInitial.eye,R[G+".center"]=q.viewInitial.center,ae=!0):W&&(R[G+".up"]=null,R[G+".eye"]=null,R[G+".center"]=null,ae=!0),ae&&(R[D+".x"]=q.viewInitial.aspectratio.x,R[D+".y"]=q.viewInitial.aspectratio.y,R[D+".z"]=q.viewInitial.aspectratio.z,R[Z]=q.viewInitial.aspectmode)}i.call("_guiRelayout",k,R)}d.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(k){return s(k,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:r.tooltip_basic,gravity:"ne",click:b};function h(k,J){var P=J.currentTarget,O=P._previousVal,M=k._fullLayout,W=M._subplots.gl3d||[],E=["xaxis","yaxis","zaxis"],N={},R={};if(O)R=O,P._previousVal=null;else{for(var V=0;V<W.length;V++){var U=W[V],G=M[U],D=U+".hovermode";N[D]=G.hovermode,R[D]=!1;for(var Z=0;Z<3;Z++){var q=E[Z],ae=U+"."+q+".showspikes";R[ae]=!1,N[ae]=G[q].showspikes}}P._previousVal=N}return R}function b(k,J){var P=h(k,J);i.call("_guiRelayout",k,P)}d.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(k){return s(k,"Zoom in")},attr:"zoom",val:"in",icon:r.zoom_plus,click:y},d.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(k){return s(k,"Zoom out")},attr:"zoom",val:"out",icon:r.zoom_minus,click:y},d.resetGeo={name:"resetGeo",_cat:"reset",title:function(k){return s(k,"Reset")},attr:"reset",val:null,icon:r.autoscale,click:y},d.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(k){return s(k,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:r.tooltip_basic,gravity:"ne",click:m};function y(k,J){for(var P=J.currentTarget,O=P.getAttribute("data-attr"),M=P.getAttribute("data-val")||!0,W=k._fullLayout,E=W._subplots.geo||[],N=0;N<E.length;N++){var R=E[N],V=W[R];if(O==="zoom"){var U=V.projection.scale,G=M==="in"?2*U:.5*U;i.call("_guiRelayout",k,R+".projection.scale",G)}}O==="reset"&&w(k,"geo")}d.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(k){return s(k,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:r.tooltip_basic,gravity:"ne",click:m};function g(k){var J=k._fullLayout;return J.hovermode?!1:J._has("cartesian")?J._isHoriz?"y":"x":"closest"}function m(k){var J=g(k);i.call("_guiRelayout",k,"hovermode",J)}d.resetViewSankey={name:"resetSankeyGroup",title:function(k){return s(k,"Reset view")},icon:r.home,click:function(k){for(var J={"node.groups":[],"node.x":[],"node.y":[]},P=0;P<k._fullData.length;P++){var O=k._fullData[P]._viewInitial;J["node.groups"].push(O.node.groups.slice()),J["node.x"].push(O.node.x.slice()),J["node.y"].push(O.node.y.slice())}i.call("restyle",k,J)}},d.toggleHover={name:"toggleHover",title:function(k){return s(k,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:r.tooltip_basic,gravity:"ne",click:function(k,J){var P=h(k,J);P.hovermode=g(k),i.call("_guiRelayout",k,P)}},d.resetViews={name:"resetViews",title:function(k){return s(k,"Reset views")},icon:r.home,click:function(k,J){var P=J.currentTarget;P.setAttribute("data-attr","zoom"),P.setAttribute("data-val","reset"),t(k,J),P.setAttribute("data-attr","resetLastSave"),c(k,J),w(k,"geo"),w(k,"mapbox"),w(k,"map")}},d.toggleSpikelines={name:"toggleSpikelines",title:function(k){return s(k,"Toggle Spike Lines")},icon:r.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(k){var J=k._fullLayout,P=J._cartesianSpikesEnabled;J._cartesianSpikesEnabled=P==="on"?"off":"on",i.call("_guiRelayout",k,v(k))}};function v(k){for(var J=k._fullLayout,P=J._cartesianSpikesEnabled==="on",O=n.list(k,null,!0),M={},W=0;W<O.length;W++){var E=O[W];M[E._name+".showspikes"]=P?!0:E._showSpikeInitial}return M}d.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(k){return s(k,"Reset view")},attr:"reset",icon:r.home,click:function(k){w(k,"mapbox")}},d.resetViewMap={name:"resetViewMap",_cat:"resetView",title:function(k){return s(k,"Reset view")},attr:"reset",icon:r.home,click:function(k){w(k,"map")}},d.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(k){return s(k,"Zoom in")},attr:"zoom",val:"in",icon:r.zoom_plus,click:u},d.zoomInMap={name:"zoomInMap",_cat:"zoomin",title:function(k){return s(k,"Zoom in")},attr:"zoom",val:"in",icon:r.zoom_plus,click:f},d.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(k){return s(k,"Zoom out")},attr:"zoom",val:"out",icon:r.zoom_minus,click:u},d.zoomOutMap={name:"zoomOutMap",_cat:"zoomout",title:function(k){return s(k,"Zoom out")},attr:"zoom",val:"out",icon:r.zoom_minus,click:f};function u(k,J){_(k,J,"mapbox")}function f(k,J){_(k,J,"map")}function _(k,J,P){for(var O=J.currentTarget,M=O.getAttribute("data-val"),W=k._fullLayout,E=W._subplots[P]||[],N=1.05,R={},V=0;V<E.length;V++){var U=E[V],G=W[U].zoom,D=M==="in"?N*G:G/N;R[U+".zoom"]=D}i.call("_guiRelayout",k,R)}function w(k,J){for(var P=k._fullLayout,O=P._subplots[J]||[],M={},W=0;W<O.length;W++)for(var E=O[W],N=P[E]._subplot,R=N.viewInitial,V=Object.keys(R),U=0;U<V.length;U++){var G=V[U];M[E+"."+G]=R[G]}i.call("_guiRelayout",k,M)}}),Xs=ye((F,C)=>{var i=qs(),e=Object.keys(i),n=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],r=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(n),l=[],o=function(s){if(r.indexOf(s._cat||s.name)===-1){var d=s.name,t=(s._cat||s.name).toLowerCase();l.indexOf(d)===-1&&l.push(d),l.indexOf(t)===-1&&l.push(t)}};e.forEach(function(s){o(i[s])}),l.sort(),C.exports={DRAW_MODES:n,backButtons:r,foreButtons:l}}),Js=ye((F,C)=>{Xs(),C.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}}),wu=ye((F,C)=>{var i=zt(),e=$n(),n=or(),r=Js();C.exports=function(l,o){var s=l.modebar||{},d=n.newContainer(o,"modebar");function t(c,h){return i.coerce(s,d,r,c,h)}t("orientation"),t("bgcolor",e.addOpacity(o.paper_bgcolor,.5));var p=e.contrast(e.rgb(o.modebar.bgcolor));t("color",e.addOpacity(p,.3)),t("activecolor",e.addOpacity(p,.7)),t("uirevision",o.uirevision),t("add"),t("remove")}}),Tu=ye((F,C)=>{var i=Xt(),e=on(),n=zt(),r=Al(),l=Yt().version,o=new DOMParser;function s(c){this.container=c.container,this.element=document.createElement("div"),this.update(c.graphInfo,c.buttons),this.container.appendChild(this.element)}var d=s.prototype;d.update=function(c,h){this.graphInfo=c;var b=this.graphInfo._context,y=this.graphInfo._fullLayout,g="modebar-"+y._uid;this.element.setAttribute("id",g),this._uid=g,this.element.className="modebar",b.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),y.modebar.orientation==="v"&&(this.element.className+=" vertical",h=h.reverse());var m=y.modebar,v="#"+g+" .modebar-group";document.querySelectorAll(v).forEach(function(k){k.style.backgroundColor=m.bgcolor});var u=!this.hasButtons(h),f=this.hasLogo!==b.displaylogo,_=this.locale!==b.locale;if(this.locale=b.locale,(u||f||_)&&(this.removeAllButtons(),this.updateButtons(h),b.watermark||b.displaylogo)){var w=this.getLogo();b.watermark&&(w.className=w.className+" watermark"),y.modebar.orientation==="v"?this.element.insertBefore(w,this.element.childNodes[0]):this.element.appendChild(w),this.hasLogo=!0}this.updateActiveButton(),n.setStyleOnHover("#"+g+" .modebar-btn",".active",".icon path","fill: "+m.activecolor,"fill: "+m.color,this.element)},d.updateButtons=function(c){var h=this;this.buttons=c,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(b){var y=h.createGroup();b.forEach(function(g){var m=g.name;if(!m)throw new Error("must provide button 'name' in button config");if(h.buttonsNames.indexOf(m)!==-1)throw new Error("button name '"+m+"' is taken");h.buttonsNames.push(m);var v=h.createButton(g);h.buttonElements.push(v),y.appendChild(v)}),h.element.appendChild(y)})},d.createGroup=function(){var c=document.createElement("div");c.className="modebar-group";var h=this.graphInfo._fullLayout.modebar;return c.style.backgroundColor=h.bgcolor,c},d.createButton=function(c){var h=this,b=document.createElement("a");b.setAttribute("rel","tooltip"),b.className="modebar-btn";var y=c.title;y===void 0?y=c.name:typeof y=="function"&&(y=y(this.graphInfo)),(y||y===0)&&b.setAttribute("data-title",y),c.attr!==void 0&&b.setAttribute("data-attr",c.attr);var g=c.val;g!==void 0&&(typeof g=="function"&&(g=g(this.graphInfo)),b.setAttribute("data-val",g));var m=c.click;if(typeof m!="function")throw new Error("must provide button 'click' function in button config");b.addEventListener("click",function(u){c.click(h.graphInfo,u),h.updateActiveButton(u.currentTarget)}),b.setAttribute("data-toggle",c.toggle||!1),c.toggle&&i.select(b).classed("active",!0);var v=c.icon;return typeof v=="function"?b.appendChild(v()):b.appendChild(this.createIcon(v||r.question)),b.setAttribute("data-gravity",c.gravity||"n"),b},d.createIcon=function(c){var h=e(c.height)?Number(c.height):c.ascent-c.descent,b="http://www.w3.org/2000/svg",y;if(c.path){y=document.createElementNS(b,"svg"),y.setAttribute("viewBox",[0,0,c.width,h].join(" ")),y.setAttribute("class","icon");var g=document.createElementNS(b,"path");g.setAttribute("d",c.path),c.transform?g.setAttribute("transform",c.transform):c.ascent!==void 0&&g.setAttribute("transform","matrix(1 0 0 -1 0 "+c.ascent+")"),y.appendChild(g)}if(c.svg){var m=o.parseFromString(c.svg,"application/xml");y=m.childNodes[0]}return y.setAttribute("height","1em"),y.setAttribute("width","1em"),y},d.updateActiveButton=function(c){var h=this.graphInfo._fullLayout,b=c!==void 0?c.getAttribute("data-attr"):null;this.buttonElements.forEach(function(y){var g=y.getAttribute("data-val")||!0,m=y.getAttribute("data-attr"),v=y.getAttribute("data-toggle")==="true",u=i.select(y),f=function(k,J){var P=h.modebar,O=k.querySelector(".icon path");O&&(J||k.matches(":hover")?O.style.fill=P.activecolor:O.style.fill=P.color)};if(v){if(m===b){var _=!u.classed("active");u.classed("active",_),f(y,_)}}else{var w=m===null?m:n.nestedProperty(h,m).get();u.classed("active",w===g),f(y,w===g)}})},d.hasButtons=function(c){var h=this.buttons;if(!h||c.length!==h.length)return!1;for(var b=0;b<c.length;++b){if(c[b].length!==h[b].length)return!1;for(var y=0;y<c[b].length;y++)if(c[b][y].name!==h[b][y].name)return!1}return!0};function t(c){return c+" (v"+l+")"}d.getLogo=function(){var c=this.createGroup(),h=document.createElement("a");return h.href="https://plotly.com/",h.target="_blank",h.setAttribute("data-title",t(n._(this.graphInfo,"Produced with Plotly.js"))),h.className="modebar-btn plotlyjsicon modebar-btn--logo",h.appendChild(this.createIcon(r.newplotlylogo)),c.appendChild(h),c},d.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},d.destroy=function(){n.removeElement(this.container.querySelector(".modebar"))};function p(c,h){var b=c._fullLayout,y=new s({graphInfo:c,container:b._modebardiv.node(),buttons:h});return b._privateplot&&i.select(y.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),y}C.exports=p}),Mu=ye((F,C)=>{var i=Nr(),e=fi(),n=Kn(),r=Ei().isUnifiedHover,l=Tu(),o=qs(),s=Xs().DRAW_MODES,d=zt().extendDeep;C.exports=function(g){var m=g._fullLayout,v=g._context,u=m._modeBar;if(!v.displayModeBar&&!v.watermark){u&&(u.destroy(),delete m._modeBar);return}if(!Array.isArray(v.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(v.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var f=v.modeBarButtons,_;Array.isArray(f)&&f.length?_=y(f):!v.displayModeBar&&v.watermark?_=[]:_=t(g),u?u.update(g,_):m._modeBar=l(g,_)};function t(g){var m=g._fullLayout,v=g._fullData,u=g._context;function f(T,L){if(typeof L=="string"){if(L.toLowerCase()===T.toLowerCase())return!0}else{var $=L.name,Y=L._cat||L.name;if($===T||Y===T.toLowerCase())return!0}return!1}var _=m.modebar.add;typeof _=="string"&&(_=[_]);var w=m.modebar.remove;typeof w=="string"&&(w=[w]);var k=u.modeBarButtonsToAdd.concat(_.filter(function(T){for(var L=0;L<u.modeBarButtonsToRemove.length;L++)if(f(T,u.modeBarButtonsToRemove[L]))return!1;return!0})),J=u.modeBarButtonsToRemove.concat(w.filter(function(T){for(var L=0;L<u.modeBarButtonsToAdd.length;L++)if(f(T,u.modeBarButtonsToAdd[L]))return!1;return!0})),P=m._has("cartesian"),O=m._has("gl3d"),M=m._has("geo"),W=m._has("pie"),E=m._has("funnelarea"),N=m._has("ternary"),R=m._has("mapbox"),V=m._has("map"),U=m._has("polar"),G=m._has("smith"),D=m._has("sankey"),Z=p(m),q=r(m.hovermode),ae=[];function te(T){if(T.length){for(var L=[],$=0;$<T.length;$++){for(var Y=T[$],re=o[Y],se=re.name.toLowerCase(),ce=(re._cat||re.name).toLowerCase(),we=!1,Se=0;Se<J.length;Se++){var Ie=J[Se].toLowerCase();if(Ie===se||Ie===ce){we=!0;break}}we||L.push(o[Y])}ae.push(L)}}var ie=["toImage"];u.showEditInChartStudio?ie.push("editInChartStudio"):u.showSendToCloud&&ie.push("sendDataToCloud"),te(ie);var fe=[],he=[],be=[],H=[];(P||W||E||N)+M+O+R+V+U+G>1?(he=["toggleHover"],be=["resetViews"]):M?(fe=["zoomInGeo","zoomOutGeo"],he=["hoverClosestGeo"],be=["resetGeo"]):O?(he=["hoverClosest3d"],be=["resetCameraDefault3d","resetCameraLastSave3d"]):R?(fe=["zoomInMapbox","zoomOutMapbox"],he=["toggleHover"],be=["resetViewMapbox"]):V?(fe=["zoomInMap","zoomOutMap"],he=["toggleHover"],be=["resetViewMap"]):W?he=["hoverClosestPie"]:D?(he=["hoverClosestCartesian","hoverCompareCartesian"],be=["resetViewSankey"]):he=["toggleHover"],P&&he.push("toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"),(h(v)||q)&&(he=[]),P&&!Z&&(fe=["zoomIn2d","zoomOut2d","autoScale2d"],be[0]!=="resetViews"&&(be=["resetScale2d"])),O?H=["zoom3d","pan3d","orbitRotation","tableRotation"]:P&&!Z||N?H=["zoom2d","pan2d"]:R||V||M?H=["pan2d"]:U&&(H=["zoom2d"]),c(v)&&H.push("select2d","lasso2d");var B=[],A=function(T){B.indexOf(T)===-1&&he.indexOf(T)!==-1&&B.push(T)};if(Array.isArray(k)){for(var X=[],I=0;I<k.length;I++){var j=k[I];typeof j=="string"?(j=j.toLowerCase(),s.indexOf(j)!==-1?(m._has("mapbox")||m._has("map")||m._has("cartesian"))&&H.push(j):j==="togglespikelines"?A("toggleSpikelines"):j==="togglehover"?A("toggleHover"):j==="hovercompare"?A("hoverCompareCartesian"):j==="hoverclosest"?(A("hoverClosestCartesian"),A("hoverClosestGeo"),A("hoverClosest3d"),A("hoverClosestPie")):j==="v1hovermode"&&(A("hoverClosestCartesian"),A("hoverCompareCartesian"),A("hoverClosestGeo"),A("hoverClosest3d"),A("hoverClosestPie"))):X.push(j)}k=X}return te(H),te(fe.concat(be)),te(B),b(ae,k)}function p(g){for(var m=i.list({_fullLayout:g},null,!0),v=0;v<m.length;v++)if(!m[v].fixedrange)return!1;return!0}function c(g){for(var m=!1,v=0;v<g.length&&!m;v++){var u=g[v];!u._module||!u._module.selectPoints||(n.traceIs(u,"scatter-like")?(e.hasMarkers(u)||e.hasText(u))&&(m=!0):n.traceIs(u,"box-violin")?(u.boxpoints==="all"||u.points==="all")&&(m=!0):m=!0)}return m}function h(g){for(var m=0;m<g.length;m++)if(!n.traceIs(g[m],"noHover"))return!1;return!0}function b(g,m){if(m.length)if(Array.isArray(m[0]))for(var v=0;v<m.length;v++)g.push(m[v]);else g.push(m);return g}function y(g){for(var m=d([],g),v=0;v<m.length;v++)for(var u=m[v],f=0;f<u.length;f++){var _=u[f];if(typeof _=="string")if(o[_]!==void 0)m[v][f]=o[_];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return m}}),Qs=ye((F,C)=>{C.exports={moduleType:"component",name:"modebar",layoutAttributes:Js(),supplyLayoutDefaults:wu(),manage:Mu()}}),Ks=ye((F,C)=>{var i=ai().FROM_BL;C.exports=function(e,n,r){r===void 0&&(r=i[e.constraintoward||"center"]);var l=[e.r2l(e.range[0]),e.r2l(e.range[1])],o=l[0]+(l[1]-l[0])*r;e.range=e._input.range=[e.l2r(o+(l[0]-o)*n),e.l2r(o+(l[1]-o)*n)],e.setScale()}}),No=ye(F=>{var C=zt(),i=Io(),e=Nr().id2name,n=Mi(),r=Ks(),l=bl(),o=Gn().ALMOST_EQUAL,s=ai().FROM_BL;F.handleDefaults=function(g,m,v){var u=v.axIds,f=v.axHasImage,_=m._axisConstraintGroups=[],w=m._axisMatchGroups=[],k,J,P,O,M,W,E,N;for(k=0;k<u.length;k++)O=e(u[k]),M=g[O],W=m[O],d(M,W,{axIds:u,layoutOut:m,hasImage:f[O]});function R(ie,fe){for(k=0;k<ie.length;k++){J=ie[k];for(P in J)m[e(P)][fe]=J}}for(R(w,"_matchGroup"),k=0;k<_.length;k++){J=_[k];for(P in J)if(W=m[e(P)],W.fixedrange){for(var V in J){var U=e(V);(g[U]||{}).fixedrange===!1&&C.warn("fixedrange was specified as false for axis "+U+" but was overridden because another axis in its constraint group has fixedrange true"),m[U].fixedrange=!0}break}}for(k=0;k<_.length;){J=_[k];for(P in J){W=m[e(P)],W._matchGroup&&Object.keys(W._matchGroup).length===Object.keys(J).length&&(_.splice(k,1),k--);break}k++}R(_,"_constraintGroup");var G=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],D=!1,Z=!1;function q(){N=W[E],E==="rangebreaks"&&(Z=W._hasDayOfWeekBreaks)}for(k=0;k<w.length;k++){J=w[k];for(var ae=0;ae<G.length;ae++){E=G[ae],N=null;var te;for(P in J)if(O=e(P),M=g[O],W=m[O],E in W){if(!W.matches&&(te=W,E in M)){q();break}N===null&&E in M&&q()}if(E==="range"&&N&&M.range&&M.range.length===2&&M.range[0]!==null&&M.range[1]!==null&&(D=!0),E==="autorange"&&N===null&&D&&(N=!1),N===null&&E in te&&(N=te[E]),N!==null)for(P in J)W=m[e(P)],W[E]=E==="range"?N.slice():N,E==="rangebreaks"&&(W._hasDayOfWeekBreaks=Z,l(W,m))}}};function d(g,m,v){var u=v.axIds,f=v.layoutOut,_=v.hasImage,w=f._axisConstraintGroups,k=f._axisMatchGroups,J=m._id,P=J.charAt(0),O=((f._splomAxes||{})[P]||{})[J]||{},M=m._id,W=M.charAt(0)==="x";m._matchGroup=null,m._constraintGroup=null;function E(H,B){return C.coerce(g,m,n,H,B)}E("constrain",_?"domain":"range"),C.coerce(g,m,{constraintoward:{valType:"enumerated",values:W?["left","center","right"]:["bottom","middle","top"],dflt:W?"center":"middle"}},"constraintoward");var N=m.type,R,V,U=[];for(R=0;R<u.length;R++)if(V=u[R],V!==M){var G=f[e(V)];G.type===N&&U.push(V)}var D=p(w,M);if(D){var Z=[];for(R=0;R<U.length;R++)V=U[R],D[V]||Z.push(V);U=Z}var q=U.length,ae,te;q&&(g.matches||O.matches)&&(ae=C.coerce(g,m,{matches:{valType:"enumerated",values:U,dflt:U.indexOf(O.matches)!==-1?O.matches:void 0}},"matches"));var ie=_&&!W?m.anchor:void 0;if(q&&!ae&&(g.scaleanchor||ie)&&(te=C.coerce(g,m,{scaleanchor:{valType:"enumerated",values:U.concat([!1])}},"scaleanchor",ie)),ae){m._matchGroup=c(k,M,ae,1);var fe=f[e(ae)],he=t(f,m)/t(f,fe);W!==(ae.charAt(0)==="x")&&(he=(W?"x":"y")+he),c(w,M,ae,he)}else g.matches&&u.indexOf(g.matches)!==-1&&C.warn("ignored "+m._name+'.matches: "'+g.matches+'" to avoid an infinite loop');if(te){var be=E("scaleratio");be||(be=m.scaleratio=1),c(w,M,te,be)}else g.scaleanchor&&u.indexOf(g.scaleanchor)!==-1&&C.warn("ignored "+m._name+'.scaleanchor: "'+g.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function t(g,m){var v=m.domain;return v||(v=g[e(m.overlaying)].domain),v[1]-v[0]}function p(g,m){for(var v=0;v<g.length;v++)if(g[v][m])return g[v];return null}function c(g,m,v,u){var f,_,w,k,J,P=p(g,m);P===null?(P={},P[m]=1,J=g.length,g.push(P)):J=g.indexOf(P);var O=Object.keys(P);for(f=0;f<g.length;f++)if(w=g[f],f!==J&&w[v]){var M=w[v];for(_=0;_<O.length;_++)k=O[_],w[k]=h(M,h(u,P[k]));g.splice(J,1);return}if(u!==1)for(_=0;_<O.length;_++){var W=O[_];P[W]=h(u,P[W])}P[v]=1}function h(g,m){var v="",u="",f,_;typeof g=="string"&&(v=g.match(/^[xy]*/)[0],f=v.length,g=+g.substr(f)),typeof m=="string"&&(u=m.match(/^[xy]*/)[0],_=u.length,m=+m.substr(_));var w=g*m;return!f&&!_?w:!f||!_||v.charAt(0)===u.charAt(0)?v+u+g*m:f===_?w:(f>_?v.substr(_):u.substr(f))+w}function b(g,m){for(var v=m._size,u=v.h/v.w,f={},_=Object.keys(g),w=0;w<_.length;w++){var k=_[w],J=g[k];if(typeof J=="string"){var P=J.match(/^[xy]*/)[0],O=P.length;J=+J.substr(O);for(var M=P.charAt(0)==="y"?u:1/u,W=0;W<O;W++)J*=M}f[k]=J}return f}F.enforce=function(g){var m=g._fullLayout,v=m._axisConstraintGroups||[],u,f,_,w,k,J,P,O;for(u=0;u<v.length;u++){_=b(v[u],m);var M=Object.keys(_),W=1/0,E=0,N=1/0,R={},V={},U=!1;for(f=0;f<M.length;f++)w=M[f],V[w]=k=m[e(w)],k._inputDomain?k.domain=k._inputDomain.slice():k._inputDomain=k.domain.slice(),k._inputRange||(k._inputRange=k.range.slice()),k.setScale(),R[w]=J=Math.abs(k._m)/_[w],W=Math.min(W,J),(k.constrain==="domain"||!k._constraintShrinkable)&&(N=Math.min(N,J)),delete k._constraintShrinkable,E=Math.max(E,J),k.constrain==="domain"&&(U=!0);if(!(W>o*E&&!U)){for(f=0;f<M.length;f++)if(w=M[f],J=R[w],k=V[w],P=k.constrain,J!==N||P==="domain")if(O=J/N,P==="range")r(k,O);else{var G=k._inputDomain,D=(k.domain[1]-k.domain[0])/(G[1]-G[0]),Z=(k.r2l(k.range[1])-k.r2l(k.range[0]))/(k.r2l(k._inputRange[1])-k.r2l(k._inputRange[0]));if(O/=D,O*Z<1){k.domain=k._input.domain=G.slice(),r(k,O);continue}if(Z<1&&(k.range=k._input.range=k._inputRange.slice(),O*=Z),k.autorange){var q=k.r2l(k.range[0]),ae=k.r2l(k.range[1]),te=(q+ae)/2,ie=te,fe=te,he=Math.abs(ae-te),be=te-he*O*1.0001,H=te+he*O*1.0001,B=i.makePadFn(m,k,0),A=i.makePadFn(m,k,1);y(k,O);var X=Math.abs(k._m),I=i.concatExtremes(g,k),j=I.min,T=I.max,L,$;for($=0;$<j.length;$++)L=j[$].val-B(j[$])/X,L>be&&L<ie&&(ie=L);for($=0;$<T.length;$++)L=T[$].val+A(T[$])/X,L<H&&L>fe&&(fe=L);var Y=(fe-ie)/(2*he);O/=Y,ie=k.l2r(ie),fe=k.l2r(fe),k.range=k._input.range=q<ae?[ie,fe]:[fe,ie]}y(k,O)}}}},F.getAxisGroup=function(g,m){for(var v=g._axisMatchGroups,u=0;u<v.length;u++){var f=v[u];if(f[m])return"g"+u}return m},F.clean=function(g,m){if(m._inputDomain){for(var v=!1,u=m._id,f=g._fullLayout._axisConstraintGroups,_=0;_<f.length;_++)if(f[_][u]){v=!0;break}(!v||m.constrain!=="domain")&&(m._input.domain=m.domain=m._inputDomain,delete m._inputDomain)}};function y(g,m){var v=g._inputDomain,u=s[g.constraintoward],f=v[0]+(v[1]-v[0])*u;g.domain=g._input.domain=[f+(v[0]-f)/m,f+(v[1]-f)/m],g.setScale()}}),Pl=ye(F=>{var C=Xt(),i=Kn(),e=Lr(),n=zt(),r=Xr(),l=kl(),o=$n(),s=Ga(),d=Fo(),t=Qs(),p=cr(),c=ai(),h=No(),b=h.enforce,y=h.clean,g=Io().doAutoRange,m="start",v="middle",u="end",f=$r().zindexSeparator;F.layoutStyles=function(D){return n.syncOrAsync([e.doAutoMargin,w],D)};function _(D,Z,q){for(var ae=0;ae<q.length;ae++){var te=q[ae][0],ie=q[ae][1];if(!(te[0]>=D[1]||te[1]<=D[0])&&ie[0]<Z[1]&&ie[1]>Z[0])return!0}return!1}function w(D){var Z=D._fullLayout,q=Z._size,ae=q.p,te=p.list(D,"",!0),ie,fe,he,be,H,B;if(Z._paperdiv.style({width:D._context.responsive&&Z.autosize&&!D._context._hasZeroWidth&&!D.layout.width?"100%":Z.width+"px",height:D._context.responsive&&Z.autosize&&!D._context._hasZeroHeight&&!D.layout.height?"100%":Z.height+"px"}).selectAll(".main-svg").call(s.setSize,Z.width,Z.height),D._context.setBackground(D,Z.paper_bgcolor),F.drawMainTitle(D),t.manage(D),!Z._has("cartesian"))return e.previousPromises(D);function A(ke,K,de){var xe=ke._lw/2;if(ke._id.charAt(0)==="x"){if(K){if(de==="top")return K._offset-ae-xe}else return q.t+q.h*(1-(ke.position||0))+xe%1;return K._offset+K._length+ae+xe}if(K){if(de==="right")return K._offset+K._length+ae+xe}else return q.l+q.w*(ke.position||0)+xe%1;return K._offset-ae-xe}for(ie=0;ie<te.length;ie++){be=te[ie];var X=be._anchorAxis;be._linepositions={},be._lw=s.crispRound(D,be.linewidth,1),be._mainLinePosition=A(be,X,be.side),be._mainMirrorPosition=be.mirror&&X?A(be,X,c.OPPOSITE_SIDE[be.side]):null}var I=[],j=[],T=[],L=o.opacity(Z.paper_bgcolor)===1&&o.opacity(Z.plot_bgcolor)===1&&Z.paper_bgcolor===Z.plot_bgcolor;for(fe in Z._plots)if(he=Z._plots[fe],he.mainplot)he.bg&&he.bg.remove(),he.bg=void 0;else{var $=he.xaxis.domain,Y=he.yaxis.domain,re=he.plotgroup;if(_($,Y,T)&&fe.indexOf(f)===-1){var se=re.node(),ce=he.bg=n.ensureSingle(re,"rect","bg");se.insertBefore(ce.node(),se.childNodes[0]),j.push(fe)}else re.select("rect.bg").remove(),T.push([$,Y]),L||(I.push(fe),j.push(fe))}var we=Z._bgLayer.selectAll(".bg").data(I);for(we.enter().append("rect").classed("bg",!0),we.exit().remove(),we.each(function(ke){Z._plots[ke].bg=C.select(this)}),ie=0;ie<j.length;ie++)he=Z._plots[j[ie]],H=he.xaxis,B=he.yaxis,he.bg&&H._offset!==void 0&&B._offset!==void 0&&he.bg.call(s.setRect,H._offset-ae,B._offset-ae,H._length+2*ae,B._length+2*ae).call(o.fill,Z.plot_bgcolor).style("stroke-width",0);if(!Z._hasOnlyLargeSploms)for(fe in Z._plots){he=Z._plots[fe],H=he.xaxis,B=he.yaxis;var Se=he.clipId="clip"+Z._uid+fe+"plot",Ie=n.ensureSingleById(Z._clips,"clipPath",Se,function(ke){ke.classed("plotclip",!0).append("rect")});he.clipRect=Ie.select("rect").attr({width:H._length,height:B._length}),s.setTranslate(he.plot,H._offset,B._offset);var Ze,He;he._hasClipOnAxisFalse?(Ze=null,He=Se):(Ze=Se,He=null),s.setClipUrl(he.plot,Ze,D),he.layerClipId=He}var Be,pe,_e,oe,Le,Re,Ye,ot,Xe,lt,ut,dt,xt;function qe(ke){return"M"+Be+","+ke+"H"+pe}function bt(ke){return"M"+H._offset+","+ke+"h"+H._length}function Dt(ke){return"M"+ke+","+ot+"V"+Ye}function pt(ke){return B._shift!==void 0&&(ke+=B._shift),"M"+ke+","+B._offset+"v"+B._length}function St(ke,K,de){if(!ke.showline||fe!==ke._mainSubplot)return"";if(!ke._anchorAxis)return de(ke._mainLinePosition);var xe=K(ke._mainLinePosition);return ke.mirror&&(xe+=K(ke._mainMirrorPosition)),xe}for(fe in Z._plots){he=Z._plots[fe],H=he.xaxis,B=he.yaxis;var me="M0,0";k(H,fe)&&(Le=P(H,"left",B,te),Be=H._offset-(Le?ae+Le:0),Re=P(H,"right",B,te),pe=H._offset+H._length+(Re?ae+Re:0),_e=A(H,B,"bottom"),oe=A(H,B,"top"),xt=!H._anchorAxis||fe!==H._mainSubplot,xt&&(H.mirror==="allticks"||H.mirror==="all")&&(H._linepositions[fe]=[_e,oe]),me=St(H,qe,bt),xt&&H.showline&&(H.mirror==="all"||H.mirror==="allticks")&&(me+=qe(_e)+qe(oe)),he.xlines.style("stroke-width",H._lw+"px").call(o.stroke,H.showline?H.linecolor:"rgba(0,0,0,0)")),he.xlines.attr("d",me);var Ae="M0,0";k(B,fe)&&(ut=P(B,"bottom",H,te),Ye=B._offset+B._length+(ut?ae:0),dt=P(B,"top",H,te),ot=B._offset-(dt?ae:0),Xe=A(B,H,"left"),lt=A(B,H,"right"),xt=!B._anchorAxis||fe!==B._mainSubplot,xt&&(B.mirror==="allticks"||B.mirror==="all")&&(B._linepositions[fe]=[Xe,lt]),Ae=St(B,Dt,pt),xt&&B.showline&&(B.mirror==="all"||B.mirror==="allticks")&&(Ae+=Dt(Xe)+Dt(lt)),he.ylines.style("stroke-width",B._lw+"px").call(o.stroke,B.showline?B.linecolor:"rgba(0,0,0,0)")),he.ylines.attr("d",Ae)}return p.makeClipPaths(D),e.previousPromises(D)}function k(D,Z){return(D.ticks||D.showline)&&(Z===D._mainSubplot||D.mirror==="all"||D.mirror==="allticks")}function J(D,Z,q){if(!q.showline||!q._lw)return!1;if(q.mirror==="all"||q.mirror==="allticks")return!0;var ae=q._anchorAxis;if(!ae)return!1;var te=c.FROM_BL[Z];return q.side===Z?ae.domain[te]===D.domain[te]:q.mirror&&ae.domain[1-te]===D.domain[1-te]}function P(D,Z,q,ae){if(J(D,Z,q))return q._lw;for(var te=0;te<ae.length;te++){var ie=ae[te];if(ie._mainAxis===q._mainAxis&&J(D,Z,ie))return ie._lw}return 0}F.drawMainTitle=function(D){var Z=D._fullLayout.title,q=D._fullLayout,ae=U(q),te=G(q),ie=R(q,te),fe=N(q,ae);if(d.draw(D,"gtitle",{propContainer:q,propName:"title.text",subtitlePropName:"title.subtitle.text",placeholder:q._dfltTitle.plot,subtitlePlaceholder:q._dfltTitle.subtitle,attributes:{x:fe,y:ie,"text-anchor":ae,dy:te}}),Z.text&&Z.automargin){var he=C.selectAll(".gtitle"),be=s.bBox(C.selectAll(".g-gtitle").node()).height,H=W(D,Z,be);if(H>0){E(D,ie,H,be),he.attr({x:fe,y:ie,"text-anchor":ae,dy:V(Z.yanchor)}).call(r.positionText,fe,ie);var B=(Z.text.match(r.BR_TAG_ALL)||[]).length;if(B){var A=c.LINE_SPACING*B+c.MID_SHIFT;Z.y===0&&(A=-A),he.selectAll(".line").each(function(){var L=+this.getAttribute("dy").slice(0,-2)-A+"em";this.setAttribute("dy",L)})}var X=C.selectAll(".gtitle-subtitle");if(X.node()){var I=he.node().getBBox(),j=I.y+I.height,T=j+d.SUBTITLE_PADDING_EM*Z.subtitle.font.size;X.attr({x:fe,y:T,"text-anchor":ae,dy:V(Z.yanchor)}).call(r.positionText,fe,T)}}}};function O(D,Z,q,ae,te){var ie=Z.yref==="paper"?D._fullLayout._size.h:D._fullLayout.height,fe=n.isTopAnchor(Z)?ae:ae-te,he=q==="b"?ie-fe:fe;return n.isTopAnchor(Z)&&q==="t"||n.isBottomAnchor(Z)&&q==="b"?!1:he<te}function M(D,Z,q,ae,te){var ie=0;return q==="middle"&&(ie+=te/2),D==="t"?(q==="top"&&(ie+=te),ie+=ae-Z*ae):(q==="bottom"&&(ie+=te),ie+=Z*ae),ie}function W(D,Z,q){var ae=Z.y,te=Z.yanchor,ie=ae>.5?"t":"b",fe=D._fullLayout.margin[ie],he=0;return Z.yref==="paper"?he=q+Z.pad.t+Z.pad.b:Z.yref==="container"&&(he=M(ie,ae,te,D._fullLayout.height,q)+Z.pad.t+Z.pad.b),he>fe?he:0}function E(D,Z,q,ae){var te="title.automargin",ie=D._fullLayout.title,fe=ie.y>.5?"t":"b",he={x:ie.x,y:ie.y,t:0,b:0},be={};ie.yref==="paper"&&O(D,ie,fe,Z,ae)?he[fe]=q:ie.yref==="container"&&(be[fe]=q,D._fullLayout._reservedMargin[te]=be),e.allowAutoMargin(D,te),e.autoMargin(D,te,he)}function N(D,Z){var q=D.title,ae=D._size,te=0;switch(Z===m?te=q.pad.l:Z===u&&(te=-q.pad.r),q.xref){case"paper":return ae.l+ae.w*q.x+te;case"container":default:return D.width*q.x+te}}function R(D,Z){var q=D.title,ae=D._size,te=0;if(Z==="0em"||!Z?te=-q.pad.b:Z===c.CAP_SHIFT+"em"&&(te=q.pad.t),q.y==="auto")return ae.t/2;switch(q.yref){case"paper":return ae.t+ae.h-ae.h*q.y+te;case"container":default:return D.height-D.height*q.y+te}}function V(D){return D==="top"?c.CAP_SHIFT+.3+"em":D==="bottom"?"-0.3em":c.MID_SHIFT+"em"}function U(D){var Z=D.title,q=v;return n.isRightAnchor(Z)?q=u:n.isLeftAnchor(Z)&&(q=m),q}function G(D){var Z=D.title,q="0em";return n.isTopAnchor(Z)?q=c.CAP_SHIFT+"em":n.isMiddleAnchor(Z)&&(q=c.MID_SHIFT+"em"),q}F.doTraceStyle=function(D){var Z=D.calcdata,q=[],ae;for(ae=0;ae<Z.length;ae++){var te=Z[ae],ie=te[0]||{},fe=ie.trace||{},he=fe._module||{},be=he.arraysToCalcdata;be&&be(te,fe);var H=he.editStyle;H&&q.push({fn:H,cd0:ie})}if(q.length){for(ae=0;ae<q.length;ae++){var B=q[ae];B.fn(D,B.cd0)}l(D),F.redrawReglTraces(D)}return e.style(D),i.getComponentMethod("legend","draw")(D),e.previousPromises(D)},F.doColorBars=function(D){return i.getComponentMethod("colorbar","draw")(D),e.previousPromises(D)},F.layoutReplot=function(D){var Z=D.layout;return D.layout=void 0,i.call("_doPlot",D,"",Z)},F.doLegend=function(D){return i.getComponentMethod("legend","draw")(D),e.previousPromises(D)},F.doTicksRelayout=function(D){return p.draw(D,"redraw"),D._fullLayout._hasOnlyLargeSploms&&(i.subplotsRegistry.splom.updateGrid(D),l(D),F.redrawReglTraces(D)),F.drawMainTitle(D),e.previousPromises(D)},F.doModeBar=function(D){var Z=D._fullLayout;t.manage(D);for(var q=0;q<Z._basePlotModules.length;q++){var ae=Z._basePlotModules[q].updateFx;ae&&ae(D)}return e.previousPromises(D)},F.doCamera=function(D){for(var Z=D._fullLayout,q=Z._subplots.gl3d,ae=0;ae<q.length;ae++){var te=Z[q[ae]],ie=te._scene;ie.setViewport(te)}},F.drawData=function(D){var Z=D._fullLayout;l(D);for(var q=Z._basePlotModules,ae=0;ae<q.length;ae++)q[ae].plot(D);return F.redrawReglTraces(D),e.style(D),i.getComponentMethod("selections","draw")(D),i.getComponentMethod("shapes","draw")(D),i.getComponentMethod("annotations","draw")(D),i.getComponentMethod("images","draw")(D),Z._replotting=!1,e.previousPromises(D)},F.redrawReglTraces=function(D){var Z=D._fullLayout;if(Z._has("regl")){var q=D._fullData,ae=[],te=[],ie,fe;for(Z._hasOnlyLargeSploms&&Z._splomGrid.draw(),ie=0;ie<q.length;ie++){var he=q[ie];he.visible===!0&&he._length!==0&&(he.type==="splom"?Z._splomScenes[he.uid].draw():he.type==="scattergl"?n.pushUnique(ae,he.xaxis+he.yaxis):he.type==="scatterpolargl"&&n.pushUnique(te,he.subplot))}for(ie=0;ie<ae.length;ie++)fe=Z._plots[ae[ie]],fe._scene&&fe._scene.draw();for(ie=0;ie<te.length;ie++)fe=Z[te[ie]]._subplot,fe._scene&&fe._scene.draw()}},F.doAutoRangeAndConstraints=function(D){for(var Z=p.list(D,"",!0),q,ae={},te=0;te<Z.length;te++)if(q=Z[te],!ae[q._id]){ae[q._id]=1,y(D,q),g(D,q);var ie=q._matchGroup;if(ie)for(var fe in ie){var he=p.getFromId(D,fe);g(D,he,q.range),ae[fe]=1}}b(D)},F.finalDraw=function(D){i.getComponentMethod("rangeslider","draw")(D),i.getComponentMethod("rangeselector","draw")(D)},F.drawMarginPushers=function(D){i.getComponentMethod("legend","draw")(D),i.getComponentMethod("rangeselector","draw")(D),i.getComponentMethod("sliders","draw")(D),i.getComponentMethod("updatemenus","draw")(D),i.getComponentMethod("colorbar","draw")(D)}}),e0=ye((F,C)=>{var i=Xi().readPaths,e=Dl(),n=Zi().clearOutlineControllers,r=$n(),l=Ga(),o=or().arrayEditor,s=Ji(),d=s.getPathString;C.exports={draw:t,drawOne:c,activateLastSelection:y};function t(m){var v=m._fullLayout;n(m),v._selectionLayer.selectAll("path").remove();for(var u in v._plots){var f=v._plots[u].selectionLayer;f&&f.selectAll("path").remove()}for(var _=0;_<v.selections.length;_++)c(m,_)}function p(m){return m._context.editSelection}function c(m,v){m._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+v+'"]').remove();var u=s.makeSelectionsOptionsAndPlotinfo(m,v),f=u.options,_=u.plotinfo;if(!f._input)return;w(m._fullLayout._selectionLayer);function w(k){var J=d(m,f),P={"data-index":v,"fill-rule":"evenodd",d:J},O=f.opacity,M="rgba(0,0,0,0)",W=f.line.color||r.contrast(m._fullLayout.plot_bgcolor),E=f.line.width,N=f.line.dash;E||(E=5,N="solid");var R=p(m)&&m._fullLayout._activeSelectionIndex===v;R&&(M=m._fullLayout.activeselection.fillcolor,O=m._fullLayout.activeselection.opacity);for(var V=[],U=1;U>=0;U--){var G=k.append("path").attr(P).style("opacity",U?.1:O).call(r.stroke,W).call(r.fill,M).call(l.dashLine,U?"solid":N,U?4+E:E);if(h(G,m,f),R){var D=o(m.layout,"selections",f);G.style({cursor:"move"});var Z={element:G.node(),plotinfo:_,gd:m,editHelpers:D,isActiveSelection:!0},q=i(J,m);e(q,G,Z)}else G.style("pointer-events",U?"all":"none");V[U]=G}var ae=V[0],te=V[1];te.node().addEventListener("click",function(){return b(m,ae)})}}function h(m,v,u){var f=u.xref+u.yref;l.setClipUrl(m,"clip"+v._fullLayout._uid+f,v)}function b(m,v){if(p(m)){var u=v.node(),f=+u.getAttribute("data-index");if(f>=0){if(f===m._fullLayout._activeSelectionIndex){g(m);return}m._fullLayout._activeSelectionIndex=f,m._fullLayout._deactivateSelection=g,t(m)}}}function y(m){if(p(m)){var v=m._fullLayout.selections.length-1;m._fullLayout._activeSelectionIndex=v,m._fullLayout._deactivateSelection=g,t(m)}}function g(m){if(p(m)){var v=m._fullLayout._activeSelectionIndex;v>=0&&(n(m),delete m._fullLayout._activeSelectionIndex,t(m))}}}),ku=ye((F,C)=>{function i(){var e,n=0,r=!1;function l(o,s){return e.list.push({type:o,data:s?JSON.parse(JSON.stringify(s)):void 0}),e}return e={list:[],segmentId:function(){return n++},checkIntersection:function(o,s){return l("check",{seg1:o,seg2:s})},segmentChop:function(o,s){return l("div_seg",{seg:o,pt:s}),l("chop",{seg:o,pt:s})},statusRemove:function(o){return l("pop_seg",{seg:o})},segmentUpdate:function(o){return l("seg_update",{seg:o})},segmentNew:function(o,s){return l("new_seg",{seg:o,primary:s})},segmentRemove:function(o){return l("rem_seg",{seg:o})},tempStatus:function(o,s,d){return l("temp_status",{seg:o,above:s,below:d})},rewind:function(o){return l("rewind",{seg:o})},status:function(o,s,d){return l("status",{seg:o,above:s,below:d})},vert:function(o){return o===r?e:(r=o,l("vert",{x:o}))},log:function(o){return typeof o!="string"&&(o=JSON.stringify(o,!1,"  ")),l("log",{txt:o})},reset:function(){return l("reset")},selected:function(o){return l("selected",{segs:o})},chainStart:function(o){return l("chain_start",{seg:o})},chainRemoveHead:function(o,s){return l("chain_rem_head",{index:o,pt:s})},chainRemoveTail:function(o,s){return l("chain_rem_tail",{index:o,pt:s})},chainNew:function(o,s){return l("chain_new",{pt1:o,pt2:s})},chainMatch:function(o){return l("chain_match",{index:o})},chainClose:function(o){return l("chain_close",{index:o})},chainAddHead:function(o,s){return l("chain_add_head",{index:o,pt:s})},chainAddTail:function(o,s){return l("chain_add_tail",{index:o,pt:s})},chainConnect:function(o,s){return l("chain_con",{index1:o,index2:s})},chainReverse:function(o){return l("chain_rev",{index:o})},chainJoin:function(o,s){return l("chain_join",{index1:o,index2:s})},done:function(){return l("done")}},e}C.exports=i}),Au=ye((F,C)=>{function i(e){typeof e!="number"&&(e=1e-10);var n={epsilon:function(r){return typeof r=="number"&&(e=r),e},pointAboveOrOnLine:function(r,l,o){var s=l[0],d=l[1],t=o[0],p=o[1],c=r[0],h=r[1];return(t-s)*(h-d)-(p-d)*(c-s)>=-e},pointBetween:function(r,l,o){var s=r[1]-l[1],d=o[0]-l[0],t=r[0]-l[0],p=o[1]-l[1],c=t*d+s*p;if(c<e)return!1;var h=d*d+p*p;return!(c-h>-e)},pointsSameX:function(r,l){return Math.abs(r[0]-l[0])<e},pointsSameY:function(r,l){return Math.abs(r[1]-l[1])<e},pointsSame:function(r,l){return n.pointsSameX(r,l)&&n.pointsSameY(r,l)},pointsCompare:function(r,l){return n.pointsSameX(r,l)?n.pointsSameY(r,l)?0:r[1]<l[1]?-1:1:r[0]<l[0]?-1:1},pointsCollinear:function(r,l,o){var s=r[0]-l[0],d=r[1]-l[1],t=l[0]-o[0],p=l[1]-o[1];return Math.abs(s*p-t*d)<e},linesIntersect:function(r,l,o,s){var d=l[0]-r[0],t=l[1]-r[1],p=s[0]-o[0],c=s[1]-o[1],h=d*c-t*p;if(Math.abs(h)<e)return!1;var b=r[0]-o[0],y=r[1]-o[1],g=(p*y-c*b)/h,m=(d*y-t*b)/h,v={alongA:0,alongB:0,pt:[r[0]+g*d,r[1]+g*t]};return g<=-e?v.alongA=-2:g<e?v.alongA=-1:g-1<=-e?v.alongA=0:g-1<e?v.alongA=1:v.alongA=2,m<=-e?v.alongB=-2:m<e?v.alongB=-1:m-1<=-e?v.alongB=0:m-1<e?v.alongB=1:v.alongB=2,v},pointInsideRegion:function(r,l){for(var o=r[0],s=r[1],d=l[l.length-1][0],t=l[l.length-1][1],p=!1,c=0;c<l.length;c++){var h=l[c][0],b=l[c][1];b-s>e!=t-s>e&&(d-h)*(s-b)/(t-b)+h-o>e&&(p=!p),d=h,t=b}return p}};return n}C.exports=i}),Su=ye((F,C)=>{var i={create:function(){var e={root:{root:!0,next:null},exists:function(n){return!(n===null||n===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(n,r){for(var l=e.root,o=e.root.next;o!==null;){if(r(o)){n.prev=o.prev,n.next=o,o.prev.next=n,o.prev=n;return}l=o,o=o.next}l.next=n,n.prev=l,n.next=null},findTransition:function(n){for(var r=e.root,l=e.root.next;l!==null&&!n(l);)r=l,l=l.next;return{before:r===e.root?null:r,after:l,insert:function(o){return o.prev=r,o.next=l,r.next=o,l!==null&&(l.prev=o),o}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};C.exports=i}),Lu=ye((F,C)=>{var i=Su();function e(n,r,l){function o(v,u){return{id:l?l.segmentId():-1,start:v,end:u,myFill:{above:null,below:null},otherFill:null}}function s(v,u,f){return{id:l?l.segmentId():-1,start:v,end:u,myFill:{above:f.myFill.above,below:f.myFill.below},otherFill:null}}var d=i.create();function t(v,u,f,_,w,k){var J=r.pointsCompare(u,w);return J!==0?J:r.pointsSame(f,k)?0:v!==_?v?1:-1:r.pointAboveOrOnLine(f,_?w:k,_?k:w)?1:-1}function p(v,u){d.insertBefore(v,function(f){var _=t(v.isStart,v.pt,u,f.isStart,f.pt,f.other.pt);return _<0})}function c(v,u){var f=i.node({isStart:!0,pt:v.start,seg:v,primary:u,other:null,status:null});return p(f,v.end),f}function h(v,u,f){var _=i.node({isStart:!1,pt:u.end,seg:u,primary:f,other:v,status:null});v.other=_,p(_,v.pt)}function b(v,u){var f=c(v,u);return h(f,v,u),f}function y(v,u){l&&l.segmentChop(v.seg,u),v.other.remove(),v.seg.end=u,v.other.pt=u,p(v.other,v.pt)}function g(v,u){var f=s(u,v.seg.end,v.seg);return y(v,u),b(f,v.primary)}function m(v,u){var f=i.create();function _(G,D){var Z=G.seg.start,q=G.seg.end,ae=D.seg.start,te=D.seg.end;return r.pointsCollinear(Z,ae,te)?r.pointsCollinear(q,ae,te)||r.pointAboveOrOnLine(q,ae,te)?1:-1:r.pointAboveOrOnLine(Z,ae,te)?1:-1}function w(G){return f.findTransition(function(D){var Z=_(G,D.ev);return Z>0})}function k(G,D){var Z=G.seg,q=D.seg,ae=Z.start,te=Z.end,ie=q.start,fe=q.end;l&&l.checkIntersection(Z,q);var he=r.linesIntersect(ae,te,ie,fe);if(he===!1){if(!r.pointsCollinear(ae,te,ie)||r.pointsSame(ae,fe)||r.pointsSame(te,ie))return!1;var be=r.pointsSame(ae,ie),H=r.pointsSame(te,fe);if(be&&H)return D;var B=!be&&r.pointBetween(ae,ie,fe),A=!H&&r.pointBetween(te,ie,fe);if(be)return A?g(D,te):g(G,fe),D;B&&(H||(A?g(D,te):g(G,fe)),g(D,ae))}else he.alongA===0&&(he.alongB===-1?g(G,ie):he.alongB===0?g(G,he.pt):he.alongB===1&&g(G,fe)),he.alongB===0&&(he.alongA===-1?g(D,ae):he.alongA===0?g(D,he.pt):he.alongA===1&&g(D,te));return!1}for(var J=[];!d.isEmpty();){var P=d.getHead();if(l&&l.vert(P.pt[0]),P.isStart){let G=function(){if(M){var D=k(P,M);if(D)return D}return W?k(P,W):!1};l&&l.segmentNew(P.seg,P.primary);var O=w(P),M=O.before?O.before.ev:null,W=O.after?O.after.ev:null;l&&l.tempStatus(P.seg,M?M.seg:!1,W?W.seg:!1);var E=G();if(E){if(n){var N;P.seg.myFill.below===null?N=!0:N=P.seg.myFill.above!==P.seg.myFill.below,N&&(E.seg.myFill.above=!E.seg.myFill.above)}else E.seg.otherFill=P.seg.myFill;l&&l.segmentUpdate(E.seg),P.other.remove(),P.remove()}if(d.getHead()!==P){l&&l.rewind(P.seg);continue}if(n){var N;P.seg.myFill.below===null?N=!0:N=P.seg.myFill.above!==P.seg.myFill.below,W?P.seg.myFill.below=W.seg.myFill.above:P.seg.myFill.below=v,N?P.seg.myFill.above=!P.seg.myFill.below:P.seg.myFill.above=P.seg.myFill.below}else if(P.seg.otherFill===null){var R;W?P.primary===W.primary?R=W.seg.otherFill.above:R=W.seg.myFill.above:R=P.primary?u:v,P.seg.otherFill={above:R,below:R}}l&&l.status(P.seg,M?M.seg:!1,W?W.seg:!1),P.other.status=O.insert(i.node({ev:P}))}else{var V=P.status;if(V===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(f.exists(V.prev)&&f.exists(V.next)&&k(V.prev.ev,V.next.ev),l&&l.statusRemove(V.ev.seg),V.remove(),!P.primary){var U=P.seg.myFill;P.seg.myFill=P.seg.otherFill,P.seg.otherFill=U}J.push(P.seg)}d.getHead().remove()}return l&&l.done(),J}return n?{addRegion:function(v){for(var u,f=v[v.length-1],_=0;_<v.length;_++){u=f,f=v[_];var w=r.pointsCompare(u,f);w!==0&&b(o(w<0?u:f,w<0?f:u),!0)}},calculate:function(v){return m(v,!1)}}:{calculate:function(v,u,f,_){return v.forEach(function(w){b(s(w.start,w.end,w),!0)}),f.forEach(function(w){b(s(w.start,w.end,w),!1)}),m(u,_)}}}C.exports=e}),Ou=ye((F,C)=>{function i(e,n,r){var l=[],o=[];return e.forEach(function(s){var d=s.start,t=s.end;if(n.pointsSame(d,t)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}r&&r.chainStart(s);var p={index:0,matches_head:!1,matches_pt1:!1},c={index:0,matches_head:!1,matches_pt1:!1},h=p;function b(R,V,U){return h.index=R,h.matches_head=V,h.matches_pt1=U,h===p?(h=c,!1):(h=null,!0)}for(var y=0;y<l.length;y++){var g=l[y],m=g[0];g[1];var v=g[g.length-1];if(g[g.length-2],n.pointsSame(m,d)){if(b(y,!0,!0))break}else if(n.pointsSame(m,t)){if(b(y,!0,!1))break}else if(n.pointsSame(v,d)){if(b(y,!1,!0))break}else if(n.pointsSame(v,t)&&b(y,!1,!1))break}if(h===p){l.push([d,t]),r&&r.chainNew(d,t);return}if(h===c){r&&r.chainMatch(p.index);var u=p.index,f=p.matches_pt1?t:d,_=p.matches_head,g=l[u],w=_?g[0]:g[g.length-1],k=_?g[1]:g[g.length-2],J=_?g[g.length-1]:g[0],P=_?g[g.length-2]:g[1];if(n.pointsCollinear(k,w,f)&&(_?(r&&r.chainRemoveHead(p.index,f),g.shift()):(r&&r.chainRemoveTail(p.index,f),g.pop()),w=k),n.pointsSame(J,f)){l.splice(u,1),n.pointsCollinear(P,J,w)&&(_?(r&&r.chainRemoveTail(p.index,w),g.pop()):(r&&r.chainRemoveHead(p.index,w),g.shift())),r&&r.chainClose(p.index),o.push(g);return}_?(r&&r.chainAddHead(p.index,f),g.unshift(f)):(r&&r.chainAddTail(p.index,f),g.push(f));return}function O(R){r&&r.chainReverse(R),l[R].reverse()}function M(R,V){var U=l[R],G=l[V],D=U[U.length-1],Z=U[U.length-2],q=G[0],ae=G[1];n.pointsCollinear(Z,D,q)&&(r&&r.chainRemoveTail(R,D),U.pop(),D=Z),n.pointsCollinear(D,q,ae)&&(r&&r.chainRemoveHead(V,q),G.shift()),r&&r.chainJoin(R,V),l[R]=U.concat(G),l.splice(V,1)}var W=p.index,E=c.index;r&&r.chainConnect(W,E);var N=l[W].length<l[E].length;p.matches_head?c.matches_head?N?(O(W),M(W,E)):(O(E),M(E,W)):M(E,W):c.matches_head?M(W,E):N?(O(W),M(E,W)):(O(E),M(W,E))}),o}C.exports=i}),Du=ye((F,C)=>{function i(n,r,l){var o=[];return n.forEach(function(s){var d=(s.myFill.above?8:0)+(s.myFill.below?4:0)+(s.otherFill&&s.otherFill.above?2:0)+(s.otherFill&&s.otherFill.below?1:0);r[d]!==0&&o.push({id:l?l.segmentId():-1,start:s.start,end:s.end,myFill:{above:r[d]===1,below:r[d]===2},otherFill:null})}),l&&l.selected(o),o}var e={union:function(n,r){return i(n,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],r)},intersect:function(n,r){return i(n,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],r)},difference:function(n,r){return i(n,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],r)},differenceRev:function(n,r){return i(n,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],r)},xor:function(n,r){return i(n,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],r)}};C.exports=e}),Cu=ye((F,C)=>{var i={toPolygon:function(e,n){function r(s){if(s.length<=0)return e.segments({inverted:!1,regions:[]});function d(c){var h=c.slice(0,c.length-1);return e.segments({inverted:!1,regions:[h]})}for(var t=d(s[0]),p=1;p<s.length;p++)t=e.selectDifference(e.combine(t,d(s[p])));return t}if(n.type==="Polygon")return e.polygon(r(n.coordinates));if(n.type==="MultiPolygon"){for(var l=e.segments({inverted:!1,regions:[]}),o=0;o<n.coordinates.length;o++)l=e.selectUnion(e.combine(l,r(n.coordinates[o])));return e.polygon(l)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,n,r){r=e.polygon(e.segments(r));function l(g,m){return n.pointInsideRegion([(g[0][0]+g[1][0])*.5,(g[0][1]+g[1][1])*.5],m)}function o(g){return{region:g,children:[]}}var s=o(null);function d(g,m){for(var v=0;v<g.children.length;v++){var u=g.children[v];if(l(m,u.region)){d(u,m);return}}for(var f=o(m),v=0;v<g.children.length;v++){var u=g.children[v];l(u.region,m)&&(f.children.push(u),g.children.splice(v,1),v--)}g.children.push(f)}for(var t=0;t<r.regions.length;t++){var p=r.regions[t];p.length<3||d(s,p)}function c(g,m){for(var v=0,u=g[g.length-1][0],f=g[g.length-1][1],_=[],w=0;w<g.length;w++){var k=g[w][0],J=g[w][1];_.push([k,J]),v+=J*u-k*f,u=k,f=J}var P=v<0;return P!==m&&_.reverse(),_.push([_[0][0],_[0][1]]),_}var h=[];function b(g){var m=[c(g.region,!1)];h.push(m);for(var v=0;v<g.children.length;v++)m.push(y(g.children[v]))}function y(g){for(var m=0;m<g.children.length;m++)b(g.children[m]);return c(g.region,!0)}for(var t=0;t<s.children.length;t++)b(s.children[t]);return h.length<=0?{type:"Polygon",coordinates:[]}:h.length==1?{type:"Polygon",coordinates:h[0]}:{type:"MultiPolygon",coordinates:h}}};C.exports=i}),Pu=ye((F,C)=>{var i=ku(),e=Au(),n=Lu(),r=Ou(),l=Du(),o=Cu(),s=!1,d=e(),t;t={buildLog:function(c){return c===!0?s=i():c===!1&&(s=!1),s===!1?!1:s.list},epsilon:function(c){return d.epsilon(c)},segments:function(c){var h=n(!0,d,s);return c.regions.forEach(h.addRegion),{segments:h.calculate(c.inverted),inverted:c.inverted}},combine:function(c,h){var b=n(!1,d,s);return{combined:b.calculate(c.segments,c.inverted,h.segments,h.inverted),inverted1:c.inverted,inverted2:h.inverted}},selectUnion:function(c){return{segments:l.union(c.combined,s),inverted:c.inverted1||c.inverted2}},selectIntersect:function(c){return{segments:l.intersect(c.combined,s),inverted:c.inverted1&&c.inverted2}},selectDifference:function(c){return{segments:l.difference(c.combined,s),inverted:c.inverted1&&!c.inverted2}},selectDifferenceRev:function(c){return{segments:l.differenceRev(c.combined,s),inverted:!c.inverted1&&c.inverted2}},selectXor:function(c){return{segments:l.xor(c.combined,s),inverted:c.inverted1!==c.inverted2}},polygon:function(c){return{regions:r(c.segments,d,s),inverted:c.inverted}},polygonFromGeoJSON:function(c){return o.toPolygon(t,c)},polygonToGeoJSON:function(c){return o.fromPolygon(t,d,c)},union:function(c,h){return p(c,h,t.selectUnion)},intersect:function(c,h){return p(c,h,t.selectIntersect)},difference:function(c,h){return p(c,h,t.selectDifference)},differenceRev:function(c,h){return p(c,h,t.selectDifferenceRev)},xor:function(c,h){return p(c,h,t.selectXor)}};function p(c,h,b){var y=t.segments(c),g=t.segments(h),m=t.combine(y,g),v=b(m);return t.polygon(v)}typeof window=="object"&&(window.PolyBool=t),C.exports=t}),Eu=ye((F,C)=>{C.exports=function(i,e,n,r){var l=i[0],o=i[1],s=!1;n===void 0&&(n=0),r===void 0&&(r=e.length);for(var d=r-n,t=0,p=d-1;t<d;p=t++){var c=e[t+n][0],h=e[t+n][1],b=e[p+n][0],y=e[p+n][1],g=h>o!=y>o&&l<(b-c)*(o-h)/(y-h)+c;g&&(s=!s)}return s}}),t0=ye((F,C)=>{var i=Ar().dot,e=Gn().BADNUM,n=C.exports={};n.tester=function(r){var l=r.slice(),o=l[0][0],s=o,d=l[0][1],t=d,p;for((l[l.length-1][0]!==l[0][0]||l[l.length-1][1]!==l[0][1])&&l.push(l[0]),p=1;p<l.length;p++)o=Math.min(o,l[p][0]),s=Math.max(s,l[p][0]),d=Math.min(d,l[p][1]),t=Math.max(t,l[p][1]);var c=!1,h;l.length===5&&(l[0][0]===l[1][0]?l[2][0]===l[3][0]&&l[0][1]===l[3][1]&&l[1][1]===l[2][1]&&(c=!0,h=function(v){return v[0]===l[0][0]}):l[0][1]===l[1][1]&&l[2][1]===l[3][1]&&l[0][0]===l[3][0]&&l[1][0]===l[2][0]&&(c=!0,h=function(v){return v[1]===l[0][1]}));function b(v,u){var f=v[0],_=v[1];return!(f===e||f<o||f>s||_===e||_<d||_>t||u&&h(v))}function y(v,u){var f=v[0],_=v[1];if(f===e||f<o||f>s||_===e||_<d||_>t)return!1;var w=l.length,k=l[0][0],J=l[0][1],P=0,O,M,W,E,N;for(O=1;O<w;O++)if(M=k,W=J,k=l[O][0],J=l[O][1],E=Math.min(M,k),!(f<E||f>Math.max(M,k)||_>Math.max(W,J)))if(_<Math.min(W,J))f!==E&&P++;else{if(k===M?N=_:N=W+(f-M)*(J-W)/(k-M),_===N)return!(O===1&&u);_<=N&&f!==E&&P++}return P%2===1}var g=!0,m=l[0];for(p=1;p<l.length;p++)if(m[0]!==l[p][0]||m[1]!==l[p][1]){g=!1;break}return{xmin:o,xmax:s,ymin:d,ymax:t,pts:l,contains:c?b:y,isRect:c,degenerate:g}},n.isSegmentBent=function(r,l,o,s){var d=r[l],t=[r[o][0]-d[0],r[o][1]-d[1]],p=i(t,t),c=Math.sqrt(p),h=[-t[1]/c,t[0]/c],b,y,g;for(b=l+1;b<o;b++)if(y=[r[b][0]-d[0],r[b][1]-d[1]],g=i(y,t),g<0||g>p||Math.abs(i(y,h))>s)return!0;return!1},n.filter=function(r,l){var o=[r[0]],s=0,d=0;function t(c){r.push(c);var h=o.length,b=s;o.splice(d+1);for(var y=b+1;y<r.length;y++)(y===r.length-1||n.isSegmentBent(r,b,y+1,l))&&(o.push(r[y]),o.length<h-2&&(s=y,d=o.length-1),b=y)}if(r.length>1){var p=r.pop();t(p)}return{addPt:t,raw:r,filtered:o}}}),Fu=ye((F,C)=>{C.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}}),Iu=ye((F,C)=>{var i=Pu(),e=Eu(),n=Kn(),r=Ga().dashStyle,l=$n(),o=Fi(),s=Ei().makeEventData,d=bo(),t=d.freeMode,p=d.rectMode,c=d.drawMode,h=d.openMode,b=d.selectMode,y=Ji(),g=Ro(),m=Dl(),v=Zi().clearOutline,u=Xi(),f=u.handleEllipse,_=u.readPaths,w=Ol().newShapes,k=Ws(),J=e0().activateLastSelection,P=zt(),O=P.sorterAsc,M=t0(),W=ma(),E=Nr().getFromId,N=kl(),R=Pl().redrawReglTraces,V=Fu(),U=V.MINSELECT,G=M.filter,D=M.tester,Z=Ll(),q=Z.p2r,ae=Z.axValue,te=Z.getTransform;function ie(me){return me.subplot!==void 0}function fe(me,Ae,ke,K,de){var xe=!ie(K),ge=t(de),Ee=p(de),Me=h(de),Je=c(de),Qe=b(de),st=de==="drawline",ze=de==="drawcircle",rt=st||ze,ft=K.gd,yt=ft._fullLayout,Ht=Qe&&yt.newselection.mode==="immediate"&&xe,Wt=yt._zoomlayer,hn=K.element.getBoundingClientRect(),Bt=K.plotinfo,en=te(Bt),Ft=Ae-hn.left,Nt=ke-hn.top;yt._calcInverseTransform(ft);var ln=P.apply3DTransform(yt._invTransform)(Ft,Nt);Ft=ln[0],Nt=ln[1];var tn=yt._invScaleX,sn=yt._invScaleY,Ut=Ft,Pt=Nt,nn="M"+Ft+","+Nt,On=K.xaxes[0],Qn=K.yaxes[0],rn=On._length,In=Qn._length,Nn=me.altKey&&!(c(de)&&Me),xa,Et,ea,ee,le,$e,Ve;X(me,ft,K),ge&&(xa=G([[Ft,Nt]],V.BENDPX));var De=Wt.selectAll("path.select-outline-"+Bt.id).data([1]),Pe=Je?yt.newshape:yt.newselection;Je&&(K.hasText=Pe.label.text||Pe.label.texttemplate);var je=Je&&!Me?Pe.fillcolor:"rgba(0,0,0,0)",We=Pe.line.color||(xe?l.contrast(ft._fullLayout.plot_bgcolor):"#7f7f7f");De.enter().append("path").attr("class","select-outline select-outline-"+Bt.id).style({opacity:Je?Pe.opacity/2:1,"stroke-dasharray":r(Pe.line.dash,Pe.line.width),"stroke-width":Pe.line.width+"px","shape-rendering":"crispEdges"}).call(l.stroke,We).call(l.fill,je).attr("fill-rule","evenodd").classed("cursor-move",!!Je).attr("transform",en).attr("d",nn+"Z");var Ne=Wt.append("path").attr("class","zoombox-corners").style({fill:l.background,stroke:l.defaultLine,"stroke-width":1}).attr("transform",en).attr("d","M0,0Z");if(Je&&K.hasText){var Ue=Wt.select(".label-temp");Ue.empty()&&(Ue=Wt.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Ke=yt._uid+V.SELECTID,it=[],_t=$(ft,K.xaxes,K.yaxes,K.subplot);Ht&&!me.shiftKey&&(K._clearSubplotSelections=function(){if(xe){var Mt=On._id,jt=Qn._id;Ye(ft,Mt,jt,_t);for(var $t=(ft.layout||{}).selections||[],bn=[],Zt=!1,an=0;an<$t.length;an++){var wn=yt.selections[an];!wn||wn.xref!==Mt||wn.yref!==jt?bn.push($t[an]):Zt=!0}Zt&&(ft._fullLayout._noEmitSelectedAtStart=!0,n.call("_guiRelayout",ft,{selections:bn}))}});var Ct=bt(K);K.moveFn=function(Mt,jt){K._clearSubplotSelections&&(K._clearSubplotSelections(),K._clearSubplotSelections=void 0),Ut=Math.max(0,Math.min(rn,tn*Mt+Ft)),Pt=Math.max(0,Math.min(In,sn*jt+Nt));var $t=Math.abs(Ut-Ft),bn=Math.abs(Pt-Nt);if(Ee){var Zt,an,wn;if(Qe){var Bn=yt.selectdirection;switch(Bn==="any"?bn<Math.min($t*.6,U)?Zt="h":$t<Math.min(bn*.6,U)?Zt="v":Zt="d":Zt=Bn,Zt){case"h":an=ze?In/2:0,wn=In;break;case"v":an=ze?rn/2:0,wn=rn;break}}if(Je)switch(yt.newshape.drawdirection){case"vertical":Zt="h",an=ze?In/2:0,wn=In;break;case"horizontal":Zt="v",an=ze?rn/2:0,wn=rn;break;case"ortho":$t<bn?(Zt="h",an=Nt,wn=Pt):(Zt="v",an=Ft,wn=Ut);break;default:Zt="d"}Zt==="h"?(ee=rt?f(ze,[Ut,an],[Ut,wn]):[[Ft,an],[Ft,wn],[Ut,wn],[Ut,an]],ee.xmin=rt?Ut:Math.min(Ft,Ut),ee.xmax=rt?Ut:Math.max(Ft,Ut),ee.ymin=Math.min(an,wn),ee.ymax=Math.max(an,wn),Ne.attr("d","M"+ee.xmin+","+(Nt-U)+"h-4v"+2*U+"h4ZM"+(ee.xmax-1)+","+(Nt-U)+"h4v"+2*U+"h-4Z")):Zt==="v"?(ee=rt?f(ze,[an,Pt],[wn,Pt]):[[an,Nt],[an,Pt],[wn,Pt],[wn,Nt]],ee.xmin=Math.min(an,wn),ee.xmax=Math.max(an,wn),ee.ymin=rt?Pt:Math.min(Nt,Pt),ee.ymax=rt?Pt:Math.max(Nt,Pt),Ne.attr("d","M"+(Ft-U)+","+ee.ymin+"v-4h"+2*U+"v4ZM"+(Ft-U)+","+(ee.ymax-1)+"v4h"+2*U+"v-4Z")):Zt==="d"&&(ee=rt?f(ze,[Ft,Nt],[Ut,Pt]):[[Ft,Nt],[Ft,Pt],[Ut,Pt],[Ut,Nt]],ee.xmin=Math.min(Ft,Ut),ee.xmax=Math.max(Ft,Ut),ee.ymin=Math.min(Nt,Pt),ee.ymax=Math.max(Nt,Pt),Ne.attr("d","M0,0Z"))}else ge&&(xa.addPt([Ut,Pt]),ee=xa.filtered);if(K.selectionDefs&&K.selectionDefs.length?(ea=He(K.mergedPolygons,ee,Nn),ee.subtract=Nn,Et=A(K.selectionDefs.concat([ee]))):(ea=[ee],Et=D(ee)),m(pe(ea,Me),De,K),Qe){var na=oe(ft,!1),Ha=na.eventData?na.eventData.points.slice():[];na=oe(ft,!1,Et,_t,K),Et=na.selectionTesters,Ve=na.eventData;var Ta;xa?Ta=xa.filtered:Ta=dt(ea),W.throttle(Ke,V.SELECTDELAY,function(){it=_e(Et,_t);for(var Oa=it.slice(),br=0;br<Ha.length;br++){for(var mr=Ha[br],Ea=!1,Ma=0;Ma<Oa.length;Ma++)if(Oa[Ma].curveNumber===mr.curveNumber&&Oa[Ma].pointNumber===mr.pointNumber){Ea=!0;break}Ea||Oa.push(mr)}Oa.length&&(Ve||(Ve={}),Ve.points=Oa),Ct(Ve,Ta),Dt(ft,Ve)})}},K.clickFn=function(Mt,jt){if(Ne.remove(),ft._fullLayout._activeShapeIndex>=0){ft._fullLayout._deactivateShape(ft);return}if(!Je){var $t=yt.clickmode;W.done(Ke).then(function(){if(W.clear(Ke),Mt===2){for(De.remove(),le=0;le<_t.length;le++)$e=_t[le],$e._module.selectPoints($e,!1);if(Ie(ft,_t),T(K),St(ft),_t.length){var bn=_t[0].xaxis,Zt=_t[0].yaxis;if(bn&&Zt){for(var an=[],wn=ft._fullLayout.selections,Bn=0;Bn<wn.length;Bn++){var na=wn[Bn];na&&(na.xref!==bn._id||na.yref!==Zt._id)&&an.push(na)}an.length<wn.length&&(ft._fullLayout._noEmitSelectedAtStart=!0,n.call("_guiRelayout",ft,{selections:an}))}}}else $t.indexOf("select")>-1&&he(jt,ft,K.xaxes,K.yaxes,K.subplot,K,De),$t==="event"&&pt(ft,void 0);o.click(ft,jt,Bt.id)}).catch(P.error)}},K.doneFn=function(){Ne.remove(),W.done(Ke).then(function(){W.clear(Ke),!Ht&&ee&&K.selectionDefs&&(ee.subtract=Nn,K.selectionDefs.push(ee),K.mergedPolygons.length=0,[].push.apply(K.mergedPolygons,ea)),(Ht||Je)&&T(K,Ht),K.doneFnCompleted&&K.doneFnCompleted(it),Qe&&pt(ft,Ve)}).catch(P.error)}}function he(me,Ae,ke,K,de,xe,ge){var Ee=Ae._hoverdata,Me=Ae._fullLayout,Je=Me.clickmode,Qe=Je.indexOf("event")>-1,st=[],ze,rt,ft,yt,Ht,Wt,hn,Bt,en,Ft;if(re(Ee)){X(me,Ae,xe),ze=$(Ae,ke,K,de);var Nt=se(Ee,ze),ln=Nt.pointNumbers.length>0;if(ln?we(ze,Nt):Se(ze)&&(hn=ce(Nt))){for(ge&&ge.remove(),Ft=0;Ft<ze.length;Ft++)rt=ze[Ft],rt._module.selectPoints(rt,!1);Ie(Ae,ze),T(xe),Qe&&St(Ae)}else{Bt=me.shiftKey&&(hn!==void 0?hn:ce(Nt)),ft=be(Nt.pointNumber,Nt.searchInfo,Bt);var tn=xe.selectionDefs.concat([ft]);for(yt=A(tn),Ft=0;Ft<ze.length;Ft++)if(Ht=ze[Ft]._module.selectPoints(ze[Ft],yt),Wt=Be(Ht,ze[Ft]),st.length)for(var sn=0;sn<Wt.length;sn++)st.push(Wt[sn]);else st=Wt;if(en={points:st},Ie(Ae,ze,en),ft&&xe&&xe.selectionDefs.push(ft),ge){var Ut=xe.mergedPolygons,Pt=h(xe.dragmode);m(pe(Ut,Pt),ge,xe)}Qe&&pt(Ae,en)}}}function be(me,Ae,ke){return{pointNumber:me,searchInfo:Ae,subtract:!!ke}}function H(me){return"pointNumber"in me&&"searchInfo"in me}function B(me){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Ae,ke,K,de){var xe=me.searchInfo.cd[0].trace.index,ge=de.cd[0].trace.index;return ge===xe&&K===me.pointNumber},isRect:!1,degenerate:!1,subtract:!!me.subtract}}function A(me){if(!me.length)return;for(var Ae=[],ke=H(me[0])?0:me[0][0][0],K=ke,de=H(me[0])?0:me[0][0][1],xe=de,ge=0;ge<me.length;ge++)if(H(me[ge]))Ae.push(B(me[ge]));else{var Ee=D(me[ge]);Ee.subtract=!!me[ge].subtract,Ae.push(Ee),ke=Math.min(ke,Ee.xmin),K=Math.max(K,Ee.xmax),de=Math.min(de,Ee.ymin),xe=Math.max(xe,Ee.ymax)}function Me(Je,Qe,st,ze){for(var rt=!1,ft=0;ft<Ae.length;ft++)Ae[ft].contains(Je,Qe,st,ze)&&(rt=!Ae[ft].subtract);return rt}return{xmin:ke,xmax:K,ymin:de,ymax:xe,pts:[],contains:Me,isRect:!1,degenerate:!1}}function X(me,Ae,ke){var K=Ae._fullLayout,de=ke.plotinfo,xe=ke.dragmode,ge=K._lastSelectedSubplot&&K._lastSelectedSubplot===de.id,Ee=(me.shiftKey||me.altKey)&&!(c(xe)&&h(xe));ge&&Ee&&de.selection&&de.selection.selectionDefs&&!ke.selectionDefs?(ke.selectionDefs=de.selection.selectionDefs,ke.mergedPolygons=de.selection.mergedPolygons):(!Ee||!de.selection)&&T(ke),ge||(v(Ae),K._lastSelectedSubplot=de.id)}function I(me){return me._fullLayout._activeShapeIndex>=0}function j(me){return me._fullLayout._activeSelectionIndex>=0}function T(me,Ae){var ke=me.dragmode,K=me.plotinfo,de=me.gd;I(de)&&de._fullLayout._deactivateShape(de),j(de)&&de._fullLayout._deactivateSelection(de);var xe=de._fullLayout,ge=xe._zoomlayer,Ee=c(ke),Me=b(ke);if(Ee||Me){var Je=ge.selectAll(".select-outline-"+K.id);if(Je&&de._fullLayout._outlining){var Qe;Ee&&(Qe=w(Je,me)),Qe&&n.call("_guiRelayout",de,{shapes:Qe});var st;Me&&!ie(me)&&(st=k(Je,me)),st&&(de._fullLayout._noEmitSelectedAtStart=!0,n.call("_guiRelayout",de,{selections:st}).then(function(){Ae&&J(de)})),de._fullLayout._outlining=!1}}K.selection={},K.selection.selectionDefs=me.selectionDefs=[],K.selection.mergedPolygons=me.mergedPolygons=[]}function L(me){return me._id}function $(me,Ae,ke,K){if(!me.calcdata)return[];var de=[],xe=Ae.map(L),ge=ke.map(L),Ee,Me,Je;for(Je=0;Je<me.calcdata.length;Je++)if(Ee=me.calcdata[Je],Me=Ee[0].trace,!(Me.visible!==!0||!Me._module||!Me._module.selectPoints))if(ie({subplot:K})&&(Me.subplot===K||Me.geo===K))de.push(Y(Me._module,Ee,Ae[0],ke[0]));else if(Me.type==="splom"){if(Me._xaxes[xe[0]]&&Me._yaxes[ge[0]]){var Qe=Y(Me._module,Ee,Ae[0],ke[0]);Qe.scene=me._fullLayout._splomScenes[Me.uid],de.push(Qe)}}else if(Me.type==="sankey"){var st=Y(Me._module,Ee,Ae[0],ke[0]);de.push(st)}else{if(xe.indexOf(Me.xaxis)===-1&&(!Me._xA||!Me._xA.overlaying)||ge.indexOf(Me.yaxis)===-1&&(!Me._yA||!Me._yA.overlaying))continue;de.push(Y(Me._module,Ee,E(me,Me.xaxis),E(me,Me.yaxis)))}return de}function Y(me,Ae,ke,K){return{_module:me,cd:Ae,xaxis:ke,yaxis:K}}function re(me){return me&&Array.isArray(me)&&me[0].hoverOnBox!==!0}function se(me,Ae){var ke=me[0],K=-1,de=[],xe,ge;for(ge=0;ge<Ae.length;ge++)if(xe=Ae[ge],ke.fullData.index===xe.cd[0].trace.index){if(ke.hoverOnBox===!0)break;ke.pointNumber!==void 0?K=ke.pointNumber:ke.binNumber!==void 0&&(K=ke.binNumber,de=ke.pointNumbers);break}return{pointNumber:K,pointNumbers:de,searchInfo:xe}}function ce(me){var Ae=me.searchInfo.cd[0].trace,ke=me.pointNumber,K=me.pointNumbers,de=K.length>0,xe=de?K[0]:ke;return Ae.selectedpoints?Ae.selectedpoints.indexOf(xe)>-1:!1}function we(me,Ae){var ke=[],K,de,xe,ge;for(ge=0;ge<me.length;ge++)K=me[ge],K.cd[0].trace.selectedpoints&&K.cd[0].trace.selectedpoints.length>0&&ke.push(K);if(ke.length===1&&(xe=ke[0]===Ae.searchInfo,xe&&(de=Ae.searchInfo.cd[0].trace,de.selectedpoints.length===Ae.pointNumbers.length))){for(ge=0;ge<Ae.pointNumbers.length;ge++)if(de.selectedpoints.indexOf(Ae.pointNumbers[ge])<0)return!1;return!0}return!1}function Se(me){var Ae=0,ke,K,de;for(de=0;de<me.length;de++)if(ke=me[de],K=ke.cd[0].trace,K.selectedpoints&&(K.selectedpoints.length>1||(Ae+=K.selectedpoints.length,Ae>1)))return!1;return Ae===1}function Ie(me,Ae,ke){var K;for(K=0;K<Ae.length;K++){var de=Ae[K].cd[0].trace._fullInput,xe=me._fullLayout._tracePreGUI[de.uid]||{};xe.selectedpoints===void 0&&(xe.selectedpoints=de._input.selectedpoints||null)}var ge;if(ke){var Ee=ke.points||[];for(K=0;K<Ae.length;K++)ge=Ae[K].cd[0].trace,ge._input.selectedpoints=ge._fullInput.selectedpoints=[],ge._fullInput!==ge&&(ge.selectedpoints=[]);for(var Me=0;Me<Ee.length;Me++){var Je=Ee[Me],Qe=Je.data,st=Je.fullData,ze=Je.pointIndex,rt=Je.pointIndices;rt?([].push.apply(Qe.selectedpoints,rt),ge._fullInput!==ge&&[].push.apply(st.selectedpoints,rt)):(Qe.selectedpoints.push(ze),ge._fullInput!==ge&&st.selectedpoints.push(ze))}}else for(K=0;K<Ae.length;K++)ge=Ae[K].cd[0].trace,delete ge.selectedpoints,delete ge._input.selectedpoints,ge._fullInput!==ge&&delete ge._fullInput.selectedpoints;Ze(me,Ae)}function Ze(me,Ae){for(var ke=!1,K=0;K<Ae.length;K++){var de=Ae[K],xe=de.cd;n.traceIs(xe[0].trace,"regl")&&(ke=!0);var ge=de._module,Ee=ge.styleOnSelect||ge.style;Ee&&(Ee(me,xe,xe[0].node3),xe[0].nodeRangePlot3&&Ee(me,xe,xe[0].nodeRangePlot3))}ke&&(N(me),R(me))}function He(me,Ae,ke){for(var K=ke?i.difference:i.union,de=K({regions:me},{regions:[Ae]}),xe=de.regions.reverse(),ge=0;ge<xe.length;ge++){var Ee=xe[ge];Ee.subtract=lt(Ee,xe.slice(0,ge))}return xe}function Be(me,Ae){if(Array.isArray(me))for(var ke=Ae.cd,K=Ae.cd[0].trace,de=0;de<me.length;de++)me[de]=s(me[de],K,ke);return me}function pe(me,Ae){for(var ke=[],K=0;K<me.length;K++){ke[K]=[];for(var de=0;de<me[K].length;de++){ke[K][de]=[],ke[K][de][0]=de?"L":"M";for(var xe=0;xe<me[K][de].length;xe++)ke[K][de].push(me[K][de][xe])}Ae||ke[K].push(["Z",ke[K][0][1],ke[K][0][2]])}return ke}function _e(me,Ae){for(var ke=[],K,de=[],xe,ge=0;ge<Ae.length;ge++){var Ee=Ae[ge];xe=Ee._module.selectPoints(Ee,me),de.push(xe),K=Be(xe,Ee),ke=ke.concat(K)}return ke}function oe(me,Ae,ke,K,de){var xe=!!K,ge,Ee,Me;de&&(ge=de.plotinfo,Ee=de.xaxes[0]._id,Me=de.yaxes[0]._id);var Je=[],Qe=[],st=Xe(me),ze=me._fullLayout;if(ge){var rt=ze._zoomlayer,ft=ze.dragmode,yt=c(ft),Ht=b(ft);if(yt||Ht){var Wt=E(me,Ee,"x"),hn=E(me,Me,"y");if(Wt&&hn){var Bt=rt.selectAll(".select-outline-"+ge.id);if(Bt&&me._fullLayout._outlining&&Bt.length){for(var en=Bt[0][0],Ft=en.getAttribute("d"),Nt=_(Ft,me,ge),ln=[],tn=0;tn<Nt.length;tn++){for(var sn=Nt[tn],Ut=[],Pt=0;Pt<sn.length;Pt++)Ut.push([ut(Wt,sn[Pt][1]),ut(hn,sn[Pt][2])]);Ut.xref=Ee,Ut.yref=Me,Ut.subtract=lt(Ut,ln),ln.push(Ut)}st=st.concat(ln)}}}}var nn=Ee&&Me?[Ee+Me]:ze._subplots.cartesian;Le(me);for(var On={},Qn=0;Qn<nn.length;Qn++){var rn=nn[Qn],In=rn.indexOf("y"),Nn=rn.slice(0,In),xa=rn.slice(In),Et=Ee&&Me?ke:void 0;if(Et=ot(st,Nn,xa,Et),Et){var ea=K;if(!xe){var ee=E(me,Nn,"x"),le=E(me,xa,"y");ea=$(me,[ee],[le],rn);for(var $e=0;$e<ea.length;$e++){var Ve=ea[$e],De=Ve.cd[0],Pe=De.trace;if(Ve._module.name==="scattergl"&&!De.t.xpx){var je=Pe.x,We=Pe.y,Ne=Pe._length;De.t.xpx=[],De.t.ypx=[];for(var Ue=0;Ue<Ne;Ue++)De.t.xpx[Ue]=ee.c2p(je[Ue]),De.t.ypx[Ue]=le.c2p(We[Ue])}Ve._module.name==="splom"&&(On[Pe.uid]||(On[Pe.uid]=!0))}}var Ke=_e(Et,ea);Je=Je.concat(Ke),Qe=Qe.concat(ea)}}var it={points:Je};Ie(me,Qe,it);var _t=ze.clickmode,Ct=_t.indexOf("event")>-1&&Ae;if(!ge&&Ae){var Mt=Xe(me,!0);if(Mt.length){var jt=Mt[0].xref,$t=Mt[0].yref;if(jt&&$t){var bn=dt(Mt),Zt=qe([E(me,jt,"x"),E(me,$t,"y")]);Zt(it,bn)}}me._fullLayout._noEmitSelectedAtStart?me._fullLayout._noEmitSelectedAtStart=!1:Ct&&pt(me,it),ze._reselect=!1}if(!ge&&ze._deselect){var an=ze._deselect;Ee=an.xref,Me=an.yref,Re(Ee,Me,Qe)||Ye(me,Ee,Me,K),Ct&&(it.points.length?pt(me,it):St(me)),ze._deselect=!1}return{eventData:it,selectionTesters:ke}}function Le(me){var Ae=me.calcdata;if(Ae)for(var ke=0;ke<Ae.length;ke++){var K=Ae[ke][0],de=K.trace,xe=me._fullLayout._splomScenes;if(xe){var ge=xe[de.uid];ge&&(ge.selectBatch=[])}}}function Re(me,Ae,ke){for(var K=0;K<ke.length;K++){var de=ke[K];if(de.xaxis&&de.xaxis._id===me&&de.yaxis&&de.yaxis._id===Ae)return!0}return!1}function Ye(me,Ae,ke,K){K=$(me,[E(me,Ae,"x")],[E(me,ke,"y")],Ae+ke);for(var de=0;de<K.length;de++){var xe=K[de];xe._module.selectPoints(xe,!1)}Ie(me,K)}function ot(me,Ae,ke,K){for(var de,xe=0;xe<me.length;xe++){var ge=me[xe];if(!(Ae!==ge.xref||ke!==ge.yref))if(de){var Ee=!!ge.subtract;de=He(de,ge,Ee),K=A(de)}else de=[ge],K=D(ge)}return K}function Xe(me,Ae){for(var ke=[],K=me._fullLayout,de=K.selections,xe=de.length,ge=0;ge<xe;ge++)if(!(Ae&&ge!==K._activeSelectionIndex)){var Ee=de[ge];if(Ee){var Me=Ee.xref,Je=Ee.yref,Qe=E(me,Me,"x"),st=E(me,Je,"y"),ze,rt,ft,yt,Ht;if(Ee.type==="rect"){Ht=[];var Wt=ut(Qe,Ee.x0),hn=ut(Qe,Ee.x1),Bt=ut(st,Ee.y0),en=ut(st,Ee.y1);Ht=[[Wt,Bt],[Wt,en],[hn,en],[hn,Bt]],ze=Math.min(Wt,hn),rt=Math.max(Wt,hn),ft=Math.min(Bt,en),yt=Math.max(Bt,en),Ht.xmin=ze,Ht.xmax=rt,Ht.ymin=ft,Ht.ymax=yt,Ht.xref=Me,Ht.yref=Je,Ht.subtract=!1,Ht.isRect=!0,ke.push(Ht)}else if(Ee.type==="path")for(var Ft=Ee.path.split("Z"),Nt=[],ln=0;ln<Ft.length;ln++){var tn=Ft[ln];if(tn){tn+="Z";var sn=y.extractPathCoords(tn,g.paramIsX,"raw"),Ut=y.extractPathCoords(tn,g.paramIsY,"raw");ze=1/0,rt=-1/0,ft=1/0,yt=-1/0,Ht=[];for(var Pt=0;Pt<sn.length;Pt++){var nn=ut(Qe,sn[Pt]),On=ut(st,Ut[Pt]);Ht.push([nn,On]),ze=Math.min(nn,ze),rt=Math.max(nn,rt),ft=Math.min(On,ft),yt=Math.max(On,yt)}Ht.xmin=ze,Ht.xmax=rt,Ht.ymin=ft,Ht.ymax=yt,Ht.xref=Me,Ht.yref=Je,Ht.subtract=lt(Ht,Nt),Nt.push(Ht),ke.push(Ht)}}}}return ke}function lt(me,Ae){for(var ke=!1,K=0;K<Ae.length;K++)for(var de=Ae[K],xe=0;xe<me.length;xe++)if(e(me[xe],de)){ke=!ke;break}return ke}function ut(me,Ae){return me.type==="date"&&(Ae=Ae.replace("_"," ")),me.type==="log"?me.c2p(Ae):me.r2p(Ae,null,me.calendar)}function dt(me){for(var Ae=me.length,ke=[],K=0;K<Ae;K++){var de=me[K];ke=ke.concat(de),ke=ke.concat([de[0]])}return xt(ke)}function xt(me){return me.isRect=me.length===5&&me[0][0]===me[4][0]&&me[0][1]===me[4][1]&&me[0][0]===me[1][0]&&me[2][0]===me[3][0]&&me[0][1]===me[3][1]&&me[1][1]===me[2][1]||me[0][1]===me[1][1]&&me[2][1]===me[3][1]&&me[0][0]===me[3][0]&&me[1][0]===me[2][0],me.isRect&&(me.xmin=Math.min(me[0][0],me[2][0]),me.xmax=Math.max(me[0][0],me[2][0]),me.ymin=Math.min(me[0][1],me[2][1]),me.ymax=Math.max(me[0][1],me[2][1])),me}function qe(me){return function(Ae,ke){for(var K,de,xe=0;xe<me.length;xe++){var ge=me[xe],Ee=ge._id,Me=Ee.charAt(0);if(ke.isRect){K||(K={});var Je=ke[Me+"min"],Qe=ke[Me+"max"];Je!==void 0&&Qe!==void 0&&(K[Ee]=[q(ge,Je),q(ge,Qe)].sort(O))}else de||(de={}),de[Ee]=ke.map(ae(ge))}K&&(Ae.range=K),de&&(Ae.lassoPoints=de)}}function bt(me){var Ae=me.plotinfo;return Ae.fillRangeItems||qe(me.xaxes.concat(me.yaxes))}function Dt(me,Ae){me.emit("plotly_selecting",Ae)}function pt(me,Ae){Ae&&(Ae.selections=(me.layout||{}).selections||[]),me.emit("plotly_selected",Ae)}function St(me){me.emit("plotly_deselect",null)}C.exports={reselect:oe,prepSelect:fe,clearOutline:v,clearSelectionsCache:T,selectOnClick:he}}),n0=ye((F,C)=>{C.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]}),jo=ye((F,C)=>{C.exports={axisRefDescription:function(i,e,n){return["If set to a",i,"axis id (e.g. *"+i+"* or","*"+i+"2*), the `"+i+"` position refers to a",i,"coordinate. If set to *paper*, the `"+i+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+n+"). If set to a",i,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+i+"2 domain* refers to the domain of the second",i," axis and a",i,"position of 0.5 refers to the","point between the",e,"and the",n,"of the domain of the","second",i,"axis."].join(" ")}}}),_o=ye((F,C)=>{var i=n0(),e=Za(),n=$r(),r=or().templatedArray;jo(),C.exports=r("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:e({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:i.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:i.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",n.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",n.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",n.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",n.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:e({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc"})}),El=ye((F,C)=>{C.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}}),Ru=ye((F,C)=>{C.exports=function(i){return{valType:"color",editType:"style",anim:!0}}}),so=ye((F,C)=>{var i=ml().axisHoverFormat,e=Sr().texttemplateAttrs,n=Sr().hovertemplateAttrs,r=Eo(),l=Za(),o=Rr().dash,s=Rr().pattern,d=Ga(),t=El(),p=Ca().extendFlat,c=Ru();function h(g){return{valType:"any",dflt:0,editType:"calc"}}function b(g){return{valType:"any",editType:"calc"}}function y(g){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}C.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:h(),yperiod:h(),xperiod0:b(),yperiod0:b(),xperiodalignment:y(),yperiodalignment:y(),xhoverformat:i("x"),yhoverformat:i("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:e({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:n({},{keys:t.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:p({},o,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:c(!0),fillgradient:p({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:s,marker:p({symbol:{valType:"enumerated",values:d.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:p({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},r("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},r("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:l({editType:"calc",colorEditType:"style",arrayOk:!0}),zorder:{valType:"integer",dflt:0,editType:"plot"}}}),a0=ye((F,C)=>{var i=_o(),e=so().line,n=Rr().dash,r=Ca().extendFlat,l=Tr().overrideAll,o=or().templatedArray;jo(),C.exports=l(o("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:r({},i.xref,{}),yref:r({},i.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:e.color,width:r({},e.width,{min:1,dflt:1}),dash:r({},n,{dflt:"dot"})}}),"arraydraw","from-root")}),Nu=ye((F,C)=>{var i=zt(),e=cr(),n=ki(),r=a0(),l=Ji();C.exports=function(s,d){n(s,d,{name:"selections",handleItemDefaults:o});for(var t=d.selections,p=0;p<t.length;p++){var c=t[p];c&&c.path===void 0&&(c.x0===void 0||c.x1===void 0||c.y0===void 0||c.y1===void 0)&&(d.selections[p]=null)}};function o(s,d,t){function p(N,R){return i.coerce(s,d,r,N,R)}var c=p("path"),h=c?"path":"rect",b=p("type",h),y=b!=="path";y&&delete d.path,p("opacity"),p("line.color"),p("line.width"),p("line.dash");for(var g=["x","y"],m=0;m<2;m++){var v=g[m],u={_fullLayout:t},f,_,w,k=e.coerceRef(s,d,u,v);if(f=e.getFromId(u,k),f._selectionIndices.push(d._index),w=l.rangeToShapePosition(f),_=l.shapePositionToRange(f),y){var J=v+"0",P=v+"1",O=s[J],M=s[P];s[J]=_(s[J],!0),s[P]=_(s[P],!0),e.coercePosition(d,u,p,k,J),e.coercePosition(d,u,p,k,P);var W=d[J],E=d[P];W!==void 0&&E!==void 0&&(d[J]=w(W),d[P]=w(E),s[J]=O,s[P]=M)}}y&&i.noneOrAll(s,d,["x0","x1","y0","y1"])}}),ju=ye((F,C)=>{C.exports=function(i,e,n){n("newselection.mode");var r=n("newselection.line.width");r&&(n("newselection.line.color"),n("newselection.line.dash")),n("activeselection.fillcolor"),n("activeselection.opacity")}}),zo=ye((F,C)=>{var i=Kn(),e=zt(),n=Nr();C.exports=function(r){return function(l,o){var s=l[r];if(Array.isArray(s))for(var d=i.subplotsRegistry.cartesian,t=d.idRegex,p=o._subplots,c=p.xaxis,h=p.yaxis,b=p.cartesian,y=o._has("cartesian"),g=0;g<s.length;g++){var m=s[g];if(e.isPlainObject(m)){var v=n.cleanId(m.xref,"x",!1),u=n.cleanId(m.yref,"y",!1),f=t.x.test(v),_=t.y.test(u);if(f||_){y||e.pushUnique(o._basePlotModules,d);var w=!1;f&&c.indexOf(v)===-1&&(c.push(v),w=!0),_&&h.indexOf(u)===-1&&(h.push(u),w=!0),w&&f&&_&&b.push(v+u)}}}}}}),wo=ye((F,C)=>{var i=e0(),e=Iu();C.exports={moduleType:"component",name:"selections",layoutAttributes:a0(),supplyLayoutDefaults:Nu(),supplyDrawNewSelectionDefaults:ju(),includeBasePlot:zo()("selections"),draw:i.draw,drawOne:i.drawOne,reselect:e.reselect,prepSelect:e.prepSelect,clearOutline:e.clearOutline,clearSelectionsCache:e.clearSelectionsCache,selectOnClick:e.selectOnClick}}),zu=ye((F,C)=>{var i=Xt(),e=zt(),n=e.numberFormat,r=Va(),l=zs(),o=Kn(),s=e.strTranslate,d=Xr(),t=$n(),p=Ga(),c=Fi(),h=cr(),b=qi(),y=Ai(),g=bo(),m=g.selectingOrDrawing,v=g.freeMode,u=ai().FROM_TL,f=kl(),_=Pl().redrawReglTraces,w=Lr(),k=Nr().getFromId,J=wo().prepSelect,P=wo().clearOutline,O=wo().selectOnClick,M=Ks(),W=$r(),E=W.MINDRAG,N=W.MINZOOM,R=!0;function V(Y,re,se,ce,we,Se,Ie,Ze){var He=Y._fullLayout._zoomlayer,Be=Ie+Ze==="nsew",pe=(Ie+Ze).length===1,_e,oe,Le,Re,Ye,ot,Xe,lt,ut,dt,xt,qe,bt,Dt,pt,St,me,Ae,ke,K,de,xe,ge;se+=re.yaxis._shift;function Ee(){if(_e=re.xaxis,oe=re.yaxis,ut=_e._length,dt=oe._length,Xe=_e._offset,lt=oe._offset,Le={},Le[_e._id]=_e,Re={},Re[oe._id]=oe,Ie&&Ze)for(var De=re.overlays,Pe=0;Pe<De.length;Pe++){var je=De[Pe].xaxis;Le[je._id]=je;var We=De[Pe].yaxis;Re[We._id]=We}Ye=$(Le),ot=$(Re),bt=D(Ye,Ze),Dt=D(ot,Ie),pt=!Dt&&!bt,qe=T(Y,Y._fullLayout._axisMatchGroups,Le,Re),xt=T(Y,Y._fullLayout._axisConstraintGroups,Le,Re,qe);var Ne=xt.isSubplotConstrained||qe.isSubplotConstrained;St=Ze||Ne,me=Ie||Ne;var Ue=Y._fullLayout;Ae=Ue._has("scattergl"),ke=Ue._has("splom"),K=Ue._has("svg")}Ee();var Me=ie(Dt+bt,Y._fullLayout.dragmode,Be),Je=G(re,Ie+Ze+"drag",Me,se,ce,we,Se);if(pt&&!Be)return Je.onmousedown=null,Je.style.pointerEvents="none",Je;var Qe={element:Je,gd:Y,plotinfo:re};Qe.prepFn=function(De,Pe,je){var We=Qe.dragmode,Ne=Y._fullLayout.dragmode;Ne!==We&&(Qe.dragmode=Ne),Ee(),xe=Y._fullLayout._invScaleX,ge=Y._fullLayout._invScaleY,pt||(Be?De.shiftKey?Ne==="pan"?Ne="zoom":m(Ne)||(Ne="pan"):De.ctrlKey&&(Ne="pan"):Ne="pan"),v(Ne)?Qe.minDrag=1:Qe.minDrag=void 0,m(Ne)?(Qe.xaxes=Ye,Qe.yaxes=ot,J(De,Pe,je,Qe,Ne)):(Qe.clickFn=ze,m(We)&&st(),pt||(Ne==="zoom"?(Qe.moveFn=tn,Qe.doneFn=Ut,Qe.minDrag=1,ln(De,Pe,je)):Ne==="pan"&&(Qe.moveFn=In,Qe.doneFn=ea))),Y._fullLayout._redrag=function(){var Ue=Y._dragdata;if(Ue&&Ue.element===Je){var Ke=Y._fullLayout.dragmode;m(Ke)||(Ee(),ee([0,0,ut,dt]),Qe.moveFn(Ue.dx,Ue.dy))}}};function st(){Qe.plotinfo.selection=!1,P(Y)}function ze(De,Pe){var je=Qe.gd;if(je._fullLayout._activeShapeIndex>=0){je._fullLayout._deactivateShape(je);return}var We=je._fullLayout.clickmode;if(B(je),De===2&&!pe&&Et(),Be)We.indexOf("select")>-1&&O(Pe,je,Ye,ot,re.id,Qe),We.indexOf("event")>-1&&c.click(je,Pe,re.id);else if(De===1&&pe){var Ne=Ie?oe:_e,Ue=Ie==="s"||Ze==="w"?0:1,Ke=Ne._name+".range["+Ue+"]",it=Z(Ne,Ue),_t="left",Ct="middle";if(Ne.fixedrange)return;Ie?(Ct=Ie==="n"?"top":"bottom",Ne.side==="right"&&(_t="right")):Ze==="e"&&(_t="right"),je._context.showAxisRangeEntryBoxes&&i.select(Je).call(d.makeEditable,{gd:je,immediate:!0,background:je._fullLayout.paper_bgcolor,text:String(it),fill:Ne.tickfont?Ne.tickfont.color:"#444",horizontalAlign:_t,verticalAlign:Ct}).on("edit",function(Mt){var jt=Ne.d2r(Mt);jt!==void 0&&o.call("_guiRelayout",je,Ke,jt)})}}y.init(Qe);var rt,ft,yt,Ht,Wt,hn,Bt,en,Ft,Nt;function ln(De,Pe,je){var We=Je.getBoundingClientRect();rt=Pe-We.left,ft=je-We.top,Y._fullLayout._calcInverseTransform(Y);var Ne=e.apply3DTransform(Y._fullLayout._invTransform)(rt,ft);rt=Ne[0],ft=Ne[1],yt={l:rt,r:rt,w:0,t:ft,b:ft,h:0},Ht=Y._hmpixcount?Y._hmlumcount/Y._hmpixcount:r(Y._fullLayout.plot_bgcolor).getLuminance(),Wt="M0,0H"+ut+"V"+dt+"H0V0",hn=!1,Bt="xy",Nt=!1,en=fe(He,Ht,Xe,lt,Wt),Ft=he(He,Xe,lt)}function tn(De,Pe){if(Y._transitioningWithDuration)return!1;var je=Math.max(0,Math.min(ut,xe*De+rt)),We=Math.max(0,Math.min(dt,ge*Pe+ft)),Ne=Math.abs(je-rt),Ue=Math.abs(We-ft);yt.l=Math.min(rt,je),yt.r=Math.max(rt,je),yt.t=Math.min(ft,We),yt.b=Math.max(ft,We);function Ke(){Bt="",yt.r=yt.l,yt.t=yt.b,Ft.attr("d","M0,0Z")}if(xt.isSubplotConstrained)Ne>N||Ue>N?(Bt="xy",Ne/ut>Ue/dt?(Ue=Ne*dt/ut,ft>We?yt.t=ft-Ue:yt.b=ft+Ue):(Ne=Ue*ut/dt,rt>je?yt.l=rt-Ne:yt.r=rt+Ne),Ft.attr("d",j(yt))):Ke();else if(qe.isSubplotConstrained)if(Ne>N||Ue>N){Bt="xy";var it=Math.min(yt.l/ut,(dt-yt.b)/dt),_t=Math.max(yt.r/ut,(dt-yt.t)/dt);yt.l=it*ut,yt.r=_t*ut,yt.b=(1-it)*dt,yt.t=(1-_t)*dt,Ft.attr("d",j(yt))}else Ke();else!Dt||Ue<Math.min(Math.max(Ne*.6,E),N)?Ne<E||!bt?Ke():(yt.t=0,yt.b=dt,Bt="x",Ft.attr("d",X(yt,ft))):!bt||Ne<Math.min(Ue*.6,N)?(yt.l=0,yt.r=ut,Bt="y",Ft.attr("d",I(yt,rt))):(Bt="xy",Ft.attr("d",j(yt)));yt.w=yt.r-yt.l,yt.h=yt.b-yt.t,Bt&&(Nt=!0),Y._dragged=Nt,be(en,Ft,yt,Wt,hn,Ht),sn(),Y.emit("plotly_relayouting",de),hn=!0}function sn(){de={},(Bt==="xy"||Bt==="x")&&(q(Ye,yt.l/ut,yt.r/ut,de,xt.xaxes),Nn("x",de)),(Bt==="xy"||Bt==="y")&&(q(ot,(dt-yt.b)/dt,(dt-yt.t)/dt,de,xt.yaxes),Nn("y",de))}function Ut(){sn(),B(Y),ea(),A(Y)}var Pt=[0,0,ut,dt],nn=null,On=W.REDRAWDELAY,Qn=re.mainplot?Y._fullLayout._plots[re.mainplot]:re;function rn(De){if(!Y._context._scrollZoom.cartesian&&!Y._fullLayout._enablescrollzoom)return;if(st(),Y._transitioningWithDuration){De.preventDefault(),De.stopPropagation();return}Ee(),clearTimeout(nn);var Pe=-De.deltaY;if(isFinite(Pe)||(Pe=De.wheelDelta/10),!isFinite(Pe)){e.log("Did not find wheel motion attributes: ",De);return}var je=Math.exp(-Math.min(Math.max(Pe,-20),20)/200),We=Qn.draglayer.select(".nsewdrag").node().getBoundingClientRect(),Ne=(De.clientX-We.left)/We.width,Ue=(We.bottom-De.clientY)/We.height,Ke;function it(_t,Ct,Mt){if(_t.fixedrange)return;var jt=e.simpleMap(_t.range,_t.r2l),$t=jt[0]+(jt[1]-jt[0])*Ct;function bn(Zt){return _t.l2r($t+(Zt-$t)*Mt)}_t.range=jt.map(bn)}if(St){for(Ze||(Ne=.5),Ke=0;Ke<Ye.length;Ke++)it(Ye[Ke],Ne,je);Nn("x"),Pt[2]*=je,Pt[0]+=Pt[2]*Ne*(1/je-1)}if(me){for(Ie||(Ue=.5),Ke=0;Ke<ot.length;Ke++)it(ot[Ke],Ue,je);Nn("y"),Pt[3]*=je,Pt[1]+=Pt[3]*(1-Ue)*(1/je-1)}ee(Pt),xa(),Y.emit("plotly_relayouting",de),nn=setTimeout(function(){Y._fullLayout&&(Pt=[0,0,ut,dt],ea())},On),De.preventDefault()}Ie.length*Ze.length!==1&&L(Je,rn);function In(De,Pe){if(De=De*xe,Pe=Pe*ge,Y._transitioningWithDuration)return;if(Y._fullLayout._replotting=!0,bt==="ew"||Dt==="ns"){var je=bt?-De:0,We=Dt?-Pe:0;if(qe.isSubplotConstrained){if(bt&&Dt){var Ne=(De/ut-Pe/dt)/2;De=Ne*ut,Pe=-Ne*dt,je=-De,We=-Pe}Dt?je=-We*ut/dt:We=-je*dt/ut}bt&&(ae(Ye,De),Nn("x")),Dt&&(ae(ot,Pe),Nn("y")),ee([je,We,ut,dt]),xa(),Y.emit("plotly_relayouting",de);return}function Ue(bn,Zt,an){for(var wn=1-Zt,Bn,na,Ha=0;Ha<bn.length;Ha++){var Ta=bn[Ha];if(!Ta.fixedrange){Bn=Ta,na=Ta._rl[wn]+(Ta._rl[Zt]-Ta._rl[wn])/te(an/Ta._length);var Oa=Ta.l2r(na);Oa!==!1&&Oa!==void 0&&(Ta.range[Zt]=Oa)}}return Bn._length*(Bn._rl[Zt]-na)/(Bn._rl[Zt]-Bn._rl[wn])}var Ke=bt==="w"==(Dt==="n")?1:-1;if(bt&&Dt&&(xt.isSubplotConstrained||qe.isSubplotConstrained)){var it=(De/ut+Ke*Pe/dt)/2;De=it*ut,Pe=Ke*it*dt}var _t,Ct;if(bt==="w"?De=Ue(Ye,0,De):bt==="e"?De=Ue(Ye,1,-De):bt||(De=0),Dt==="n"?Pe=Ue(ot,1,Pe):Dt==="s"?Pe=Ue(ot,0,-Pe):Dt||(Pe=0),_t=bt==="w"?De:0,Ct=Dt==="n"?Pe:0,xt.isSubplotConstrained&&!qe.isSubplotConstrained||qe.isSubplotConstrained&&bt&&Dt&&Ke>0){var Mt;if(qe.isSubplotConstrained||!bt&&Dt.length===1){for(Mt=0;Mt<Ye.length;Mt++)Ye[Mt].range=Ye[Mt]._r.slice(),M(Ye[Mt],1-Pe/dt);De=Pe*ut/dt,_t=De/2}if(qe.isSubplotConstrained||!Dt&&bt.length===1){for(Mt=0;Mt<ot.length;Mt++)ot[Mt].range=ot[Mt]._r.slice(),M(ot[Mt],1-De/ut);Pe=De*dt/ut,Ct=Pe/2}}(!qe.isSubplotConstrained||!Dt)&&Nn("x"),(!qe.isSubplotConstrained||!bt)&&Nn("y");var jt=ut-De,$t=dt-Pe;qe.isSubplotConstrained&&!(bt&&Dt)&&(bt?(Ct=_t?0:De*dt/ut,$t=jt*dt/ut):(_t=Ct?0:Pe*ut/dt,jt=$t*ut/dt)),ee([_t,Ct,jt,$t]),xa(),Y.emit("plotly_relayouting",de)}function Nn(De,Pe){for(var je=qe.isSubplotConstrained?{x:ot,y:Ye}[De]:qe[De+"axes"],We=qe.isSubplotConstrained?{x:Ye,y:ot}[De]:[],Ne=0;Ne<je.length;Ne++){var Ue=je[Ne],Ke=Ue._id,it=qe.xLinks[Ke]||qe.yLinks[Ke],_t=We[0]||Le[it]||Re[it];_t&&(Pe?(Pe[Ue._name+".range[0]"]=Pe[_t._name+".range[0]"],Pe[Ue._name+".range[1]"]=Pe[_t._name+".range[1]"]):Ue.range=_t.range.slice())}}function xa(){var De=[],Pe;function je(Ke){for(Pe=0;Pe<Ke.length;Pe++)Ke[Pe].fixedrange||De.push(Ke[Pe]._id)}function We(Ke,it){for(Pe=0;Pe<Ke.length;Pe++){var _t=Ke[Pe],Ct=_t[it];!_t.fixedrange&&Ct.tickmode==="sync"&&De.push(Ct._id)}}for(St&&(je(Ye),je(xt.xaxes),je(qe.xaxes),We(re.overlays,"xaxis")),me&&(je(ot),je(xt.yaxes),je(qe.yaxes),We(re.overlays,"yaxis")),de={},Pe=0;Pe<De.length;Pe++){var Ne=De[Pe],Ue=k(Y,Ne);h.drawOne(Y,Ue,{skipTitle:!0}),de[Ue._name+".range[0]"]=Ue.range[0],de[Ue._name+".range[1]"]=Ue.range[1]}h.redrawComponents(Y,De)}function Et(){if(!Y._transitioningWithDuration){var De=Y._context.doubleClick,Pe=[];bt&&(Pe=Pe.concat(Ye)),Dt&&(Pe=Pe.concat(ot)),qe.xaxes&&(Pe=Pe.concat(qe.xaxes)),qe.yaxes&&(Pe=Pe.concat(qe.yaxes));var je={},We,Ne;if(De==="reset+autosize")for(De="autosize",Ne=0;Ne<Pe.length;Ne++){We=Pe[Ne];var Ue=We._rangeInitial0,Ke=We._rangeInitial1,it=Ue!==void 0||Ke!==void 0;if(it&&(Ue!==void 0&&Ue!==We.range[0]||Ke!==void 0&&Ke!==We.range[1])||!it&&We.autorange!==!0){De="reset";break}}if(De==="autosize")for(Ne=0;Ne<Pe.length;Ne++)We=Pe[Ne],We.fixedrange||(je[We._name+".autorange"]=!0);else if(De==="reset"){for((bt||xt.isSubplotConstrained)&&(Pe=Pe.concat(xt.xaxes)),Dt&&!xt.isSubplotConstrained&&(Pe=Pe.concat(xt.yaxes)),xt.isSubplotConstrained&&(bt?Dt||(Pe=Pe.concat(ot)):Pe=Pe.concat(Ye)),Ne=0;Ne<Pe.length;Ne++)if(We=Pe[Ne],!We.fixedrange){var _t=We._name,Ct=We._autorangeInitial;We._rangeInitial0===void 0&&We._rangeInitial1===void 0?je[_t+".autorange"]=!0:We._rangeInitial0===void 0?(je[_t+".autorange"]=Ct,je[_t+".range"]=[null,We._rangeInitial1]):We._rangeInitial1===void 0?(je[_t+".range"]=[We._rangeInitial0,null],je[_t+".autorange"]=Ct):je[_t+".range"]=[We._rangeInitial0,We._rangeInitial1]}}Y.emit("plotly_doubleclick",null),o.call("_guiRelayout",Y,je)}}function ea(){ee([0,0,ut,dt]),e.syncOrAsync([w.previousPromises,function(){Y._fullLayout._replotting=!1,o.call("_guiRelayout",Y,de)}],Y)}function ee(De){var Pe=Y._fullLayout,je=Pe._plots,We=Pe._subplots.cartesian,Ne,Ue,Ke,it;if(ke&&o.subplotsRegistry.splom.drag(Y),Ae){for(Ne=0;Ne<We.length;Ne++)if(Ue=je[We[Ne]],Ke=Ue.xaxis,it=Ue.yaxis,Ue._scene){Ke.limitRange&&Ke.limitRange(),it.limitRange&&it.limitRange();var _t=e.simpleMap(Ke.range,Ke.r2l),Ct=e.simpleMap(it.range,it.r2l);Ue._scene.update({range:[_t[0],Ct[0],_t[1],Ct[1]]})}}if((ke||Ae)&&(f(Y),_(Y)),K){var Mt=De[2]/_e._length,jt=De[3]/oe._length;for(Ne=0;Ne<We.length;Ne++){Ue=je[We[Ne]],Ke=Ue.xaxis,it=Ue.yaxis;var $t=(St||qe.isSubplotConstrained)&&!Ke.fixedrange&&Le[Ke._id],bn=(me||qe.isSubplotConstrained)&&!it.fixedrange&&Re[it._id],Zt,an,wn,Bn;if($t?(Zt=Mt,wn=Ze||qe.isSubplotConstrained?De[0]:Ve(Ke,Zt)):qe.xaHash[Ke._id]?(Zt=Mt,wn=De[0]*Ke._length/_e._length):qe.yaHash[Ke._id]?(Zt=jt,wn=Dt==="ns"?-De[1]*Ke._length/oe._length:Ve(Ke,Zt,{n:"top",s:"bottom"}[Dt])):(Zt=le(Ke,Mt,jt),wn=$e(Ke,Zt)),Zt>1&&(Ke.maxallowed!==void 0&&St===(Ke.range[0]<Ke.range[1]?"e":"w")||Ke.minallowed!==void 0&&St===(Ke.range[0]<Ke.range[1]?"w":"e"))&&(Zt=1,wn=0),bn?(an=jt,Bn=Ie||qe.isSubplotConstrained?De[1]:Ve(it,an)):qe.yaHash[it._id]?(an=jt,Bn=De[1]*it._length/oe._length):qe.xaHash[it._id]?(an=Mt,Bn=bt==="ew"?-De[0]*it._length/_e._length:Ve(it,an,{e:"right",w:"left"}[bt])):(an=le(it,Mt,jt),Bn=$e(it,an)),an>1&&(it.maxallowed!==void 0&&me===(it.range[0]<it.range[1]?"n":"s")||it.minallowed!==void 0&&me===(it.range[0]<it.range[1]?"s":"n"))&&(an=1,Bn=0),!(!Zt&&!an)){Zt||(Zt=1),an||(an=1);var na=Ke._offset-wn/Zt,Ha=it._offset-Bn/an;Ue.clipRect.call(p.setTranslate,wn,Bn).call(p.setScale,Zt,an),Ue.plot.call(p.setTranslate,na,Ha).call(p.setScale,1/Zt,1/an),(Zt!==Ue.xScaleFactor||an!==Ue.yScaleFactor)&&(p.setPointGroupScale(Ue.zoomScalePts,Zt,an),p.setTextPointsScale(Ue.zoomScaleTxt,Zt,an)),p.hideOutsideRangePoints(Ue.clipOnAxisFalseTraces,Ue),Ue.xScaleFactor=Zt,Ue.yScaleFactor=an}}}}function le(De,Pe,je){return De.fixedrange?0:St&&xt.xaHash[De._id]?Pe:me&&(xt.isSubplotConstrained?xt.xaHash:xt.yaHash)[De._id]?je:0}function $e(De,Pe){return Pe?(De.range=De._r.slice(),M(De,Pe),Ve(De,Pe)):0}function Ve(De,Pe,je){return De._length*(1-Pe)*u[je||De.constraintoward||"middle"]}return Je}function U(Y,re,se,ce){var we=e.ensureSingle(Y.draglayer,re,se,function(Se){Se.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",Y.id)});return we.call(b,ce),we.node()}function G(Y,re,se,ce,we,Se,Ie){var Ze=U(Y,"rect",re,se);return i.select(Ze).call(p.setRect,ce,we,Se,Ie),Ze}function D(Y,re){for(var se=0;se<Y.length;se++)if(!Y[se].fixedrange)return re;return""}function Z(Y,re){var se=Y.range[re],ce=Math.abs(se-Y.range[1-re]),we;return Y.type==="date"?se:Y.type==="log"?(we=Math.ceil(Math.max(0,-Math.log(ce)/Math.LN10))+3,n("."+we+"g")(Math.pow(10,se))):(we=Math.floor(Math.log(Math.abs(se))/Math.LN10)-Math.floor(Math.log(ce)/Math.LN10)+4,n("."+String(we)+"g")(se))}function q(Y,re,se,ce,we){for(var Se=0;Se<Y.length;Se++){var Ie=Y[Se];if(!Ie.fixedrange)if(Ie.rangebreaks){var Ze=Ie._id.charAt(0)==="y",He=Ze?1-re:re,Be=Ze?1-se:se;ce[Ie._name+".range[0]"]=Ie.l2r(Ie.p2l(He*Ie._length)),ce[Ie._name+".range[1]"]=Ie.l2r(Ie.p2l(Be*Ie._length))}else{var pe=Ie._rl[0],_e=Ie._rl[1]-pe;ce[Ie._name+".range[0]"]=Ie.l2r(pe+_e*re),ce[Ie._name+".range[1]"]=Ie.l2r(pe+_e*se)}}if(we&&we.length){var oe=(re+(1-se))/2;q(we,oe,1-oe,ce,[])}}function ae(Y,re){for(var se=0;se<Y.length;se++){var ce=Y[se];if(!ce.fixedrange){if(ce.rangebreaks){var we=0,Se=ce._length,Ie=ce.p2l(we+re)-ce.p2l(we),Ze=ce.p2l(Se+re)-ce.p2l(Se),He=(Ie+Ze)/2;ce.range=[ce.l2r(ce._rl[0]-He),ce.l2r(ce._rl[1]-He)]}else ce.range=[ce.l2r(ce._rl[0]-re/ce._m),ce.l2r(ce._rl[1]-re/ce._m)];ce.limitRange&&ce.limitRange()}}}function te(Y){return 1-(Y>=0?Math.min(Y,.9):1/(1/Math.max(Y,-.3)+3.222))}function ie(Y,re,se){return Y?Y==="nsew"?se?"":re==="pan"?"move":"crosshair":Y.toLowerCase()+"-resize":"pointer"}function fe(Y,re,se,ce,we){return Y.append("path").attr("class","zoombox").style({fill:re>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",s(se,ce)).attr("d",we+"Z")}function he(Y,re,se){return Y.append("path").attr("class","zoombox-corners").style({fill:t.background,stroke:t.defaultLine,"stroke-width":1,opacity:0}).attr("transform",s(re,se)).attr("d","M0,0Z")}function be(Y,re,se,ce,we,Se){Y.attr("d",ce+"M"+se.l+","+se.t+"v"+se.h+"h"+se.w+"v-"+se.h+"h-"+se.w+"Z"),H(Y,re,we,Se)}function H(Y,re,se,ce){se||(Y.transition().style("fill",ce>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),re.transition().style("opacity",1).duration(200))}function B(Y){i.select(Y).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function A(Y){R&&Y.data&&Y._context.showTips&&(e.notifier(e._(Y,"Double-click to zoom back out"),"long"),R=!1)}function X(Y,re){return"M"+(Y.l-.5)+","+(re-N-.5)+"h-3v"+(2*N+1)+"h3ZM"+(Y.r+.5)+","+(re-N-.5)+"h3v"+(2*N+1)+"h-3Z"}function I(Y,re){return"M"+(re-N-.5)+","+(Y.t-.5)+"v-3h"+(2*N+1)+"v3ZM"+(re-N-.5)+","+(Y.b+.5)+"v3h"+(2*N+1)+"v-3Z"}function j(Y){var re=Math.floor(Math.min(Y.b-Y.t,Y.r-Y.l,N)/2);return"M"+(Y.l-3.5)+","+(Y.t-.5+re)+"h3v"+-re+"h"+re+"v-3h-"+(re+3)+"ZM"+(Y.r+3.5)+","+(Y.t-.5+re)+"h-3v"+-re+"h"+-re+"v-3h"+(re+3)+"ZM"+(Y.r+3.5)+","+(Y.b+.5-re)+"h-3v"+re+"h"+-re+"v3h"+(re+3)+"ZM"+(Y.l-3.5)+","+(Y.b+.5-re)+"h3v"+re+"h"+re+"v3h-"+(re+3)+"Z"}function T(Y,re,se,ce,we){for(var Se=!1,Ie={},Ze={},He,Be,pe,_e,oe=(we||{}).xaHash,Le=(we||{}).yaHash,Re=0;Re<re.length;Re++){var Ye=re[Re];for(He in se)if(Ye[He]){for(pe in Ye)!(we&&(oe[pe]||Le[pe]))&&!(pe.charAt(0)==="x"?se:ce)[pe]&&(Ie[pe]=He);for(Be in ce)!(we&&(oe[Be]||Le[Be]))&&Ye[Be]&&(Se=!0)}for(Be in ce)if(Ye[Be])for(_e in Ye)!(we&&(oe[_e]||Le[_e]))&&!(_e.charAt(0)==="x"?se:ce)[_e]&&(Ze[_e]=Be)}Se&&(e.extendFlat(Ie,Ze),Ze={});var ot={},Xe=[];for(pe in Ie){var lt=k(Y,pe);Xe.push(lt),ot[lt._id]=lt}var ut={},dt=[];for(_e in Ze){var xt=k(Y,_e);dt.push(xt),ut[xt._id]=xt}return{xaHash:ot,yaHash:ut,xaxes:Xe,yaxes:dt,xLinks:Ie,yLinks:Ze,isSubplotConstrained:Se}}function L(Y,re){if(!l)Y.onwheel!==void 0?Y.onwheel=re:Y.onmousewheel!==void 0?Y.onmousewheel=re:Y.isAddedWheelEvent||(Y.isAddedWheelEvent=!0,Y.addEventListener("wheel",re,{passive:!1}));else{var se=Y.onwheel!==void 0?"wheel":"mousewheel";Y._onwheel&&Y.removeEventListener(se,Y._onwheel),Y._onwheel=re,Y.addEventListener(se,re,{passive:!1})}}function $(Y){var re=[];for(var se in Y)re.push(Y[se]);return re}C.exports={makeDragBox:V,makeDragger:U,makeRectDragger:G,makeZoombox:fe,makeCorners:he,updateZoombox:be,xyCorners:j,transitionZoombox:H,removeZoombox:B,showDoubleClickNotifier:A,attachWheelEventHandler:L}}),r0=ye(F=>{var C=Xt(),i=Fi(),e=Ai(),n=qi(),r=zu().makeDragBox,l=$r().DRAGGERSIZE;F.initInteractions=function(o){var s=o._fullLayout;if(o._context.staticPlot){C.select(o).selectAll(".drag").remove();return}if(!(!s._has("cartesian")&&!s._has("splom"))){var d=Object.keys(s._plots||{}).sort(function(p,c){if((s._plots[p].mainplot&&!0)===(s._plots[c].mainplot&&!0)){var h=p.split("y"),b=c.split("y");return h[0]===b[0]?Number(h[1]||1)-Number(b[1]||1):Number(h[0]||1)-Number(b[0]||1)}return s._plots[p].mainplot?1:-1});d.forEach(function(p){var c=s._plots[p],h=c.xaxis,b=c.yaxis;if(!c.mainplot){var y=r(o,c,h._offset,b._offset,h._length,b._length,"ns","ew");y.onmousemove=function(v){o._fullLayout._rehover=function(){o._fullLayout._hoversubplot===p&&o._fullLayout._plots[p]&&i.hover(o,v,p)},i.hover(o,v,p),o._fullLayout._lasthover=y,o._fullLayout._hoversubplot=p},y.onmouseout=function(v){o._dragging||(o._fullLayout._hoversubplot=null,e.unhover(o,v))},o._context.showAxisDragHandles&&(r(o,c,h._offset-l,b._offset-l,l,l,"n","w"),r(o,c,h._offset+h._length,b._offset-l,l,l,"n","e"),r(o,c,h._offset-l,b._offset+b._length,l,l,"s","w"),r(o,c,h._offset+h._length,b._offset+b._length,l,l,"s","e"))}if(o._context.showAxisDragHandles){if(p===h._mainSubplot){var g=h._mainLinePosition;h.side==="top"&&(g-=l),r(o,c,h._offset+h._length*.1,g,h._length*.8,l,"","ew"),r(o,c,h._offset,g,h._length*.1,l,"","w"),r(o,c,h._offset+h._length*.9,g,h._length*.1,l,"","e")}if(p===b._mainSubplot){var m=b._mainLinePosition;b.side!=="right"&&(m-=l),r(o,c,m,b._offset+b._length*.1,l,b._length*.8,"ns",""),r(o,c,m,b._offset+b._length*.9,l,b._length*.1,"s",""),r(o,c,m,b._offset,l,b._length*.1,"n","")}}});var t=s._hoverlayer.node();t.onmousemove=function(p){p.target=o._fullLayout._lasthover,i.hover(o,p,s._hoversubplot)},t.onclick=function(p){p.target=o._fullLayout._lasthover,i.click(o,p)},t.onmousedown=function(p){o._fullLayout._lasthover.onmousedown(p)},F.updateFx(o)}},F.updateFx=function(o){var s=o._fullLayout,d=s.dragmode==="pan"?"move":"crosshair";n(s._draggers,d)}}),Hu=ye((F,C)=>{var i=Kn();C.exports=function(e){for(var n=i.layoutArrayContainers,r=i.layoutArrayRegexes,l=e.split("[")[0],o,s,d=0;d<r.length;d++)if(s=e.match(r[d]),s&&s.index===0){o=s[0];break}if(o||(o=n[n.indexOf(l)]),!o)return!1;var t=e.substr(o.length);return t?(s=t.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),s?{array:o,index:Number(s[1]),property:s[3]||""}:!1):{array:o,index:"",property:""}}}),Bu=ye(F=>{var C=kn(),i=mi(),e=Fr(),n=Do().sorterAsc,r=Kn();F.containerArrayMatch=Hu();var l=F.isAddVal=function(s){return s==="add"||C(s)},o=F.isRemoveVal=function(s){return s===null||s==="remove"};F.applyContainerArrayChanges=function(s,d,t,p,c){var h=d.astr,b=r.getComponentMethod(h,"supplyLayoutDefaults"),y=r.getComponentMethod(h,"draw"),g=r.getComponentMethod(h,"drawOne"),m=p.replot||p.recalc||b===i||y===i,v=s.layout,u=s._fullLayout;if(t[""]){Object.keys(t).length>1&&e.warn("Full array edits are incompatible with other edits",h);var f=t[""][""];if(o(f))d.set(null);else if(Array.isArray(f))d.set(f);else return e.warn("Unrecognized full array edit value",h,f),!0;return m?!1:(b(v,u),y(s),!0)}var _=Object.keys(t).map(Number).sort(n),w=d.get(),k=w||[],J=c(u,h).get(),P=[],O=-1,M=k.length,W,E,N,R,V,U,G,D;for(W=0;W<_.length;W++){if(N=_[W],R=t[N],V=Object.keys(R),U=R[""],G=l(U),N<0||N>k.length-(G?0:1)){e.warn("index out of range",h,N);continue}if(U!==void 0)V.length>1&&e.warn("Insertion & removal are incompatible with edits to the same index.",h,N),o(U)?P.push(N):G?(U==="add"&&(U={}),k.splice(N,0,U),J&&J.splice(N,0,{})):e.warn("Unrecognized full object edit value",h,N,U),O===-1&&(O=N);else for(E=0;E<V.length;E++)D=h+"["+N+"].",c(k[N],V[E],D).set(R[V[E]])}for(W=P.length-1;W>=0;W--)k.splice(P[W],1),J&&J.splice(P[W],1);if(k.length?w||d.set(k):d.set(null),m)return!1;if(b(v,u),g!==i){var Z;if(O===-1)Z=_;else{for(M=Math.max(k.length,M),Z=[],W=0;W<_.length&&(N=_[W],!(N>=O));W++)Z.push(N);for(W=O;W<M;W++)Z.push(W)}for(W=0;W<Z.length;W++)g(s,Z[W])}else y(s);return!0}}),Vu=ye(F=>{var C=on();Vn();var i=Kn(),e=zt(),n=Lr(),r=Nr(),l=$n(),o=r.cleanId,s=r.getFromTrace,d=i.traceIs;F.clearPromiseQueue=function(v){Array.isArray(v._promises)&&v._promises.length>0&&e.log("Clearing previous rejected promises from queue."),v._promises=[]},F.cleanLayout=function(v){var u;v||(v={}),v.xaxis1&&(v.xaxis||(v.xaxis=v.xaxis1),delete v.xaxis1),v.yaxis1&&(v.yaxis||(v.yaxis=v.yaxis1),delete v.yaxis1),v.scene1&&(v.scene||(v.scene=v.scene1),delete v.scene1);var f=(n.subplotsRegistry.cartesian||{}).attrRegex;(n.subplotsRegistry.polar||{}).attrRegex,(n.subplotsRegistry.ternary||{}).attrRegex,(n.subplotsRegistry.gl3d||{}).attrRegex;var _=Object.keys(v);for(u=0;u<_.length;u++){var w=_[u];if(f&&f.test(w)){var k=v[w];k.anchor&&k.anchor!=="free"&&(k.anchor=o(k.anchor)),k.overlaying&&(k.overlaying=o(k.overlaying)),k.type||(k.isdate?k.type="date":k.islog?k.type="log":k.isdate===!1&&k.islog===!1&&(k.type="linear")),(k.autorange==="withzero"||k.autorange==="tozero")&&(k.autorange=!0,k.rangemode="tozero"),k.insiderange&&delete k.range,delete k.islog,delete k.isdate,delete k.categories,b(k,"domain")&&delete k.domain}}var J=Array.isArray(v.annotations)?v.annotations.length:0;for(u=0;u<J;u++){var P=v.annotations[u];e.isPlainObject(P)&&(t(P,"xref"),t(P,"yref"))}var O=Array.isArray(v.shapes)?v.shapes.length:0;for(u=0;u<O;u++){var M=v.shapes[u];e.isPlainObject(M)&&(t(M,"xref"),t(M,"yref"))}var W=Array.isArray(v.images)?v.images.length:0;for(u=0;u<W;u++){var E=v.images[u];e.isPlainObject(E)&&(t(E,"xref"),t(E,"yref"))}var N=v.legend;return N&&(N.x>3?(N.x=1.02,N.xanchor="left"):N.x<-2&&(N.x=-.02,N.xanchor="right"),N.y>3?(N.y=1.02,N.yanchor="bottom"):N.y<-2&&(N.y=-.02,N.yanchor="top")),v.dragmode==="rotate"&&(v.dragmode="orbit"),l.clean(v),v.template&&v.template.layout&&F.cleanLayout(v.template.layout),v};function t(v,u){var f=v[u],_=u.charAt(0);f&&f!=="paper"&&(v[u]=o(f,_,!0))}F.cleanData=function(v){for(var u=0;u<v.length;u++){var f=v[u],_;if(f.type==="histogramy"&&"xbins"in f&&!("ybins"in f)&&(f.ybins=f.xbins,delete f.xbins),f.type==="histogramy"&&F.swapXYData(f),(f.type==="histogramx"||f.type==="histogramy")&&(f.type="histogram"),"scl"in f&&!("colorscale"in f)&&(f.colorscale=f.scl,delete f.scl),"reversescl"in f&&!("reversescale"in f)&&(f.reversescale=f.reversescl,delete f.reversescl),f.xaxis&&(f.xaxis=o(f.xaxis,"x")),f.yaxis&&(f.yaxis=o(f.yaxis,"y")),d(f,"gl3d")&&f.scene&&(f.scene=n.subplotsRegistry.gl3d.cleanId(f.scene)),!d(f,"pie-like")&&!d(f,"bar-like"))if(Array.isArray(f.textposition))for(_=0;_<f.textposition.length;_++)f.textposition[_]=h(f.textposition[_]);else f.textposition&&(f.textposition=h(f.textposition));var w=i.getModule(f);if(w&&w.colorbar){var k=w.colorbar.container,J=k?f[k]:f;J&&J.colorscale&&(J.colorscale==="YIGnBu"&&(J.colorscale="YlGnBu"),J.colorscale==="YIOrRd"&&(J.colorscale="YlOrRd"))}if(f.type==="surface"&&e.isPlainObject(f.contours)){var P=["x","y","z"];for(_=0;_<P.length;_++){var O=f.contours[P[_]];e.isPlainObject(O)&&(O.highlightColor&&(O.highlightcolor=O.highlightColor,delete O.highlightColor),O.highlightWidth&&(O.highlightwidth=O.highlightWidth,delete O.highlightWidth))}}if(f.type==="candlestick"||f.type==="ohlc"){var M=(f.increasing||{}).showlegend!==!1,W=(f.decreasing||{}).showlegend!==!1,E=p(f.increasing),N=p(f.decreasing);if(E!==!1&&N!==!1){var R=c(E,N,M,W);R&&(f.name=R)}else(E||N)&&!f.name&&(f.name=E||N)}b(f,"line")&&delete f.line,"marker"in f&&(b(f.marker,"line")&&delete f.marker.line,b(f,"marker")&&delete f.marker),l.clean(f),f.autobinx&&(delete f.autobinx,delete f.xbins),f.autobiny&&(delete f.autobiny,delete f.ybins)}};function p(v){if(!e.isPlainObject(v))return!1;var u=v.name;return delete v.name,delete v.showlegend,(typeof u=="string"||typeof u=="number")&&String(u)}function c(v,u,f,_){if(f&&!_)return v;if(_&&!f||!v.trim())return u;if(!u.trim())return v;var w=Math.min(v.length,u.length),k;for(k=0;k<w&&v.charAt(k)===u.charAt(k);k++);var J=v.substr(0,k);return J.trim()}function h(v){var u="middle",f="center";return typeof v=="string"&&(v.indexOf("top")!==-1?u="top":v.indexOf("bottom")!==-1&&(u="bottom"),v.indexOf("left")!==-1?f="left":v.indexOf("right")!==-1&&(f="right")),u+" "+f}function b(v,u){return u in v&&typeof v[u]=="object"&&Object.keys(v[u]).length===0}F.swapXYData=function(v){var u;if(e.swapAttrs(v,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(v.z)&&Array.isArray(v.z[0])&&(v.transpose?delete v.transpose:v.transpose=!0),v.error_x&&v.error_y){var f=v.error_y,_="copy_ystyle"in f?f.copy_ystyle:!(f.color||f.thickness||f.width);e.swapAttrs(v,["error_?.copy_ystyle"]),_&&e.swapAttrs(v,["error_?.color","error_?.thickness","error_?.width"])}if(typeof v.hoverinfo=="string"){var w=v.hoverinfo.split("+");for(u=0;u<w.length;u++)w[u]==="x"?w[u]="y":w[u]==="y"&&(w[u]="x");v.hoverinfo=w.join("+")}},F.coerceTraceIndices=function(v,u){if(C(u))return[u];if(!Array.isArray(u)||!u.length)return v.data.map(function(w,k){return k});if(Array.isArray(u)){for(var f=[],_=0;_<u.length;_++)e.isIndex(u[_],v.data.length)?f.push(u[_]):e.warn("trace index (",u[_],") is not a number or is out of bounds");return f}return u},F.manageArrayContainers=function(v,u,f){var _=v.obj,w=v.parts,k=w.length,J=w[k-1],P=C(J);if(P&&u===null){var O=w.slice(0,k-1).join("."),M=e.nestedProperty(_,O).get();M.splice(J,1)}else P&&v.get()===void 0&&v.get()===void 0&&(f[v.astr]=null),v.set(u)};var y=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function g(v){var u=v.search(y);if(u>0)return v.substr(0,u)}F.hasParent=function(v,u){for(var f=g(u);f;){if(f in v)return!0;f=g(f)}return!1};var m=["x","y","z"];F.clearAxisTypes=function(v,u,f){for(var _=0;_<u.length;_++)for(var w=v._fullData[_],k=0;k<3;k++){var J=s(v,w,m[k]);if(J&&J.type!=="log"){var P=J._name,O=J._id.substr(1);if(O.substr(0,5)==="scene"){if(f[O]!==void 0)continue;P=O+"."+P}var M=P+".type";f[P]===void 0&&f[M]===void 0&&e.nestedProperty(v.layout,M).set(null)}}}}),i0=ye(F=>{var C=Xt(),i=on(),e=Ts(),n=zt(),r=n.nestedProperty,l=Po(),o=nu(),s=Kn(),d=yo(),t=Lr(),p=cr(),c=js(),h=Mi(),b=Ga(),y=$n(),g=r0().initInteractions,m=lo(),v=wo().clearOutline,u=Ya().dfltConfig,f=Bu(),_=Vu(),w=Pl(),k=Tr(),J=$r().AX_NAME_PATTERN,P=0,O=5;function M(K,de,xe,ge){var Ee;if(K=n.getGraphDiv(K),l.init(K),n.isPlainObject(de)){var Me=de;de=Me.data,xe=Me.layout,ge=Me.config,Ee=Me.frames}var Je=l.triggerHandler(K,"plotly_beforeplot",[de,xe,ge]);if(Je===!1)return Promise.reject();!de&&!xe&&!n.isPlotDiv(K)&&n.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",K);function Qe(){if(Ee)return F.addFrames(K,Ee)}V(K,ge),xe||(xe={}),C.select(K).classed("js-plotly-plot",!0),b.makeTester(),Array.isArray(K._promises)||(K._promises=[]);var st=(K.data||[]).length===0&&Array.isArray(de);Array.isArray(de)&&(_.cleanData(de),st?K.data=de:K.data.push.apply(K.data,de),K.empty=!1),(!K.layout||st)&&(K.layout=_.cleanLayout(xe)),t.supplyDefaults(K);var ze=K._fullLayout,rt=ze._has("cartesian");ze._replotting=!0,(st||ze._shouldCreateBgLayer)&&(ke(K),ze._shouldCreateBgLayer&&delete ze._shouldCreateBgLayer),b.initGradients(K),b.initPatterns(K),st&&p.saveShowSpikeInitial(K);var ft=!K.calcdata||K.calcdata.length!==(K._fullData||[]).length;ft&&t.doCalcdata(K);for(var yt=0;yt<K.calcdata.length;yt++)K.calcdata[yt][0].trace=K._fullData[yt];K._context.responsive?K._responsiveChartHandler||(K._responsiveChartHandler=function(){n.isHidden(K)||t.resize(K)},window.addEventListener("resize",K._responsiveChartHandler)):n.clearResponsive(K);var Ht=n.extendFlat({},ze._size),Wt=0;function hn(){for(var Ut=ze._basePlotModules,Pt=0;Pt<Ut.length;Pt++)Ut[Pt].drawFramework&&Ut[Pt].drawFramework(K);!ze._glcanvas&&ze._has("gl")&&(ze._glcanvas=ze._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(rn){return rn.key}),ze._glcanvas.enter().append("canvas").attr("class",function(rn){return"gl-canvas gl-canvas-"+rn.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var nn=K._context.plotGlPixelRatio;if(ze._glcanvas){ze._glcanvas.attr("width",ze.width*nn).attr("height",ze.height*nn).style("width",ze.width+"px").style("height",ze.height+"px");var On=ze._glcanvas.data()[0].regl;if(On&&(Math.floor(ze.width*nn)!==On._gl.drawingBufferWidth||Math.floor(ze.height*nn)!==On._gl.drawingBufferHeight)){var Qn="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(Wt)n.error(Qn);else return n.log(Qn+" Clearing graph and plotting again."),t.cleanPlot([],{},K._fullData,ze),t.supplyDefaults(K),ze=K._fullLayout,t.doCalcdata(K),Wt++,hn()}}return ze.modebar.orientation==="h"?ze._modebardiv.style("height",null).style("width","100%"):ze._modebardiv.style("width",null).style("height",ze.height+"px"),t.previousPromises(K)}function Bt(){if(t.clearAutoMarginIds(K),w.drawMarginPushers(K),p.allowAutoMargin(K),K._fullLayout.title.text&&K._fullLayout.title.automargin&&t.allowAutoMargin(K,"title.automargin"),ze._has("pie"))for(var Ut=K._fullData,Pt=0;Pt<Ut.length;Pt++){var nn=Ut[Pt];nn.type==="pie"&&nn.automargin&&t.allowAutoMargin(K,"pie."+nn.uid+".automargin")}return t.doAutoMargin(K),t.previousPromises(K)}function en(){if(t.didMarginChange(Ht,ze._size))return n.syncOrAsync([Bt,w.layoutStyles],K)}function Ft(){if(!ft){Nt();return}return n.syncOrAsync([s.getComponentMethod("shapes","calcAutorange"),s.getComponentMethod("annotations","calcAutorange"),Nt],K)}function Nt(){K._transitioning||(w.doAutoRangeAndConstraints(K),st&&p.saveRangeInitial(K),s.getComponentMethod("rangeslider","calcAutorange")(K))}function ln(){return p.draw(K,st?"":"redraw")}var tn=[t.previousPromises,Qe,hn,Bt,en];rt&&tn.push(Ft),tn.push(w.layoutStyles),rt&&tn.push(ln,function(Ut){var Pt=Ut._fullLayout._insideTickLabelsUpdaterange;if(Pt)return Ut._fullLayout._insideTickLabelsUpdaterange=void 0,re(Ut,Pt).then(function(){p.saveRangeInitial(Ut,!0)})}),tn.push(w.drawData,w.finalDraw,g,t.addLinks,t.rehover,t.redrag,t.reselect,t.doAutoMargin,t.previousPromises);var sn=n.syncOrAsync(tn,K);return(!sn||!sn.then)&&(sn=Promise.resolve()),sn.then(function(){return W(K),K})}function W(K){var de=K._fullLayout;de._redrawFromAutoMarginCount?de._redrawFromAutoMarginCount--:K.emit("plotly_afterplot")}function E(K){return n.extendFlat(u,K)}function N(K,de){try{K._fullLayout._paper.style("background",de)}catch(xe){n.error(xe)}}function R(K,de){var xe=y.combine(de,"white");N(K,xe)}function V(K,de){if(!K._context){K._context=n.extendDeep({},u);var xe=C.select("base");K._context._baseUrl=xe.size()&&xe.attr("href")?window.location.href.split("#")[0]:""}var ge=K._context,Ee,Me,Je;if(de){for(Me=Object.keys(de),Ee=0;Ee<Me.length;Ee++)Je=Me[Ee],!(Je==="editable"||Je==="edits")&&Je in ge&&(Je==="setBackground"&&de[Je]==="opaque"?ge[Je]=R:ge[Je]=de[Je]);var Qe=de.editable;if(Qe!==void 0)for(ge.editable=Qe,Me=Object.keys(ge.edits),Ee=0;Ee<Me.length;Ee++)ge.edits[Me[Ee]]=Qe;if(de.edits)for(Me=Object.keys(de.edits),Ee=0;Ee<Me.length;Ee++)Je=Me[Ee],Je in ge.edits&&(ge.edits[Je]=de.edits[Je]);ge._exportedPlot=de._exportedPlot}ge.staticPlot&&(ge.editable=!1,ge.edits={},ge.autosizable=!1,ge.scrollZoom=!1,ge.doubleClick=!1,ge.showTips=!1,ge.showLink=!1,ge.displayModeBar=!1),ge.displayModeBar==="hover"&&!e&&(ge.displayModeBar=!0),(ge.setBackground==="transparent"||typeof ge.setBackground!="function")&&(ge.setBackground=N),ge._hasZeroHeight=ge._hasZeroHeight||K.clientHeight===0,ge._hasZeroWidth=ge._hasZeroWidth||K.clientWidth===0;var st=ge.scrollZoom,ze=ge._scrollZoom={};if(st===!0)ze.cartesian=1,ze.gl3d=1,ze.geo=1,ze.mapbox=1,ze.map=1;else if(typeof st=="string"){var rt=st.split("+");for(Ee=0;Ee<rt.length;Ee++)ze[rt[Ee]]=1}else st!==!1&&(ze.gl3d=1,ze.geo=1,ze.mapbox=1,ze.map=1)}function U(K){if(K=n.getGraphDiv(K),!n.isPlotDiv(K))throw new Error("This element is not a Plotly plot: "+K);return _.cleanData(K.data),_.cleanLayout(K.layout),K.calcdata=void 0,F._doPlot(K).then(function(){return K.emit("plotly_redraw"),K})}function G(K,de,xe,ge){return K=n.getGraphDiv(K),t.cleanPlot([],{},K._fullData||[],K._fullLayout||{}),t.purge(K),F._doPlot(K,de,xe,ge)}function D(K,de){var xe=de+1,ge=[],Ee,Me;for(Ee=0;Ee<K.length;Ee++)Me=K[Ee],Me<0?ge.push(xe+Me):ge.push(Me);return ge}function Z(K,de,xe){var ge,Ee;for(ge=0;ge<de.length;ge++){if(Ee=de[ge],Ee!==parseInt(Ee,10))throw new Error("all values in "+xe+" must be integers");if(Ee>=K.data.length||Ee<-K.data.length)throw new Error(xe+" must be valid indices for gd.data.");if(de.indexOf(Ee,ge+1)>-1||Ee>=0&&de.indexOf(-K.data.length+Ee)>-1||Ee<0&&de.indexOf(K.data.length+Ee)>-1)throw new Error("each index in "+xe+" must be unique.")}}function q(K,de,xe){if(!Array.isArray(K.data))throw new Error("gd.data must be an array.");if(typeof de>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(de)||(de=[de]),Z(K,de,"currentIndices"),typeof xe<"u"&&!Array.isArray(xe)&&(xe=[xe]),typeof xe<"u"&&Z(K,xe,"newIndices"),typeof xe<"u"&&de.length!==xe.length)throw new Error("current and new indices must be of equal length.")}function ae(K,de,xe){var ge,Ee;if(!Array.isArray(K.data))throw new Error("gd.data must be an array.");if(typeof de>"u")throw new Error("traces must be defined.");for(Array.isArray(de)||(de=[de]),ge=0;ge<de.length;ge++)if(Ee=de[ge],typeof Ee!="object"||Array.isArray(Ee)||Ee===null)throw new Error("all values in traces array must be non-array objects");if(typeof xe<"u"&&!Array.isArray(xe)&&(xe=[xe]),typeof xe<"u"&&xe.length!==de.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function te(K,de,xe,ge){var Ee=n.isPlainObject(ge);if(!Array.isArray(K.data))throw new Error("gd.data must be an array");if(!n.isPlainObject(de))throw new Error("update must be a key:value object");if(typeof xe>"u")throw new Error("indices must be an integer or array of integers");Z(K,xe,"indices");for(var Me in de){if(!Array.isArray(de[Me])||de[Me].length!==xe.length)throw new Error("attribute "+Me+" must be an array of length equal to indices array length");if(Ee&&(!(Me in ge)||!Array.isArray(ge[Me])||ge[Me].length!==de[Me].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function ie(K,de,xe,ge){var Ee=n.isPlainObject(ge),Me=[],Je,Qe,st,ze,rt;Array.isArray(xe)||(xe=[xe]),xe=D(xe,K.data.length-1);for(var ft in de)for(var yt=0;yt<xe.length;yt++){if(Je=K.data[xe[yt]],st=r(Je,ft),Qe=st.get(),ze=de[ft][yt],!n.isArrayOrTypedArray(ze))throw new Error("attribute: "+ft+" index: "+yt+" must be an array");if(!n.isArrayOrTypedArray(Qe))throw new Error("cannot extend missing or non-array attribute: "+ft);if(Qe.constructor!==ze.constructor)throw new Error("cannot extend array with an array of a different type: "+ft);rt=Ee?ge[ft][yt]:ge,i(rt)||(rt=-1),Me.push({prop:st,target:Qe,insert:ze,maxp:Math.floor(rt)})}return Me}function fe(K,de,xe,ge,Ee){te(K,de,xe,ge);for(var Me=ie(K,de,xe,ge),Je={},Qe={},st=0;st<Me.length;st++){var ze=Me[st].prop,rt=Me[st].maxp,ft=Ee(Me[st].target,Me[st].insert,rt);ze.set(ft[0]),Array.isArray(Je[ze.astr])||(Je[ze.astr]=[]),Je[ze.astr].push(ft[1]),Array.isArray(Qe[ze.astr])||(Qe[ze.astr]=[]),Qe[ze.astr].push(Me[st].target.length)}return{update:Je,maxPoints:Qe}}function he(K,de){var xe=new K.constructor(K.length+de.length);return xe.set(K),xe.set(de,K.length),xe}function be(K,de,xe,ge){K=n.getGraphDiv(K);function Ee(st,ze,rt){var ft,yt;if(n.isTypedArray(st))if(rt<0){var Ht=new st.constructor(0),Wt=he(st,ze);rt<0?(ft=Wt,yt=Ht):(ft=Ht,yt=Wt)}else if(ft=new st.constructor(rt),yt=new st.constructor(st.length+ze.length-rt),rt===ze.length)ft.set(ze),yt.set(st);else if(rt<ze.length){var hn=ze.length-rt;ft.set(ze.subarray(hn)),yt.set(st),yt.set(ze.subarray(0,hn),st.length)}else{var Bt=rt-ze.length,en=st.length-Bt;ft.set(st.subarray(en)),ft.set(ze,Bt),yt.set(st.subarray(0,en))}else ft=st.concat(ze),yt=rt>=0&&rt<ft.length?ft.splice(0,ft.length-rt):[];return[ft,yt]}var Me=fe(K,de,xe,ge,Ee),Je=F.redraw(K),Qe=[K,Me.update,xe,Me.maxPoints];return o.add(K,F.prependTraces,Qe,be,arguments),Je}function H(K,de,xe,ge){K=n.getGraphDiv(K);function Ee(st,ze,rt){var ft,yt;if(n.isTypedArray(st))if(rt<=0){var Ht=new st.constructor(0),Wt=he(ze,st);rt<0?(ft=Wt,yt=Ht):(ft=Ht,yt=Wt)}else if(ft=new st.constructor(rt),yt=new st.constructor(st.length+ze.length-rt),rt===ze.length)ft.set(ze),yt.set(st);else if(rt<ze.length){var hn=ze.length-rt;ft.set(ze.subarray(0,hn)),yt.set(ze.subarray(hn)),yt.set(st,hn)}else{var Bt=rt-ze.length;ft.set(ze),ft.set(st.subarray(0,Bt),ze.length),yt.set(st.subarray(Bt))}else ft=ze.concat(st),yt=rt>=0&&rt<ft.length?ft.splice(rt,ft.length):[];return[ft,yt]}var Me=fe(K,de,xe,ge,Ee),Je=F.redraw(K),Qe=[K,Me.update,xe,Me.maxPoints];return o.add(K,F.extendTraces,Qe,H,arguments),Je}function B(K,de,xe){K=n.getGraphDiv(K);var ge=[],Ee=F.deleteTraces,Me=B,Je=[K,ge],Qe=[K,de],st,ze;for(ae(K,de,xe),Array.isArray(de)||(de=[de]),de=de.map(function(rt){return n.extendFlat({},rt)}),_.cleanData(de),st=0;st<de.length;st++)K.data.push(de[st]);for(st=0;st<de.length;st++)ge.push(-de.length+st);if(typeof xe>"u")return ze=F.redraw(K),o.add(K,Ee,Je,Me,Qe),ze;Array.isArray(xe)||(xe=[xe]);try{q(K,ge,xe)}catch(rt){throw K.data.splice(K.data.length-de.length,de.length),rt}return o.startSequence(K),o.add(K,Ee,Je,Me,Qe),ze=F.moveTraces(K,ge,xe),o.stopSequence(K),ze}function A(K,de){K=n.getGraphDiv(K);var xe=[],ge=F.addTraces,Ee=A,Me=[K,xe,de],Je=[K,de],Qe,st;if(typeof de>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(de)||(de=[de]),Z(K,de,"indices"),de=D(de,K.data.length-1),de.sort(n.sorterDes),Qe=0;Qe<de.length;Qe+=1)st=K.data.splice(de[Qe],1)[0],xe.push(st);var ze=F.redraw(K);return o.add(K,ge,Me,Ee,Je),ze}function X(K,de,xe){K=n.getGraphDiv(K);var ge=[],Ee=[],Me=X,Je=X,Qe=[K,xe,de],st=[K,de,xe],ze;if(q(K,de,xe),de=Array.isArray(de)?de:[de],typeof xe>"u")for(xe=[],ze=0;ze<de.length;ze++)xe.push(-de.length+ze);for(xe=Array.isArray(xe)?xe:[xe],de=D(de,K.data.length-1),xe=D(xe,K.data.length-1),ze=0;ze<K.data.length;ze++)de.indexOf(ze)===-1&&ge.push(K.data[ze]);for(ze=0;ze<de.length;ze++)Ee.push({newIndex:xe[ze],trace:K.data[de[ze]]});for(Ee.sort(function(ft,yt){return ft.newIndex-yt.newIndex}),ze=0;ze<Ee.length;ze+=1)ge.splice(Ee[ze].newIndex,0,Ee[ze].trace);K.data=ge;var rt=F.redraw(K);return o.add(K,Me,Qe,Je,st),rt}function I(K,de,xe,ge){K=n.getGraphDiv(K),_.clearPromiseQueue(K);var Ee={};if(typeof de=="string")Ee[de]=xe;else if(n.isPlainObject(de))Ee=n.extendFlat({},de),ge===void 0&&(ge=xe);else return n.warn("Restyle fail.",de,xe,ge),Promise.reject();Object.keys(Ee).length&&(K.changed=!0);var Me=_.coerceTraceIndices(K,ge),Je=Y(K,Ee,Me),Qe=Je.flags;Qe.calc&&(K.calcdata=void 0),Qe.clearAxisTypes&&_.clearAxisTypes(K,Me,{});var st=[];Qe.fullReplot?st.push(F._doPlot):(st.push(t.previousPromises),t.supplyDefaults(K),Qe.markerSize&&(t.doCalcdata(K),ce(st)),Qe.style&&st.push(w.doTraceStyle),Qe.colorbars&&st.push(w.doColorBars),st.push(W)),st.push(t.rehover,t.redrag,t.reselect),o.add(K,I,[K,Je.undoit,Je.traces],I,[K,Je.redoit,Je.traces]);var ze=n.syncOrAsync(st,K);return(!ze||!ze.then)&&(ze=Promise.resolve()),ze.then(function(){return K.emit("plotly_restyle",Je.eventData),K})}function j(K){return K===void 0?null:K}function T(K,de){return de?function(xe,ge,Ee){var Me=r(xe,ge),Je=Me.set;return Me.set=function(Qe){var st=(Ee||"")+ge;L(st,Me.get(),Qe,K),Je(Qe)},Me}:r}function L(K,de,xe,ge){if(Array.isArray(de)||Array.isArray(xe))for(var Ee=Array.isArray(de)?de:[],Me=Array.isArray(xe)?xe:[],Je=Math.max(Ee.length,Me.length),Qe=0;Qe<Je;Qe++)L(K+"["+Qe+"]",Ee[Qe],Me[Qe],ge);else if(n.isPlainObject(de)||n.isPlainObject(xe)){var st=n.isPlainObject(de)?de:{},ze=n.isPlainObject(xe)?xe:{},rt=n.extendFlat({},st,ze);for(var ft in rt)L(K+"."+ft,st[ft],ze[ft],ge)}else ge[K]===void 0&&(ge[K]=j(de))}function $(K,de,xe){for(var ge in xe){var Ee=r(K,ge);L(ge,Ee.get(),xe[ge],de)}}function Y(K,de,xe){var ge=K._fullLayout,Ee=K._fullData,Me=K.data,Je=ge._guiEditing,Qe=T(ge._preGUI,Je),st=n.extendDeepAll({},de),ze,rt=k.traceFlags(),ft={},yt={},Ht;function Wt(){return xe.map(function(){})}function hn(Mt){var jt=p.id2name(Mt);Ht.indexOf(jt)===-1&&Ht.push(jt)}function Bt(Mt){return"LAYOUT"+Mt+".autorange"}function en(Mt){return"LAYOUT"+Mt+".range"}function Ft(Mt){for(var jt=Mt;jt<Ee.length;jt++)if(Ee[jt]._input===Me[Mt])return Ee[jt]}function Nt(Mt,jt,$t){if(Array.isArray(Mt)){Mt.forEach(function(wn){Nt(wn,jt,$t)});return}if(!(Mt in de||_.hasParent(de,Mt))){var bn;if(Mt.substr(0,6)==="LAYOUT")bn=Qe(K.layout,Mt.replace("LAYOUT",""));else{var Zt=xe[$t],an=ge._tracePreGUI[Ft(Zt)._fullInput.uid];bn=T(an,Je)(Me[Zt],Mt)}Mt in yt||(yt[Mt]=Wt()),yt[Mt][$t]===void 0&&(yt[Mt][$t]=j(bn.get())),jt!==void 0&&bn.set(jt)}}function ln(Mt){return function(jt){return Ee[jt][Mt]}}function tn(Mt){return function(jt,$t){return jt===!1?Ee[xe[$t]][Mt]:null}}for(var sn in de){if(_.hasParent(de,sn))throw new Error("cannot set "+sn+" and a parent attribute simultaneously");var Ut=de[sn],Pt,nn,On,Qn,rn,In;if((sn==="autobinx"||sn==="autobiny")&&(sn=sn.charAt(sn.length-1)+"bins",Array.isArray(Ut)?Ut=Ut.map(tn(sn)):Ut===!1?Ut=xe.map(ln(sn)):Ut=null),ft[sn]=Ut,sn.substr(0,6)==="LAYOUT"){On=Qe(K.layout,sn.replace("LAYOUT","")),yt[sn]=[j(On.get())],On.set(Array.isArray(Ut)?Ut[0]:Ut),rt.calc=!0;continue}for(yt[sn]=Wt(),ze=0;ze<xe.length;ze++){Pt=Me[xe[ze]],nn=Ft(xe[ze]);var Nn=ge._tracePreGUI[nn._fullInput.uid];if(On=T(Nn,Je)(Pt,sn),Qn=On.get(),rn=Array.isArray(Ut)?Ut[ze%Ut.length]:Ut,rn!==void 0){var xa=On.parts[On.parts.length-1],Et=sn.substr(0,sn.length-xa.length-1),ea=Et?Et+".":"",ee=Et?r(nn,Et).get():nn;if(In=d.getTraceValObject(nn,On.parts),In&&In.impliedEdits&&rn!==null)for(var le in In.impliedEdits)Nt(n.relativeAttr(sn,le),In.impliedEdits[le],ze);else if((xa==="thicknessmode"||xa==="lenmode")&&Qn!==rn&&(rn==="fraction"||rn==="pixels")&&ee){var $e=ge._size,Ve=ee.orient,De=Ve==="top"||Ve==="bottom";if(xa==="thicknessmode"){var Pe=De?$e.h:$e.w;Nt(ea+"thickness",ee.thickness*(rn==="fraction"?1/Pe:Pe),ze)}else{var je=De?$e.w:$e.h;Nt(ea+"len",ee.len*(rn==="fraction"?1/je:je),ze)}}else if(sn==="type"&&(rn==="pie"!=(Qn==="pie")||rn==="funnelarea"!=(Qn==="funnelarea"))){var We="x",Ne="y";(rn==="bar"||Qn==="bar")&&Pt.orientation==="h"&&(We="y",Ne="x"),n.swapAttrs(Pt,["?","?src"],"labels",We),n.swapAttrs(Pt,["d?","?0"],"label",We),n.swapAttrs(Pt,["?","?src"],"values",Ne),Qn==="pie"||Qn==="funnelarea"?(r(Pt,"marker.color").set(r(Pt,"marker.colors").get()),ge._pielayer.selectAll("g.trace").remove()):s.traceIs(Pt,"cartesian")&&r(Pt,"marker.colors").set(r(Pt,"marker.color").get())}yt[sn][ze]=j(Qn);var Ue=["swapxy","swapxyaxes","orientation","orientationaxes"];if(Ue.indexOf(sn)!==-1){if(sn==="orientation"){On.set(rn);var Ke=Pt.x&&!Pt.y?"h":"v";if((On.get()||Ke)===nn.orientation)continue}else sn==="orientationaxes"&&(Pt.orientation={v:"h",h:"v"}[nn.orientation]);_.swapXYData(Pt),rt.calc=rt.clearAxisTypes=!0}else t.dataArrayContainers.indexOf(On.parts[0])!==-1?(_.manageArrayContainers(On,rn,yt),rt.calc=!0):(In?In.arrayOk&&!s.traceIs(nn,"regl")&&(n.isArrayOrTypedArray(rn)||n.isArrayOrTypedArray(Qn))?rt.calc=!0:k.update(rt,In):rt.calc=!0,On.set(rn))}}if(["swapxyaxes","orientationaxes"].indexOf(sn)!==-1&&p.swap(K,xe),sn==="orientationaxes"){var it=r(K.layout,"hovermode"),_t=it.get();_t==="x"?it.set("y"):_t==="y"?it.set("x"):_t==="x unified"?it.set("y unified"):_t==="y unified"&&it.set("x unified")}if(["orientation","type"].indexOf(sn)!==-1){for(Ht=[],ze=0;ze<xe.length;ze++){var Ct=Me[xe[ze]];s.traceIs(Ct,"cartesian")&&(hn(Ct.xaxis||"x"),hn(Ct.yaxis||"y"))}Nt(Ht.map(Bt),!0,0),Nt(Ht.map(en),[0,1],0)}}return(rt.calc||rt.plot)&&(rt.fullReplot=!0),{flags:rt,undoit:yt,redoit:ft,traces:xe,eventData:n.extendDeepNoArrays([],[st,xe])}}function re(K,de,xe){K=n.getGraphDiv(K),_.clearPromiseQueue(K);var ge={};if(typeof de=="string")ge[de]=xe;else if(n.isPlainObject(de))ge=n.extendFlat({},de);else return n.warn("Relayout fail.",de,xe),Promise.reject();Object.keys(ge).length&&(K.changed=!0);var Ee=Ze(K,ge),Me=Ee.flags;Me.calc&&(K.calcdata=void 0);var Je=[t.previousPromises];Me.layoutReplot?Je.push(w.layoutReplot):Object.keys(ge).length&&(se(K,Me,Ee)||t.supplyDefaults(K),Me.legend&&Je.push(w.doLegend),Me.layoutstyle&&Je.push(w.layoutStyles),Me.axrange&&ce(Je,Ee.rangesAltered),Me.ticks&&Je.push(w.doTicksRelayout),Me.modebar&&Je.push(w.doModeBar),Me.camera&&Je.push(w.doCamera),Me.colorbars&&Je.push(w.doColorBars),Je.push(W)),Je.push(t.rehover,t.redrag,t.reselect),o.add(K,re,[K,Ee.undoit],re,[K,Ee.redoit]);var Qe=n.syncOrAsync(Je,K);return(!Qe||!Qe.then)&&(Qe=Promise.resolve(K)),Qe.then(function(){return K.emit("plotly_relayout",Ee.eventData),K})}function se(K,de,xe){var ge=K._fullLayout;if(!de.axrange)return!1;for(var Ee in de)if(Ee!=="axrange"&&de[Ee])return!1;var Me,Je,Qe=function(Ht,Wt){return n.coerce(Me,Je,h,Ht,Wt)},st={};for(var ze in xe.rangesAltered){var rt=p.id2name(ze);if(Me=K.layout[rt],Je=ge[rt],c(Me,Je,Qe,st),Je._matchGroup){for(var ft in Je._matchGroup)if(ft!==ze){var yt=ge[p.id2name(ft)];yt.autorange=Je.autorange,yt.range=Je.range.slice(),yt._input.range=Je.range.slice()}}}return!0}function ce(K,de){var xe=de?function(ge){var Ee=[],Me=!0;for(var Je in de){var Qe=p.getFromId(ge,Je);if(Ee.push(Je),(Qe.ticklabelposition||"").indexOf("inside")!==-1&&Qe._anchorAxis&&Ee.push(Qe._anchorAxis._id),Qe._matchGroup)for(var st in Qe._matchGroup)de[st]||Ee.push(st)}return p.draw(ge,Ee,{skipTitle:Me})}:function(ge){return p.draw(ge,"redraw")};K.push(v,w.doAutoRangeAndConstraints,xe,w.drawData,w.finalDraw)}var we=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Se=/^[xyz]axis[0-9]*\.autorange$/,Ie=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Ze(K,de){var xe=K.layout,ge=K._fullLayout,Ee=ge._guiEditing,Me=T(ge._preGUI,Ee),Je=Object.keys(de),Qe=p.list(K),st=n.extendDeepAll({},de),ze={},rt,ft,yt;for(Je=Object.keys(de),ft=0;ft<Je.length;ft++)if(Je[ft].indexOf("allaxes")===0){for(yt=0;yt<Qe.length;yt++){var Ht=Qe[yt]._id.substr(1),Wt=Ht.indexOf("scene")!==-1?Ht+".":"",hn=Je[ft].replace("allaxes",Wt+Qe[yt]._name);de[hn]||(de[hn]=de[Je[ft]])}delete de[Je[ft]]}var Bt=k.layoutFlags(),en={},Ft={};function Nt(an,wn){if(Array.isArray(an)){an.forEach(function(na){Nt(na,wn)});return}if(!(an in de||_.hasParent(de,an))){var Bn=Me(xe,an);an in Ft||(Ft[an]=j(Bn.get())),wn!==void 0&&Bn.set(wn)}}var ln={},tn;function sn(an){var wn=p.name2id(an.split(".")[0]);return ln[wn]=1,wn}for(var Ut in de){if(_.hasParent(de,Ut))throw new Error("cannot set "+Ut+" and a parent attribute simultaneously");for(var Pt=Me(xe,Ut),nn=de[Ut],On=Pt.parts.length,Qn=On-1;Qn>0&&typeof Pt.parts[Qn]!="string";)Qn--;var rn=Pt.parts[Qn],In=Pt.parts[Qn-1]+"."+rn,Nn=Pt.parts.slice(0,Qn).join("."),xa=r(K.layout,Nn).get(),Et=r(ge,Nn).get(),ea=Pt.get();if(nn!==void 0){en[Ut]=nn,Ft[Ut]=rn==="reverse"?nn:j(ea);var ee=d.getLayoutValObject(ge,Pt.parts);if(ee&&ee.impliedEdits&&nn!==null)for(var le in ee.impliedEdits)Nt(n.relativeAttr(Ut,le),ee.impliedEdits[le]);if(["width","height"].indexOf(Ut)!==-1)if(nn){Nt("autosize",null);var $e=Ut==="height"?"width":"height";Nt($e,ge[$e])}else ge[Ut]=K._initialAutoSize[Ut];else if(Ut==="autosize")Nt("width",nn?null:ge.width),Nt("height",nn?null:ge.height);else if(In.match(we))sn(In),r(ge,Nn+"._inputRange").set(null);else if(In.match(Se)){sn(In),r(ge,Nn+"._inputRange").set(null);var Ve=r(ge,Nn).get();Ve._inputDomain&&(Ve._input.domain=Ve._inputDomain.slice())}else In.match(Ie)&&r(ge,Nn+"._inputDomain").set(null);if(rn==="type"){tn=xa;var De=Et.type==="linear"&&nn==="log",Pe=Et.type==="log"&&nn==="linear";if(De||Pe){if(!tn||!tn.range)Nt(Nn+".autorange",!0);else if(Et.autorange)De&&(tn.range=tn.range[1]>tn.range[0]?[1,2]:[2,1]);else{var je=tn.range[0],We=tn.range[1];De?(je<=0&&We<=0&&Nt(Nn+".autorange",!0),je<=0?je=We/1e6:We<=0&&(We=je/1e6),Nt(Nn+".range[0]",Math.log(je)/Math.LN10),Nt(Nn+".range[1]",Math.log(We)/Math.LN10)):(Nt(Nn+".range[0]",Math.pow(10,je)),Nt(Nn+".range[1]",Math.pow(10,We)))}Array.isArray(ge._subplots.polar)&&ge._subplots.polar.length&&ge[Pt.parts[0]]&&Pt.parts[1]==="radialaxis"&&delete ge[Pt.parts[0]]._subplot.viewInitial["radialaxis.range"],s.getComponentMethod("annotations","convertCoords")(K,Et,nn,Nt),s.getComponentMethod("images","convertCoords")(K,Et,nn,Nt)}else Nt(Nn+".autorange",!0),Nt(Nn+".range",null);r(ge,Nn+"._inputRange").set(null)}else if(rn.match(J)){var Ne=r(ge,Ut).get(),Ue=(nn||{}).type;(!Ue||Ue==="-")&&(Ue="linear"),s.getComponentMethod("annotations","convertCoords")(K,Ne,Ue,Nt),s.getComponentMethod("images","convertCoords")(K,Ne,Ue,Nt)}var Ke=f.containerArrayMatch(Ut);if(Ke){rt=Ke.array,ft=Ke.index;var it=Ke.property,_t=ee||{editType:"calc"};ft!==""&&it===""&&(f.isAddVal(nn)?Ft[Ut]=null:f.isRemoveVal(nn)?Ft[Ut]=(r(xe,rt).get()||[])[ft]:n.warn("unrecognized full object value",de)),k.update(Bt,_t),ze[rt]||(ze[rt]={});var Ct=ze[rt][ft];Ct||(Ct=ze[rt][ft]={}),Ct[it]=nn,delete de[Ut]}else rn==="reverse"?(xa.range?xa.range.reverse():(Nt(Nn+".autorange",!0),xa.range=[1,0]),Et.autorange?Bt.calc=!0:Bt.plot=!0):(Ut==="dragmode"&&(nn===!1&&ea!==!1||nn!==!1&&ea===!1)||ge._has("scatter-like")&&ge._has("regl")&&Ut==="dragmode"&&(nn==="lasso"||nn==="select")&&!(ea==="lasso"||ea==="select")?Bt.plot=!0:ee?k.update(Bt,ee):Bt.calc=!0,Pt.set(nn))}}for(rt in ze){var Mt=f.applyContainerArrayChanges(K,Me(xe,rt),ze[rt],Bt,Me);Mt||(Bt.plot=!0)}for(var jt in ln){tn=p.getFromId(K,jt);var $t=tn&&tn._constraintGroup;if($t){Bt.calc=!0;for(var bn in $t)ln[bn]||(p.getFromId(K,bn)._constraintShrinkable=!0)}}(He(K)||de.height||de.width)&&(Bt.plot=!0);var Zt=ge.shapes;for(ft=0;ft<Zt.length;ft++)if(Zt[ft].showlegend){Bt.calc=!0;break}return(Bt.plot||Bt.calc)&&(Bt.layoutReplot=!0),{flags:Bt,rangesAltered:ln,undoit:Ft,redoit:en,eventData:st}}function He(K){var de=K._fullLayout,xe=de.width,ge=de.height;return K.layout.autosize&&t.plotAutoSize(K,K.layout,de),de.width!==xe||de.height!==ge}function Be(K,de,xe,ge){K=n.getGraphDiv(K),_.clearPromiseQueue(K),n.isPlainObject(de)||(de={}),n.isPlainObject(xe)||(xe={}),Object.keys(de).length&&(K.changed=!0),Object.keys(xe).length&&(K.changed=!0);var Ee=_.coerceTraceIndices(K,ge),Me=Y(K,n.extendFlat({},de),Ee),Je=Me.flags,Qe=Ze(K,n.extendFlat({},xe)),st=Qe.flags;(Je.calc||st.calc)&&(K.calcdata=void 0),Je.clearAxisTypes&&_.clearAxisTypes(K,Ee,xe);var ze=[];st.layoutReplot?ze.push(w.layoutReplot):Je.fullReplot?ze.push(F._doPlot):(ze.push(t.previousPromises),se(K,st,Qe)||t.supplyDefaults(K),Je.style&&ze.push(w.doTraceStyle),(Je.colorbars||st.colorbars)&&ze.push(w.doColorBars),st.legend&&ze.push(w.doLegend),st.layoutstyle&&ze.push(w.layoutStyles),st.axrange&&ce(ze,Qe.rangesAltered),st.ticks&&ze.push(w.doTicksRelayout),st.modebar&&ze.push(w.doModeBar),st.camera&&ze.push(w.doCamera),ze.push(W)),ze.push(t.rehover,t.redrag,t.reselect),o.add(K,Be,[K,Me.undoit,Qe.undoit,Me.traces],Be,[K,Me.redoit,Qe.redoit,Me.traces]);var rt=n.syncOrAsync(ze,K);return(!rt||!rt.then)&&(rt=Promise.resolve(K)),rt.then(function(){return K.emit("plotly_update",{data:Me.eventData,layout:Qe.eventData}),K})}function pe(K){return function(de){de._fullLayout._guiEditing=!0;var xe=K.apply(null,arguments);return de._fullLayout._guiEditing=!1,xe}}var _e=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^(map\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],oe=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function Le(K,de){for(var xe=0;xe<de.length;xe++){var ge=de[xe],Ee=K.match(ge.pattern);if(Ee){var Me=Ee[1]||"";return{head:Me,tail:K.substr(Me.length+1),attr:ge.attr}}}}function Re(K,de){var xe=r(de,K).get();if(xe!==void 0)return xe;var ge=K.split(".");for(ge.pop();ge.length>1;)if(ge.pop(),xe=r(de,ge.join(".")+".uirevision").get(),xe!==void 0)return xe;return de.uirevision}function Ye(K,de){for(var xe=0;xe<de.length;xe++)if(de[xe]._fullInput.uid===K)return xe;return-1}function ot(K,de,xe){for(var ge=0;ge<de.length;ge++)if(de[ge].uid===K)return ge;return!de[xe]||de[xe].uid?-1:xe}function Xe(K,de){var xe=n.isPlainObject(K),ge=Array.isArray(K);return xe||ge?(xe&&n.isPlainObject(de)||ge&&Array.isArray(de))&&JSON.stringify(K)===JSON.stringify(de):K===de}function lt(K,de,xe,ge){var Ee=ge._preGUI,Me,Je,Qe,st,ze,rt,ft,yt,Ht,Wt,hn=[],Bt={},en={};for(Me in Ee){if(ze=Le(Me,_e),ze){if(Ht=ze.head,Wt=ze.tail,Je=ze.attr||Ht+".uirevision",Qe=r(ge,Je).get(),st=Qe&&Re(Je,de),st&&st===Qe){if(rt=Ee[Me],rt===null&&(rt=void 0),ft=r(de,Me),yt=ft.get(),Xe(yt,rt)){yt===void 0&&Wt==="autorange"&&hn.push(Ht),ft.set(j(r(ge,Me).get()));continue}else if(Wt==="autorange"||Wt.substr(0,6)==="range["){var Ft=Ee[Ht+".range[0]"],Nt=Ee[Ht+".range[1]"],ln=Ee[Ht+".autorange"];if(ln||ln===null&&Ft===null&&Nt===null){if(!(Ht in Bt)){var tn=r(de,Ht).get();Bt[Ht]=tn&&(tn.autorange||tn.autorange!==!1&&(!tn.range||tn.range.length!==2))}if(Bt[Ht]){ft.set(j(r(ge,Me).get()));continue}}}}}else n.warn("unrecognized GUI edit: "+Me);delete Ee[Me],ze&&ze.tail.substr(0,6)==="range["&&(en[ze.head]=1)}for(var sn=0;sn<hn.length;sn++){var Ut=hn[sn];if(en[Ut]){var Pt=r(de,Ut).get();Pt&&delete Pt.autorange}}var nn=ge._tracePreGUI;for(var On in nn){var Qn=nn[On],rn=null,In;for(Me in Qn){if(!rn){var Nn=Ye(On,xe);if(Nn<0){delete nn[On];break}var xa=xe[Nn];In=xa._fullInput;var Et=ot(On,K,In.index);if(Et<0){delete nn[On];break}rn=K[Et]}if(ze=Le(Me,oe),ze){if(ze.attr?(Qe=r(ge,ze.attr).get(),st=Qe&&Re(ze.attr,de)):(Qe=In.uirevision,st=rn.uirevision,st===void 0&&(st=de.uirevision)),st&&st===Qe&&(rt=Qn[Me],rt===null&&(rt=void 0),ft=r(rn,Me),yt=ft.get(),Xe(yt,rt))){ft.set(j(r(In,Me).get()));continue}}else n.warn("unrecognized GUI edit: "+Me+" in trace uid "+On);delete Qn[Me]}}}function ut(K,de,xe,ge){var Ee,Me;function Je(){return F.addFrames(K,Ee)}K=n.getGraphDiv(K),_.clearPromiseQueue(K);var Qe=K._fullData,st=K._fullLayout;if(!n.isPlotDiv(K)||!Qe||!st)Me=F.newPlot(K,de,xe,ge);else{if(n.isPlainObject(de)){var ze=de;de=ze.data,xe=ze.layout,ge=ze.config,Ee=ze.frames}var rt=!1;if(ge){var ft=n.extendDeep({},K._context);K._context=void 0,V(K,ge),rt=bt(ft,K._context)}K.data=de||[],_.cleanData(K.data),K.layout=xe||{},_.cleanLayout(K.layout),lt(K.data,K.layout,Qe,st),t.supplyDefaults(K,{skipUpdateCalc:!0});var yt=K._fullData,Ht=K._fullLayout,Wt=Ht.datarevision===void 0,hn=Ht.transition,Bt=xt(K,st,Ht,Wt,hn),en=Bt.newDataRevision,Ft=dt(K,Qe,yt,Wt,hn,en);if(He(K)&&(Bt.layoutReplot=!0),Ft.calc||Bt.calc){K.calcdata=void 0;for(var Nt=Object.getOwnPropertyNames(Ht),ln=0;ln<Nt.length;ln++){var tn=Nt[ln],sn=tn.substring(0,5);if(sn==="xaxis"||sn==="yaxis"){var Ut=Ht[tn]._emptyCategories;Ut&&Ut()}}}else t.supplyDefaultsUpdateCalc(K.calcdata,yt);var Pt=[];if(Ee&&(K._transitionData={},t.createTransitionData(K),Pt.push(Je)),Ht.transition&&!rt&&(Ft.anim||Bt.anim))Bt.ticks&&Pt.push(w.doTicksRelayout),t.doCalcdata(K),w.doAutoRangeAndConstraints(K),Pt.push(function(){return t.transitionFromReact(K,Ft,Bt,st)});else if(Ft.fullReplot||Bt.layoutReplot||rt)K._fullLayout._skipDefaults=!0,Pt.push(F._doPlot);else{for(var nn in Bt.arrays){var On=Bt.arrays[nn];if(On.length){var Qn=s.getComponentMethod(nn,"drawOne");if(Qn!==n.noop)for(var rn=0;rn<On.length;rn++)Qn(K,On[rn]);else{var In=s.getComponentMethod(nn,"draw");if(In===n.noop)throw new Error("cannot draw components: "+nn);In(K)}}}Pt.push(t.previousPromises),Ft.style&&Pt.push(w.doTraceStyle),(Ft.colorbars||Bt.colorbars)&&Pt.push(w.doColorBars),Bt.legend&&Pt.push(w.doLegend),Bt.layoutstyle&&Pt.push(w.layoutStyles),Bt.axrange&&ce(Pt),Bt.ticks&&Pt.push(w.doTicksRelayout),Bt.modebar&&Pt.push(w.doModeBar),Bt.camera&&Pt.push(w.doCamera),Pt.push(W)}Pt.push(t.rehover,t.redrag,t.reselect),Me=n.syncOrAsync(Pt,K),(!Me||!Me.then)&&(Me=Promise.resolve(K))}return Me.then(function(){return K.emit("plotly_react",{data:de,layout:xe}),K})}function dt(K,de,xe,ge,Ee,Me){var Je=de.length===xe.length;if(!Ee&&!Je)return{fullReplot:!0,calc:!0};var Qe=k.traceFlags();Qe.arrays={},Qe.nChanges=0,Qe.nChangesAnim=0;var st,ze;function rt(Ht){var Wt=d.getTraceValObject(ze,Ht);return!ze._module.animatable&&Wt.anim&&(Wt.anim=!1),Wt}var ft={getValObject:rt,flags:Qe,immutable:ge,transition:Ee,newDataRevision:Me,gd:K},yt={};for(st=0;st<de.length;st++)if(xe[st]){if(ze=xe[st]._fullInput,yt[ze.uid])continue;yt[ze.uid]=1,qe(de[st]._fullInput,ze,[],ft)}return(Qe.calc||Qe.plot)&&(Qe.fullReplot=!0),Ee&&Qe.nChanges&&Qe.nChangesAnim&&(Qe.anim=Qe.nChanges===Qe.nChangesAnim&&Je?"all":"some"),Qe}function xt(K,de,xe,ge,Ee){var Me=k.layoutFlags();Me.arrays={},Me.rangesAltered={},Me.nChanges=0,Me.nChangesAnim=0;function Je(yt){return d.getLayoutValObject(xe,yt)}for(var Qe in xe)if(!(!Qe.startsWith("xaxis")&&!Qe.startsWith("yaxis"))&&de[Qe]){var st=xe[Qe].domain,ze=de[Qe].domain,rt=de[Qe]._inputDomain;de[Qe]._inputDomain&&(st[0]===rt[0]&&st[1]===rt[1]?xe[Qe].domain=de[Qe].domain:(st[0]!==ze[0]||st[1]!==ze[1])&&(xe[Qe]._inputDomain=null))}var ft={getValObject:Je,flags:Me,immutable:ge,transition:Ee,gd:K};return qe(de,xe,[],ft),(Me.plot||Me.calc)&&(Me.layoutReplot=!0),Ee&&Me.nChanges&&Me.nChangesAnim&&(Me.anim=Me.nChanges===Me.nChangesAnim?"all":"some"),Me}function qe(K,de,xe,ge){var Ee,Me,Je,Qe=ge.getValObject,st=ge.flags,ze=ge.immutable,rt=ge.inArray,ft=ge.arrayIndex;function yt(){var Nn=Ee.editType;if(rt&&Nn.indexOf("arraydraw")!==-1){n.pushUnique(st.arrays[rt],ft);return}k.update(st,Ee),Nn!=="none"&&st.nChanges++,ge.transition&&Ee.anim&&st.nChangesAnim++,(we.test(Je)||Se.test(Je))&&(st.rangesAltered[xe[0]]=1),Me==="datarevision"&&(st.newDataRevision=1)}function Ht(Nn){return Nn.valType==="data_array"||Nn.arrayOk}for(Me in K){if(st.calc&&!ge.transition)return;var Wt=K[Me],hn=de[Me],Bt=xe.concat(Me);if(Je=Bt.join("."),!(Me.charAt(0)==="_"||typeof Wt=="function"||Wt===hn)){if((Me==="tick0"||Me==="dtick")&&xe[0]!=="geo"){var en=de.tickmode;if(en==="auto"||en==="array"||!en)continue}if(!(Me==="range"&&de.autorange)&&!((Me==="zmin"||Me==="zmax")&&de.type==="contourcarpet")&&(Ee=Qe(Bt),!!Ee&&!(Ee._compareAsJSON&&JSON.stringify(Wt)===JSON.stringify(hn)))){var Ft=Ee.valType,Nt,ln=Ht(Ee),tn=Array.isArray(Wt),sn=Array.isArray(hn);if(tn&&sn){var Ut="_input_"+Me,Pt=K[Ut],nn=de[Ut];if(Array.isArray(Pt)&&Pt===nn)continue}if(hn===void 0)ln&&tn?st.calc=!0:yt();else if(Ee._isLinkedToArray){var On=[],Qn=!1;rt||(st.arrays[Me]=On);var rn=Math.min(Wt.length,hn.length),In=Math.max(Wt.length,hn.length);if(rn!==In)if(Ee.editType==="arraydraw")Qn=!0;else{yt();continue}for(Nt=0;Nt<rn;Nt++)qe(Wt[Nt],hn[Nt],Bt.concat(Nt),n.extendFlat({inArray:Me,arrayIndex:Nt},ge));if(Qn)for(Nt=rn;Nt<In;Nt++)On.push(Nt)}else!Ft&&n.isPlainObject(Wt)?qe(Wt,hn,Bt,ge):ln?tn&&sn?(ze&&(st.calc=!0),(ze||ge.newDataRevision)&&yt()):tn!==sn?st.calc=!0:yt():tn&&sn?(Wt.length!==hn.length||String(Wt)!==String(hn))&&yt():yt()}}}for(Me in de)if(!(Me in K||Me.charAt(0)==="_"||typeof de[Me]=="function"))if(Ee=Qe(xe.concat(Me)),Ht(Ee)&&Array.isArray(de[Me])){st.calc=!0;return}else yt()}function bt(K,de){var xe;for(xe in K)if(xe.charAt(0)!=="_"){var ge=K[xe],Ee=de[xe];if(ge!==Ee)if(n.isPlainObject(ge)&&n.isPlainObject(Ee)){if(bt(ge,Ee))return!0}else if(Array.isArray(ge)&&Array.isArray(Ee)){if(ge.length!==Ee.length)return!0;for(var Me=0;Me<ge.length;Me++)if(ge[Me]!==Ee[Me])if(n.isPlainObject(ge[Me])&&n.isPlainObject(Ee[Me])){if(bt(ge[Me],Ee[Me]))return!0}else return!0}else return!0}}function Dt(K,de,xe){if(K=n.getGraphDiv(K),!n.isPlotDiv(K))throw new Error("This element is not a Plotly plot: "+K+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var ge=K._transitionData;ge._frameQueue||(ge._frameQueue=[]),xe=t.supplyAnimationDefaults(xe);var Ee=xe.transition,Me=xe.frame;ge._frameWaitingCnt===void 0&&(ge._frameWaitingCnt=0);function Je(ze){return Array.isArray(Ee)?ze>=Ee.length?Ee[0]:Ee[ze]:Ee}function Qe(ze){return Array.isArray(Me)?ze>=Me.length?Me[0]:Me[ze]:Me}function st(ze,rt){var ft=0;return function(){if(ze&&++ft===rt)return ze()}}return new Promise(function(ze,rt){function ft(){if(ge._frameQueue.length!==0){for(;ge._frameQueue.length;){var rn=ge._frameQueue.pop();rn.onInterrupt&&rn.onInterrupt()}K.emit("plotly_animationinterrupted",[])}}function yt(rn){if(rn.length!==0){for(var In=0;In<rn.length;In++){var Nn;rn[In].type==="byname"?Nn=t.computeFrame(K,rn[In].name):Nn=rn[In].data;var xa=Qe(In),Et=Je(In);Et.duration=Math.min(Et.duration,xa.duration);var ea={frame:Nn,name:rn[In].name,frameOpts:xa,transitionOpts:Et};In===rn.length-1&&(ea.onComplete=st(ze,2),ea.onInterrupt=rt),ge._frameQueue.push(ea)}xe.mode==="immediate"&&(ge._lastFrameAt=-1/0),ge._animationRaf||hn()}}function Ht(){K.emit("plotly_animated"),window.cancelAnimationFrame(ge._animationRaf),ge._animationRaf=null}function Wt(){ge._currentFrame&&ge._currentFrame.onComplete&&ge._currentFrame.onComplete();var rn=ge._currentFrame=ge._frameQueue.shift();if(rn){var In=rn.name?rn.name.toString():null;K._fullLayout._currentFrame=In,ge._lastFrameAt=Date.now(),ge._timeToNext=rn.frameOpts.duration,t.transition(K,rn.frame.data,rn.frame.layout,_.coerceTraceIndices(K,rn.frame.traces),rn.frameOpts,rn.transitionOpts).then(function(){rn.onComplete&&rn.onComplete()}),K.emit("plotly_animatingframe",{name:In,frame:rn.frame,animation:{frame:rn.frameOpts,transition:rn.transitionOpts}})}else Ht()}function hn(){K.emit("plotly_animating"),ge._lastFrameAt=-1/0,ge._timeToNext=0,ge._runningTransitions=0,ge._currentFrame=null;var rn=function(){ge._animationRaf=window.requestAnimationFrame(rn),Date.now()-ge._lastFrameAt>ge._timeToNext&&Wt()};rn()}var Bt=0;function en(rn){return Array.isArray(Ee)?Bt>=Ee.length?rn.transitionOpts=Ee[Bt]:rn.transitionOpts=Ee[0]:rn.transitionOpts=Ee,Bt++,rn}var Ft,Nt,ln=[],tn=de==null,sn=Array.isArray(de),Ut=!tn&&!sn&&n.isPlainObject(de);if(Ut)ln.push({type:"object",data:en(n.extendFlat({},de))});else if(tn||["string","number"].indexOf(typeof de)!==-1)for(Ft=0;Ft<ge._frames.length;Ft++)Nt=ge._frames[Ft],Nt&&(tn||String(Nt.group)===String(de))&&ln.push({type:"byname",name:String(Nt.name),data:en({name:Nt.name})});else if(sn)for(Ft=0;Ft<de.length;Ft++){var Pt=de[Ft];["number","string"].indexOf(typeof Pt)!==-1?(Pt=String(Pt),ln.push({type:"byname",name:Pt,data:en({name:Pt})})):n.isPlainObject(Pt)&&ln.push({type:"object",data:en(n.extendFlat({},Pt))})}for(Ft=0;Ft<ln.length;Ft++)if(Nt=ln[Ft],Nt.type==="byname"&&!ge._frameHash[Nt.data.name]){n.warn('animate failure: frame not found: "'+Nt.data.name+'"'),rt();return}["next","immediate"].indexOf(xe.mode)!==-1&&ft(),xe.direction==="reverse"&&ln.reverse();var nn=K._fullLayout._currentFrame;if(nn&&xe.fromcurrent){var On=-1;for(Ft=0;Ft<ln.length;Ft++)if(Nt=ln[Ft],Nt.type==="byname"&&Nt.name===nn){On=Ft;break}if(On>0&&On<ln.length-1){var Qn=[];for(Ft=0;Ft<ln.length;Ft++)Nt=ln[Ft],(ln[Ft].type!=="byname"||Ft>On)&&Qn.push(Nt);ln=Qn}}ln.length>0?yt(ln):(K.emit("plotly_animated"),ze())})}function pt(K,de,xe){if(K=n.getGraphDiv(K),de==null)return Promise.resolve();if(!n.isPlotDiv(K))throw new Error("This element is not a Plotly plot: "+K+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var ge,Ee,Me,Je,Qe=K._transitionData._frames,st=K._transitionData._frameHash;if(!Array.isArray(de))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+de);var ze=Qe.length+de.length*2,rt=[],ft={};for(ge=de.length-1;ge>=0;ge--)if(n.isPlainObject(de[ge])){var yt=de[ge].name,Ht=(st[yt]||ft[yt]||{}).name,Wt=de[ge].name,hn=st[Ht]||ft[Ht];Ht&&Wt&&typeof Wt=="number"&&hn&&P<O&&(P++,n.warn('addFrames: overwriting frame "'+(st[Ht]||ft[Ht]).name+'" with a frame whose name of type "number" also equates to "'+Ht+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),P===O&&n.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),ft[yt]={name:yt},rt.push({frame:t.supplyFrameDefaults(de[ge]),index:xe&&xe[ge]!==void 0&&xe[ge]!==null?xe[ge]:ze+ge})}rt.sort(function(Ut,Pt){return Ut.index>Pt.index?-1:Ut.index<Pt.index?1:0});var Bt=[],en=[],Ft=Qe.length;for(ge=rt.length-1;ge>=0;ge--){if(Ee=rt[ge].frame,typeof Ee.name=="number"&&n.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!Ee.name)for(;st[Ee.name="frame "+K._transitionData._counter++];);if(st[Ee.name]){for(Me=0;Me<Qe.length&&(Qe[Me]||{}).name!==Ee.name;Me++);Bt.push({type:"replace",index:Me,value:Ee}),en.unshift({type:"replace",index:Me,value:Qe[Me]})}else Je=Math.max(0,Math.min(rt[ge].index,Ft)),Bt.push({type:"insert",index:Je,value:Ee}),en.unshift({type:"delete",index:Je}),Ft++}var Nt=t.modifyFrames,ln=t.modifyFrames,tn=[K,en],sn=[K,Bt];return o&&o.add(K,Nt,tn,ln,sn),t.modifyFrames(K,Bt)}function St(K,de){if(K=n.getGraphDiv(K),!n.isPlotDiv(K))throw new Error("This element is not a Plotly plot: "+K);var xe,ge,Ee=K._transitionData._frames,Me=[],Je=[];if(!de)for(de=[],xe=0;xe<Ee.length;xe++)de.push(xe);for(de=de.slice(),de.sort(),xe=de.length-1;xe>=0;xe--)ge=de[xe],Me.push({type:"delete",index:ge}),Je.unshift({type:"insert",index:ge,value:Ee[ge]});var Qe=t.modifyFrames,st=t.modifyFrames,ze=[K,Je],rt=[K,Me];return o&&o.add(K,Qe,ze,st,rt),t.modifyFrames(K,Me)}function me(K){K=n.getGraphDiv(K);var de=K._fullLayout||{},xe=K._fullData||[];return t.cleanPlot([],{},xe,de),t.purge(K),l.purge(K),de._container&&de._container.remove(),delete K._context,K}function Ae(K){var de=K._fullLayout,xe=K.getBoundingClientRect();if(!n.equalDomRects(xe,de._lastBBox)){var ge=de._invTransform=n.inverseTransformMatrix(n.getFullTransformMatrix(K));de._invScaleX=Math.sqrt(ge[0][0]*ge[0][0]+ge[0][1]*ge[0][1]+ge[0][2]*ge[0][2]),de._invScaleY=Math.sqrt(ge[1][0]*ge[1][0]+ge[1][1]*ge[1][1]+ge[1][2]*ge[1][2]),de._lastBBox=xe}}function ke(K){var de=C.select(K),xe=K._fullLayout;if(xe._calcInverseTransform=Ae,xe._calcInverseTransform(K),xe._container=de.selectAll(".plot-container").data([0]),xe._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0).style({width:"100%",height:"100%"}),xe._paperdiv=xe._container.selectAll(".svg-container").data([0]),xe._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),xe._glcontainer=xe._paperdiv.selectAll(".gl-container").data([{}]),xe._glcontainer.enter().append("div").classed("gl-container",!0),xe._paperdiv.selectAll(".main-svg").remove(),xe._paperdiv.select(".modebar-container").remove(),xe._paper=xe._paperdiv.insert("svg",":first-child").classed("main-svg",!0),xe._toppaper=xe._paperdiv.append("svg").classed("main-svg",!0),xe._modebardiv=xe._paperdiv.append("div"),delete xe._modeBar,xe._hoverpaper=xe._paperdiv.append("svg").classed("main-svg",!0),!xe._uid){var ge={};C.selectAll("defs").each(function(){this.id&&(ge[this.id.split("-")[1]]=1)}),xe._uid=n.randstr(ge)}xe._paperdiv.selectAll(".main-svg").attr(m.svgAttrs),xe._defs=xe._paper.append("defs").attr("id","defs-"+xe._uid),xe._clips=xe._defs.append("g").classed("clips",!0),xe._topdefs=xe._toppaper.append("defs").attr("id","topdefs-"+xe._uid),xe._topclips=xe._topdefs.append("g").classed("clips",!0),xe._bgLayer=xe._paper.append("g").classed("bglayer",!0),xe._draggers=xe._paper.append("g").classed("draglayer",!0);var Ee=xe._paper.append("g").classed("layer-below",!0);xe._imageLowerLayer=Ee.append("g").classed("imagelayer",!0),xe._shapeLowerLayer=Ee.append("g").classed("shapelayer",!0),xe._cartesianlayer=xe._paper.append("g").classed("cartesianlayer",!0),xe._polarlayer=xe._paper.append("g").classed("polarlayer",!0),xe._smithlayer=xe._paper.append("g").classed("smithlayer",!0),xe._ternarylayer=xe._paper.append("g").classed("ternarylayer",!0),xe._geolayer=xe._paper.append("g").classed("geolayer",!0),xe._funnelarealayer=xe._paper.append("g").classed("funnelarealayer",!0),xe._pielayer=xe._paper.append("g").classed("pielayer",!0),xe._iciclelayer=xe._paper.append("g").classed("iciclelayer",!0),xe._treemaplayer=xe._paper.append("g").classed("treemaplayer",!0),xe._sunburstlayer=xe._paper.append("g").classed("sunburstlayer",!0),xe._indicatorlayer=xe._toppaper.append("g").classed("indicatorlayer",!0),xe._glimages=xe._paper.append("g").classed("glimages",!0);var Me=xe._toppaper.append("g").classed("layer-above",!0);xe._imageUpperLayer=Me.append("g").classed("imagelayer",!0),xe._shapeUpperLayer=Me.append("g").classed("shapelayer",!0),xe._selectionLayer=xe._toppaper.append("g").classed("selectionlayer",!0),xe._infolayer=xe._toppaper.append("g").classed("infolayer",!0),xe._menulayer=xe._toppaper.append("g").classed("menulayer",!0),xe._zoomlayer=xe._toppaper.append("g").classed("zoomlayer",!0),xe._hoverlayer=xe._hoverpaper.append("g").classed("hoverlayer",!0),xe._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),K.emit("plotly_framework")}F.animate=Dt,F.addFrames=pt,F.deleteFrames=St,F.addTraces=B,F.deleteTraces=A,F.extendTraces=be,F.moveTraces=X,F.prependTraces=H,F.newPlot=G,F._doPlot=M,F.purge=me,F.react=ut,F.redraw=U,F.relayout=re,F.restyle=I,F.setPlotConfig=E,F.update=Be,F._guiRelayout=pe(re),F._guiRestyle=pe(I),F._guiUpdate=pe(Be),F._storeDirectGUIEdit=$}),co=ye(F=>{var C=Kn();F.getDelay=function(n){return n._has&&(n._has("gl3d")||n._has("mapbox")||n._has("map"))?500:0},F.getRedrawFunc=function(n){return function(){C.getComponentMethod("colorbar","draw")(n)}},F.encodeSVG=function(n){return"data:image/svg+xml,"+encodeURIComponent(n)},F.encodeJSON=function(n){return"data:application/json,"+encodeURIComponent(n)};var i=window.URL||window.webkitURL;F.createObjectURL=function(n){return i.createObjectURL(n)},F.revokeObjectURL=function(n){return i.revokeObjectURL(n)},F.createBlob=function(n,r){if(r==="svg")return new window.Blob([n],{type:"image/svg+xml;charset=utf-8"});if(r==="full-json")return new window.Blob([n],{type:"application/json;charset=utf-8"});var l=e(window.atob(n));return new window.Blob([l],{type:"image/"+r})},F.octetStream=function(n){document.location.href="data:application/octet-stream"+n};function e(n){for(var r=n.length,l=new ArrayBuffer(r),o=new Uint8Array(l),s=0;s<r;s++)o[s]=n.charCodeAt(s);return l}F.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/}),Fl=ye((F,C)=>{var i=Xt();zt();var e=Ga(),n=$n();lo();var r=/"/g,l="TOBESTRIPPED",o=new RegExp('("'+l+")|("+l+'")',"g");function s(t){var p=i.select("body").append("div").style({display:"none"}).html(""),c=t.replace(/(&[^;]*;)/gi,function(h){return h==="&lt;"?"&#60;":h==="&rt;"?"&#62;":h.indexOf("<")!==-1||h.indexOf(">")!==-1?"":p.html(h).text()});return p.remove(),c}function d(t){return t.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}C.exports=function(t,p,c){var h=t._fullLayout,b=h._paper,y=h._toppaper,g=h.width,m=h.height,v;b.insert("rect",":first-child").call(e.setRect,0,0,g,m).call(n.fill,h.paper_bgcolor);var u=h._basePlotModules||[];for(v=0;v<u.length;v++){var f=u[v];f.toSVG&&f.toSVG(t)}if(y){var _=y.node().childNodes,w=Array.prototype.slice.call(_);for(v=0;v<w.length;v++){var k=w[v];k.childNodes.length&&b.node().appendChild(k)}}h._draggers&&h._draggers.remove(),b.node().style.background="",b.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var P=i.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){P.remove();return}else P.style({visibility:null,display:null});var O=this.style.fontFamily;O&&O.indexOf('"')!==-1&&P.style("font-family",O.replace(r,l));var M=this.style.fontWeight;M&&(M==="normal"||M==="400")&&P.style("font-weight",void 0);var W=this.style.fontStyle;W&&W==="normal"&&P.style("font-style",void 0);var E=this.style.fontVariant;E&&E==="normal"&&P.style("font-variant",void 0)}),b.selectAll(".gradient_filled,.pattern_filled").each(function(){var P=i.select(this),O=this.style.fill;O&&O.indexOf("url(")!==-1&&P.style("fill",O.replace(r,l));var M=this.style.stroke;M&&M.indexOf("url(")!==-1&&P.style("stroke",M.replace(r,l))}),(p==="pdf"||p==="eps")&&b.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),p==="svg"&&c&&(b.attr("width",c*g),b.attr("height",c*m),b.attr("viewBox","0 0 "+g+" "+m));var J=new window.XMLSerializer().serializeToString(b.node());return J=s(J),J=d(J),J=J.replace(o,"'"),J}}),Il=ye((F,C)=>{var i=zt(),e=vl().EventEmitter,n=co();function r(l){var o=l.emitter||new e,s=new Promise(function(d,t){var p=window.Image,c=l.svg,h=l.format||"png",b=l.canvas,y=l.scale||1,g=l.width||300,m=l.height||150,v=y*g,u=y*m,f=b.getContext("2d",{willReadFrequently:!0}),_=new p,w,k;h==="svg"||i.isSafari()?k=n.encodeSVG(c):(w=n.createBlob(c,"svg"),k=n.createObjectURL(w)),b.width=v,b.height=u,_.onload=function(){var J;switch(w=null,n.revokeObjectURL(k),h!=="svg"&&f.drawImage(_,0,0,v,u),h){case"jpeg":J=b.toDataURL("image/jpeg");break;case"png":J=b.toDataURL("image/png");break;case"webp":J=b.toDataURL("image/webp");break;case"svg":J=k;break;default:var P="Image format is not jpeg, png, svg or webp.";if(t(new Error(P)),!l.promise)return o.emit("error",P)}d(J),l.promise||o.emit("success",J)},_.onerror=function(J){if(w=null,n.revokeObjectURL(k),t(J),!l.promise)return o.emit("error",J)},_.src=k});return l.promise?s:o}C.exports=r}),o0=ye((F,C)=>{var i=on(),e=i0(),n=Lr(),r=zt(),l=co(),o=Fl(),s=Il(),d=Yt().version,t={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function p(c,h){h=h||{};var b,y,g,m;r.isPlainObject(c)?(b=c.data||[],y=c.layout||{},g=c.config||{},m={}):(c=r.getGraphDiv(c),b=r.extendDeep([],c.data),y=r.extendDeep({},c.layout),g=c._context,m=c._fullLayout||{});function v(G){return!(G in h)||r.validate(h[G],t[G])}if(!v("width")&&h.width!==null||!v("height")&&h.height!==null)throw new Error("Height and width should be pixel values.");if(!v("format"))throw new Error("Export format is not "+r.join2(t.format.values,", "," or ")+".");var u={};function f(G,D){return r.coerce(h,u,t,G,D)}var _=f("format"),w=f("width"),k=f("height"),J=f("scale"),P=f("setBackground"),O=f("imageDataOnly"),M=document.createElement("div");M.style.position="absolute",M.style.left="-5000px",document.body.appendChild(M);var W=r.extendFlat({},y);w?W.width=w:h.width===null&&i(m.width)&&(W.width=m.width),k?W.height=k:h.height===null&&i(m.height)&&(W.height=m.height);var E=r.extendFlat({},g,{_exportedPlot:!0,staticPlot:!0,setBackground:P}),N=l.getRedrawFunc(M);function R(){return new Promise(function(G){setTimeout(G,l.getDelay(M._fullLayout))})}function V(){return new Promise(function(G,D){var Z=o(M,_,J),q=M._fullLayout.width,ae=M._fullLayout.height;function te(){e.purge(M),document.body.removeChild(M)}if(_==="full-json"){var ie=n.graphJson(M,!1,"keepdata","object",!0,!0);return ie.version=d,ie=JSON.stringify(ie),te(),G(O?ie:l.encodeJSON(ie))}if(te(),_==="svg")return G(O?Z:l.encodeSVG(Z));var fe=document.createElement("canvas");fe.id=r.randstr(),s({format:_,width:q,height:ae,scale:J,canvas:fe,svg:Z,promise:!0}).then(G).catch(D)})}function U(G){return O?G.replace(l.IMAGE_URL_PREFIX,""):G}return new Promise(function(G,D){e.newPlot(M,b,W,E).then(N).then(R).then(V).then(function(Z){G(U(Z))}).catch(function(Z){D(Z)})})}C.exports=p}),Yu=ye((F,C)=>{var i=zt(),e=Lr(),n=yo(),r=Ya().dfltConfig,l=i.isPlainObject,o=Array.isArray,s=i.isArrayOrTypedArray;C.exports=function(u,f){u===void 0&&(u=[]),f===void 0&&(f={});var _=n.get(),w=[],k={_context:i.extendFlat({},r)},J,P;o(u)?(k.data=i.extendDeep([],u),J=u):(k.data=[],J=[],w.push(h("array","data"))),l(f)?(k.layout=i.extendDeep({},f),P=f):(k.layout={},P={},arguments.length>1&&w.push(h("object","layout"))),e.supplyDefaults(k);for(var O=k._fullData,M=J.length,W=0;W<M;W++){var E=J[W],N=["data",W];if(!l(E)){w.push(h("object",N));continue}var R=O[W],V=R.type,U=_.traces[V].attributes;U.type={valType:"enumerated",values:[V]},R.visible===!1&&E.visible!==!1&&w.push(h("invisible",N)),d(E,R,U,w,N)}var G=k._fullLayout,D=t(_,O);return d(P,G,D,w,"layout"),w.length===0?void 0:w};function d(u,f,_,w,k,J){J=J||[];for(var P=Object.keys(u),O=0;O<P.length;O++){var M=P[O],W=J.slice();W.push(M);var E=u[M],N=f[M],R=y(_,M),V=(R||{}).valType,U=V==="info_array",G=V==="colorscale",D=(R||{}).items;if(!b(_,M))w.push(h("schema",k,W));else if(l(E)&&l(N)&&V!=="any")d(E,N,R,w,k,W);else if(U&&o(E)){E.length>N.length&&w.push(h("unused",k,W.concat(N.length)));var Z=N.length,q=Array.isArray(D);q&&(Z=Math.min(Z,D.length));var ae,te,ie,fe,he;if(R.dimensions===2)for(te=0;te<Z;te++)if(o(E[te])){E[te].length>N[te].length&&w.push(h("unused",k,W.concat(te,N[te].length)));var be=N[te].length;for(ae=0;ae<(q?Math.min(be,D[te].length):be);ae++)ie=q?D[te][ae]:D,fe=E[te][ae],he=N[te][ae],i.validate(fe,ie)?he!==fe&&he!==+fe&&w.push(h("dynamic",k,W.concat(te,ae),fe,he)):w.push(h("value",k,W.concat(te,ae),fe))}else w.push(h("array",k,W.concat(te),E[te]));else for(te=0;te<Z;te++)ie=q?D[te]:D,fe=E[te],he=N[te],i.validate(fe,ie)?he!==fe&&he!==+fe&&w.push(h("dynamic",k,W.concat(te),fe,he)):w.push(h("value",k,W.concat(te),fe))}else if(R.items&&!U&&o(E)){var H=D[Object.keys(D)[0]],B=[],A,X;for(A=0;A<N.length;A++){var I=N[A]._index||A;if(X=W.slice(),X.push(I),l(E[I])&&l(N[A])){B.push(I);var j=E[I],T=N[A];l(j)&&j.visible!==!1&&T.visible===!1?w.push(h("invisible",k,X)):d(j,T,H,w,k,X)}}for(A=0;A<E.length;A++)X=W.slice(),X.push(A),l(E[A])?B.indexOf(A)===-1&&w.push(h("unused",k,X)):w.push(h("object",k,X,E[A]))}else!l(E)&&l(N)?w.push(h("object",k,W,E)):!s(E)&&s(N)&&!U&&!G?w.push(h("array",k,W,E)):M in f?i.validate(E,R)?R.valType==="enumerated"&&(R.coerceNumber&&E!==+N||E!==N)&&w.push(h("dynamic",k,W,E,N)):w.push(h("value",k,W,E)):w.push(h("unused",k,W,E))}return w}function t(u,f){for(var _=u.layout.layoutAttributes,w=0;w<f.length;w++){var k=f[w],J=u.traces[k.type],P=J.layoutAttributes;P&&(k.subplot?i.extendFlat(_[J.attributes.subplot.dflt],P):i.extendFlat(_,P))}return _}var p={object:function(u,f){var _;return u==="layout"&&f===""?_="The layout argument":u[0]==="data"&&f===""?_="Trace "+u[1]+" in the data argument":_=c(u)+"key "+f,_+" must be linked to an object container"},array:function(u,f){var _;return u==="data"?_="The data argument":_=c(u)+"key "+f,_+" must be linked to an array container"},schema:function(u,f){return c(u)+"key "+f+" is not part of the schema"},unused:function(u,f,_){var w=l(_)?"container":"key";return c(u)+w+" "+f+" did not get coerced"},dynamic:function(u,f,_,w){return[c(u)+"key",f,"(set to '"+_+"')","got reset to","'"+w+"'","during defaults."].join(" ")},invisible:function(u,f){return(f?c(u)+"item "+f:"Trace "+u[1])+" got defaulted to be not visible"},value:function(u,f,_){return[c(u)+"key "+f,"is set to an invalid value ("+_+")"].join(" ")}};function c(u){return o(u)?"In data trace "+u[1]+", ":"In "+u+", "}function h(u,f,_,w,k){_=_||"";var J,P;o(f)?(J=f[0],P=f[1]):(J=f,P=null);var O=v(_),M=p[u](f,O,w,k);return i.log(M),{code:u,container:J,trace:P,path:_,astr:O,msg:M}}function b(u,f){var _=m(f),w=_.keyMinusId,k=_.id;return w in u&&u[w]._isSubplotObj&&k?!0:f in u}function y(u,f){if(f in u)return u[f];var _=m(f);return u[_.keyMinusId]}var g=i.counterRegex("([a-z]+)");function m(u){var f=u.match(g);return{keyMinusId:f&&f[1],id:f&&f[2]}}function v(u){if(!o(u))return String(u);for(var f="",_=0;_<u.length;_++){var w=u[_];typeof w=="number"?f=f.substr(0,f.length-1)+"["+w+"]":f+=w,_<u.length-1&&(f+=".")}return f}}),$u=ye((F,C)=>{var i=zt(),e=co();function n(r,l,o){var s=document.createElement("a"),d="download"in s,t=new Promise(function(p,c){var h,b;if(d)return h=e.createBlob(r,o),b=e.createObjectURL(h),s.href=b,s.download=l,document.body.appendChild(s),s.click(),document.body.removeChild(s),e.revokeObjectURL(b),h=null,p(l);if(i.isSafari()){var y=o==="svg"?",":";base64,";return e.octetStream(y+encodeURIComponent(r)),p(l)}c(new Error("download error"))});return t}C.exports=n}),l0=ye((F,C)=>{var i=zt(),e=o0(),n=$u();co();function r(l,o){var s;return i.isPlainObject(l)||(s=i.getGraphDiv(l)),o=o||{},o.format=o.format||"png",o.width=o.width||null,o.height=o.height||null,o.imageDataOnly=!0,new Promise(function(d,t){s&&s._snapshotInProgress&&t(new Error("Snapshotting already in progress.")),s&&(s._snapshotInProgress=!0);var p=e(l,o),c=o.filename||l.fn||"newplot";c+="."+o.format.replace("-","."),p.then(function(h){return s&&(s._snapshotInProgress=!1),n(h,c,o.format)}).then(function(h){d(h)}).catch(function(h){s&&(s._snapshotInProgress=!1),t(h)})})}C.exports=r}),Uu=ye(F=>{var C=zt(),i=C.isPlainObject,e=yo(),n=Lr(),r=Er(),l=or(),o=Ya().dfltConfig;F.makeTemplate=function(g){g=C.isPlainObject(g)?g:C.getGraphDiv(g),g=C.extendDeep({_context:o},{data:g.data,layout:g.layout}),n.supplyDefaults(g);var m=g.data||[],v=g.layout||{};v._basePlotModules=g._fullLayout._basePlotModules,v._modules=g._fullLayout._modules;var u={data:{},layout:{}};m.forEach(function(E){var N={};t(E,N,c.bind(null,E));var R=C.coerce(E,{},r,"type"),V=u.data[R];V||(V=u.data[R]=[]),V.push(N)}),t(v,u.layout,p.bind(null,v)),delete u.layout.template;var f=v.template;if(i(f)){var _=f.layout,w,k,J,P,O,M;i(_)&&s(_,u.layout);var W=f.data;if(i(W)){for(k in u.data)if(J=W[k],Array.isArray(J)){for(O=u.data[k],M=O.length,P=J.length,w=0;w<M;w++)s(J[w%P],O[w]);for(w=M;w<P;w++)O.push(C.extendDeep({},J[w]))}for(k in W)k in u.data||(u.data[k]=C.extendDeep([],W[k]))}}return u};function s(g,m){g=C.extendDeep({},g);var v=Object.keys(g).sort(),u,f;function _(O,M,W){if(i(M)&&i(O))s(O,M);else if(Array.isArray(M)&&Array.isArray(O)){var E=l.arrayTemplater({_template:g},W);for(f=0;f<M.length;f++){var N=M[f],R=E.newItem(N)._template;R&&s(R,N)}var V=E.defaultItems();for(f=0;f<V.length;f++)M.push(V[f]._template);for(f=0;f<M.length;f++)delete M[f].templateitemname}}for(u=0;u<v.length;u++){var w=v[u],k=g[w];if(w in m?_(k,m[w],w):m[w]=k,d(w)===w)for(var J in m){var P=d(J);J!==P&&P===w&&!(J in g)&&_(k,m[J],w)}}}function d(g){return g.replace(/[0-9]+$/,"")}function t(g,m,v,u,f){var _=f&&v(f);for(var w in g){var k=g[w],J=h(g,w,u),P=h(g,w,f),O=v(P);if(!O){var M=d(w);M!==w&&(P=h(g,M,f),O=v(P))}if(!(_&&_===O)&&!(!O||O._noTemplating||O.valType==="data_array"||O.arrayOk&&Array.isArray(k)))if(!O.valType&&i(k))t(k,m,v,J,P);else if(O._isLinkedToArray&&Array.isArray(k))for(var W=!1,E=0,N={},R=0;R<k.length;R++){var V=k[R];if(i(V)){var U=V.name;if(U)N[U]||(t(V,m,v,h(k,E,J),h(k,E,P)),E++,N[U]=1);else if(!W){var G=l.arrayDefaultKey(w),D=h(g,G,u),Z=h(k,E,J);t(V,m,v,Z,h(k,E,P));var q=C.nestedProperty(m,Z),ae=C.nestedProperty(m,D);ae.set(q.get()),q.set(null),W=!0}}}else{var te=C.nestedProperty(m,J);te.set(k)}}}function p(g,m){return e.getLayoutValObject(g,C.nestedProperty({},m).parts)}function c(g,m){return e.getTraceValObject(g,C.nestedProperty({},m).parts)}function h(g,m,v){var u;return v?Array.isArray(g)?u=v+"["+m+"]":u=v+"."+m:u=m,u}F.validateTemplate=function(g,m){var v=C.extendDeep({},{_context:o,data:g.data,layout:g.layout}),u=v.layout||{};i(m)||(m=u.template||{});var f=m.layout,_=m.data,w=[];v.layout=u,v.layout.template=m,n.supplyDefaults(v);var k=v._fullLayout,J=v._fullData,P={};function O(D,Z){for(var q in D)if(q.charAt(0)!=="_"&&i(D[q])){var ae=d(q),te=[],ie;for(ie=0;ie<Z.length;ie++)te.push(h(D,q,Z[ie])),ae!==q&&te.push(h(D,ae,Z[ie]));for(ie=0;ie<te.length;ie++)P[te[ie]]=1;O(D[q],te)}}function M(D,Z){for(var q in D)if(q.indexOf("defaults")===-1&&i(D[q])){var ae=h(D,q,Z);P[ae]?M(D[q],ae):w.push({code:"unused",path:ae})}}if(i(f)?(O(k,["layout"]),M(f,"layout")):w.push({code:"layout"}),!i(_))w.push({code:"data"});else{for(var W={},E,N=0;N<J.length;N++){var R=J[N];E=R.type,W[E]=(W[E]||0)+1,R._fullInput._template||w.push({code:"missing",index:R.index,traceType:E})}for(E in _){var V=_[E].length,U=W[E]||0;V>U?w.push({code:"unused",traceType:E,templateCount:V,dataCount:U}):U>V&&w.push({code:"reused",traceType:E,templateCount:V,dataCount:U})}}function G(D,Z){for(var q in D)if(q.charAt(0)!=="_"){var ae=D[q],te=h(D,q,Z);i(ae)?(Array.isArray(D)&&ae._template===!1&&ae.templateitemname&&w.push({code:"missing",path:te,templateitemname:ae.templateitemname}),G(ae,te)):Array.isArray(ae)&&b(ae)&&G(ae,te)}}if(G({data:J,layout:k},""),w.length)return w.map(y)};function b(g){for(var m=0;m<g.length;m++)if(i(g[m]))return!0}function y(g){var m;switch(g.code){case"data":m="The template has no key data.";break;case"layout":m="The template has no key layout.";break;case"missing":g.path?m="There are no templates for item "+g.path+" with name "+g.templateitemname:m="There are no templates for trace "+g.index+", of type "+g.traceType+".";break;case"unused":g.path?m="The template item at "+g.path+" was not used in constructing the plot.":g.dataCount?m="Some of the templates of type "+g.traceType+" were not used. The template has "+g.templateCount+" traces, the data only has "+g.dataCount+" of this type.":m="The template has "+g.templateCount+" traces of type "+g.traceType+" but there are none in the data.";break;case"reused":m="Some of the templates of type "+g.traceType+" were used more than once. The template has "+g.templateCount+" traces, the data has "+g.dataCount+" of this type.";break}return g.msg=m,g}}),Gu=ye(F=>{var C=i0();F._doPlot=C._doPlot,F.newPlot=C.newPlot,F.restyle=C.restyle,F.relayout=C.relayout,F.redraw=C.redraw,F.update=C.update,F._guiRestyle=C._guiRestyle,F._guiRelayout=C._guiRelayout,F._guiUpdate=C._guiUpdate,F._storeDirectGUIEdit=C._storeDirectGUIEdit,F.react=C.react,F.extendTraces=C.extendTraces,F.prependTraces=C.prependTraces,F.addTraces=C.addTraces,F.deleteTraces=C.deleteTraces,F.moveTraces=C.moveTraces,F.purge=C.purge,F.addFrames=C.addFrames,F.deleteFrames=C.deleteFrames,F.animate=C.animate,F.setPlotConfig=C.setPlotConfig;var i=vr().getGraphDiv,e=Cl().eraseActiveShape;F.deleteActiveShape=function(r){return e(i(r))},F.toImage=o0(),F.validate=Yu(),F.downloadImage=l0();var n=Uu();F.makeTemplate=n.makeTemplate,F.validateTemplate=n.validateTemplate}),s0=ye((F,C)=>{var i=zt(),e=Kn();C.exports=function(n,r,l,o){var s=o("x"),d=o("y"),t,p=e.getComponentMethod("calendars","handleTraceDefaults");if(p(n,r,["x","y"],l),s){var c=i.minRowLength(s);d?t=Math.min(c,i.minRowLength(d)):(t=c,o("y0"),o("dy"))}else{if(!d)return 0;t=i.minRowLength(d),o("x0"),o("dx")}return r._length=t,t}}),c0=ye((F,C)=>{var i=zt().dateTick0,e=Gn(),n=e.ONEWEEK;function r(l,o){return l%n===0?i(o,1):i(o,0)}C.exports=function(l,o,s,d,t){if(t||(t={x:!0,y:!0}),t.x){var p=d("xperiod");p&&(d("xperiod0",r(p,o.xcalendar)),d("xperiodalignment"))}if(t.y){var c=d("yperiod");c&&(d("yperiod0",r(c,o.ycalendar)),d("yperiodalignment"))}}}),Wu=ye((F,C)=>{var i=["orientation","groupnorm","stackgaps"];C.exports=function(e,n,r,l){var o=r._scatterStackOpts,s=l("stackgroup");if(s){var d=n.xaxis+n.yaxis,t=o[d];t||(t=o[d]={});var p=t[s],c=!1;p?p.traces.push(n):(p=t[s]={traceIndices:[],traces:[n]},c=!0);for(var h={orientation:n.x&&!n.y?"h":"v"},b=0;b<i.length;b++){var y=i[b],g=y+"Found";if(!p[g]){var m=e[y]!==void 0,v=y==="orientation";if((m||c)&&(p[y]=l(y,h[y]),v&&(p.fillDflt=p[y]==="h"?"tonextx":"tonexty"),m&&(p[g]=!0,!c&&(delete p.traces[0][y],v))))for(var u=0;u<p.traces.length-1;u++){var f=p.traces[u];f._input.fill!==f.fill&&(f.fill=p.fillDflt)}}}return p}}}),Zu=ye((F,C)=>{var i=$n(),e=xi().hasColorscale,n=xo(),r=fi();C.exports=function(l,o,s,d,t,p){var c=r.isBubble(l),h=(l.line||{}).color,b;if(p=p||{},h&&(s=h),t("marker.symbol"),t("marker.opacity",c?.7:1),t("marker.size"),p.noAngle||(t("marker.angle"),p.noAngleRef||t("marker.angleref"),p.noStandOff||t("marker.standoff")),t("marker.color",s),e(l,"marker")&&n(l,o,d,t,{prefix:"marker.",cLetter:"c"}),p.noSelect||(t("selected.marker.color"),t("unselected.marker.color"),t("selected.marker.size"),t("unselected.marker.size")),p.noLine||(h&&!Array.isArray(h)&&o.marker.color!==h?b=h:c?b=i.background:b=i.defaultLine,t("marker.line.color",b),e(l,"marker.line")&&n(l,o,d,t,{prefix:"marker.line.",cLetter:"c"}),t("marker.line.width",c?1:0)),c&&(t("marker.sizeref"),t("marker.sizemin"),t("marker.sizemode")),p.gradient){var y=t("marker.gradient.type");y!=="none"&&t("marker.gradient.color")}}}),qu=ye((F,C)=>{var i=zt().isArrayOrTypedArray,e=xi().hasColorscale,n=xo();C.exports=function(r,l,o,s,d,t){t||(t={});var p=(r.marker||{}).color;if(p&&p._inputArray&&(p=p._inputArray),d("line.color",o),e(r,"line"))n(r,l,s,d,{prefix:"line.",cLetter:"c"});else{var c=(i(p)?!1:p)||o;d("line.color",c)}d("line.width"),t.noDash||d("line.dash"),t.backoff&&d("line.backoff")}}),Xu=ye((F,C)=>{C.exports=function(i,e,n){var r=n("line.shape");r==="spline"&&n("line.smoothing")}}),Ju=ye((F,C)=>{var i=zt();C.exports=function(e,n,r,l,o){o=o||{},l("textposition"),i.coerceFont(l,"textfont",o.font||r.font,o),o.noSelect||(l("selected.textfont.color"),l("unselected.textfont.color"))}}),Qu=ye((F,C)=>{var i=$n(),e=zt().isArrayOrTypedArray;function n(r){for(var l=i.interpolate(r[0][1],r[1][1],.5),o=2;o<r.length;o++){var s=i.interpolate(r[o-1][1],r[o][1],.5);l=i.interpolate(l,s,r[o-1][0]/r[o][0])}return l}C.exports=function(r,l,o,s,d){d||(d={});var t=!1;if(l.marker){var p=l.marker.color,c=(l.marker.line||{}).color;p&&!e(p)?t=p:c&&!e(c)&&(t=c)}var h;if(d.moduleHasFillgradient){var b=s("fillgradient.type");if(b!=="none"){s("fillgradient.start"),s("fillgradient.stop");var y=s("fillgradient.colorscale");y&&(h=n(y))}}s("fillcolor",i.addOpacity((l.line||{}).color||t||h||o,.5))}}),Ku=ye((F,C)=>{var i=zt(),e=Kn(),n=so(),r=El(),l=fi(),o=s0(),s=c0(),d=Wu(),t=Zu(),p=qu(),c=Xu(),h=Ju(),b=Qu(),y=zt().coercePattern;C.exports=function(g,m,v,u){function f(W,E){return i.coerce(g,m,n,W,E)}var _=o(g,m,u,f);if(_||(m.visible=!1),!!m.visible){s(g,m,u,f),f("xhoverformat"),f("yhoverformat"),f("zorder");var w=d(g,m,u,f);u.scattermode==="group"&&m.orientation===void 0&&f("orientation","v");var k=!w&&_<r.PTS_LINESONLY?"lines+markers":"lines";f("text"),f("hovertext"),f("mode",k),l.hasMarkers(m)&&t(g,m,v,u,f,{gradient:!0}),l.hasLines(m)&&(p(g,m,v,u,f,{backoff:!0}),c(g,m,f),f("connectgaps"),f("line.simplify")),l.hasText(m)&&(f("texttemplate"),h(g,m,u,f));var J=[];(l.hasMarkers(m)||l.hasText(m))&&(f("cliponaxis"),f("marker.maxdisplayed"),J.push("points")),f("fill",w?w.fillDflt:"none"),m.fill!=="none"&&(b(g,m,v,f,{moduleHasFillgradient:!0}),l.hasLines(m)||c(g,m,f),y(f,"fillpattern",m.fillcolor,!1));var P=(m.line||{}).color,O=(m.marker||{}).color;(m.fill==="tonext"||m.fill==="toself")&&J.push("fills"),f("hoveron",J.join("+")||"points"),m.hoveron!=="fills"&&f("hovertemplate");var M=e.getComponentMethod("errorbars","supplyDefaults");M(g,m,P||O||v,{axis:"y"}),M(g,m,P||O||v,{axis:"x",inherit:"y"}),i.coerceSelectionMarkerOpacity(m,f)}}}),u0=ye((F,C)=>{var i=No().getAxisGroup;C.exports=function(e,n,r,l,o){var s=n.orientation,d=n[{v:"x",h:"y"}[s]+"axis"],t=i(r,d)+s,p=r._alignmentOpts||{},c=l("alignmentgroup"),h=p[t];h||(h=p[t]={});var b=h[c];b?b.traces.push(n):b=h[c]={traces:[n],alignmentIndex:Object.keys(h).length,offsetGroups:{}};var y=l("offsetgroup")||"",g=b.offsetGroups,m=g[y];n._offsetIndex=0,(o!=="group"||y)&&(m||(m=g[y]={offsetIndex:Object.keys(g).length}),n._offsetIndex=m.offsetIndex)}}),ed=ye((F,C)=>{var i=zt(),e=u0(),n=so();C.exports=function(r,l){var o,s,d,t=l.scattermode;function p(g){return i.coerce(s._input,s,n,g)}if(l.scattermode==="group")for(d=0;d<r.length;d++)s=r[d],s.type==="scatter"&&(o=s._input,e(o,s,l,p,t));for(d=0;d<r.length;d++){var c=r[d];if(c.type==="scatter"){var h=c.fill;if(!(h==="none"||h==="toself")&&(c.opacity=void 0,h==="tonexty"||h==="tonextx"))for(var b=d-1;b>=0;b--){var y=r[b];if(y.type==="scatter"&&y.xaxis===c.xaxis&&y.yaxis===c.yaxis){y.opacity=void 0;break}}}}}}),td=ye((F,C)=>{var i=zt(),e=gl();C.exports=function(n,r){function l(s,d){return i.coerce(n,r,e,s,d)}var o=r.barmode==="group";r.scattermode==="group"&&l("scattergap",o?r.bargap:.2)}}),d0=ye((F,C)=>{var i=on(),e=zt(),n=e.dateTime2ms,r=e.incrementMonth,l=Gn(),o=l.ONEAVGMONTH;C.exports=function(s,d,t,p){if(d.type!=="date")return{vals:p};var c=s[t+"periodalignment"];if(!c)return{vals:p};var h=s[t+"period"],b;if(i(h)){if(h=+h,h<=0)return{vals:p}}else if(typeof h=="string"&&h.charAt(0)==="M"){var y=+h.substring(1);if(y>0&&Math.round(y)===y)b=y;else return{vals:p}}for(var g=d.calendar,m=c==="start",v=c==="end",u=s[t+"period0"],f=n(u,g)||0,_=[],w=[],k=[],J=p.length,P=0;P<J;P++){var O=p[P],M,W,E;if(b){for(M=Math.round((O-f)/(b*o)),E=r(f,b*M,g);E>O;)E=r(E,-b,g);for(;E<=O;)E=r(E,b,g);W=r(E,-b,g)}else{for(M=Math.round((O-f)/h),E=f+M*h;E>O;)E-=h;for(;E<=O;)E+=h;W=E-h}_[P]=m?W:v?E:(W+E)/2,w[P]=W,k[P]=E}return{vals:_,starts:w,ends:k}}}),nd=ye((F,C)=>{var i=xi().hasColorscale,e=xl(),n=fi();C.exports=function(r,l){n.hasLines(l)&&i(l,"line")&&e(r,l,{vals:l.line.color,containerStr:"line",cLetter:"c"}),n.hasMarkers(l)&&(i(l,"marker")&&e(r,l,{vals:l.marker.color,containerStr:"marker",cLetter:"c"}),i(l,"marker.line")&&e(r,l,{vals:l.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}}),f0=ye((F,C)=>{var i=zt();C.exports=function(e,n){for(var r=0;r<e.length;r++)e[r].i=r;i.mergeArray(n.text,e,"tx"),i.mergeArray(n.texttemplate,e,"txt"),i.mergeArray(n.hovertext,e,"htx"),i.mergeArray(n.customdata,e,"data"),i.mergeArray(n.textposition,e,"tp"),n.textfont&&(i.mergeArrayCastPositive(n.textfont.size,e,"ts"),i.mergeArray(n.textfont.color,e,"tc"),i.mergeArray(n.textfont.family,e,"tf"),i.mergeArray(n.textfont.weight,e,"tw"),i.mergeArray(n.textfont.style,e,"ty"),i.mergeArray(n.textfont.variant,e,"tv"),i.mergeArray(n.textfont.textcase,e,"tC"),i.mergeArray(n.textfont.lineposition,e,"tE"),i.mergeArray(n.textfont.shadow,e,"tS"));var l=n.marker;if(l){i.mergeArrayCastPositive(l.size,e,"ms"),i.mergeArrayCastPositive(l.opacity,e,"mo"),i.mergeArray(l.symbol,e,"mx"),i.mergeArray(l.angle,e,"ma"),i.mergeArray(l.standoff,e,"mf"),i.mergeArray(l.color,e,"mc");var o=l.line;l.line&&(i.mergeArray(o.color,e,"mlc"),i.mergeArrayCastPositive(o.width,e,"mlw"));var s=l.gradient;s&&s.type!=="none"&&(i.mergeArray(s.type,e,"mgt"),i.mergeArray(s.color,e,"mgc"))}}}),h0=ye((F,C)=>{var i=zt();C.exports=function(e,n){i.isArrayOrTypedArray(n.selectedpoints)&&i.tagSelected(e,n)}}),p0=ye((F,C)=>{var i=on(),e=zt(),n=cr(),r=d0(),l=Gn().BADNUM,o=fi(),s=nd(),d=f0(),t=h0();function p(m,v){var u=m._fullLayout,f=v._xA=n.getFromId(m,v.xaxis||"x","x"),_=v._yA=n.getFromId(m,v.yaxis||"y","y"),w=f.makeCalcdata(v,"x"),k=_.makeCalcdata(v,"y"),J=r(v,f,"x",w),P=r(v,_,"y",k),O=J.vals,M=P.vals,W=v._length,E=new Array(W),N=v.ids,R=g(v,u,f,_),V=!1,U,G,D,Z,q,ae;b(u,v);var te="x",ie="y",fe;if(R)e.pushUnique(R.traceIndices,v.index),U=R.orientation==="v",U?(ie="s",fe="x"):(te="s",fe="y"),q=R.stackgaps==="interpolate";else{var he=h(v,W);c(m,v,f,_,O,M,he)}var be=!!v.xperiodalignment,H=!!v.yperiodalignment;for(G=0;G<W;G++){var B=E[G]={},A=i(O[G]),X=i(M[G]);A&&X?(B[te]=O[G],B[ie]=M[G],be&&(B.orig_x=w[G],B.xEnd=J.ends[G],B.xStart=J.starts[G]),H&&(B.orig_y=k[G],B.yEnd=P.ends[G],B.yStart=P.starts[G])):R&&(U?A:X)?(B[fe]=U?O[G]:M[G],B.gap=!0,q?(B.s=l,V=!0):B.s=0):B[te]=B[ie]=l,N&&(B.id=String(N[G]))}if(d(E,v),s(m,v),t(E,v),R){for(G=0;G<E.length;)E[G][fe]===l?E.splice(G,1):G++;if(e.sort(E,function(L,$){return L[fe]-$[fe]||L.i-$.i}),V){for(G=0;G<E.length-1&&E[G].gap;)G++;for(ae=E[G].s,ae||(ae=E[G].s=0),D=0;D<G;D++)E[D].s=ae;for(Z=E.length-1;Z>G&&E[Z].gap;)Z--;for(ae=E[Z].s,D=E.length-1;D>Z;D--)E[D].s=ae;for(;G<Z;)if(G++,E[G].gap){for(D=G+1;E[D].gap;)D++;for(var I=E[G-1][fe],j=E[G-1].s,T=(E[D].s-j)/(E[D][fe]-I);G<D;)E[G].s=j+(E[G][fe]-I)*T,G++}}}return E}function c(m,v,u,f,_,w,k){var J=v._length,P=m._fullLayout,O=u._id,M=f._id,W=P._firstScatter[y(v)]===v.uid,E=(g(v,P,u,f)||{}).orientation,N=v.fill;u._minDtick=0,f._minDtick=0;var R={padded:!0},V={padded:!0};k&&(R.ppad=V.ppad=k);var U=J<2||_[0]!==_[J-1]||w[0]!==w[J-1];U&&(N==="tozerox"||N==="tonextx"&&(W||E==="h"))?R.tozero=!0:!(v.error_y||{}).visible&&(N==="tonexty"||N==="tozeroy"||!o.hasMarkers(v)&&!o.hasText(v))&&(R.padded=!1,R.ppad=0),U&&(N==="tozeroy"||N==="tonexty"&&(W||E==="v"))?V.tozero=!0:(N==="tonextx"||N==="tozerox")&&(V.padded=!1),O&&(v._extremes[O]=n.findExtremes(u,_,R)),M&&(v._extremes[M]=n.findExtremes(f,w,V))}function h(m,v){if(o.hasMarkers(m)){var u=m.marker,f=1.6*(m.marker.sizeref||1),_;if(m.marker.sizemode==="area"?_=function(O){return Math.max(Math.sqrt((O||0)/f),3)}:_=function(O){return Math.max((O||0)/f,3)},e.isArrayOrTypedArray(u.size)){var w={type:"linear"};n.setConvert(w);for(var k=w.makeCalcdata(m.marker,"size"),J=new Array(v),P=0;P<v;P++)J[P]=_(k[P]);return J}else return _(u.size)}}function b(m,v){var u=y(v),f=m._firstScatter;f[u]||(f[u]=v.uid)}function y(m){var v=m.stackgroup;return m.xaxis+m.yaxis+m.type+(v?"-"+v:"")}function g(m,v,u,f){var _=m.stackgroup;if(_){var w=v._scatterStackOpts[u._id+f._id][_],k=w.orientation==="v"?f:u;if(k.type==="linear"||k.type==="log")return w}}C.exports={calc:p,calcMarkerSize:h,calcAxisExpansion:c,setFirstScatter:b,getStackOpts:g}}),ad=ye((F,C)=>{C.exports=e;var i=zt().distinctVals;function e(n,r){this.traces=n,this.sepNegVal=r.sepNegVal,this.overlapNoMerge=r.overlapNoMerge;for(var l=1/0,o=r.posAxis._id.charAt(0),s=[],d=0;d<n.length;d++){for(var t=n[d],p=0;p<t.length;p++){var c=t[p],h=c.p;h===void 0&&(h=c[o]),h!==void 0&&s.push(h)}t[0]&&t[0].width1&&(l=Math.min(t[0].width1,l))}this.positions=s;var b=i(s);this.distinctPositions=b.vals,b.vals.length===1&&l!==1/0?this.minDiff=l:this.minDiff=Math.min(b.minDiff,l);var y=(r.posAxis||{}).type;(y==="category"||y==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}e.prototype.put=function(n,r,l){var o=this.getLabel(n,r,l),s=this.bins[o]||0;return this.bins[o]=s+l,s},e.prototype.get=function(n,r,l){var o=this.getLabel(n,r,l);return this.bins[o]||0},e.prototype.getLabel=function(n,r,l){var o=l<0&&this.sepNegVal?"v":"^",s=this.overlapNoMerge?n:Math.round(n/this.binWidth);return o+s+"g"+r}}),v0=ye((F,C)=>{var i=on(),e=zt().isArrayOrTypedArray,n=Gn().BADNUM,r=Kn(),l=cr(),o=No().getAxisGroup,s=ad();function d(E,N){for(var R=N.xaxis,V=N.yaxis,U=E._fullLayout,G=E._fullData,D=E.calcdata,Z=[],q=[],ae=0;ae<G.length;ae++){var te=G[ae];if(te.visible===!0&&r.traceIs(te,"bar")&&te.xaxis===R._id&&te.yaxis===V._id&&(te.orientation==="h"?Z.push(D[ae]):q.push(D[ae]),te._computePh))for(var ie=E.calcdata[ae],fe=0;fe<ie.length;fe++)typeof ie[fe].ph0=="function"&&(ie[fe].ph0=ie[fe].ph0()),typeof ie[fe].ph1=="function"&&(ie[fe].ph1=ie[fe].ph1())}var he={xCat:R.type==="category"||R.type==="multicategory",yCat:V.type==="category"||V.type==="multicategory",mode:U.barmode,norm:U.barnorm,gap:U.bargap,groupgap:U.bargroupgap};t(E,R,V,q,he),t(E,V,R,Z,he)}function t(E,N,R,V,U){if(V.length){var G,D,Z,q,ae;switch(h(R,V),U.mode){case"overlay":b(E,N,R,V,U);break;case"group":for(G=[],D=[],Z=0;Z<V.length;Z++)q=V[Z],ae=q[0].trace,ae.offset===void 0?D.push(q):G.push(q);D.length&&y(E,N,R,D,U),G.length&&b(E,N,R,G,U);break;case"stack":case"relative":for(G=[],D=[],Z=0;Z<V.length;Z++)q=V[Z],ae=q[0].trace,ae.base===void 0?D.push(q):G.push(q);c(D),D.length&&g(E,N,R,D,U),G.length&&b(E,N,R,G,U);break}p(V),M(V,N)}}function p(E){var N,R,V,U,G,D,Z;for(N=0;N<E.length;N++)R=E[N],V=R[0].trace,U=R[0].t,U.cornerradiusvalue===void 0&&(G=V.marker?V.marker.cornerradius:void 0,G!==void 0&&(D=i(G)?+G:+G.slice(0,-1),Z=i(G)?"px":"%",U.cornerradiusvalue=D,U.cornerradiusform=Z))}function c(E){if(!(E.length<2)){var N,R,V,U,G,D,Z;for(N=0;N<E.length&&(R=E[N],V=R[0].trace,G=V.marker?V.marker.cornerradius:void 0,G===void 0);N++);if(G!==void 0)for(D=i(G)?+G:+G.slice(0,-1),Z=i(G)?"px":"%",N=0;N<E.length;N++)R=E[N],U=R[0].t,U.cornerradiusvalue=D,U.cornerradiusform=Z}}function h(E,N){var R,V;for(R=0;R<N.length;R++){var U=N[R],G=U[0].trace,D=G.type==="funnel"?G._base:G.base,Z,q=G.orientation==="h"?G.xcalendar:G.ycalendar,ae=E.type==="category"||E.type==="multicategory"?function(){return null}:E.d2c;if(e(D)){for(V=0;V<Math.min(D.length,U.length);V++)Z=ae(D[V],0,q),i(Z)?(U[V].b=+Z,U[V].hasB=1):U[V].b=0;for(;V<U.length;V++)U[V].b=0}else{Z=ae(D,0,q);var te=i(Z);for(Z=te?Z:0,V=0;V<U.length;V++)U[V].b=Z,te&&(U[V].hasB=1)}}}function b(E,N,R,V,U){for(var G=0;G<V.length;G++){var D=V[G],Z=new s([D],{posAxis:N,sepNegVal:!1,overlapNoMerge:!U.norm});m(E,N,Z,U),U.norm?(k(Z),P(R,Z,U)):_(R,Z)}}function y(E,N,R,V,U){var G=new s(V,{posAxis:N,sepNegVal:!1,overlapNoMerge:!U.norm});m(E,N,G,U),J(G,N),U.norm?(k(G),P(R,G,U)):_(R,G)}function g(E,N,R,V,U){var G=new s(V,{posAxis:N,sepNegVal:U.mode==="relative",overlapNoMerge:!(U.norm||U.mode==="stack"||U.mode==="relative")});m(E,N,G,U),w(R,G,U);for(var D=0;D<V.length;D++)for(var Z=V[D],q=Z[0].t.offsetindex,ae=0;ae<Z.length;ae++){var te=Z[ae];if(te.s!==n){var ie=te.b+te.s===G.get(te.p,q,te.s);ie&&(te._outmost=!0)}}U.norm&&P(R,G,U)}function m(E,N,R,V){var U=E._fullLayout,G=R.positions,D=R.distinctPositions,Z=R.minDiff,q=R.traces,ae=q.length,te=G.length!==D.length,ie=Z*(1-V.gap),fe,he,be,H;if(N._id==="angularaxis")fe=ie,he=fe*(1-(V.groupgap||0)),be=-he/2;else{var B=o(U,N._id)+q[0][0].trace.orientation;H=U._alignmentOpts[B]||{}}for(var A=0;A<ae;A++){var X=q[A],I=X[0].trace;if(N._id!=="angularaxis"){var j=H[I.alignmentgroup]||{},T=Object.keys(j.offsetGroups||{}).length;T?fe=ie/T:fe=te?ie/ae:ie,he=fe*(1-(V.groupgap||0)),T?be=((2*I._offsetIndex+1-T)*fe-he)/2:be=te?((2*A+1-ae)*fe-he)/2:-he/2}var L=X[0].t;L.barwidth=he,L.offsetindex=I._offsetIndex||0,L.poffset=be,L.bargroupwidth=ie,L.bardelta=Z}R.binWidth=q[0][0].t.barwidth/100,v(R),u(N,R),N._id==="angularaxis"?f(N,R):f(N,R,te)}function v(E){var N=E.traces,R,V;for(R=0;R<N.length;R++){var U=N[R],G=U[0],D=G.trace,Z=G.t,q=D._offset||D.offset,ae=Z.poffset,te;if(e(q)){for(te=Array.prototype.slice.call(q,0,U.length),V=0;V<te.length;V++)i(te[V])||(te[V]=ae);for(V=te.length;V<U.length;V++)te.push(ae);Z.poffset=te}else q!==void 0&&(Z.poffset=q);var ie=D._width||D.width,fe=Z.barwidth;if(e(ie)){var he=Array.prototype.slice.call(ie,0,U.length);for(V=0;V<he.length;V++)i(he[V])||(he[V]=fe);for(V=he.length;V<U.length;V++)he.push(fe);if(Z.barwidth=he,q===void 0){for(te=[],V=0;V<U.length;V++)te.push(ae+(fe-he[V])/2);Z.poffset=te}}else ie!==void 0&&(Z.barwidth=ie,q===void 0&&(Z.poffset=ae+(fe-ie)/2))}}function u(E,N){for(var R=N.traces,V=W(E),U=0;U<R.length;U++)for(var G=R[U],D=G[0].t,Z=D.poffset,q=e(Z),ae=D.barwidth,te=e(ae),ie=0;ie<G.length;ie++){var fe=G[ie],he=fe.w=te?ae[ie]:ae;fe.p===void 0&&(fe.p=fe[V],fe["orig_"+V]=fe[V]);var be=(q?Z[ie]:Z)+he/2;fe[V]=fe.p+be}}function f(E,N,R){var V=N.traces,U=N.minDiff,G=U/2;l.minDtick(E,N.minDiff,N.distinctPositions[0],R);for(var D=0;D<V.length;D++){var Z=V[D],q=Z[0],ae=q.trace,te=[],ie,fe,he,be;for(be=0;be<Z.length;be++)ie=Z[be],fe=ie.p-G,he=ie.p+G,te.push(fe,he);if(ae.width||ae.offset){var H=q.t,B=H.poffset,A=H.barwidth,X=e(B),I=e(A);for(be=0;be<Z.length;be++){ie=Z[be];var j=X?B[be]:B,T=I?A[be]:A;fe=ie.p+j,he=fe+T,te.push(fe,he)}}ae._extremes[E._id]=l.findExtremes(E,te,{padded:!1})}}function _(E,N){for(var R=N.traces,V=W(E),U=0;U<R.length;U++){for(var G=R[U],D=G[0].trace,Z=D.type==="scatter",q=D.orientation==="v",ae=[],te=!1,ie=0;ie<G.length;ie++){var fe=G[ie],he=Z?0:fe.b,be=Z?q?fe.y:fe.x:he+fe.s;fe[V]=be,ae.push(be),fe.hasB&&ae.push(he),(!fe.hasB||!fe.b)&&(te=!0)}D._extremes[E._id]=l.findExtremes(E,ae,{tozero:te,padded:!0})}}function w(E,N,R){var V=W(E),U=N.traces,G,D,Z,q,ae,te,ie;for(q=0;q<U.length;q++)if(G=U[q],D=G[0].trace,D.type==="funnel")for(ie=G[0].t.offsetindex,ae=0;ae<G.length;ae++)te=G[ae],te.s!==n&&N.put(te.p,ie,-.5*te.s);for(q=0;q<U.length;q++){G=U[q],D=G[0].trace,Z=D.type==="funnel",ie=D.type==="barpolar"?0:G[0].t.offsetindex;var fe=[];for(ae=0;ae<G.length;ae++)if(te=G[ae],te.s!==n){var he;Z?he=te.s:he=te.s+te.b;var be=N.put(te.p,ie,he),H=be+he;te.b=be,te[V]=H,R.norm||(fe.push(H),te.hasB&&fe.push(be))}R.norm||(D._extremes[E._id]=l.findExtremes(E,fe,{tozero:!0,padded:!0}))}}function k(E){for(var N=E.traces,R=0;R<N.length;R++)for(var V=N[R],U=V[0].t.offsetindex,G=0;G<V.length;G++){var D=V[G];D.s!==n&&E.put(D.p,U,D.b+D.s)}}function J(E,N){for(var R=E.traces,V=0;V<R.length;V++){var U=R[V],G=U[0].trace,D=U[0].t.offsetindex;if(G.base===void 0)for(var Z=new s([U],{posAxis:N,sepNegVal:!0,overlapNoMerge:!0}),q=0;q<U.length;q++){var ae=U[q];if(ae.p!==n){var te=Z.put(ae.p,D,ae.b+ae.s);te&&(ae.b=te)}}}}function P(E,N,R){var V=N.traces,U=W(E),G=R.norm==="fraction"?1:100,D=G/1e9,Z=E.l2c(E.c2l(0)),q=R.mode==="stack"?G:Z;function ae(L){return i(E.c2l(L))&&(L<Z-D||L>q+D||!i(Z))}for(var te=0;te<V.length;te++){for(var ie=V[te],fe=ie[0].t.offsetindex,he=ie[0].trace,be=[],H=!1,B=!1,A=0;A<ie.length;A++){var X=ie[A];if(X.s!==n){var I=Math.abs(G/N.get(X.p,fe,X.s));X.b*=I,X.s*=I;var j=X.b,T=j+X.s;X[U]=T,be.push(T),B=B||ae(T),X.hasB&&(be.push(j),B=B||ae(j)),(!X.hasB||!X.b)&&(H=!0)}}he._extremes[E._id]=l.findExtremes(E,be,{tozero:H,padded:B})}}function O(E,N,R,V){for(var U=W(V),G=0;G<E.length;G++)for(var D=E[G],Z=0;Z<D.length;Z++){var q=D[Z],ae=q[U];q._sMin=N[ae],q._sMax=R[ae]}}function M(E,N){var R=W(N),V={},U,G,D,Z=1/0,q=-1/0;for(U=0;U<E.length;U++)for(D=E[U],G=0;G<D.length;G++){var ae=D[G].p;i(ae)&&(Z=Math.min(Z,ae),q=Math.max(q,ae))}var te=1e4/(q-Z),ie=V.round=function(Y){return String(Math.round(te*(Y-Z)))},fe={},he={},be=E.some(function(Y){var re=Y[0].trace;return"marker"in re&&re.marker.cornerradius});for(U=0;U<E.length;U++){D=E[U],D[0].t.extents=V;var H=D[0].t.poffset,B=e(H);for(G=0;G<D.length;G++){var A=D[G],X=A[R]-A.w/2;if(i(X)){var I=A[R]+A.w/2,j=ie(A.p);V[j]?V[j]=[Math.min(X,V[j][0]),Math.max(I,V[j][1])]:V[j]=[X,I]}if(A.p0=A.p+(B?H[G]:H),A.p1=A.p0+A.w,A.s0=A.b,A.s1=A.s0+A.s,be){var T=Math.min(A.s0,A.s1)||0,L=Math.max(A.s0,A.s1)||0,$=A[R];fe[$]=$ in fe?Math.min(fe[$],T):T,he[$]=$ in he?Math.max(he[$],L):L}}}be&&O(E,fe,he,N)}function W(E){return E._id.charAt(0)}C.exports={crossTraceCalc:d,setGroupPositions:t}}),rd=ye((F,C)=>{var i=p0(),e=v0().setGroupPositions;function n(o,s){for(var d=s.xaxis,t=s.yaxis,p=o._fullLayout,c=o._fullData,h=o.calcdata,b=[],y=[],g=0;g<c.length;g++){var m=c[g];m.visible===!0&&m.type==="scatter"&&m.xaxis===d._id&&m.yaxis===t._id&&(m.orientation==="h"?b.push(h[g]):m.orientation==="v"&&y.push(h[g]))}var v={mode:p.scattermode,gap:p.scattergap};e(o,d,t,y,v),e(o,t,d,b,v)}C.exports=function(o,s){o._fullLayout.scattermode==="group"&&n(o,s);var d=s.xaxis,t=s.yaxis,p=d._id+t._id,c=o._fullLayout._scatterStackOpts[p];if(c){var h=o.calcdata,b,y,g,m,v,u,f,_,w,k,J,P,O,M,W;for(var E in c){k=c[E];var N=k.traceIndices;if(N.length){for(J=k.stackgaps==="interpolate",P=k.groupnorm,k.orientation==="v"?(O="x",M="y"):(O="y",M="x"),W=new Array(N.length),b=0;b<W.length;b++)W[b]=!1;u=h[N[0]];var R=new Array(u.length);for(b=0;b<u.length;b++)R[b]=u[b][O];for(b=1;b<N.length;b++){for(v=h[N[b]],y=g=0;y<v.length;y++){for(f=v[y][O];f>R[g]&&g<R.length;g++)r(v,y,R[g],b,W,J,O),y++;if(f!==R[g]){for(m=0;m<b;m++)r(h[N[m]],g,f,m,W,J,O);R.splice(g,0,f)}g++}for(;g<R.length;g++)r(v,y,R[g],b,W,J,O),y++}var V=R.length;for(y=0;y<u.length;y++){for(_=u[y][M]=u[y].s,b=1;b<N.length;b++)v=h[N[b]],v[0].trace._rawLength=v[0].trace._length,v[0].trace._length=V,_+=v[y].s,v[y][M]=_;if(P)for(w=(P==="fraction"?_:_/100)||1,b=0;b<N.length;b++){var U=h[N[b]][y];U[M]/=w,U.sNorm=U.s/w}}for(b=0;b<N.length;b++){v=h[N[b]];var G=v[0].trace,D=i.calcMarkerSize(G,G._rawLength),Z=Array.isArray(D);if(D&&W[b]||Z){var q=D;for(D=new Array(V),y=0;y<V;y++)D[y]=v[y].gap?0:Z?q[v[y].i]:q}var ae=new Array(V),te=new Array(V);for(y=0;y<V;y++)ae[y]=v[y].x,te[y]=v[y].y;i.calcAxisExpansion(o,G,d,t,ae,te,D),v[0].t.orientation=k.orientation}}}}};function r(o,s,d,t,p,c,h){p[t]=!0;var b={i:null,gap:!0,s:0};if(b[h]=d,o.splice(s,0,b),s&&d===o[s-1][h]){var y=o[s-1];b.s=y.s,b.i=y.i,b.gap=y.gap}else c&&(b.s=l(o,s,d,h));s||(o[0].t=o[1].t,o[0].trace=o[1].trace,delete o[1].t,delete o[1].trace)}function l(o,s,d,t){var p=o[s-1],c=o[s+1];return c?p?p.s+(c.s-p.s)*(d-p[t])/(c[t]-p[t]):c.s:p.s}}),id=ye((F,C)=>{var i=Ga(),e=Gn(),n=e.BADNUM,r=e.LOG_CLIP,l=r+.5,o=r-.5,s=zt(),d=s.segmentsIntersect,t=s.constrain,p=El();C.exports=function(c,h){var b=h.trace||{},y=h.xaxis,g=h.yaxis,m=y.type==="log",v=g.type==="log",u=y._length,f=g._length,_=h.backoff,w=b.marker,k=h.connectGaps,J=h.baseTolerance,P=h.shape,O=P==="linear",M=b.fill&&b.fill!=="none",W=[],E=p.minTolerance,N=c.length,R=new Array(N),V=0,U,G,D,Z,q,ae,te,ie,fe,he,be,H,B,A,X,I;function j(Me){var Je=c[Me];if(!Je)return!1;var Qe=h.linearized?y.l2p(Je.x):y.c2p(Je.x),st=h.linearized?g.l2p(Je.y):g.c2p(Je.y);if(Qe===n){if(m&&(Qe=y.c2p(Je.x,!0)),Qe===n)return!1;v&&st===n&&(Qe*=Math.abs(y._m*f*(y._m>0?l:o)/(g._m*u*(g._m>0?l:o)))),Qe*=1e3}if(st===n){if(v&&(st=g.c2p(Je.y,!0)),st===n)return!1;st*=1e3}return[Qe,st]}function T(Me,Je,Qe,st){var ze=Qe-Me,rt=st-Je,ft=.5-Me,yt=.5-Je,Ht=ze*ze+rt*rt,Wt=ze*ft+rt*yt;if(Wt>0&&Wt<Ht){var hn=ft*rt-yt*ze;if(hn*hn<Ht)return!0}}var L,$;function Y(Me,Je){var Qe=Me[0]/u,st=Me[1]/f,ze=Math.max(0,-Qe,Qe-1,-st,st-1);return ze&&L!==void 0&&T(Qe,st,L,$)&&(ze=0),ze&&Je&&T(Qe,st,Je[0]/u,Je[1]/f)&&(ze=0),(1+p.toleranceGrowth*ze)*J}function re(Me,Je){var Qe=Me[0]-Je[0],st=Me[1]-Je[1];return Math.sqrt(Qe*Qe+st*st)}var se=p.maxScreensAway,ce=-u*se,we=u*(1+se),Se=-f*se,Ie=f*(1+se),Ze=[[ce,Se,we,Se],[we,Se,we,Ie],[we,Ie,ce,Ie],[ce,Ie,ce,Se]],He,Be,pe,_e,oe,Le;function Re(Me,Je){for(var Qe=[],st=0,ze=0;ze<4;ze++){var rt=Ze[ze],ft=d(Me[0],Me[1],Je[0],Je[1],rt[0],rt[1],rt[2],rt[3]);ft&&(!st||Math.abs(ft.x-Qe[0][0])>1||Math.abs(ft.y-Qe[0][1])>1)&&(ft=[ft.x,ft.y],st&&re(ft,Me)<re(Qe[0],Me)?Qe.unshift(ft):Qe.push(ft),st++)}return Qe}function Ye(Me){if(Me[0]<ce||Me[0]>we||Me[1]<Se||Me[1]>Ie)return[t(Me[0],ce,we),t(Me[1],Se,Ie)]}function ot(Me,Je){if(Me[0]===Je[0]&&(Me[0]===ce||Me[0]===we)||Me[1]===Je[1]&&(Me[1]===Se||Me[1]===Ie))return!0}function Xe(Me,Je){var Qe=[],st=Ye(Me),ze=Ye(Je);return st&&ze&&ot(st,ze)||(st&&Qe.push(st),ze&&Qe.push(ze)),Qe}function lt(Me,Je,Qe){return function(st,ze){var rt=Ye(st),ft=Ye(ze),yt=[];if(rt&&ft&&ot(rt,ft))return yt;rt&&yt.push(rt),ft&&yt.push(ft);var Ht=2*s.constrain((st[Me]+ze[Me])/2,Je,Qe)-((rt||st)[Me]+(ft||ze)[Me]);if(Ht){var Wt;rt&&ft?Wt=Ht>0==rt[Me]>ft[Me]?rt:ft:Wt=rt||ft,Wt[Me]+=Ht}return yt}}var ut;P==="linear"||P==="spline"?ut=Re:P==="hv"||P==="vh"?ut=Xe:P==="hvh"?ut=lt(0,ce,we):P==="vhv"&&(ut=lt(1,Se,Ie));function dt(Me,Je){var Qe=Je[0]-Me[0],st=(Je[1]-Me[1])/Qe,ze=(Me[1]*Je[0]-Je[1]*Me[0])/Qe;return ze>0?[st>0?ce:we,Ie]:[st>0?we:ce,Se]}function xt(Me){var Je=Me[0],Qe=Me[1],st=Je===R[V-1][0],ze=Qe===R[V-1][1];if(!(st&&ze))if(V>1){var rt=Je===R[V-2][0],ft=Qe===R[V-2][1];st&&(Je===ce||Je===we)&&rt?ft?V--:R[V-1]=Me:ze&&(Qe===Se||Qe===Ie)&&ft?rt?V--:R[V-1]=Me:R[V++]=Me}else R[V++]=Me}function qe(Me){R[V-1][0]!==Me[0]&&R[V-1][1]!==Me[1]&&xt([pe,_e]),xt(Me),oe=null,pe=_e=0}var bt=s.isArrayOrTypedArray(w);function Dt(Me){if(Me&&_&&(Me.i=U,Me.d=c,Me.trace=b,Me.marker=bt?w[Me.i]:w,Me.backoff=_),L=Me[0]/u,$=Me[1]/f,He=Me[0]<ce?ce:Me[0]>we?we:0,Be=Me[1]<Se?Se:Me[1]>Ie?Ie:0,He||Be){if(!V)R[V++]=[He||Me[0],Be||Me[1]];else if(oe){var Je=ut(oe,Me);Je.length>1&&(qe(Je[0]),R[V++]=Je[1])}else Le=ut(R[V-1],Me)[0],R[V++]=Le;var Qe=R[V-1];He&&Be&&(Qe[0]!==He||Qe[1]!==Be)?(oe&&(pe!==He&&_e!==Be?xt(pe&&_e?dt(oe,Me):[pe||He,_e||Be]):pe&&_e&&xt([pe,_e])),xt([He,Be])):pe-He&&_e-Be&&xt([He||pe,Be||_e]),oe=Me,pe=He,_e=Be}else oe&&qe(ut(oe,Me)[0]),R[V++]=Me}for(U=0;U<N;U++)if(G=j(U),!!G){for(V=0,oe=null,Dt(G),U++;U<N;U++){if(Z=j(U),!Z){if(k)continue;break}if(!O||!h.simplify){Dt(Z);continue}var pt=j(U+1);if(he=re(Z,G),!(!(M&&(V===0||V===N-1))&&he<Y(Z,pt)*E)){for(ie=[(Z[0]-G[0])/he,(Z[1]-G[1])/he],q=G,be=he,H=A=X=0,te=!1,D=Z,U++;U<c.length;U++){if(ae=pt,pt=j(U+1),!ae){if(k)continue;break}if(fe=[ae[0]-G[0],ae[1]-G[1]],I=fe[0]*ie[1]-fe[1]*ie[0],A=Math.min(A,I),X=Math.max(X,I),X-A>Y(ae,pt))break;D=ae,B=fe[0]*ie[0]+fe[1]*ie[1],B>be?(be=B,Z=ae,te=!1):B<H&&(H=B,q=ae,te=!0)}if(te?(Dt(Z),D!==q&&Dt(q)):(q!==G&&Dt(q),D!==Z&&Dt(Z)),Dt(D),U>=c.length||!ae)break;Dt(ae),G=ae}}oe&&xt([pe||oe[0],_e||oe[1]]),W.push(R.slice(0,V))}var St=P.slice(P.length-1);if(_&&St!=="h"&&St!=="v"){for(var me=!1,Ae=-1,ke=[],K=0;K<W.length;K++)for(var de=0;de<W[K].length-1;de++){var xe=W[K][de],ge=W[K][de+1],Ee=i.applyBackoff(ge,xe);(Ee[0]!==ge[0]||Ee[1]!==ge[1])&&(me=!0),ke[Ae+1]||(Ae++,ke[Ae]=[xe,[Ee[0],Ee[1]]])}return me?ke:W}return W}}),od=ye((F,C)=>{var i={tonextx:1,tonexty:1,tonext:1};C.exports=function(e,n,r){var l,o,s,d,t,p={},c=!1,h=-1,b=0,y=-1;for(o=0;o<r.length;o++)l=r[o][0].trace,s=l.stackgroup||"",s?s in p?t=p[s]:(t=p[s]=b,b++):l.fill in i&&y>=0?t=y:(t=y=b,b++),t<h&&(c=!0),l._groupIndex=h=t;var g=r.slice();c&&g.sort(function(v,u){var f=v[0].trace,_=u[0].trace;return f._groupIndex-_._groupIndex||f.index-_.index});var m={};for(o=0;o<g.length;o++)l=g[o][0].trace,s=l.stackgroup||"",l.visible===!0?(l._nexttrace=null,l.fill in i&&(d=m[s],l._prevtrace=d||null,d&&(d._nexttrace=l)),l._ownfill=l.fill&&(l.fill.substr(0,6)==="tozero"||l.fill==="toself"||l.fill.substr(0,2)==="to"&&!l._prevtrace),m[s]=l):l._prevtrace=l._nexttrace=l._ownfill=null;return g}}),ld=ye((F,C)=>{var i=Xt(),e=Kn(),n=zt(),r=n.ensureSingle,l=n.identity,o=Ga(),s=fi(),d=id(),t=od(),p=t0().tester;C.exports=function(y,g,m,v,u,f){var _,w,k=!u,J=!!u&&u.duration>0,P=t(y,g,m);if(_=v.selectAll("g.trace").data(P,function(M){return M[0].trace.uid}),_.enter().append("g").attr("class",function(M){return"trace scatter trace"+M[0].trace.uid}).style("stroke-miterlimit",2),_.order(),c(y,_,g),J){f&&(w=f());var O=i.transition().duration(u.duration).ease(u.easing).each("end",function(){w&&w()}).each("interrupt",function(){w&&w()});O.each(function(){v.selectAll("g.trace").each(function(M,W){h(y,W,g,M,P,this,u)})})}else _.each(function(M,W){h(y,W,g,M,P,this,u)});k&&_.exit().remove(),v.selectAll("path:not([d])").remove()};function c(y,g,m){g.each(function(v){var u=r(i.select(this),"g","fills");o.setClipUrl(u,m.layerClipId,y);var f=v[0].trace,_=[];f._ownfill&&_.push("_ownFill"),f._nexttrace&&_.push("_nextFill");var w=u.selectAll("g").data(_,l);w.enter().append("g"),w.exit().each(function(k){f[k]=null}).remove(),w.order().each(function(k){f[k]=r(i.select(this),"path","js-fill")})})}function h(y,g,m,v,u,f,_){var w=y._context.staticPlot,k;b(y,g,m,v,u);var J=!!_&&_.duration>0;function P(qe){return J?qe.transition():qe}var O=m.xaxis,M=m.yaxis,W=v[0].trace,E=W.line,N=i.select(f),R=r(N,"g","errorbars"),V=r(N,"g","lines"),U=r(N,"g","points"),G=r(N,"g","text");if(e.getComponentMethod("errorbars","plot")(y,R,m,_),W.visible!==!0)return;P(N).style("opacity",W.opacity);var D,Z,q=W.fill.charAt(W.fill.length-1);q!=="x"&&q!=="y"&&(q="");var ae,te;q==="y"?(ae=1,te=M.c2p(0,!0)):q==="x"&&(ae=0,te=O.c2p(0,!0)),v[0][m.isRangePlot?"nodeRangePlot3":"node3"]=N;var ie="",fe=[],he=W._prevtrace,be=null,H=null;he&&(ie=he._prevRevpath||"",Z=he._nextFill,fe=he._ownPolygons,be=he._fillsegments,H=he._fillElement);var B,A,X="",I="",j,T,L,$,Y,re,se=[];W._polygons=[];var ce=[],we=[],Se=n.noop;if(D=W._ownFill,s.hasLines(W)||W.fill!=="none"){Z&&Z.datum(v),["hv","vh","hvh","vhv"].indexOf(E.shape)!==-1?(j=o.steps(E.shape),T=o.steps(E.shape.split("").reverse().join(""))):E.shape==="spline"?j=T=function(qe){var bt=qe[qe.length-1];return qe.length>1&&qe[0][0]===bt[0]&&qe[0][1]===bt[1]?o.smoothclosed(qe.slice(1),E.smoothing):o.smoothopen(qe,E.smoothing)}:j=T=function(qe){return"M"+qe.join("L")},L=function(qe){return T(qe.reverse())},we=d(v,{xaxis:O,yaxis:M,trace:W,connectGaps:W.connectgaps,baseTolerance:Math.max(E.width||1,3)/4,shape:E.shape,backoff:E.backoff,simplify:E.simplify,fill:W.fill}),ce=new Array(we.length);var Ie=0;for(k=0;k<we.length;k++){var Ze,He=we[k];!Ze||!q?(Ze=He.slice(),ce[Ie]=Ze,Ie++):Ze.push.apply(Ze,He)}W._fillElement=null,W._fillExclusionElement=H,W._fillsegments=ce.slice(0,Ie),ce=W._fillsegments,we.length&&($=we[0][0].slice(),Y=we[we.length-1],re=Y[Y.length-1].slice()),Se=function(qe){return function(bt){if(B=j(bt),A=L(bt),X?q?(X+="L"+B.substr(1),I=A+("L"+I.substr(1))):(X+="Z"+B,I=A+"Z"+I):(X=B,I=A),s.hasLines(W)){var Dt=i.select(this);if(Dt.datum(v),qe)P(Dt.style("opacity",0).attr("d",B).call(o.lineGroupStyle)).style("opacity",1);else{var pt=P(Dt);pt.attr("d",B),o.singleLineStyle(v,pt)}}}}}var Be=V.selectAll(".js-line").data(we);P(Be.exit()).style("opacity",0).remove(),Be.each(Se(!1)),Be.enter().append("path").classed("js-line",!0).style("vector-effect",w?"none":"non-scaling-stroke").call(o.lineGroupStyle).each(Se(!0)),o.setClipUrl(Be,m.layerClipId,y);function pe(qe){P(qe).attr("d","M0,0Z")}var _e=function(){var qe=new Array(ce.length);for(k=0;k<ce.length;k++)qe[k]=p(ce[k]);return qe},oe=function(qe){var bt,Dt;if(!qe||qe.length===0)for(bt=new Array(ce.length),Dt=0;Dt<ce.length;Dt++){var pt=ce[Dt][0].slice(),St=ce[Dt][ce[Dt].length-1].slice();pt[ae]=St[ae]=te;var me=[St,pt],Ae=me.concat(ce[Dt]);bt[Dt]=p(Ae)}else{for(bt=new Array(qe.length-1+ce.length),Dt=0;Dt<qe.length-1;Dt++)bt[Dt]=p(qe[Dt]);var ke=qe[qe.length-1].slice();for(ke.reverse(),Dt=0;Dt<ce.length;Dt++)bt[qe.length-1+Dt]=p(ce[Dt].concat(ke))}return bt};we.length?(D?(D.datum(v),$&&re&&(q?($[ae]=re[ae]=te,P(D).attr("d","M"+re+"L"+$+"L"+X.substr(1)).call(o.singleFillStyle,y),se=oe(null)):(P(D).attr("d",X+"Z").call(o.singleFillStyle,y),se=_e())),W._polygons=se,W._fillElement=D):Z&&(W.fill.substr(0,6)==="tonext"&&X&&ie?(W.fill==="tonext"?(P(Z).attr("d",X+"Z"+ie+"Z").call(o.singleFillStyle,y),se=_e(),W._polygons=se.concat(fe)):(P(Z).attr("d",X+"L"+ie.substr(1)+"Z").call(o.singleFillStyle,y),se=oe(be),W._polygons=se),W._fillElement=Z):pe(Z)),W._prevRevpath=I):(D?pe(D):Z&&pe(Z),W._prevRevpath=null),W._ownPolygons=se;function Le(qe){return qe.filter(function(bt){return!bt.gap&&bt.vis})}function Re(qe){return qe.filter(function(bt){return bt.vis})}function Ye(qe){return qe.filter(function(bt){return!bt.gap})}function ot(qe){return qe.id}function Xe(qe){if(qe.ids)return ot}function lt(){return!1}function ut(qe,bt,Dt){var pt,St,me,Ae=Dt[0].trace,ke=s.hasMarkers(Ae),K=s.hasText(Ae),de=Xe(Ae),xe=lt,ge=lt;if(ke||K){var Ee=l,Me=Ae.stackgroup,Je=Me&&y._fullLayout._scatterStackOpts[O._id+M._id][Me].stackgaps==="infer zero";Ae.marker.maxdisplayed||Ae._needsCull?Ee=Je?Re:Le:Me&&!Je&&(Ee=Ye),ke&&(xe=Ee),K&&(ge=Ee)}St=qe.selectAll("path.point"),pt=St.data(xe,de);var Qe=pt.enter().append("path").classed("point",!0);J&&Qe.call(o.pointStyle,Ae,y).call(o.translatePoints,O,M).style("opacity",0).transition().style("opacity",1),pt.order();var st;ke&&(st=o.makePointStyleFns(Ae)),pt.each(function(ze){var rt=i.select(this),ft=P(rt);me=o.translatePoint(ze,ft,O,M),me?(o.singlePointStyle(ze,ft,Ae,st,y),m.layerClipId&&o.hideOutsideRangePoint(ze,ft,O,M,Ae.xcalendar,Ae.ycalendar),Ae.customdata&&rt.classed("plotly-customdata",ze.data!==null&&ze.data!==void 0)):ft.remove()}),J?pt.exit().transition().style("opacity",0).remove():pt.exit().remove(),St=bt.selectAll("g"),pt=St.data(ge,de),pt.enter().append("g").classed("textpoint",!0).append("text"),pt.order(),pt.each(function(ze){var rt=i.select(this),ft=P(rt.select("text"));me=o.translatePoint(ze,ft,O,M),me?m.layerClipId&&o.hideOutsideRangePoint(ze,rt,O,M,Ae.xcalendar,Ae.ycalendar):rt.remove()}),pt.selectAll("text").call(o.textPointStyle,Ae,y).each(function(ze){var rt=O.c2p(ze.x),ft=M.c2p(ze.y);i.select(this).selectAll("tspan.line").each(function(){P(i.select(this)).attr({x:rt,y:ft})})}),pt.exit().remove()}U.datum(v),G.datum(v),ut(U,G,v);var dt=W.cliponaxis===!1,xt=dt?null:m.layerClipId;o.setClipUrl(U,xt,y),o.setClipUrl(G,xt,y)}function b(y,g,m,v,u){var f=m.xaxis,_=m.yaxis,w=i.extent(n.simpleMap(f.range,f.r2c)),k=i.extent(n.simpleMap(_.range,_.r2c)),J=v[0].trace;if(s.hasMarkers(J)){var P=J.marker.maxdisplayed;if(P!==0){var O=v.filter(function(N){return N.x>=w[0]&&N.x<=w[1]&&N.y>=k[0]&&N.y<=k[1]}),M=Math.ceil(O.length/P),W=0;u.forEach(function(N,R){var V=N[0].trace;s.hasMarkers(V)&&V.marker.maxdisplayed>0&&R<g&&W++});var E=Math.round(W*M/3+Math.floor(W/3)*M/7.1);v.forEach(function(N){delete N.vis}),O.forEach(function(N,R){Math.round((R+E)%M)===0&&(N.vis=!0)})}}}}),g0=ye((F,C)=>{C.exports={container:"marker",min:"cmin",max:"cmax"}}),sd=ye((F,C)=>{var i=cr();C.exports=function(e,n,r){var l={},o={_fullLayout:r},s=i.getFromTrace(o,n,"x"),d=i.getFromTrace(o,n,"y"),t=e.orig_x;t===void 0&&(t=e.x);var p=e.orig_y;return p===void 0&&(p=e.y),l.xLabel=i.tickText(s,s.c2l(t),!0).text,l.yLabel=i.tickText(d,d.c2l(p),!0).text,l}}),m0=ye((F,C)=>{var i=Xt(),e=Ga(),n=Kn();function r(d){var t=i.select(d).selectAll("g.trace.scatter");t.style("opacity",function(p){return p[0].trace.opacity}),t.selectAll("g.points").each(function(p){var c=i.select(this),h=p.trace||p[0].trace;l(c,h,d)}),t.selectAll("g.text").each(function(p){var c=i.select(this),h=p.trace||p[0].trace;o(c,h,d)}),t.selectAll("g.trace path.js-line").call(e.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(e.fillGroupStyle,d,!1),n.getComponentMethod("errorbars","style")(t)}function l(d,t,p){e.pointStyle(d.selectAll("path.point"),t,p)}function o(d,t,p){e.textPointStyle(d.selectAll("text"),t,p)}function s(d,t,p){var c=t[0].trace;c.selectedpoints?(e.selectedPointStyle(p.selectAll("path.point"),c),e.selectedTextStyle(p.selectAll("text"),c)):(l(p,c,d),o(p,c,d))}C.exports={style:r,stylePoints:l,styleText:o,styleOnSelect:s}}),cd=ye((F,C)=>{var i=$n(),e=fi();C.exports=function(n,r){var l,o;if(n.mode==="lines")return l=n.line.color,l&&i.opacity(l)?l:n.fillcolor;if(n.mode==="none")return n.fill?n.fillcolor:"";var s=r.mcc||(n.marker||{}).color,d=r.mlcc||((n.marker||{}).line||{}).color;return o=s&&i.opacity(s)?s:d&&i.opacity(d)&&(r.mlw||((n.marker||{}).line||{}).width)?d:"",o?i.opacity(o)<.3?i.addOpacity(o,.3):o:(l=(n.line||{}).color,l&&i.opacity(l)&&e.hasLines(n)&&n.line.width?l:n.fillcolor)}}),ud=ye((F,C)=>{var i=zt(),e=Fi(),n=Kn(),r=cd(),l=$n(),o=i.fillText;C.exports=function(s,d,t,p){var c=s.cd,h=c[0].trace,b=s.xa,y=s.ya,g=b.c2p(d),m=y.c2p(t),v=[g,m],u=h.hoveron||"",f=h.mode.indexOf("markers")!==-1?3:.5,_=!!h.xperiodalignment,w=!!h.yperiodalignment;if(u.indexOf("points")!==-1){var k=function(ie){if(_){var fe=b.c2p(ie.xStart),he=b.c2p(ie.xEnd);return g>=Math.min(fe,he)&&g<=Math.max(fe,he)?0:1/0}var be=Math.max(3,ie.mrc||0),H=1-1/be,B=Math.abs(b.c2p(ie.x)-g);return B<be?H*B/be:B-be+H},J=function(ie){if(w){var fe=y.c2p(ie.yStart),he=y.c2p(ie.yEnd);return m>=Math.min(fe,he)&&m<=Math.max(fe,he)?0:1/0}var be=Math.max(3,ie.mrc||0),H=1-1/be,B=Math.abs(y.c2p(ie.y)-m);return B<be?H*B/be:B-be+H},P=function(ie){var fe=Math.max(f,ie.mrc||0),he=b.c2p(ie.x)-g,be=y.c2p(ie.y)-m;return Math.max(Math.sqrt(he*he+be*be)-fe,1-f/fe)},O=e.getDistanceFunction(p,k,J,P);if(e.getClosest(c,O,s),s.index!==!1){var M=c[s.index],W=b.c2p(M.x,!0),E=y.c2p(M.y,!0),N=M.mrc||1;s.index=M.i;var R=c[0].t.orientation,V=R&&(M.sNorm||M.s),U=R==="h"?V:M.orig_x!==void 0?M.orig_x:M.x,G=R==="v"?V:M.orig_y!==void 0?M.orig_y:M.y;return i.extendFlat(s,{color:r(h,M),x0:W-N,x1:W+N,xLabelVal:U,y0:E-N,y1:E+N,yLabelVal:G,spikeDistance:P(M),hovertemplate:h.hovertemplate}),o(M,h,s),n.getComponentMethod("errorbars","hoverInfo")(M,h,s),[s]}}function D(ie){if(!ie)return!1;var fe=ie.node();try{var he=new DOMPoint(v[0],v[1]);return fe.isPointInFill(he)}catch{var be=fe.ownerSVGElement.createSVGPoint();return be.x=v[0],be.y=v[1],fe.isPointInFill(be)}}function Z(ie){var fe,he=[],be=1/0,H=-1/0,B=1/0,A=-1/0,X;for(fe=0;fe<ie.length;fe++){var I=ie[fe];I.contains(v)&&(he.push(I),B=Math.min(B,I.ymin),A=Math.max(A,I.ymax))}if(he.length===0)return null;B=Math.max(B,0),A=Math.min(A,y._length),X=(B+A)/2;var j,T,L,$,Y,re,se;for(fe=0;fe<he.length;fe++)for(T=he[fe].pts,j=1;j<T.length;j++)re=T[j-1][1],se=T[j][1],re>X!=se>=X&&($=T[j-1][0],Y=T[j][0],se-re&&(L=$+(Y-$)*(X-re)/(se-re),be=Math.min(be,L),H=Math.max(H,L)));return be=Math.max(be,0),H=Math.min(H,b._length),{x0:be,x1:H,y0:X,y1:X}}if(u.indexOf("fills")!==-1&&h._fillElement){var q=D(h._fillElement)&&!D(h._fillExclusionElement);if(q){var ae=Z(h._polygons);ae===null&&(ae={x0:v[0],x1:v[0],y0:v[1],y1:v[1]});var te=l.defaultLine;return l.opacity(h.fillcolor)?te=h.fillcolor:l.opacity((h.line||{}).color)&&(te=h.line.color),i.extendFlat(s,{distance:s.maxHoverDistance,x0:ae.x0,x1:ae.x1,y0:ae.y0,y1:ae.y1,color:te,hovertemplate:!1}),delete s.index,h.text&&!i.isArrayOrTypedArray(h.text)?s.text=String(h.text):s.text=h.name,[s]}}}}),dd=ye((F,C)=>{var i=fi();C.exports=function(e,n){var r=e.cd,l=e.xaxis,o=e.yaxis,s=[],d=r[0].trace,t,p,c,h,b=!i.hasMarkers(d)&&!i.hasText(d);if(b)return[];if(n===!1)for(t=0;t<r.length;t++)r[t].selected=0;else for(t=0;t<r.length;t++)p=r[t],c=l.c2p(p.x),h=o.c2p(p.y),p.i!==null&&n.contains([c,h],!1,t,e)?(s.push({pointNumber:p.i,x:l.c2d(p.x),y:o.c2d(p.y)}),p.selected=1):p.selected=0;return s}}),fd=ye((F,C)=>{C.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}}),hd=ye((F,C)=>{var i=Kn().traceIs,e=Ns();C.exports=function(s,d,t,p){t("autotypenumbers",p.autotypenumbersDflt);var c=t("type",(p.splomStash||{}).type);c==="-"&&(n(d,p.data),d.type==="-"?d.type="linear":s.type=d.type)};function n(s,d){if(s.type==="-"){var t=s._id,p=t.charAt(0),c;t.indexOf("scene")!==-1&&(t=p);var h=r(d,t,p);if(h){if(h.type==="histogram"&&p==={v:"y",h:"x"}[h.orientation||"v"]){s.type="linear";return}var b=p+"calendar",y=h[b],g={noMultiCategory:!i(h,"cartesian")||i(h,"noMultiCategory")};if(h.type==="box"&&h._hasPreCompStats&&p==={h:"x",v:"y"}[h.orientation||"v"]&&(g.noMultiCategory=!0),g.autotypenumbers=s.autotypenumbers,o(h,p)){var m=l(h),v=[];for(c=0;c<d.length;c++){var u=d[c];!i(u,"box-violin")||(u[p+"axis"]||p)!==t||(u[m]!==void 0?v.push(u[m][0]):u.name!==void 0?v.push(u.name):v.push("text"),u[b]!==y&&(y=void 0))}s.type=e(v,y,g)}else if(h.type==="splom"){var f=h.dimensions,_=f[h._axesDim[t]];_.visible&&(s.type=e(_.values,y,g))}else s.type=e(h[p]||[h[p+"0"]],y,g)}}}function r(s,d,t){for(var p=0;p<s.length;p++){var c=s[p];if(c.type==="splom"&&c._length>0&&(c["_"+t+"axes"]||{})[d]||(c[t+"axis"]||t)===d&&(o(c,t)||(c[t]||[]).length||c[t+"0"]))return c}}function l(s){return{v:"x",h:"y"}[s.orientation||"v"]}function o(s,d){var t=l(s),p=i(s,"box-violin"),c=i(s._fullInput||{},"candlestick");return p&&!c&&d===t&&s[t]===void 0&&s[t+"0"]===void 0}}),pd=ye((F,C)=>{var i=aa().isTypedArraySpec;function e(n,r){var l=r.dataAttr||n._id.charAt(0),o={},s,d,t;if(r.axData)s=r.axData;else for(s=[],d=0;d<r.data.length;d++){var p=r.data[d];p[l+"axis"]===n._id&&s.push(p)}for(d=0;d<s.length;d++){var c=s[d][l];for(t=0;t<c.length;t++){var h=c[t];h!=null&&(o[h]=1)}}return Object.keys(o)}C.exports=function(n,r,l,o){if(r.type==="category"){var s=n.categoryarray,d=Array.isArray(s)&&s.length>0||i(s),t;d&&(t="array");var p=l("categoryorder",t),c;p==="array"&&(c=l("categoryarray")),!d&&p==="array"&&(p=r.categoryorder="trace"),p==="trace"?r._initialCategories=[]:p==="array"?r._initialCategories=c.slice():(c=e(r,o).sort(),p==="category ascending"?r._initialCategories=c:p==="category descending"&&(r._initialCategories=c.reverse()))}}}),vd=ye((F,C)=>{var i=Va().mix,e=kr(),n=zt();C.exports=function(r,l,o,s){s=s||{};var d=s.dfltColor;function t(M,W){return n.coerce2(r,l,s.attributes,M,W)}var p=t("linecolor",d),c=t("linewidth"),h=o("showline",s.showLine||!!p||!!c);h||(delete l.linecolor,delete l.linewidth);var b=i(d,s.bgColor,s.blend||e.lightFraction).toRgbString(),y=t("gridcolor",b),g=t("gridwidth"),m=t("griddash"),v=o("showgrid",s.showGrid||!!y||!!g||!!m);if(v||(delete l.gridcolor,delete l.gridwidth,delete l.griddash),s.hasMinor){var u=i(l.gridcolor,s.bgColor,67).toRgbString(),f=t("minor.gridcolor",u),_=t("minor.gridwidth",l.gridwidth||1),w=t("minor.griddash",l.griddash||"solid"),k=o("minor.showgrid",!!f||!!_||!!w);k||(delete l.minor.gridcolor,delete l.minor.gridwidth,delete l.minor.griddash)}if(!s.noZeroLine){var J=t("zerolinecolor",d),P=t("zerolinewidth"),O=o("zeroline",s.showGrid||!!J||!!P);O||(delete l.zerolinecolor,delete l.zerolinewidth)}}}),y0=ye((F,C)=>{var i=on(),e=Kn(),n=zt(),r=or(),l=ki(),o=Mi(),s=Os(),d=Ds(),t=Ps(),p=Es(),c=pd(),h=vd(),b=js(),y=bl(),g=$r().WEEKDAY_PATTERN,m=$r().HOUR_PATTERN;C.exports=function(_,w,k,J,P){var O=J.letter,M=J.font||{},W=J.splomStash||{},E=k("visible",!J.visibleDflt),N=w._template||{},R=w.type||N.type||"-",V;if(R==="date"){var U=e.getComponentMethod("calendars","handleDefaults");U(_,w,"calendar",J.calendar),J.noTicklabelmode||(V=k("ticklabelmode"))}!J.noTicklabelindex&&(R==="date"||R==="linear")&&k("ticklabelindex");var G="";(!J.noTicklabelposition||R==="multicategory")&&(G=n.coerce(_,w,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:V==="period"?["outside","inside"]:O==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),J.noTicklabeloverflow||k("ticklabeloverflow",G.indexOf("inside")!==-1?"hide past domain":R==="category"||R==="multicategory"?"allow":"hide past div"),y(w,P),b(_,w,k,J),c(_,w,k,J),R!=="category"&&!J.noHover&&k("hoverformat");var D=k("color"),Z=D!==o.color.dflt?D:M.color,q=W.label||P._dfltTitle[O];if(p(_,w,k,R,J),!E)return w;k("title.text",q),n.coerceFont(k,"title.font",M,{overrideDflt:{size:n.bigFont(M.size),color:Z}}),s(_,w,k,R);var ae=J.hasMinor;if(ae&&(r.newContainer(w,"minor"),s(_,w,k,R,{isMinor:!0})),t(_,w,k,R,J),d(_,w,k,J),ae){var te=J.isMinor;J.isMinor=!0,d(_,w,k,J),J.isMinor=te}h(_,w,k,{dfltColor:D,bgColor:J.bgColor,showGrid:J.showGrid,hasMinor:ae,attributes:o}),ae&&!w.minor.ticks&&!w.minor.showgrid&&delete w.minor,(w.showline||w.ticks)&&k("mirror");var ie=R==="multicategory";if(!J.noTickson&&(R==="category"||ie)&&(w.ticks||w.showgrid)){var fe;ie&&(fe="boundaries");var he=k("tickson",fe);he==="boundaries"&&delete w.ticklabelposition}if(ie){var be=k("showdividers");be&&(k("dividercolor"),k("dividerwidth"))}if(R==="date")if(l(_,w,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:v}),!w.rangebreaks.length)delete w.rangebreaks;else{for(var H=0;H<w.rangebreaks.length;H++)if(w.rangebreaks[H].pattern===g){w._hasDayOfWeekBreaks=!0;break}if(y(w,P),P._has("scattergl")||P._has("splom"))for(var B=0;B<J.data.length;B++){var A=J.data[B];(A.type==="scattergl"||A.type==="splom")&&(A.visible=!1,n.warn(A.type+" traces do not work on axes with rangebreaks. Setting trace "+A.index+" to `visible: false`."))}}return w};function v(_,w,k){function J(U,G){return n.coerce(_,w,o.rangebreaks,U,G)}var P=J("enabled");if(P){var O=J("bounds");if(O&&O.length>=2){var M="",W,E;if(O.length===2){for(W=0;W<2;W++)if(E=f(O[W]),E){M=g;break}}var N=J("pattern",M);if(N===g)for(W=0;W<2;W++)E=f(O[W]),E&&(w.bounds[W]=O[W]=E-1);if(N)for(W=0;W<2;W++)switch(E=O[W],N){case g:if(!i(E)){w.enabled=!1;return}if(E=+E,E!==Math.floor(E)||E<0||E>=7){w.enabled=!1;return}w.bounds[W]=O[W]=E;break;case m:if(!i(E)){w.enabled=!1;return}if(E=+E,E<0||E>24){w.enabled=!1;return}w.bounds[W]=O[W]=E;break}if(k.autorange===!1){var R=k.range;if(R[0]<R[1]){if(O[0]<R[0]&&O[1]>R[1]){w.enabled=!1;return}}else if(O[0]>R[0]&&O[1]<R[1]){w.enabled=!1;return}}}else{var V=J("values");if(V&&V.length)J("dvalue");else{w.enabled=!1;return}}}}var u={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function f(_){if(typeof _=="string")return u[_.substr(0,3).toLowerCase()]}}),x0=ye((F,C)=>{var i=on(),e=zt();C.exports=function(n,r,l,o){var s=o.counterAxes||[],d=o.overlayableAxes||[],t=o.letter,p=o.grid,c=o.overlayingDomain,h,b,y,g,m,v;p&&(b=p._domains[t][p._axisMap[r._id]],h=p._anchors[r._id],b&&(y=p[t+"side"].split(" ")[0],g=p.domain[t][y==="right"||y==="top"?1:0])),b=b||[0,1],h=h||(i(n.position)?"free":s[0]||"free"),y=y||(t==="x"?"bottom":"left"),g=g||0,m=0,v=!1;var u=e.coerce(n,r,{anchor:{valType:"enumerated",values:["free"].concat(s),dflt:h}},"anchor"),f=e.coerce(n,r,{side:{valType:"enumerated",values:t==="x"?["bottom","top"]:["left","right"],dflt:y}},"side");if(u==="free"){if(t==="y"){var _=l("autoshift");_&&(g=f==="left"?c[0]:c[1],v=r.automargin?r.automargin:!0,m=f==="left"?-3:3),l("shift",m)}l("position",g)}l("automargin",v);var w=!1;if(d.length&&(w=e.coerce(n,r,{overlaying:{valType:"enumerated",values:[!1].concat(d),dflt:!1}},"overlaying")),!w){var k=l("domain",b);k[0]>k[1]-1/4096&&(r.domain=b),e.noneOrAll(n.domain,r.domain,b),r.tickmode==="sync"&&(r.tickmode="auto")}return l("layer"),r}}),gd=ye((F,C)=>{var i=zt(),e=$n(),n=Ei().isUnifiedHover,r=Gs(),l=or(),o=Vi(),s=Mi(),d=hd(),t=y0(),p=No(),c=x0(),h=Nr(),b=h.id2name,y=h.name2id,g=$r().AX_ID_PATTERN,m=Kn(),v=m.traceIs,u=m.getComponentMethod;function f(_,w,k){Array.isArray(_[w])?_[w].push(k):_[w]=[k]}C.exports=function(_,w,k){var J=w.autotypenumbers,P={},O={},M={},W={},E={},N={},R={},V={},U={},G={},D,Z;for(D=0;D<k.length;D++){var q=k[D];if(v(q,"cartesian")){var ae;if(q.xaxis)ae=b(q.xaxis),f(P,ae,q);else if(q.xaxes)for(Z=0;Z<q.xaxes.length;Z++)f(P,b(q.xaxes[Z]),q);var te;if(q.yaxis)te=b(q.yaxis),f(P,te,q);else if(q.yaxes)for(Z=0;Z<q.yaxes.length;Z++)f(P,b(q.yaxes[Z]),q);if(q.type==="funnel"?q.orientation==="h"?(ae&&(O[ae]=!0),te&&(R[te]=!0)):te&&(M[te]=!0):q.type==="image"?(te&&(V[te]=!0),ae&&(V[ae]=!0)):(te&&(E[te]=!0,N[te]=!0),(!v(q,"carpet")||q.type==="carpet"&&!q._cheater)&&ae&&(W[ae]=!0)),q.type==="carpet"&&q._cheater&&ae&&(O[ae]=!0),v(q,"2dMap")&&(U[ae]=!0,U[te]=!0),v(q,"oriented")){var ie=q.orientation==="h"?te:ae;G[ie]=!0}}}var fe=w._subplots,he=fe.xaxis,be=fe.yaxis,H=i.simpleMap(he,b),B=i.simpleMap(be,b),A=H.concat(B),X=e.background;he.length&&be.length&&(X=i.coerce(_,w,o,"plot_bgcolor"));var I=e.combine(X,w.paper_bgcolor),j,T,L,$,Y;function re(){var de=P[j]||[];Y._traceIndices=de.map(function(xe){return xe.index}),Y._annIndices=[],Y._shapeIndices=[],Y._selectionIndices=[],Y._imgIndices=[],Y._subplotsWith=[],Y._counterAxes=[],Y._name=Y._attr=j,Y._id=T}function se(de,xe){return i.coerce($,Y,s,de,xe)}function ce(de,xe){return i.coerce2($,Y,s,de,xe)}function we(de){return de==="x"?be:he}function Se(de,xe){for(var ge=de==="x"?H:B,Ee=[],Me=0;Me<ge.length;Me++){var Je=ge[Me];Je!==xe&&!(_[Je]||{}).overlaying&&Ee.push(y(Je))}return Ee}var Ie={x:we("x"),y:we("y")},Ze=Ie.x.concat(Ie.y),He={},Be=[];function pe(){var de=$.matches;g.test(de)&&Ze.indexOf(de)===-1&&(He[de]=$.type,Be=Object.keys(He))}var _e=r(_,w),oe=n(_e);for(D=0;D<A.length;D++){j=A[D],T=y(j),L=j.charAt(0),i.isPlainObject(_[j])||(_[j]={}),$=_[j],Y=l.newContainer(w,j,L+"axis"),re();var Le=L==="x"&&!W[j]&&O[j]||L==="y"&&!E[j]&&M[j],Re=L==="y"&&(!N[j]&&R[j]||V[j]),Ye={hasMinor:!0,letter:L,font:w.font,outerTicks:U[j],showGrid:!G[j],data:P[j]||[],bgColor:I,calendar:w.calendar,automargin:!0,visibleDflt:Le,reverseDflt:Re,autotypenumbersDflt:J,splomStash:((w._splomAxes||{})[L]||{})[T],noAutotickangles:L==="y"};se("uirevision",w.uirevision),d($,Y,se,Ye),t($,Y,se,Ye,w);var ot=oe&&L===_e.charAt(0),Xe=ce("spikecolor",oe?Y.color:void 0),lt=ce("spikethickness",oe?1.5:void 0),ut=ce("spikedash",oe?"dot":void 0),dt=ce("spikemode",oe?"across":void 0),xt=ce("spikesnap"),qe=se("showspikes",!!ot||!!Xe||!!lt||!!ut||!!dt||!!xt);qe||(delete Y.spikecolor,delete Y.spikethickness,delete Y.spikedash,delete Y.spikemode,delete Y.spikesnap);var bt=b($.overlaying),Dt=[0,1];if(w[bt]!==void 0){var pt=b(w[bt].anchor);w[pt]!==void 0&&(Dt=w[pt].domain)}c($,Y,se,{letter:L,counterAxes:Ie[L],overlayableAxes:Se(L,j),grid:w.grid,overlayingDomain:Dt}),se("title.standoff"),pe(),Y._input=$}for(D=0;D<Be.length;){T=Be[D++],j=b(T),L=j.charAt(0),i.isPlainObject(_[j])||(_[j]={}),$=_[j],Y=l.newContainer(w,j,L+"axis"),re();var St={letter:L,font:w.font,outerTicks:U[j],showGrid:!G[j],data:[],bgColor:I,calendar:w.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:J,splomStash:((w._splomAxes||{})[L]||{})[T]};se("uirevision",w.uirevision),Y.type=He[T]||"linear",t($,Y,se,St,w),c($,Y,se,{letter:L,counterAxes:Ie[L],overlayableAxes:Se(L,j),grid:w.grid}),se("fixedrange"),pe(),Y._input=$}var me=u("rangeslider","handleDefaults"),Ae=u("rangeselector","handleDefaults");for(D=0;D<H.length;D++)j=H[D],$=_[j],Y=w[j],me(_,w,j),Y.type==="date"&&Ae($,Y,w,B,Y.calendar),se("fixedrange");for(D=0;D<B.length;D++){j=B[D],$=_[j],Y=w[j];var ke=w[b(Y.anchor)],K=u("rangeslider","isVisible")(ke);se("fixedrange",K)}p.handleDefaults(_,w,{axIds:Ze.concat(Be).sort(h.idSort),axHasImage:V})}}),md=ye((F,C)=>{var i=Xt(),e=Kn(),n=zt(),r=Ga(),l=cr();C.exports=function(o,s,d,t){var p=o._fullLayout;if(s.length===0){l.redrawComponents(o);return}function c(w){var k=w.xaxis,J=w.yaxis;p._defs.select("#"+w.clipId+"> rect").call(r.setTranslate,0,0).call(r.setScale,1,1),w.plot.call(r.setTranslate,k._offset,J._offset).call(r.setScale,1,1);var P=w.plot.selectAll(".scatterlayer .trace");P.selectAll(".point").call(r.setPointGroupScale,1,1),P.selectAll(".textpoint").call(r.setTextPointsScale,1,1),P.call(r.hideOutsideRangePoints,w)}function h(w,k){var J=w.plotinfo,P=J.xaxis,O=J.yaxis,M=P._length,W=O._length,E=!!w.xr1,N=!!w.yr1,R=[];if(E){var V=n.simpleMap(w.xr0,P.r2l),U=n.simpleMap(w.xr1,P.r2l),G=V[1]-V[0],D=U[1]-U[0];R[0]=(V[0]*(1-k)+k*U[0]-V[0])/(V[1]-V[0])*M,R[2]=M*(1-k+k*D/G),P.range[0]=P.l2r(V[0]*(1-k)+k*U[0]),P.range[1]=P.l2r(V[1]*(1-k)+k*U[1])}else R[0]=0,R[2]=M;if(N){var Z=n.simpleMap(w.yr0,O.r2l),q=n.simpleMap(w.yr1,O.r2l),ae=Z[1]-Z[0],te=q[1]-q[0];R[1]=(Z[1]*(1-k)+k*q[1]-Z[1])/(Z[0]-Z[1])*W,R[3]=W*(1-k+k*te/ae),O.range[0]=P.l2r(Z[0]*(1-k)+k*q[0]),O.range[1]=O.l2r(Z[1]*(1-k)+k*q[1])}else R[1]=0,R[3]=W;l.drawOne(o,P,{skipTitle:!0}),l.drawOne(o,O,{skipTitle:!0}),l.redrawComponents(o,[P._id,O._id]);var ie=E?M/R[2]:1,fe=N?W/R[3]:1,he=E?R[0]:0,be=N?R[1]:0,H=E?R[0]/R[2]*M:0,B=N?R[1]/R[3]*W:0,A=P._offset-H,X=O._offset-B;J.clipRect.call(r.setTranslate,he,be).call(r.setScale,1/ie,1/fe),J.plot.call(r.setTranslate,A,X).call(r.setScale,ie,fe),r.setPointGroupScale(J.zoomScalePts,1/ie,1/fe),r.setTextPointsScale(J.zoomScaleTxt,1/ie,1/fe)}var b;t&&(b=t());function y(){for(var w={},k=0;k<s.length;k++){var J=s[k],P=J.plotinfo.xaxis,O=J.plotinfo.yaxis;J.xr1&&(w[P._name+".range"]=J.xr1.slice()),J.yr1&&(w[O._name+".range"]=J.yr1.slice())}return b&&b(),e.call("relayout",o,w).then(function(){for(var M=0;M<s.length;M++)c(s[M].plotinfo)})}function g(){for(var w={},k=0;k<s.length;k++){var J=s[k],P=J.plotinfo.xaxis,O=J.plotinfo.yaxis;J.xr0&&(w[P._name+".range"]=J.xr0.slice()),J.yr0&&(w[O._name+".range"]=J.yr0.slice())}return e.call("relayout",o,w).then(function(){for(var M=0;M<s.length;M++)c(s[M].plotinfo)})}var m,v,u,f=i.ease(d.easing);o._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(u),u=null,g()});function _(){v=Date.now();for(var w=Math.min(1,(v-m)/d.duration),k=f(w),J=0;J<s.length;J++)h(s[J],k);v-m>d.duration?(y(),u=window.cancelAnimationFrame(_)):u=window.requestAnimationFrame(_)}return m=Date.now(),u=window.requestAnimationFrame(_),Promise.resolve()}}),Rl=ye(F=>{var C=Xt(),i=Kn(),e=zt(),n=Lr(),r=Ga(),l=ks().getModuleCalcData,o=Nr(),s=$r(),d=lo(),t=e.ensureSingle;function p(v,u,f){return e.ensureSingle(v,u,f,function(_){_.datum(f)})}var c=s.zindexSeparator;F.name="cartesian",F.attr=["xaxis","yaxis"],F.idRoot=["x","y"],F.idRegex=s.idRegex,F.attrRegex=s.attrRegex,F.attributes=fd(),F.layoutAttributes=Mi(),F.supplyLayoutDefaults=gd(),F.transitionAxes=md(),F.finalizeSubplots=function(v,u){var f=u._subplots,_=f.xaxis,w=f.yaxis,k=f.cartesian,J=k,P={},O={},M,W,E;for(M=0;M<J.length;M++){var N=J[M].split("y");P[N[0]]=1,O["y"+N[1]]=1}for(M=0;M<_.length;M++)W=_[M],P[W]||(E=(v[o.id2name(W)]||{}).anchor,s.idRegex.y.test(E)||(E="y"),k.push(W+E),J.push(W+E),O[E]||(O[E]=1,e.pushUnique(w,E)));for(M=0;M<w.length;M++)E=w[M],O[E]||(W=(v[o.id2name(E)]||{}).anchor,s.idRegex.x.test(W)||(W="x"),k.push(W+E),J.push(W+E),P[W]||(P[W]=1,e.pushUnique(_,W)));if(!J.length){W="",E="";for(var R in v)if(s.attrRegex.test(R)){var V=R.charAt(0);V==="x"?(!W||+R.substr(5)<+W.substr(5))&&(W=R):(!E||+R.substr(5)<+E.substr(5))&&(E=R)}W=W?o.name2id(W):"x",E=E?o.name2id(E):"y",_.push(W),w.push(E),k.push(W+E)}},F.plot=function(v,u,f,_){var w=v._fullLayout,k=w._subplots.cartesian,J=v.calcdata,P;if(!Array.isArray(u))for(u=[],P=0;P<J.length;P++)u.push(P);for(var O=w._zindices,M=0;M<O.length;M++){var W=O[M];for(P=0;P<k.length;P++){var E=k[P],N=w._plots[E];if(M>0){var R=N.id;if(R.indexOf(c)!==-1)continue;R+=c+(M+1),N=e.extendFlat({},N,{id:R,plot:w._cartesianlayer.selectAll(".subplot").select("."+R)})}for(var V=[],U,G=0;G<J.length;G++){var D=J[G],Z=D[0].trace;W===(Z.zorder||0)&&Z.xaxis+Z.yaxis===E&&((u.indexOf(Z.index)!==-1||Z.carpet)&&(U&&U[0].trace.xaxis+U[0].trace.yaxis===E&&["tonextx","tonexty","tonext"].indexOf(Z.fill)!==-1&&V.indexOf(U)===-1&&V.push(U),V.push(D)),U=D)}h(v,N,V,f,_)}}};function h(v,u,f,_,w){for(var k=s.traceLayerClasses,J=v._fullLayout,P=J._zindices,O=J._modules,M,W,E,N=[],R=[],V=0;V<P.length;V++)for(var U=P[V],G=0;G<O.length;G++){M=O[G];var D=M.name,Z=i.modules[D].categories;if(Z.svg){var q=M.layerName||D+"layer",ae=q+(V?Number(V)+1:""),te=M.plot;W=l(f,te,U),E=W[0],f=W[1],E.length&&N.push({i:k.indexOf(q),zindex:V,className:ae,plotMethod:te,cdModule:E}),Z.zoomScale&&R.push("."+ae)}}N.sort(function(he,be){return(he.zindex||0)-(be.zindex||0)||he.i-be.i});var ie=u.plot.selectAll("g.mlayer").data(N,function(he){return he.className});if(ie.enter().append("g").attr("class",function(he){return he.className}).classed("mlayer",!0).classed("rangeplot",u.isRangePlot),ie.exit().remove(),ie.order(),ie.each(function(he){var be=C.select(this),H=he.className;he.plotMethod(v,u,he.cdModule,be,_,w),s.clipOnAxisFalseQuery.indexOf("."+H)===-1&&r.setClipUrl(be,u.layerClipId,v)}),J._has("scattergl")&&(M=i.getModule("scattergl"),E=l(f,M)[0],M.plot(v,u,E)),!v._context.staticPlot&&(u._hasClipOnAxisFalse&&(u.clipOnAxisFalseTraces=u.plot.selectAll(s.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),R.length)){var fe=u.plot.selectAll(R.join(",")).selectAll(".trace");u.zoomScalePts=fe.selectAll("path.point"),u.zoomScaleTxt=fe.selectAll(".textpoint")}}F.clean=function(v,u,f,_){var w=_._plots||{},k=u._plots||{},J=_._subplots||{},P,O,M;if(_._hasOnlyLargeSploms&&!u._hasOnlyLargeSploms)for(M in w)P=w[M],P.plotgroup&&P.plotgroup.remove();var W=_._has&&_._has("gl"),E=u._has&&u._has("gl");if(W&&!E)for(M in w)P=w[M],P._scene&&P._scene.destroy();if(J.xaxis&&J.yaxis){var N=o.listIds({_fullLayout:_});for(O=0;O<N.length;O++){var R=N[O];u[o.id2name(R)]||_._infolayer.selectAll(".g-"+R+"title").remove()}}var V=_._has&&_._has("cartesian"),U=u._has&&u._has("cartesian");if(V&&!U)g(_._cartesianlayer.selectAll(".subplot"),_),_._defs.selectAll(".axesclip").remove(),delete _._axisConstraintGroups,delete _._axisMatchGroups;else if(J.cartesian)for(O=0;O<J.cartesian.length;O++){var G=J.cartesian[O];if(G.indexOf(c)===-1&&!k[G]){var D="."+G+",."+G+"-x,."+G+"-y";_._cartesianlayer.selectAll(D).remove(),m(G,_)}}},F.drawFramework=function(v){var u=v._fullLayout,f=v.calcdata,_,w={};for(_=0;_<f.length;_++){var k=f[_][0],J=k.trace,P=J.zorder||0;w[P]||(w[P]=[]),w[P].push(k)}var O=Object.keys(w).map(Number).sort(e.sorterAsc);O.length||(O=[0]),u._zindices=O;var M=b(v),W=M.length,E=[];for(_=0;_<W;_++)E[_]=M[_].slice();for(var N=1;N<O.length;N++){var R=[];for(_=0;_<W;_++)R[_]=M[_].slice(),R[_][0]+=c+(N+1);E=E.concat(R)}var V=u._cartesianlayer.selectAll(".subplot").data(E,String);V.enter().append("g").attr("class",function(U){return"subplot "+U[0]}),V.order(),V.exit().call(g,u),V.each(function(U){var G=U[0],D=G.indexOf(c),Z=D!==-1,q=Z?G.slice(0,D):G,ae=u._plots[G];ae||(ae=e.extendFlat({},u._plots[q]),ae&&(ae.id=G,u._plots[G]=ae,u._subplots.cartesian.push(G))),ae&&(ae.plotgroup=C.select(this),y(v,ae),Z||(ae.draglayer=t(u._draggers,"g",G)))})},F.rangePlot=function(v,u,f){y(v,u),h(v,u,f),n.style(v)};function b(v){var u=v._fullLayout,f=u._zindices.length,_=u._subplots.cartesian,w=_.length,k,J,P,O,M,W,E=[],N=[];for(k=0;k<w;k++){P=_[k],O=u._plots[P],M=O.xaxis,W=O.yaxis;var R=M._mainAxis,V=W._mainAxis,U=R._id+V._id,G=u._plots[U];O.overlays=[],U!==P&&G?(O.mainplot=U,O.mainplotinfo=G,N.push(P)):(O.mainplot=void 0,O.mainplotinfo=void 0,E.push(P))}for(k=0;k<N.length;k++)P=N[k],O=u._plots[P],O.mainplotinfo.overlays.push(O);var D=E.concat(N),Z=[];for(k=0;k<w;k++){P=D[k],O=u._plots[P],M=O.xaxis,W=O.yaxis;for(var q=[],ae=1;ae<=f;ae++){var te="";for(ae>1&&(te+=c+ae),q.push(P+te),J=0;J<O.overlays.length;J++)q.push(O.overlays[J].id+te)}q=q.concat([M.layer,W.layer,M.overlaying||"",W.overlaying||""]),Z.push(q)}return Z}function y(v,u){var f=v._fullLayout,_=u.plotgroup,w=u.id,k=w.indexOf(c),J=k!==-1,P=s.layerValue2layerClass[u.xaxis.layer],O=s.layerValue2layerClass[u.yaxis.layer],M=f._hasOnlyLargeSploms,W=f._zindices.length>1,E=u.mainplotinfo;if(!u.mainplot||W)if(M)u.xlines=t(_,"path","xlines-above"),u.ylines=t(_,"path","ylines-above"),u.xaxislayer=t(_,"g","xaxislayer-above"),u.yaxislayer=t(_,"g","yaxislayer-above");else{if(!J){var N=t(_,"g","layer-subplot");u.shapelayer=t(N,"g","shapelayer"),u.imagelayer=t(N,"g","imagelayer"),E&&W?(u.minorGridlayer=E.minorGridlayer,u.gridlayer=E.gridlayer,u.zerolinelayer=E.zerolinelayer):(u.minorGridlayer=t(_,"g","minor-gridlayer"),u.gridlayer=t(_,"g","gridlayer"),u.zerolinelayer=t(_,"g","zerolinelayer"));var R=t(_,"g","layer-between");u.shapelayerBetween=t(R,"g","shapelayer"),u.imagelayerBetween=t(R,"g","imagelayer"),t(_,"path","xlines-below"),t(_,"path","ylines-below"),u.overlinesBelow=t(_,"g","overlines-below"),t(_,"g","xaxislayer-below"),t(_,"g","yaxislayer-below"),u.overaxesBelow=t(_,"g","overaxes-below")}u.overplot=t(_,"g","overplot"),u.plot=t(u.overplot,"g",w),J||(u.xlines=t(_,"path","xlines-above"),u.ylines=t(_,"path","ylines-above"),u.overlinesAbove=t(_,"g","overlines-above"),t(_,"g","xaxislayer-above"),t(_,"g","yaxislayer-above"),u.overaxesAbove=t(_,"g","overaxes-above"),u.xlines=_.select(".xlines-"+P),u.ylines=_.select(".ylines-"+O),u.xaxislayer=_.select(".xaxislayer-"+P),u.yaxislayer=_.select(".yaxislayer-"+O))}else{var V=E.plotgroup,U=w+"-x",G=w+"-y";u.minorGridlayer=E.minorGridlayer,u.gridlayer=E.gridlayer,u.zerolinelayer=E.zerolinelayer,t(E.overlinesBelow,"path",U),t(E.overlinesBelow,"path",G),t(E.overaxesBelow,"g",U),t(E.overaxesBelow,"g",G),u.plot=t(E.overplot,"g",w),t(E.overlinesAbove,"path",U),t(E.overlinesAbove,"path",G),t(E.overaxesAbove,"g",U),t(E.overaxesAbove,"g",G),u.xlines=V.select(".overlines-"+P).select("."+U),u.ylines=V.select(".overlines-"+O).select("."+G),u.xaxislayer=V.select(".overaxes-"+P).select("."+U),u.yaxislayer=V.select(".overaxes-"+O).select("."+G)}J||(M||(p(u.minorGridlayer,"g",u.xaxis._id),p(u.minorGridlayer,"g",u.yaxis._id),u.minorGridlayer.selectAll("g").map(function(D){return D[0]}).sort(o.idSort),p(u.gridlayer,"g",u.xaxis._id),p(u.gridlayer,"g",u.yaxis._id),u.gridlayer.selectAll("g").map(function(D){return D[0]}).sort(o.idSort)),u.xlines.style("fill","none").classed("crisp",!0),u.ylines.style("fill","none").classed("crisp",!0))}function g(v,u){if(v){var f={};v.each(function(O){var M=O[0],W=C.select(this);W.remove(),m(M,u),f[M]=!0});for(var _ in u._plots)for(var w=u._plots[_],k=w.overlays||[],J=0;J<k.length;J++){var P=k[J];f[P.id]&&P.plot.selectAll(".trace").remove()}}}function m(v,u){u._draggers.selectAll("g."+v).remove(),u._defs.select("#clip"+u._uid+v+"plot").remove()}F.toSVG=function(v){var u=v._fullLayout._glimages,f=C.select(v).selectAll(".svg-container"),_=f.filter(function(k,J){return J===f.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function w(){var k=this,J=k.toDataURL("image/png"),P=u.append("svg:image");P.attr({xmlns:d.svg,"xlink:href":J,preserveAspectRatio:"none",x:0,y:0,width:k.style.width,height:k.style.height})}_.each(w)},F.updateFx=r0().updateFx}),yd=ye((F,C)=>{var i=fi();C.exports={hasLines:i.hasLines,hasMarkers:i.hasMarkers,hasText:i.hasText,isBubble:i.isBubble,attributes:so(),layoutAttributes:gl(),supplyDefaults:Ku(),crossTraceDefaults:ed(),supplyLayoutDefaults:td(),calc:p0().calc,crossTraceCalc:rd(),arraysToCalcdata:f0(),plot:ld(),colorbar:g0(),formatLabels:sd(),style:m0().style,styleOnSelect:m0().styleOnSelect,hoverPoints:ud(),selectPoints:dd(),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:Rl(),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}}),xd=ye((F,C)=>{var i=Xt(),e=$n(),n=n0(),r=zt(),l=r.strScale,o=r.strRotate,s=r.strTranslate;C.exports=function(d,t,p){var c=d.node(),h=n[p.arrowhead||0],b=n[p.startarrowhead||0],y=(p.arrowwidth||1)*(p.arrowsize||1),g=(p.arrowwidth||1)*(p.startarrowsize||1),m=t.indexOf("start")>=0,v=t.indexOf("end")>=0,u=h.backoff*y+p.standoff,f=b.backoff*g+p.startstandoff,_,w,k,J;if(c.nodeName==="line"){_={x:+d.attr("x1"),y:+d.attr("y1")},w={x:+d.attr("x2"),y:+d.attr("y2")};var P=_.x-w.x,O=_.y-w.y;if(k=Math.atan2(O,P),J=k+Math.PI,u&&f&&u+f>Math.sqrt(P*P+O*O)){ae();return}if(u){if(u*u>P*P+O*O){ae();return}var M=u*Math.cos(k),W=u*Math.sin(k);w.x+=M,w.y+=W,d.attr({x2:w.x,y2:w.y})}if(f){if(f*f>P*P+O*O){ae();return}var E=f*Math.cos(k),N=f*Math.sin(k);_.x-=E,_.y-=N,d.attr({x1:_.x,y1:_.y})}}else if(c.nodeName==="path"){var R=c.getTotalLength(),V="";if(R<u+f){ae();return}var U=c.getPointAtLength(0),G=c.getPointAtLength(.1);k=Math.atan2(U.y-G.y,U.x-G.x),_=c.getPointAtLength(Math.min(f,R)),V="0px,"+f+"px,";var D=c.getPointAtLength(R),Z=c.getPointAtLength(R-.1);J=Math.atan2(D.y-Z.y,D.x-Z.x),w=c.getPointAtLength(Math.max(0,R-u));var q=V?f+u:u;V+=R-q+"px,"+R+"px",d.style("stroke-dasharray",V)}function ae(){d.style("stroke-dasharray","0px,100px")}function te(ie,fe,he,be){ie.path&&(ie.noRotate&&(he=0),i.select(c.parentNode).append("path").attr({class:d.attr("class"),d:ie.path,transform:s(fe.x,fe.y)+o(he*180/Math.PI)+l(be)}).style({fill:e.rgb(p.arrowcolor),"stroke-width":0}))}m&&te(b,_,k,g),v&&te(h,w,J,y)}}),Nl=ye((F,C)=>{var i=Xt(),e=Kn(),n=Lr(),r=zt(),l=r.strTranslate,o=cr(),s=$n(),d=Ga(),t=Fi(),p=Xr(),c=qi(),h=Ai(),b=or().arrayEditor,y=xd();C.exports={draw:g,drawOne:m,drawRaw:u};function g(f){var _=f._fullLayout;_._infolayer.selectAll(".annotation").remove();for(var w=0;w<_.annotations.length;w++)_.annotations[w].visible&&m(f,w);return n.previousPromises(f)}function m(f,_){var w=f._fullLayout,k=w.annotations[_]||{},J=o.getFromId(f,k.xref),P=o.getFromId(f,k.yref);J&&J.setScale(),P&&P.setScale(),u(f,k,_,!1,J,P)}function v(f,_,w,k,J){var P=J[w],O=J[w+"ref"],M=w.indexOf("y")!==-1,W=o.getRefType(O)==="domain",E=M?k.h:k.w;return f?W?P+(M?-_:_)/f._length:f.p2r(f.r2p(P)+_):P+(M?-_:_)/E}function u(f,_,w,k,J,P){var O=f._fullLayout,M=f._fullLayout._size,W=f._context.edits,E,N;k?(E="annotation-"+k,N=k+".annotations"):(E="annotation",N="annotations");var R=b(f.layout,N,_),V=R.modifyBase,U=R.modifyItem,G=R.getUpdateObj;O._infolayer.selectAll("."+E+'[data-index="'+w+'"]').remove();var D="clip"+O._uid+"_ann"+w;if(!_._input||_.visible===!1){i.selectAll("#"+D).remove();return}var Z={x:{},y:{}},q=+_.textangle||0,ae=O._infolayer.append("g").classed(E,!0).attr("data-index",String(w)).style("opacity",_.opacity),te=ae.append("g").classed("annotation-text-g",!0),ie=W[_.showarrow?"annotationTail":"annotationPosition"],fe=_.captureevents||W.annotationText||ie;function he(se){var ce={index:w,annotation:_._input,fullAnnotation:_,event:se};return k&&(ce.subplotId=k),ce}var be=te.append("g").style("pointer-events",fe?"all":null).call(c,"pointer").on("click",function(){f._dragging=!1,f.emit("plotly_clickannotation",he(i.event))});_.hovertext&&be.on("mouseover",function(){var se=_.hoverlabel,ce=se.font,we=this.getBoundingClientRect(),Se=f.getBoundingClientRect();t.loneHover({x0:we.left-Se.left,x1:we.right-Se.left,y:(we.top+we.bottom)/2-Se.top,text:_.hovertext,color:se.bgcolor,borderColor:se.bordercolor,fontFamily:ce.family,fontSize:ce.size,fontColor:ce.color,fontWeight:ce.weight,fontStyle:ce.style,fontVariant:ce.variant,fontShadow:ce.fontShadow,fontLineposition:ce.fontLineposition,fontTextcase:ce.fontTextcase},{container:O._hoverlayer.node(),outerContainer:O._paper.node(),gd:f})}).on("mouseout",function(){t.loneUnhover(O._hoverlayer.node())});var H=_.borderwidth,B=_.borderpad,A=H+B,X=be.append("rect").attr("class","bg").style("stroke-width",H+"px").call(s.stroke,_.bordercolor).call(s.fill,_.bgcolor),I=_.width||_.height,j=O._topclips.selectAll("#"+D).data(I?[0]:[]);j.enter().append("clipPath").classed("annclip",!0).attr("id",D).append("rect"),j.exit().remove();var T=_.font,L=O._meta?r.templateString(_.text,O._meta):_.text,$=be.append("text").classed("annotation-text",!0).text(L);function Y(se){return se.call(d.font,T).attr({"text-anchor":{left:"start",right:"end"}[_.align]||"middle"}),p.convertToTspans(se,f,re),se}function re(){var se=$.selectAll("a");if(se.size()===1&&se.text()===$.text()){var ce=be.insert("a",":first-child").attr({"xlink:xlink:href":se.attr("xlink:href"),"xlink:xlink:show":se.attr("xlink:show")}).style({cursor:"pointer"});ce.node().appendChild(X.node())}var we=be.select(".annotation-text-math-group"),Se=!we.empty(),Ie=d.bBox((Se?we:$).node()),Ze=Ie.width,He=Ie.height,Be=_.width||Ze,pe=_.height||He,_e=Math.round(Be+2*A),oe=Math.round(pe+2*A);function Le(en,Ft){return Ft==="auto"&&(en<1/3?Ft="left":en>2/3?Ft="right":Ft="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[Ft]}for(var Re=!1,Ye=["x","y"],ot=0;ot<Ye.length;ot++){var Xe=Ye[ot],lt=_[Xe+"ref"]||Xe,ut=_["a"+Xe+"ref"],dt={x:J,y:P}[Xe],xt=(q+(Xe==="x"?0:-90))*Math.PI/180,qe=_e*Math.cos(xt),bt=oe*Math.sin(xt),Dt=Math.abs(qe)+Math.abs(bt),pt=_[Xe+"anchor"],St=_[Xe+"shift"]*(Xe==="x"?1:-1),me=Z[Xe],Ae,ke,K,de,xe,ge=o.getRefType(lt);if(dt&&ge!=="domain"){var Ee=dt.r2fraction(_[Xe]);(Ee<0||Ee>1)&&(ut===lt?(Ee=dt.r2fraction(_["a"+Xe]),(Ee<0||Ee>1)&&(Re=!0)):Re=!0),Ae=dt._offset+dt.r2p(_[Xe]),de=.5}else{var Me=ge==="domain";Xe==="x"?(K=_[Xe],Ae=Me?dt._offset+dt._length*K:Ae=M.l+M.w*K):(K=1-_[Xe],Ae=Me?dt._offset+dt._length*K:Ae=M.t+M.h*K),de=_.showarrow?.5:K}if(_.showarrow){me.head=Ae;var Je=_["a"+Xe];if(xe=qe*Le(.5,_.xanchor)-bt*Le(.5,_.yanchor),ut===lt){var Qe=o.getRefType(ut);Qe==="domain"?(Xe==="y"&&(Je=1-Je),me.tail=dt._offset+dt._length*Je):Qe==="paper"?Xe==="y"?(Je=1-Je,me.tail=M.t+M.h*Je):me.tail=M.l+M.w*Je:me.tail=dt._offset+dt.r2p(Je),ke=xe}else me.tail=Ae+Je,ke=xe+Je;me.text=me.tail+xe;var st=O[Xe==="x"?"width":"height"];if(lt==="paper"&&(me.head=r.constrain(me.head,1,st-1)),ut==="pixel"){var ze=-Math.max(me.tail-3,me.text),rt=Math.min(me.tail+3,me.text)-st;ze>0?(me.tail+=ze,me.text+=ze):rt>0&&(me.tail-=rt,me.text-=rt)}me.tail+=St,me.head+=St}else xe=Dt*Le(de,pt),ke=xe,me.text=Ae+xe;me.text+=St,xe+=St,ke+=St,_["_"+Xe+"padplus"]=Dt/2+ke,_["_"+Xe+"padminus"]=Dt/2-ke,_["_"+Xe+"size"]=Dt,_["_"+Xe+"shift"]=xe}if(Re){be.remove();return}var ft=0,yt=0;if(_.align!=="left"&&(ft=(Be-Ze)*(_.align==="center"?.5:1)),_.valign!=="top"&&(yt=(pe-He)*(_.valign==="middle"?.5:1)),Se)we.select("svg").attr({x:A+ft-1,y:A+yt}).call(d.setClipUrl,I?D:null,f);else{var Ht=A+yt-Ie.top,Wt=A+ft-Ie.left;$.call(p.positionText,Wt,Ht).call(d.setClipUrl,I?D:null,f)}j.select("rect").call(d.setRect,A,A,Be,pe),X.call(d.setRect,H/2,H/2,_e-H,oe-H),be.call(d.setTranslate,Math.round(Z.x.text-_e/2),Math.round(Z.y.text-oe/2)),te.attr({transform:"rotate("+q+","+Z.x.text+","+Z.y.text+")"});var hn=function(en,Ft){ae.selectAll(".annotation-arrow-g").remove();var Nt=Z.x.head,ln=Z.y.head,tn=Z.x.tail+en,sn=Z.y.tail+Ft,Ut=Z.x.text+en,Pt=Z.y.text+Ft,nn=r.rotationXYMatrix(q,Ut,Pt),On=r.apply2DTransform(nn),Qn=r.apply2DTransform2(nn),rn=+X.attr("width"),In=+X.attr("height"),Nn=Ut-.5*rn,xa=Nn+rn,Et=Pt-.5*In,ea=Et+In,ee=[[Nn,Et,Nn,ea],[Nn,ea,xa,ea],[xa,ea,xa,Et],[xa,Et,Nn,Et]].map(Qn);if(!ee.reduce(function(_t,Ct){return _t^!!r.segmentsIntersect(Nt,ln,Nt+1e6,ln+1e6,Ct[0],Ct[1],Ct[2],Ct[3])},!1)){ee.forEach(function(_t){var Ct=r.segmentsIntersect(tn,sn,Nt,ln,_t[0],_t[1],_t[2],_t[3]);Ct&&(tn=Ct.x,sn=Ct.y)});var le=_.arrowwidth,$e=_.arrowcolor,Ve=_.arrowside,De=ae.append("g").style({opacity:s.opacity($e)}).classed("annotation-arrow-g",!0),Pe=De.append("path").attr("d","M"+tn+","+sn+"L"+Nt+","+ln).style("stroke-width",le+"px").call(s.stroke,s.rgb($e));if(y(Pe,Ve,_),W.annotationPosition&&Pe.node().parentNode&&!k){var je=Nt,We=ln;if(_.standoff){var Ne=Math.sqrt(Math.pow(Nt-tn,2)+Math.pow(ln-sn,2));je+=_.standoff*(tn-Nt)/Ne,We+=_.standoff*(sn-ln)/Ne}var Ue=De.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(tn-je)+","+(sn-We),transform:l(je,We)}).style("stroke-width",le+6+"px").call(s.stroke,"rgba(0,0,0,0)").call(s.fill,"rgba(0,0,0,0)"),Ke,it;h.init({element:Ue.node(),gd:f,prepFn:function(){var _t=d.getTranslate(be);Ke=_t.x,it=_t.y,J&&J.autorange&&V(J._name+".autorange",!0),P&&P.autorange&&V(P._name+".autorange",!0)},moveFn:function(_t,Ct){var Mt=On(Ke,it),jt=Mt[0]+_t,$t=Mt[1]+Ct;be.call(d.setTranslate,jt,$t),U("x",v(J,_t,"x",M,_)),U("y",v(P,Ct,"y",M,_)),_.axref===_.xref&&U("ax",v(J,_t,"ax",M,_)),_.ayref===_.yref&&U("ay",v(P,Ct,"ay",M,_)),De.attr("transform",l(_t,Ct)),te.attr({transform:"rotate("+q+","+jt+","+$t+")"})},doneFn:function(){e.call("_guiRelayout",f,G());var _t=document.querySelector(".js-notes-box-panel");_t&&_t.redraw(_t.selectedObj)}})}}};if(_.showarrow&&hn(0,0),ie){var Bt;h.init({element:be.node(),gd:f,prepFn:function(){Bt=te.attr("transform")},moveFn:function(en,Ft){var Nt="pointer";if(_.showarrow)_.axref===_.xref?U("ax",v(J,en,"ax",M,_)):U("ax",_.ax+en),_.ayref===_.yref?U("ay",v(P,Ft,"ay",M.w,_)):U("ay",_.ay+Ft),hn(en,Ft);else{if(k)return;var ln,tn;if(J)ln=v(J,en,"x",M,_);else{var sn=_._xsize/M.w,Ut=_.x+(_._xshift-_.xshift)/M.w-sn/2;ln=h.align(Ut+en/M.w,sn,0,1,_.xanchor)}if(P)tn=v(P,Ft,"y",M,_);else{var Pt=_._ysize/M.h,nn=_.y-(_._yshift+_.yshift)/M.h-Pt/2;tn=h.align(nn-Ft/M.h,Pt,0,1,_.yanchor)}U("x",ln),U("y",tn),(!J||!P)&&(Nt=h.getCursor(J?.5:ln,P?.5:tn,_.xanchor,_.yanchor))}te.attr({transform:l(en,Ft)+Bt}),c(be,Nt)},clickFn:function(en,Ft){_.captureevents&&f.emit("plotly_clickannotation",he(Ft))},doneFn:function(){c(be),e.call("_guiRelayout",f,G());var en=document.querySelector(".js-notes-box-panel");en&&en.redraw(en.selectedObj)}})}}W.annotationText?$.call(p.makeEditable,{delegate:be,gd:f}).call(Y).on("edit",function(se){_.text=se,this.call(Y),U("text",se),J&&J.autorange&&V(J._name+".autorange",!0),P&&P.autorange&&V(P._name+".autorange",!0),e.call("_guiRelayout",f,G())}):$.call(Y)}}),bd=ye((F,C)=>{var i=zt(),e=Kn(),n=or().arrayEditor;C.exports={hasClickToShow:r,onClick:l};function r(d,t){var p=o(d,t);return p.on.length>0||p.explicitOff.length>0}function l(d,t){var p=o(d,t),c=p.on,h=p.off.concat(p.explicitOff),b={},y=d._fullLayout.annotations,g,m;if(c.length||h.length){for(g=0;g<c.length;g++)m=n(d.layout,"annotations",y[c[g]]),m.modifyItem("visible",!0),i.extendFlat(b,m.getUpdateObj());for(g=0;g<h.length;g++)m=n(d.layout,"annotations",y[h[g]]),m.modifyItem("visible",!1),i.extendFlat(b,m.getUpdateObj());return e.call("update",d,{},b)}}function o(d,t){var p=d._fullLayout.annotations,c=[],h=[],b=[],y=(t||[]).length,g,m,v,u,f,_,w,k;for(g=0;g<p.length;g++)if(v=p[g],u=v.clicktoshow,u){for(m=0;m<y;m++)if(f=t[m],_=f.xaxis,w=f.yaxis,_._id===v.xref&&w._id===v.yref&&_.d2r(f.x)===s(v._xclick,_)&&w.d2r(f.y)===s(v._yclick,w)){v.visible?u==="onout"?k=h:k=b:k=c,k.push(g);break}m===y&&v.visible&&u==="onout"&&h.push(g)}return{on:c,off:h,explicitOff:b}}function s(d,t){return t.type==="log"?t.l2r(d):t.d2r(d)}}),b0=ye((F,C)=>{var i=zt(),e=$n();C.exports=function(n,r,l,o){o("opacity");var s=o("bgcolor"),d=o("bordercolor"),t=e.opacity(d);o("borderpad");var p=o("borderwidth"),c=o("showarrow");o("text",c?" ":l._dfltTitle.annotation),o("textangle"),i.coerceFont(o,"font",l.font),o("width"),o("align");var h=o("height");if(h&&o("valign"),c){var b=o("arrowside"),y,g;b.indexOf("end")!==-1&&(y=o("arrowhead"),g=o("arrowsize")),b.indexOf("start")!==-1&&(o("startarrowhead",y),o("startarrowsize",g)),o("arrowcolor",t?r.bordercolor:e.defaultLine),o("arrowwidth",(t&&p||1)*2),o("standoff"),o("startstandoff")}var m=o("hovertext"),v=l.hoverlabel||{};if(m){var u=o("hoverlabel.bgcolor",v.bgcolor||(e.opacity(s)?e.rgb(s):e.defaultLine)),f=o("hoverlabel.bordercolor",v.bordercolor||e.contrast(u)),_=i.extendFlat({},v.font);_.color||(_.color=f),i.coerceFont(o,"hoverlabel.font",_)}o("captureevents",!!m)}}),_d=ye((F,C)=>{var i=zt(),e=cr(),n=ki(),r=b0(),l=_o();C.exports=function(s,d){n(s,d,{name:"annotations",handleItemDefaults:o})};function o(s,d,t){function p(M,W){return i.coerce(s,d,l,M,W)}var c=p("visible"),h=p("clicktoshow");if(c||h){r(s,d,t,p);for(var b=d.showarrow,y=["x","y"],g=[-10,-30],m={_fullLayout:t},v=0;v<2;v++){var u=y[v],f=e.coerceRef(s,d,m,u,"","paper");if(f!=="paper"){var _=e.getFromId(m,f);_._annIndices.push(d._index)}if(e.coercePosition(d,m,p,f,u,.5),b){var w="a"+u,k=e.coerceRef(s,d,m,w,"pixel",["pixel","paper"]);k!=="pixel"&&k!==f&&(k=d[w]="pixel");var J=k==="pixel"?g[v]:.4;e.coercePosition(d,m,p,k,w,J)}p(u+"anchor"),p(u+"shift")}if(i.noneOrAll(s,d,["x","y"]),b&&i.noneOrAll(s,d,["ax","ay"]),h){var P=p("xclick"),O=p("yclick");d._xclick=P===void 0?d.x:e.cleanPosition(P,m,d.xref),d._yclick=O===void 0?d.y:e.cleanPosition(O,m,d.yref)}}}}),wd=ye((F,C)=>{var i=zt(),e=cr(),n=Nl().draw;C.exports=function(o){var s=o._fullLayout,d=i.filterVisible(s.annotations);if(d.length&&o._fullData.length)return i.syncOrAsync([n,r],o)};function r(o){var s=o._fullLayout;i.filterVisible(s.annotations).forEach(function(d){var t=e.getFromId(o,d.xref),p=e.getFromId(o,d.yref),c=e.getRefType(d.xref),h=e.getRefType(d.yref);d._extremes={},c==="range"&&l(d,t),h==="range"&&l(d,p)})}function l(o,s){var d=s._id,t=d.charAt(0),p=o[t],c=o["a"+t],h=o[t+"ref"],b=o["a"+t+"ref"],y=o["_"+t+"padplus"],g=o["_"+t+"padminus"],m={x:1,y:-1}[t]*o[t+"shift"],v=3*o.arrowsize*o.arrowwidth||0,u=v+m,f=v-m,_=3*o.startarrowsize*o.arrowwidth||0,w=_+m,k=_-m,J;if(b===h){var P=e.findExtremes(s,[s.r2c(p)],{ppadplus:u,ppadminus:f}),O=e.findExtremes(s,[s.r2c(c)],{ppadplus:Math.max(y,w),ppadminus:Math.max(g,k)});J={min:[P.min[0],O.min[0]],max:[P.max[0],O.max[0]]}}else w=c?w+c:w,k=c?k-c:k,J=e.findExtremes(s,[s.r2c(p)],{ppadplus:Math.max(y,u,w),ppadminus:Math.max(g,f,k)});o._extremes[d]=J}}),Td=ye((F,C)=>{var i=on(),e=ba();C.exports=function(n,r,l,o){r=r||{};var s=l==="log"&&r.type==="linear",d=l==="linear"&&r.type==="log";if(!(s||d))return;var t=n._fullLayout.annotations,p=r._id.charAt(0),c,h;function b(g){var m=c[g],v=null;s?v=e(m,r.range):v=Math.pow(10,m),i(v)||(v=null),o(h+g,v)}for(var y=0;y<t.length;y++)c=t[y],h="annotations["+y+"].",c[p+"ref"]===r._id&&b(p),c["a"+p+"ref"]===r._id&&b("a"+p)}}),Md=ye((F,C)=>{var i=Nl(),e=bd();C.exports={moduleType:"component",name:"annotations",layoutAttributes:_o(),supplyLayoutDefaults:_d(),includeBasePlot:zo()("annotations"),calcAutorange:wd(),draw:i.draw,drawOne:i.drawOne,drawRaw:i.drawRaw,hasClickToShow:e.hasClickToShow,onClick:e.onClick,convertCoords:Td()}}),jl=ye((F,C)=>{var i=_o(),e=Tr().overrideAll,n=or().templatedArray;C.exports=e(n("annotation",{visible:i.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:i.xanchor,xshift:i.xshift,yanchor:i.yanchor,yshift:i.yshift,text:i.text,textangle:i.textangle,font:i.font,width:i.width,height:i.height,opacity:i.opacity,align:i.align,valign:i.valign,bgcolor:i.bgcolor,bordercolor:i.bordercolor,borderpad:i.borderpad,borderwidth:i.borderwidth,showarrow:i.showarrow,arrowcolor:i.arrowcolor,arrowhead:i.arrowhead,startarrowhead:i.startarrowhead,arrowside:i.arrowside,arrowsize:i.arrowsize,startarrowsize:i.startarrowsize,arrowwidth:i.arrowwidth,standoff:i.standoff,startstandoff:i.startstandoff,hovertext:i.hovertext,hoverlabel:i.hoverlabel,captureevents:i.captureevents}),"calc","from-root")}),kd=ye((F,C)=>{var i=zt(),e=cr(),n=ki(),r=b0(),l=jl();C.exports=function(s,d,t){n(s,d,{name:"annotations",handleItemDefaults:o,fullLayout:t.fullLayout})};function o(s,d,t,p){function c(y,g){return i.coerce(s,d,l,y,g)}function h(y){var g=y+"axis",m={_fullLayout:{}};return m._fullLayout[g]=t[g],e.coercePosition(d,m,c,y,y,.5)}var b=c("visible");b&&(r(s,d,p.fullLayout,c),h("x"),h("y"),h("z"),i.noneOrAll(s,d,["x","y","z"]),d.xref="x",d.yref="y",d.zref="z",c("xanchor"),c("yanchor"),c("xshift"),c("yshift"),d.showarrow&&(d.axref="pixel",d.ayref="pixel",c("ax",-10),c("ay",-30),i.noneOrAll(s,d,["ax","ay"])))}}),Ad=ye((F,C)=>{var i=zt(),e=cr();C.exports=function(r){for(var l=r.fullSceneLayout,o=l.annotations,s=0;s<o.length;s++)n(o[s],r);r.fullLayout._infolayer.selectAll(".annotation-"+r.id).remove()};function n(r,l){var o=l.fullSceneLayout,s=o.domain,d=l.fullLayout._size,t={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};r._xa={},i.extendFlat(r._xa,t),e.setConvert(r._xa),r._xa._offset=d.l+s.x[0]*d.w,r._xa.l2p=function(){return .5*(1+r._pdata[0]/r._pdata[3])*d.w*(s.x[1]-s.x[0])},r._ya={},i.extendFlat(r._ya,t),e.setConvert(r._ya),r._ya._offset=d.t+(1-s.y[1])*d.h,r._ya.l2p=function(){return .5*(1-r._pdata[1]/r._pdata[3])*d.h*(s.y[1]-s.y[0])}}}),Sd=ye((F,C)=>{function i(n,r){var l=[0,0,0,0],o,s;for(o=0;o<4;++o)for(s=0;s<4;++s)l[s]+=n[4*o+s]*r[o];return l}function e(n,r){var l=i(n.projection,i(n.view,i(n.model,[r[0],r[1],r[2],1])));return l}C.exports=e}),Ld=ye((F,C)=>{var i=Nl().drawRaw,e=Sd(),n=["x","y","z"];C.exports=function(r){for(var l=r.fullSceneLayout,o=r.dataScale,s=l.annotations,d=0;d<s.length;d++){for(var t=s[d],p=!1,c=0;c<3;c++){var h=n[c],b=t[h],y=l[h+"axis"],g=y.r2fraction(b);if(g<0||g>1){p=!0;break}}p?r.fullLayout._infolayer.select(".annotation-"+r.id+'[data-index="'+d+'"]').remove():(t._pdata=e(r.glplot.cameraParams,[l.xaxis.r2l(t.x)*o[0],l.yaxis.r2l(t.y)*o[1],l.zaxis.r2l(t.z)*o[2]]),i(r.graphDiv,t,d,r.id,t._xa,t._ya))}}}),Od=ye((F,C)=>{var i=Kn(),e=zt();C.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:jl()}}},layoutAttributes:jl(),handleDefaults:kd(),includeBasePlot:n,convert:Ad(),draw:Ld()};function n(r,l){var o=i.subplotsRegistry.gl3d;if(o)for(var s=o.attrRegex,d=Object.keys(r),t=0;t<d.length;t++){var p=d[t];s.test(p)&&(r[p].annotations||[]).length&&(e.pushUnique(l._basePlotModules,o),e.pushUnique(l._subplots.gl3d,p))}}}),_0=ye((F,C)=>{var i=_o(),e=Za(),n=so().line,r=Rr().dash,l=Ca().extendFlat,o=or().templatedArray;jo();var s=Er(),d=Sr().shapeTexttemplateAttrs,t=go();C.exports=o("shape",{visible:l({},s.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:l({},s.legend,{editType:"calc+arraydraw"}),legendgroup:l({},s.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:l({},s.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:e({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:l({},s.legendrank,{editType:"calc+arraydraw"}),legendwidth:l({},s.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw"},xref:l({},i.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},x0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},x1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},yref:l({},i.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},y0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},y1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:l({},n.color,{editType:"arraydraw"}),width:l({},n.width,{editType:"calc+arraydraw"}),dash:l({},r,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:d({},{keys:Object.keys(t)}),font:e({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})}),Dd=ye((F,C)=>{var i=zt(),e=cr(),n=ki(),r=_0(),l=Ji();C.exports=function(d,t){n(d,t,{name:"shapes",handleItemDefaults:s})};function o(d,t){return d?"bottom":t.indexOf("top")!==-1?"top":t.indexOf("bottom")!==-1?"bottom":"middle"}function s(d,t,p){function c(H,B){return i.coerce(d,t,r,H,B)}t._isShape=!0;var h=c("visible");if(h){var b=c("showlegend");b&&(c("legend"),c("legendwidth"),c("legendgroup"),c("legendgrouptitle.text"),i.coerceFont(c,"legendgrouptitle.font"),c("legendrank"));var y=c("path"),g=y?"path":"rect",m=c("type",g),v=m!=="path";v&&delete t.path,c("editable"),c("layer"),c("opacity"),c("fillcolor"),c("fillrule");var u=c("line.width");u&&(c("line.color"),c("line.dash"));for(var f=c("xsizemode"),_=c("ysizemode"),w=["x","y"],k=0;k<2;k++){var J=w[k],P=J+"anchor",O=J==="x"?f:_,M={_fullLayout:p},W,E,N,R=e.coerceRef(d,t,M,J,void 0,"paper"),V=e.getRefType(R);if(V==="range"?(W=e.getFromId(M,R),W._shapeIndices.push(t._index),N=l.rangeToShapePosition(W),E=l.shapePositionToRange(W),(W.type==="category"||W.type==="multicategory")&&(c(J+"0shift"),c(J+"1shift"))):E=N=i.identity,v){var U=.25,G=.75,D=J+"0",Z=J+"1",q=d[D],ae=d[Z];d[D]=E(d[D],!0),d[Z]=E(d[Z],!0),O==="pixel"?(c(D,0),c(Z,10)):(e.coercePosition(t,M,c,R,D,U),e.coercePosition(t,M,c,R,Z,G)),t[D]=N(t[D]),t[Z]=N(t[Z]),d[D]=q,d[Z]=ae}if(O==="pixel"){var te=d[P];d[P]=E(d[P],!0),e.coercePosition(t,M,c,R,P,.25),t[P]=N(t[P]),d[P]=te}}v&&i.noneOrAll(d,t,["x0","x1","y0","y1"]);var ie=m==="line",fe,he;if(v&&(fe=c("label.texttemplate")),fe||(he=c("label.text")),he||fe){c("label.textangle");var be=c("label.textposition",ie?"middle":"middle center");c("label.xanchor"),c("label.yanchor",o(ie,be)),c("label.padding"),i.coerceFont(c,"label.font",p.font)}}}}),Cd=ye((F,C)=>{var i=$n(),e=zt();function n(r,l){return r?"bottom":l.indexOf("top")!==-1?"top":l.indexOf("bottom")!==-1?"bottom":"middle"}C.exports=function(r,l,o){o("newshape.visible"),o("newshape.name"),o("newshape.showlegend"),o("newshape.legend"),o("newshape.legendwidth"),o("newshape.legendgroup"),o("newshape.legendgrouptitle.text"),e.coerceFont(o,"newshape.legendgrouptitle.font"),o("newshape.legendrank"),o("newshape.drawdirection"),o("newshape.layer"),o("newshape.fillcolor"),o("newshape.fillrule"),o("newshape.opacity");var s=o("newshape.line.width");if(s){var d=(r||{}).plot_bgcolor||"#FFF";o("newshape.line.color",i.contrast(d)),o("newshape.line.dash")}var t=r.dragmode==="drawline",p=o("newshape.label.text"),c=o("newshape.label.texttemplate");if(p||c){o("newshape.label.textangle");var h=o("newshape.label.textposition",t?"middle":"middle center");o("newshape.label.xanchor"),o("newshape.label.yanchor",n(t,h)),o("newshape.label.padding"),e.coerceFont(o,"newshape.label.font",l.font)}o("activeshape.fillcolor"),o("activeshape.opacity")}}),Pd=ye((F,C)=>{var i=zt(),e=cr(),n=Ro(),r=Ji();C.exports=function(t){var p=t._fullLayout,c=i.filterVisible(p.shapes);if(!(!c.length||!t._fullData.length))for(var h=0;h<c.length;h++){var b=c[h];b._extremes={};var y,g,m=e.getRefType(b.xref),v=e.getRefType(b.yref);b.xref!=="paper"&&m!=="domain"&&(y=e.getFromId(t,b.xref),g=d(y,b,n.paramIsX),g&&(b._extremes[y._id]=e.findExtremes(y,g,l(b)))),b.yref!=="paper"&&v!=="domain"&&(y=e.getFromId(t,b.yref),g=d(y,b,n.paramIsY),g&&(b._extremes[y._id]=e.findExtremes(y,g,o(b))))}};function l(t){return s(t.line.width,t.xsizemode,t.x0,t.x1,t.path,!1)}function o(t){return s(t.line.width,t.ysizemode,t.y0,t.y1,t.path,!0)}function s(t,p,c,h,b,y){var g=t/2,m=y;if(p==="pixel"){var v=b?r.extractPathCoords(b,y?n.paramIsY:n.paramIsX):[c,h],u=i.aggNums(Math.max,null,v),f=i.aggNums(Math.min,null,v),_=f<0?Math.abs(f)+g:g,w=u>0?u+g:g;return{ppad:g,ppadplus:m?_:w,ppadminus:m?w:_}}else return{ppad:g}}function d(t,p,c){var h=t._id.charAt(0)==="x"?"x":"y",b=t.type==="category"||t.type==="multicategory",y,g,m=0,v=0,u=b?t.r2c:t.d2c,f=p[h+"sizemode"]==="scaled";if(f?(y=p[h+"0"],g=p[h+"1"],b&&(m=p[h+"0shift"],v=p[h+"1shift"])):(y=p[h+"anchor"],g=p[h+"anchor"]),y!==void 0)return[u(y)+m,u(g)+v];if(p.path){var _=1/0,w=-1/0,k=p.path.match(n.segmentRE),J,P,O,M,W;for(t.type==="date"&&(u=r.decodeDate(u)),J=0;J<k.length;J++)P=k[J],O=c[P.charAt(0)].drawn,O!==void 0&&(M=k[J].substr(1).match(n.paramRE),!(!M||M.length<O)&&(W=u(M[O]),W<_&&(_=W),W>w&&(w=W)));if(w>=_)return[_,w]}}}),Ed=ye((F,C)=>{var i=Cl();C.exports={moduleType:"component",name:"shapes",layoutAttributes:_0(),supplyLayoutDefaults:Dd(),supplyDrawNewShapeDefaults:Cd(),includeBasePlot:zo()("shapes"),calcAutorange:Pd(),draw:i.draw,drawOne:i.drawOne}}),w0=ye((F,C)=>{var i=$r(),e=or().templatedArray;jo(),C.exports=e("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",i.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",i.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})}),Fd=ye((F,C)=>{var i=zt(),e=cr(),n=ki(),r=w0(),l="images";C.exports=function(s,d){var t={name:l,handleItemDefaults:o};n(s,d,t)};function o(s,d,t){function p(f,_){return i.coerce(s,d,r,f,_)}var c=p("source"),h=p("visible",!!c);if(!h)return d;p("layer"),p("xanchor"),p("yanchor"),p("sizex"),p("sizey"),p("sizing"),p("opacity");for(var b={_fullLayout:t},y=["x","y"],g=0;g<2;g++){var m=y[g],v=e.coerceRef(s,d,b,m,"paper",void 0);if(v!=="paper"){var u=e.getFromId(b,v);u._imgIndices.push(d._index)}e.coercePosition(d,b,p,v,m,0)}return d}}),Id=ye((F,C)=>{var i=Xt(),e=Ga(),n=cr(),r=Nr(),l=lo();C.exports=function(o){var s=o._fullLayout,d=[],t={},p=[],c,h;for(h=0;h<s.images.length;h++){var b=s.images[h];if(b.visible)if(b.layer==="below"&&b.xref!=="paper"&&b.yref!=="paper"){c=r.ref2id(b.xref)+r.ref2id(b.yref);var y=s._plots[c];if(!y){p.push(b);continue}y.mainplot&&(c=y.mainplot.id),t[c]||(t[c]=[]),t[c].push(b)}else b.layer==="above"?d.push(b):p.push(b)}var g={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function m(O){var M=i.select(this);if(this._imgSrc!==O.source)if(M.attr("xmlns",l.svg),!o._context.staticPlot||O.source&&O.source.slice(0,5)==="data:")M.attr("xlink:href",O.source),this._imgSrc=O.source;else{var W=new Promise((function(E){var N=new Image;this.img=N,N.setAttribute("crossOrigin","anonymous"),N.onerror=R,N.onload=function(){var V=document.createElement("canvas");V.width=this.width,V.height=this.height;var U=V.getContext("2d",{willReadFrequently:!0});U.drawImage(this,0,0);var G=V.toDataURL("image/png");M.attr("xlink:href",G),E()},M.on("error",R),N.src=O.source,this._imgSrc=O.source;function R(){M.remove(),E()}}).bind(this));o._promises.push(W)}}function v(O){var M=i.select(this),W=n.getFromId(o,O.xref),E=n.getFromId(o,O.yref),N=n.getRefType(O.xref)==="domain",R=n.getRefType(O.yref)==="domain",V=s._size,U,G;W!==void 0?U=typeof O.xref=="string"&&N?W._length*O.sizex:Math.abs(W.l2p(O.sizex)-W.l2p(0)):U=O.sizex*V.w,E!==void 0?G=typeof O.yref=="string"&&R?E._length*O.sizey:Math.abs(E.l2p(O.sizey)-E.l2p(0)):G=O.sizey*V.h;var D=U*g.x[O.xanchor].offset,Z=G*g.y[O.yanchor].offset,q=g.x[O.xanchor].sizing+g.y[O.yanchor].sizing,ae,te;switch(W!==void 0?ae=typeof O.xref=="string"&&N?W._length*O.x+W._offset:W.r2p(O.x)+W._offset:ae=O.x*V.w+V.l,ae+=D,E!==void 0?te=typeof O.yref=="string"&&R?E._length*(1-O.y)+E._offset:E.r2p(O.y)+E._offset:te=V.h-O.y*V.h+V.t,te+=Z,O.sizing){case"fill":q+=" slice";break;case"stretch":q="none";break}M.attr({x:ae,y:te,width:U,height:G,preserveAspectRatio:q,opacity:O.opacity});var ie=W&&n.getRefType(O.xref)!=="domain"?W._id:"",fe=E&&n.getRefType(O.yref)!=="domain"?E._id:"",he=ie+fe;e.setClipUrl(M,he?"clip"+s._uid+he:null,o)}function u(O){return[O.xref,O.x,O.sizex,O.yref,O.y,O.sizey].join("_")}function f(O,M){return O._index-M._index}var _=s._imageLowerLayer.selectAll("image").data(p,u),w=s._imageUpperLayer.selectAll("image").data(d,u);_.enter().append("image"),w.enter().append("image"),_.exit().remove(),w.exit().remove(),_.each(function(O){m.bind(this)(O),v.bind(this)(O)}),w.each(function(O){m.bind(this)(O),v.bind(this)(O)}),_.sort(f),w.sort(f);var k=Object.keys(s._plots);for(h=0;h<k.length;h++){c=k[h];var J=s._plots[c];if(J.imagelayer){var P=J.imagelayer.selectAll("image").data(t[c]||[],u);P.enter().append("image"),P.exit().remove(),P.each(function(O){m.bind(this)(O),v.bind(this)(O)}),P.sort(f)}}}}),Rd=ye((F,C)=>{var i=on(),e=ba();C.exports=function(n,r,l,o){r=r||{};var s=l==="log"&&r.type==="linear",d=l==="linear"&&r.type==="log";if(s||d){for(var t=n._fullLayout.images,p=r._id.charAt(0),c,h,b=0;b<t.length;b++)if(c=t[b],h="images["+b+"].",c[p+"ref"]===r._id){var y=c[p],g=c["size"+p],m=null,v=null;if(s){m=e(y,r.range);var u=g/Math.pow(10,m)/2;v=2*Math.log(u+Math.sqrt(1+u*u))/Math.LN10}else m=Math.pow(10,y),v=m*(Math.pow(10,g/2)-Math.pow(10,-g/2));i(m)?i(v)||(v=null):(m=null,v=null),o(h+p,m),o(h+"size"+p,v)}}}}),Nd=ye((F,C)=>{C.exports={moduleType:"component",name:"images",layoutAttributes:w0(),supplyLayoutDefaults:Fd(),includeBasePlot:zo()("images"),draw:Id(),convertCoords:Rd()}}),zl=ye((F,C)=>{C.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"◄",right:"►",up:"▲",down:"▼"}}}),T0=ye((F,C)=>{var i=Za(),e=kr(),n=Ca().extendFlat,r=Tr().overrideAll,l=mo(),o=or().templatedArray,s=o("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});C.exports=r(o("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:s,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:n(l({editType:"arraydraw"}),{}),font:i({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:e.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")}),jd=ye((F,C)=>{var i=zt(),e=ki(),n=T0(),r=zl(),l=r.name,o=n.buttons;C.exports=function(t,p){var c={name:l,handleItemDefaults:s};e(t,p,c)};function s(t,p,c){function h(g,m){return i.coerce(t,p,n,g,m)}var b=e(t,p,{name:"buttons",handleItemDefaults:d}),y=h("visible",b.length>0);y&&(h("active"),h("direction"),h("type"),h("showactive"),h("x"),h("y"),i.noneOrAll(t,p,["x","y"]),h("xanchor"),h("yanchor"),h("pad.t"),h("pad.r"),h("pad.b"),h("pad.l"),i.coerceFont(h,"font",c.font),h("bgcolor",c.paper_bgcolor),h("bordercolor"),h("borderwidth"))}function d(t,p){function c(b,y){return i.coerce(t,p,o,b,y)}var h=c("visible",t.method==="skip"||Array.isArray(t.args));h&&(c("method"),c("args"),c("args2"),c("label"),c("execute"))}}),zd=ye((F,C)=>{C.exports=l;var i=Xt(),e=$n(),n=Ga(),r=zt();function l(o,s,d){this.gd=o,this.container=s,this.id=d,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}l.barWidth=2,l.barLength=20,l.barRadius=2,l.barPad=1,l.barColor="#808BA4",l.prototype.enable=function(o,s,d){var t=this.gd._fullLayout,p=t.width,c=t.height;this.position=o;var h=this.position.l,b=this.position.w,y=this.position.t,g=this.position.h,m=this.position.direction,v=m==="down",u=m==="left",f=m==="right",_=m==="up",w=b,k=g,J,P,O,M;!v&&!u&&!f&&!_&&(this.position.direction="down",v=!0);var W=v||_;W?(J=h,P=J+w,v?(O=y,M=Math.min(O+k,c),k=M-O):(M=y+k,O=Math.max(M-k,0),k=M-O)):(O=y,M=O+k,u?(P=h+w,J=Math.max(P-w,0),w=P-J):(J=h,P=Math.min(J+w,p),w=P-J)),this._box={l:J,t:O,w,h:k};var E=b>w,N=l.barLength+2*l.barPad,R=l.barWidth+2*l.barPad,V=h,U=y+g;U+R>c&&(U=c-R);var G=this.container.selectAll("rect.scrollbar-horizontal").data(E?[0]:[]);G.exit().on(".drag",null).remove(),G.enter().append("rect").classed("scrollbar-horizontal",!0).call(e.fill,l.barColor),E?(this.hbar=G.attr({rx:l.barRadius,ry:l.barRadius,x:V,y:U,width:N,height:R}),this._hbarXMin=V+N/2,this._hbarTranslateMax=w-N):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var D=g>k,Z=l.barWidth+2*l.barPad,q=l.barLength+2*l.barPad,ae=h+b,te=y;ae+Z>p&&(ae=p-Z);var ie=this.container.selectAll("rect.scrollbar-vertical").data(D?[0]:[]);ie.exit().on(".drag",null).remove(),ie.enter().append("rect").classed("scrollbar-vertical",!0).call(e.fill,l.barColor),D?(this.vbar=ie.attr({rx:l.barRadius,ry:l.barRadius,x:ae,y:te,width:Z,height:q}),this._vbarYMin=te+q/2,this._vbarTranslateMax=k-q):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var fe=this.id,he=J-.5,be=D?P+Z+.5:P+.5,H=O-.5,B=E?M+R+.5:M+.5,A=t._topdefs.selectAll("#"+fe).data(E||D?[0]:[]);if(A.exit().remove(),A.enter().append("clipPath").attr("id",fe).append("rect"),E||D?(this._clipRect=A.select("rect").attr({x:Math.floor(he),y:Math.floor(H),width:Math.ceil(be)-Math.floor(he),height:Math.ceil(B)-Math.floor(H)}),this.container.call(n.setClipUrl,fe,this.gd),this.bg.attr({x:h,y,width:b,height:g})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(n.setClipUrl,null),delete this._clipRect),E||D){var X=i.behavior.drag().on("dragstart",function(){i.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(X);var I=i.behavior.drag().on("dragstart",function(){i.event.sourceEvent.preventDefault(),i.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));E&&this.hbar.on(".drag",null).call(I),D&&this.vbar.on(".drag",null).call(I)}this.setTranslate(s,d)},l.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(n.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},l.prototype._onBoxDrag=function(){var o=this.translateX,s=this.translateY;this.hbar&&(o-=i.event.dx),this.vbar&&(s-=i.event.dy),this.setTranslate(o,s)},l.prototype._onBoxWheel=function(){var o=this.translateX,s=this.translateY;this.hbar&&(o+=i.event.deltaY),this.vbar&&(s+=i.event.deltaY),this.setTranslate(o,s)},l.prototype._onBarDrag=function(){var o=this.translateX,s=this.translateY;if(this.hbar){var d=o+this._hbarXMin,t=d+this._hbarTranslateMax,p=r.constrain(i.event.x,d,t),c=(p-d)/(t-d),h=this.position.w-this._box.w;o=c*h}if(this.vbar){var b=s+this._vbarYMin,y=b+this._vbarTranslateMax,g=r.constrain(i.event.y,b,y),m=(g-b)/(y-b),v=this.position.h-this._box.h;s=m*v}this.setTranslate(o,s)},l.prototype.setTranslate=function(o,s){var d=this.position.w-this._box.w,t=this.position.h-this._box.h;if(o=r.constrain(o||0,0,d),s=r.constrain(s||0,0,t),this.translateX=o,this.translateY=s,this.container.call(n.setTranslate,this._box.l-this.position.l-o,this._box.t-this.position.t-s),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+o-.5),y:Math.floor(this.position.t+s-.5)}),this.hbar){var p=o/d;this.hbar.call(n.setTranslate,o+p*this._hbarTranslateMax,s)}if(this.vbar){var c=s/t;this.vbar.call(n.setTranslate,o,s+c*this._vbarTranslateMax)}}}),Hd=ye((F,C)=>{var i=Xt(),e=Lr(),n=$n(),r=Ga(),l=zt(),o=Xr(),s=or().arrayEditor,d=ai().LINE_SPACING,t=zl(),p=zd();C.exports=function(N){var R=N._fullLayout,V=l.filterVisible(R[t.name]);function U(fe){e.autoMargin(N,M(fe))}var G=R._menulayer.selectAll("g."+t.containerClassName).data(V.length>0?[0]:[]);if(G.enter().append("g").classed(t.containerClassName,!0).style("cursor","pointer"),G.exit().each(function(){i.select(this).selectAll("g."+t.headerGroupClassName).each(U)}).remove(),V.length!==0){var D=G.selectAll("g."+t.headerGroupClassName).data(V,c);D.enter().append("g").classed(t.headerGroupClassName,!0);for(var Z=l.ensureSingle(G,"g",t.dropdownButtonGroupClassName,function(fe){fe.style("pointer-events","all")}),q=0;q<V.length;q++){var ae=V[q];O(N,ae)}var te="updatemenus"+R._uid,ie=new p(N,Z,te);D.enter().size()&&(Z.node().parentNode.appendChild(Z.node()),Z.call(E)),D.exit().each(function(fe){Z.call(E),U(fe)}).remove(),D.each(function(fe){var he=i.select(this),be=fe.type==="dropdown"?Z:null;e.manageCommandObserver(N,fe,fe.buttons,function(H){y(N,fe,fe.buttons[H.index],he,be,ie,H.index,!0)}),fe.type==="dropdown"?(g(N,he,Z,ie,fe),b(Z,fe)&&m(N,he,Z,ie,fe)):m(N,he,null,null,fe)})}};function c(N){return N._index}function h(N){return+N.attr(t.menuIndexAttrName)==-1}function b(N,R){return+N.attr(t.menuIndexAttrName)===R._index}function y(N,R,V,U,G,D,Z,q){R.active=Z,s(N.layout,t.name,R).applyUpdate("active",Z),R.type==="buttons"?m(N,U,null,null,R):R.type==="dropdown"&&(G.attr(t.menuIndexAttrName,"-1"),g(N,U,G,D,R),q||m(N,U,G,D,R))}function g(N,R,V,U,G){var D=l.ensureSingle(R,"g",t.headerClassName,function(he){he.style("pointer-events","all")}),Z=G._dims,q=G.active,ae=G.buttons[q]||t.blankHeaderOpts,te={y:G.pad.t,yPad:0,x:G.pad.l,xPad:0,index:0},ie={width:Z.headerWidth,height:Z.headerHeight};D.call(f,G,ae,N).call(W,G,te,ie);var fe=l.ensureSingle(R,"text",t.headerArrowClassName,function(he){he.attr("text-anchor","end").call(r.font,G.font).text(t.arrowSymbol[G.direction])});fe.attr({x:Z.headerWidth-t.arrowOffsetX+G.pad.l,y:Z.headerHeight/2+t.textOffsetY+G.pad.t}),D.on("click",function(){V.call(E,String(b(V,G)?-1:G._index)),m(N,R,V,U,G)}),D.on("mouseover",function(){D.call(J)}),D.on("mouseout",function(){D.call(P,G)}),r.setTranslate(R,Z.lx,Z.ly)}function m(N,R,V,U,G){V||(V=R,V.attr("pointer-events","all"));var D=!h(V)||G.type==="buttons"?G.buttons:[],Z=G.type==="dropdown"?t.dropdownButtonClassName:t.buttonClassName,q=V.selectAll("g."+Z).data(l.filterVisible(D)),ae=q.enter().append("g").classed(Z,!0),te=q.exit();G.type==="dropdown"?(ae.attr("opacity","0").transition().attr("opacity","1"),te.transition().attr("opacity","0").remove()):te.remove();var ie=0,fe=0,he=G._dims,be=["up","down"].indexOf(G.direction)!==-1;G.type==="dropdown"&&(be?fe=he.headerHeight+t.gapButtonHeader:ie=he.headerWidth+t.gapButtonHeader),G.type==="dropdown"&&G.direction==="up"&&(fe=-t.gapButtonHeader+t.gapButton-he.openHeight),G.type==="dropdown"&&G.direction==="left"&&(ie=-t.gapButtonHeader+t.gapButton-he.openWidth);var H={x:he.lx+ie+G.pad.l,y:he.ly+fe+G.pad.t,yPad:t.gapButton,xPad:t.gapButton,index:0},B={l:H.x+G.borderwidth,t:H.y+G.borderwidth};q.each(function(A,X){var I=i.select(this);I.call(f,G,A,N).call(W,G,H),I.on("click",function(){i.event.defaultPrevented||(A.execute&&(A.args2&&G.active===X?(y(N,G,A,R,V,U,-1),e.executeAPICommand(N,A.method,A.args2)):(y(N,G,A,R,V,U,X),e.executeAPICommand(N,A.method,A.args))),N.emit("plotly_buttonclicked",{menu:G,button:A,active:G.active}))}),I.on("mouseover",function(){I.call(J)}),I.on("mouseout",function(){I.call(P,G),q.call(k,G)})}),q.call(k,G),be?(B.w=Math.max(he.openWidth,he.headerWidth),B.h=H.y-B.t):(B.w=H.x-B.l,B.h=Math.max(he.openHeight,he.headerHeight)),B.direction=G.direction,U&&(q.size()?v(N,R,V,U,G,B):u(U))}function v(N,R,V,U,G,D){var Z=G.direction,q=Z==="up"||Z==="down",ae=G._dims,te=G.active,ie,fe,he;if(q)for(fe=0,he=0;he<te;he++)fe+=ae.heights[he]+t.gapButton;else for(ie=0,he=0;he<te;he++)ie+=ae.widths[he]+t.gapButton;U.enable(D,ie,fe),U.hbar&&U.hbar.attr("opacity","0").transition().attr("opacity","1"),U.vbar&&U.vbar.attr("opacity","0").transition().attr("opacity","1")}function u(N){var R=!!N.hbar,V=!!N.vbar;R&&N.hbar.transition().attr("opacity","0").each("end",function(){R=!1,V||N.disable()}),V&&N.vbar.transition().attr("opacity","0").each("end",function(){V=!1,R||N.disable()})}function f(N,R,V,U){N.call(_,R).call(w,R,V,U)}function _(N,R){var V=l.ensureSingle(N,"rect",t.itemRectClassName,function(U){U.attr({rx:t.rx,ry:t.ry,"shape-rendering":"crispEdges"})});V.call(n.stroke,R.bordercolor).call(n.fill,R.bgcolor).style("stroke-width",R.borderwidth+"px")}function w(N,R,V,U){var G=l.ensureSingle(N,"text",t.itemTextClassName,function(q){q.attr({"text-anchor":"start","data-notex":1})}),D=V.label,Z=U._fullLayout._meta;Z&&(D=l.templateString(D,Z)),G.call(r.font,R.font).text(D).call(o.convertToTspans,U)}function k(N,R){var V=R.active;N.each(function(U,G){var D=i.select(this);G===V&&R.showactive&&D.select("rect."+t.itemRectClassName).call(n.fill,t.activeColor)})}function J(N){N.select("rect."+t.itemRectClassName).call(n.fill,t.hoverColor)}function P(N,R){N.select("rect."+t.itemRectClassName).call(n.fill,R.bgcolor)}function O(N,R){var V=R._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},U=r.tester.selectAll("g."+t.dropdownButtonClassName).data(l.filterVisible(R.buttons));U.enter().append("g").classed(t.dropdownButtonClassName,!0);var G=["up","down"].indexOf(R.direction)!==-1;U.each(function(ie,fe){var he=i.select(this);he.call(f,R,ie,N);var be=he.select("."+t.itemTextClassName),H=be.node()&&r.bBox(be.node()).width,B=Math.max(H+t.textPadX,t.minWidth),A=R.font.size*d,X=o.lineCount(be),I=Math.max(A*X,t.minHeight)+t.textOffsetY;I=Math.ceil(I),B=Math.ceil(B),V.widths[fe]=B,V.heights[fe]=I,V.height1=Math.max(V.height1,I),V.width1=Math.max(V.width1,B),G?(V.totalWidth=Math.max(V.totalWidth,B),V.openWidth=V.totalWidth,V.totalHeight+=I+t.gapButton,V.openHeight+=I+t.gapButton):(V.totalWidth+=B+t.gapButton,V.openWidth+=B+t.gapButton,V.totalHeight=Math.max(V.totalHeight,I),V.openHeight=V.totalHeight)}),G?V.totalHeight-=t.gapButton:V.totalWidth-=t.gapButton,V.headerWidth=V.width1+t.arrowPadX,V.headerHeight=V.height1,R.type==="dropdown"&&(G?(V.width1+=t.arrowPadX,V.totalHeight=V.height1):V.totalWidth=V.width1,V.totalWidth+=t.arrowPadX),U.remove();var D=V.totalWidth+R.pad.l+R.pad.r,Z=V.totalHeight+R.pad.t+R.pad.b,q=N._fullLayout._size;V.lx=q.l+q.w*R.x,V.ly=q.t+q.h*(1-R.y);var ae="left";l.isRightAnchor(R)&&(V.lx-=D,ae="right"),l.isCenterAnchor(R)&&(V.lx-=D/2,ae="center");var te="top";l.isBottomAnchor(R)&&(V.ly-=Z,te="bottom"),l.isMiddleAnchor(R)&&(V.ly-=Z/2,te="middle"),V.totalWidth=Math.ceil(V.totalWidth),V.totalHeight=Math.ceil(V.totalHeight),V.lx=Math.round(V.lx),V.ly=Math.round(V.ly),e.autoMargin(N,M(R),{x:R.x,y:R.y,l:D*({right:1,center:.5}[ae]||0),r:D*({left:1,center:.5}[ae]||0),b:Z*({top:1,middle:.5}[te]||0),t:Z*({bottom:1,middle:.5}[te]||0)})}function M(N){return t.autoMarginIdRoot+N._index}function W(N,R,V,U){U=U||{};var G=N.select("."+t.itemRectClassName),D=N.select("."+t.itemTextClassName),Z=R.borderwidth,q=V.index,ae=R._dims;r.setTranslate(N,Z+V.x,Z+V.y);var te=["up","down"].indexOf(R.direction)!==-1,ie=U.height||(te?ae.heights[q]:ae.height1);G.attr({x:0,y:0,width:U.width||(te?ae.width1:ae.widths[q]),height:ie});var fe=R.font.size*d,he=o.lineCount(D),be=(he-1)*fe/2;o.positionText(D,t.textOffsetX,ie/2-be+t.textOffsetY),te?V.y+=ae.heights[q]+V.yPad:V.x+=ae.widths[q]+V.xPad,V.index++}function E(N,R){N.attr(t.menuIndexAttrName,R||"-1").selectAll("g."+t.dropdownButtonClassName).remove()}}),Bd=ye((F,C)=>{var i=zl();C.exports={moduleType:"component",name:i.name,layoutAttributes:T0(),supplyLayoutDefaults:jd(),draw:Hd()}}),Ho=ye((F,C)=>{C.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}}),M0=ye((F,C)=>{var i=Za(),e=mo(),n=Ca().extendDeepAll,r=Tr().overrideAll,l=gr(),o=or().templatedArray,s=Ho(),d=o("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});C.exports=r(o("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:d,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:n(e({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:l.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:i({})},font:i({}),activebgcolor:{valType:"color",dflt:s.gripBgActiveColor},bgcolor:{valType:"color",dflt:s.railBgColor},bordercolor:{valType:"color",dflt:s.railBorderColor},borderwidth:{valType:"number",min:0,dflt:s.railBorderWidth},ticklen:{valType:"number",min:0,dflt:s.tickLength},tickcolor:{valType:"color",dflt:s.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:s.minorTickLength}}),"arraydraw","from-root")}),Vd=ye((F,C)=>{var i=zt(),e=ki(),n=M0(),r=Ho(),l=r.name,o=n.steps;C.exports=function(t,p){e(t,p,{name:l,handleItemDefaults:s})};function s(t,p,c){function h(_,w){return i.coerce(t,p,n,_,w)}for(var b=e(t,p,{name:"steps",handleItemDefaults:d}),y=0,g=0;g<b.length;g++)b[g].visible&&y++;var m;if(y<2?m=p.visible=!1:m=h("visible"),!!m){p._stepCount=y;var v=p._visibleSteps=i.filterVisible(b),u=h("active");(b[u]||{}).visible||(p.active=v[0]._index),h("x"),h("y"),i.noneOrAll(t,p,["x","y"]),h("xanchor"),h("yanchor"),h("len"),h("lenmode"),h("pad.t"),h("pad.r"),h("pad.b"),h("pad.l"),i.coerceFont(h,"font",c.font);var f=h("currentvalue.visible");f&&(h("currentvalue.xanchor"),h("currentvalue.prefix"),h("currentvalue.suffix"),h("currentvalue.offset"),i.coerceFont(h,"currentvalue.font",p.font)),h("transition.duration"),h("transition.easing"),h("bgcolor"),h("activebgcolor"),h("bordercolor"),h("borderwidth"),h("ticklen"),h("tickwidth"),h("tickcolor"),h("minorticklen")}}function d(t,p){function c(y,g){return i.coerce(t,p,o,y,g)}var h;if(t.method!=="skip"&&!Array.isArray(t.args)?h=p.visible=!1:h=c("visible"),h){c("method"),c("args");var b=c("label","step-"+p._index);c("value",b),c("execute")}}}),Yd=ye((F,C)=>{var i=Xt(),e=Lr(),n=$n(),r=Ga(),l=zt(),o=l.strTranslate,s=Xr(),d=or().arrayEditor,t=Ho(),p=ai(),c=p.LINE_SPACING,h=p.FROM_TL,b=p.FROM_BR;C.exports=function(G){var D=G._context.staticPlot,Z=G._fullLayout,q=g(Z,G),ae=Z._infolayer.selectAll("g."+t.containerClassName).data(q.length>0?[0]:[]);ae.enter().append("g").classed(t.containerClassName,!0).style("cursor",D?null:"ew-resize");function te(be){be._commandObserver&&(be._commandObserver.remove(),delete be._commandObserver),e.autoMargin(G,y(be))}if(ae.exit().each(function(){i.select(this).selectAll("g."+t.groupClassName).each(te)}).remove(),q.length!==0){var ie=ae.selectAll("g."+t.groupClassName).data(q,m);ie.enter().append("g").classed(t.groupClassName,!0),ie.exit().each(te).remove();for(var fe=0;fe<q.length;fe++){var he=q[fe];v(G,he)}ie.each(function(be){var H=i.select(this);W(be),e.manageCommandObserver(G,be,be._visibleSteps,function(B){var A=H.data()[0];A.active!==B.index&&(A._dragging||P(G,H,A,B.index,!1,!0))}),u(G,i.select(this),be)})}};function y(G){return t.autoMarginIdRoot+G._index}function g(G,D){for(var Z=G[t.name],q=[],ae=0;ae<Z.length;ae++){var te=Z[ae];te.visible&&(te._gd=D,q.push(te))}return q}function m(G){return G._index}function v(G,D){var Z=r.tester.selectAll("g."+t.labelGroupClass).data(D._visibleSteps);Z.enter().append("g").classed(t.labelGroupClass,!0);var q=0,ae=0;Z.each(function(I){var j=i.select(this),T=w(j,{step:I},D),L=T.node();if(L){var $=r.bBox(L);ae=Math.max(ae,$.height),q=Math.max(q,$.width)}}),Z.remove();var te=D._dims={};te.inputAreaWidth=Math.max(t.railWidth,t.gripHeight);var ie=G._fullLayout._size;te.lx=ie.l+ie.w*D.x,te.ly=ie.t+ie.h*(1-D.y),D.lenmode==="fraction"?te.outerLength=Math.round(ie.w*D.len):te.outerLength=D.len,te.inputAreaStart=0,te.inputAreaLength=Math.round(te.outerLength-D.pad.l-D.pad.r);var fe=te.inputAreaLength-2*t.stepInset,he=fe/(D._stepCount-1),be=q+t.labelPadding;if(te.labelStride=Math.max(1,Math.ceil(be/he)),te.labelHeight=ae,te.currentValueMaxWidth=0,te.currentValueHeight=0,te.currentValueTotalHeight=0,te.currentValueMaxLines=1,D.currentvalue.visible){var H=r.tester.append("g");Z.each(function(I){var j=f(H,D,I.label),T=j.node()&&r.bBox(j.node())||{width:0,height:0},L=s.lineCount(j);te.currentValueMaxWidth=Math.max(te.currentValueMaxWidth,Math.ceil(T.width)),te.currentValueHeight=Math.max(te.currentValueHeight,Math.ceil(T.height)),te.currentValueMaxLines=Math.max(te.currentValueMaxLines,L)}),te.currentValueTotalHeight=te.currentValueHeight+D.currentvalue.offset,H.remove()}te.height=te.currentValueTotalHeight+t.tickOffset+D.ticklen+t.labelOffset+te.labelHeight+D.pad.t+D.pad.b;var B="left";l.isRightAnchor(D)&&(te.lx-=te.outerLength,B="right"),l.isCenterAnchor(D)&&(te.lx-=te.outerLength/2,B="center");var A="top";l.isBottomAnchor(D)&&(te.ly-=te.height,A="bottom"),l.isMiddleAnchor(D)&&(te.ly-=te.height/2,A="middle"),te.outerLength=Math.ceil(te.outerLength),te.height=Math.ceil(te.height),te.lx=Math.round(te.lx),te.ly=Math.round(te.ly);var X={y:D.y,b:te.height*b[A],t:te.height*h[A]};D.lenmode==="fraction"?(X.l=0,X.xl=D.x-D.len*h[B],X.r=0,X.xr=D.x+D.len*b[B]):(X.x=D.x,X.l=te.outerLength*h[B],X.r=te.outerLength*b[B]),e.autoMargin(G,y(D),X)}function u(G,D,Z){(Z.steps[Z.active]||{}).visible||(Z.active=Z._visibleSteps[0]._index),D.call(f,Z).call(U,Z).call(k,Z).call(M,Z).call(V,G,Z).call(_,G,Z);var q=Z._dims;r.setTranslate(D,q.lx+Z.pad.l,q.ly+Z.pad.t),D.call(E,Z,!1),D.call(f,Z)}function f(G,D,Z){if(D.currentvalue.visible){var q=D._dims,ae,te;switch(D.currentvalue.xanchor){case"right":ae=q.inputAreaLength-t.currentValueInset-q.currentValueMaxWidth,te="left";break;case"center":ae=q.inputAreaLength*.5,te="middle";break;default:ae=t.currentValueInset,te="left"}var ie=l.ensureSingle(G,"text",t.labelClass,function(A){A.attr({"text-anchor":te,"data-notex":1})}),fe=D.currentvalue.prefix?D.currentvalue.prefix:"";if(typeof Z=="string")fe+=Z;else{var he=D.steps[D.active].label,be=D._gd._fullLayout._meta;be&&(he=l.templateString(he,be)),fe+=he}D.currentvalue.suffix&&(fe+=D.currentvalue.suffix),ie.call(r.font,D.currentvalue.font).text(fe).call(s.convertToTspans,D._gd);var H=s.lineCount(ie),B=(q.currentValueMaxLines+1-H)*D.currentvalue.font.size*c;return s.positionText(ie,ae,B),ie}}function _(G,D,Z){var q=l.ensureSingle(G,"rect",t.gripRectClass,function(ae){ae.call(O,D,G,Z).style("pointer-events","all")});q.attr({width:t.gripWidth,height:t.gripHeight,rx:t.gripRadius,ry:t.gripRadius}).call(n.stroke,Z.bordercolor).call(n.fill,Z.bgcolor).style("stroke-width",Z.borderwidth+"px")}function w(G,D,Z){var q=l.ensureSingle(G,"text",t.labelClass,function(ie){ie.attr({"text-anchor":"middle","data-notex":1})}),ae=D.step.label,te=Z._gd._fullLayout._meta;return te&&(ae=l.templateString(ae,te)),q.call(r.font,Z.font).text(ae).call(s.convertToTspans,Z._gd),q}function k(G,D){var Z=l.ensureSingle(G,"g",t.labelsClass),q=D._dims,ae=Z.selectAll("g."+t.labelGroupClass).data(q.labelSteps);ae.enter().append("g").classed(t.labelGroupClass,!0),ae.exit().remove(),ae.each(function(te){var ie=i.select(this);ie.call(w,te,D),r.setTranslate(ie,N(D,te.fraction),t.tickOffset+D.ticklen+D.font.size*c+t.labelOffset+q.currentValueTotalHeight)})}function J(G,D,Z,q,ae){var te=Math.round(q*(Z._stepCount-1)),ie=Z._visibleSteps[te]._index;ie!==Z.active&&P(G,D,Z,ie,!0,ae)}function P(G,D,Z,q,ae,te){var ie=Z.active;Z.active=q,d(G.layout,t.name,Z).applyUpdate("active",q);var fe=Z.steps[Z.active];D.call(E,Z,te),D.call(f,Z),G.emit("plotly_sliderchange",{slider:Z,step:Z.steps[Z.active],interaction:ae,previousActive:ie}),fe&&fe.method&&ae&&(D._nextMethod?(D._nextMethod.step=fe,D._nextMethod.doCallback=ae,D._nextMethod.doTransition=te):(D._nextMethod={step:fe,doCallback:ae,doTransition:te},D._nextMethodRaf=window.requestAnimationFrame(function(){var he=D._nextMethod.step;he.method&&(he.execute&&e.executeAPICommand(G,he.method,he.args),D._nextMethod=null,D._nextMethodRaf=null)})))}function O(G,D,Z){if(D._context.staticPlot)return;var q=Z.node(),ae=i.select(D);function te(){return Z.data()[0]}function ie(){var fe=te();D.emit("plotly_sliderstart",{slider:fe});var he=Z.select("."+t.gripRectClass);i.event.stopPropagation(),i.event.preventDefault(),he.call(n.fill,fe.activebgcolor);var be=R(fe,i.mouse(q)[0]);J(D,Z,fe,be,!0),fe._dragging=!0;function H(){var A=te(),X=R(A,i.mouse(q)[0]);J(D,Z,A,X,!1)}ae.on("mousemove",H),ae.on("touchmove",H);function B(){var A=te();A._dragging=!1,he.call(n.fill,A.bgcolor),ae.on("mouseup",null),ae.on("mousemove",null),ae.on("touchend",null),ae.on("touchmove",null),D.emit("plotly_sliderend",{slider:A,step:A.steps[A.active]})}ae.on("mouseup",B),ae.on("touchend",B)}G.on("mousedown",ie),G.on("touchstart",ie)}function M(G,D){var Z=G.selectAll("rect."+t.tickRectClass).data(D._visibleSteps),q=D._dims;Z.enter().append("rect").classed(t.tickRectClass,!0),Z.exit().remove(),Z.attr({width:D.tickwidth+"px","shape-rendering":"crispEdges"}),Z.each(function(ae,te){var ie=te%q.labelStride===0,fe=i.select(this);fe.attr({height:ie?D.ticklen:D.minorticklen}).call(n.fill,D.tickcolor),r.setTranslate(fe,N(D,te/(D._stepCount-1))-.5*D.tickwidth,(ie?t.tickOffset:t.minorTickOffset)+q.currentValueTotalHeight)})}function W(G){var D=G._dims;D.labelSteps=[];for(var Z=G._stepCount,q=0;q<Z;q+=D.labelStride)D.labelSteps.push({fraction:q/(Z-1),step:G._visibleSteps[q]})}function E(G,D,Z){for(var q=G.select("rect."+t.gripRectClass),ae=0,te=0;te<D._stepCount;te++)if(D._visibleSteps[te]._index===D.active){ae=te;break}var ie=N(D,ae/(D._stepCount-1));if(!D._invokingCommand){var fe=q;Z&&D.transition.duration>0&&(fe=fe.transition().duration(D.transition.duration).ease(D.transition.easing)),fe.attr("transform",o(ie-t.gripWidth*.5,D._dims.currentValueTotalHeight))}}function N(G,D){var Z=G._dims;return Z.inputAreaStart+t.stepInset+(Z.inputAreaLength-2*t.stepInset)*Math.min(1,Math.max(0,D))}function R(G,D){var Z=G._dims;return Math.min(1,Math.max(0,(D-t.stepInset-Z.inputAreaStart)/(Z.inputAreaLength-2*t.stepInset-2*Z.inputAreaStart)))}function V(G,D,Z){var q=Z._dims,ae=l.ensureSingle(G,"rect",t.railTouchRectClass,function(te){te.call(O,D,G,Z).style("pointer-events","all")});ae.attr({width:q.inputAreaLength,height:Math.max(q.inputAreaWidth,t.tickOffset+Z.ticklen+q.labelHeight)}).call(n.fill,Z.bgcolor).attr("opacity",0),r.setTranslate(ae,0,q.currentValueTotalHeight)}function U(G,D){var Z=D._dims,q=Z.inputAreaLength-t.railInset*2,ae=l.ensureSingle(G,"rect",t.railRectClass);ae.attr({width:q,height:t.railWidth,rx:t.railRadius,ry:t.railRadius,"shape-rendering":"crispEdges"}).call(n.stroke,D.bordercolor).call(n.fill,D.bgcolor).style("stroke-width",D.borderwidth+"px"),r.setTranslate(ae,t.railInset,(Z.inputAreaWidth-t.railWidth)*.5+Z.currentValueTotalHeight)}}),$d=ye((F,C)=>{var i=Ho();C.exports={moduleType:"component",name:i.name,layoutAttributes:M0(),supplyLayoutDefaults:Vd(),draw:Yd()}}),Hl=ye((F,C)=>{var i=kr();C.exports={bgcolor:{valType:"color",dflt:i.background,editType:"plot"},bordercolor:{valType:"color",dflt:i.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}}),k0=ye((F,C)=>{C.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}}),Bl=ye((F,C)=>{C.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}}),Ud=ye(F=>{var C=Nr(),i=Xr(),e=Bl(),n=ai().LINE_SPACING,r=e.name;function l(o){var s=o&&o[r];return s&&s.visible}F.isVisible=l,F.makeData=function(o){for(var s=C.list({_fullLayout:o},"x",!0),d=o.margin,t=[],p=0;p<s.length;p++){var c=s[p];if(l(c)){t.push(c);var h=c[r];h._id=r+c._id,h._height=(o.height-d.b-d.t)*h.thickness,h._offsetShift=Math.floor(h.borderwidth/2)}}o._rangeSliderData=t},F.autoMarginOpts=function(o,s){var d=o._fullLayout,t=s[r],p=s._id.charAt(0),c=0,h=0;if(s.side==="bottom"&&(c=s._depth,s.title.text!==d._dfltTitle[p])){h=1.5*s.title.font.size+10+t._offsetShift;var b=(s.title.text.match(i.BR_TAG_ALL)||[]).length;h+=b*s.title.font.size*n}return{x:0,y:s._counterDomainMin,l:0,r:0,t:0,b:t._height+c+Math.max(d.margin.b,h),pad:e.extraPad+t._offsetShift*2}}}),Gd=ye((F,C)=>{var i=zt(),e=or(),n=Nr(),r=Hl(),l=k0();C.exports=function(o,s,d){var t=o[d],p=s[d];if(!(t.rangeslider||s._requestRangeslider[p._id]))return;i.isPlainObject(t.rangeslider)||(t.rangeslider={});var c=t.rangeslider,h=e.newContainer(p,"rangeslider");function b(M,W){return i.coerce(c,h,r,M,W)}var y,g;function m(M,W){return i.coerce(y,g,l,M,W)}var v=b("visible");if(v){b("bgcolor",s.plot_bgcolor),b("bordercolor"),b("borderwidth"),b("thickness"),b("autorange",!p.isValidRange(c.range)),b("range");var u=s._subplots;if(u)for(var f=u.cartesian.filter(function(M){return M.substr(0,M.indexOf("y"))===n.name2id(d)}).map(function(M){return M.substr(M.indexOf("y"),M.length)}),_=i.simpleMap(f,n.id2name),w=0;w<_.length;w++){var k=_[w];y=c[k]||{},g=e.newContainer(h,k,"yaxis");var J=s[k],P;y.range&&J.isValidRange(y.range)&&(P="fixed");var O=m("rangemode",P);O!=="match"&&m("range",J.range.slice())}h._input=c}}}),Wd=ye((F,C)=>{var i=Nr().list,e=Io().getAutoRange,n=Bl();C.exports=function(r){for(var l=i(r,"x",!0),o=0;o<l.length;o++){var s=l[o],d=s[n.name];d&&d.visible&&d.autorange&&(d._input.autorange=!0,d._input.range=d.range=e(r,s))}}}),Zd=ye((F,C)=>{var i=Xt(),e=Kn(),n=Lr(),r=zt(),l=r.strTranslate,o=Ga(),s=$n(),d=Fo(),t=Rl(),p=Nr(),c=Ai(),h=qi(),b=Bl();C.exports=function(O){for(var M=O._fullLayout,W=M._rangeSliderData,E=0;E<W.length;E++){var N=W[E][b.name];N._clipId=N._id+"-"+M._uid}function R(U){return U._name}var V=M._infolayer.selectAll("g."+b.containerClassName).data(W,R);V.exit().each(function(U){var G=U[b.name];M._topdefs.select("#"+G._clipId).remove()}).remove(),W.length!==0&&(V.enter().append("g").classed(b.containerClassName,!0).attr("pointer-events","all"),V.each(function(U){var G=i.select(this),D=U[b.name],Z=M[p.id2name(U.anchor)],q=D[p.id2name(U.anchor)];if(D.range){var ae=r.simpleMap(D.range,U.r2l),te=r.simpleMap(U.range,U.r2l),ie;te[0]<te[1]?ie=[Math.min(ae[0],te[0]),Math.max(ae[1],te[1])]:ie=[Math.max(ae[0],te[0]),Math.min(ae[1],te[1])],D.range=D._input.range=r.simpleMap(ie,U.l2r)}U.cleanRange("rangeslider.range");var fe=M._size,he=U.domain;D._width=fe.w*(he[1]-he[0]);var be=Math.round(fe.l+fe.w*he[0]),H=Math.round(fe.t+fe.h*(1-U._counterDomainMin)+(U.side==="bottom"?U._depth:0)+D._offsetShift+b.extraPad);G.attr("transform",l(be,H)),D._rl=r.simpleMap(D.range,U.r2l);var B=D._rl[0],A=D._rl[1],X=A-B;if(D.p2d=function(we){return we/D._width*X+B},D.d2p=function(we){return(we-B)/X*D._width},U.rangebreaks){var I=U.locateBreaks(B,A);if(I.length){var j,T,L=0;for(j=0;j<I.length;j++)T=I[j],L+=T.max-T.min;var $=D._width/(A-B-L),Y=[-$*B];for(j=0;j<I.length;j++)T=I[j],Y.push(Y[Y.length-1]-$*(T.max-T.min));for(D.d2p=function(we){for(var Se=Y[0],Ie=0;Ie<I.length;Ie++){var Ze=I[Ie];if(we>=Ze.max)Se=Y[Ie+1];else if(we<Ze.min)break}return Se+$*we},j=0;j<I.length;j++)T=I[j],T.pmin=D.d2p(T.min),T.pmax=D.d2p(T.max);D.p2d=function(we){for(var Se=Y[0],Ie=0;Ie<I.length;Ie++){var Ze=I[Ie];if(we>=Ze.pmax)Se=Y[Ie+1];else if(we<Ze.pmin)break}return(we-Se)/$}}}if(q.rangemode!=="match"){var re=Z.r2l(q.range[0]),se=Z.r2l(q.range[1]),ce=se-re;D.d2pOppAxis=function(we){return(we-re)/ce*D._height}}G.call(u,O,U,D).call(f,O,U,D).call(_,O,U,D).call(k,O,U,D,q).call(J,O,U,D).call(P,O,U,D),g(G,O,U,D),v(G,O,U,D,Z,q),U.side==="bottom"&&d.draw(O,U._id+"title",{propContainer:U,propName:U._name+".title",placeholder:M._dfltTitle.x,attributes:{x:U._offset+U._length/2,y:H+D._height+D._offsetShift+10+1.5*U.title.font.size,"text-anchor":"middle"}})}))};function y(O){return typeof O.clientX=="number"?O.clientX:O.touches&&O.touches.length>0?O.touches[0].clientX:0}function g(O,M,W,E){if(M._context.staticPlot)return;var N=O.select("rect."+b.slideBoxClassName).node(),R=O.select("rect."+b.grabAreaMinClassName).node(),V=O.select("rect."+b.grabAreaMaxClassName).node();function U(){var G=i.event,D=G.target,Z=y(G),q=Z-O.node().getBoundingClientRect().left,ae=E.d2p(W._rl[0]),te=E.d2p(W._rl[1]),ie=c.coverSlip();this.addEventListener("touchmove",fe),this.addEventListener("touchend",he),ie.addEventListener("mousemove",fe),ie.addEventListener("mouseup",he);function fe(be){var H=y(be),B=+H-Z,A,X,I;switch(D){case N:if(I="ew-resize",ae+B>W._length||te+B<0)return;A=ae+B,X=te+B;break;case R:if(I="col-resize",ae+B>W._length)return;A=ae+B,X=te;break;case V:if(I="col-resize",te+B<0)return;A=ae,X=te+B;break;default:I="ew-resize",A=q,X=q+B;break}if(X<A){var j=X;X=A,A=j}E._pixelMin=A,E._pixelMax=X,h(i.select(ie),I),m(O,M,W,E)}function he(){ie.removeEventListener("mousemove",fe),ie.removeEventListener("mouseup",he),this.removeEventListener("touchmove",fe),this.removeEventListener("touchend",he),r.removeElement(ie)}}O.on("mousedown",U),O.on("touchstart",U)}function m(O,M,W,E){function N(U){return W.l2r(r.constrain(U,E._rl[0],E._rl[1]))}var R=N(E.p2d(E._pixelMin)),V=N(E.p2d(E._pixelMax));window.requestAnimationFrame(function(){e.call("_guiRelayout",M,W._name+".range",[R,V])})}function v(O,M,W,E,N,R){var V=b.handleWidth/2;function U(be){return r.constrain(be,0,E._width)}function G(be){return r.constrain(be,0,E._height)}function D(be){return r.constrain(be,-V,E._width+V)}var Z=U(E.d2p(W._rl[0])),q=U(E.d2p(W._rl[1]));if(O.select("rect."+b.slideBoxClassName).attr("x",Z).attr("width",q-Z),O.select("rect."+b.maskMinClassName).attr("width",Z),O.select("rect."+b.maskMaxClassName).attr("x",q).attr("width",E._width-q),R.rangemode!=="match"){var ae=E._height-G(E.d2pOppAxis(N._rl[1])),te=E._height-G(E.d2pOppAxis(N._rl[0]));O.select("rect."+b.maskMinOppAxisClassName).attr("x",Z).attr("height",ae).attr("width",q-Z),O.select("rect."+b.maskMaxOppAxisClassName).attr("x",Z).attr("y",te).attr("height",E._height-te).attr("width",q-Z),O.select("rect."+b.slideBoxClassName).attr("y",ae).attr("height",te-ae)}var ie=.5,fe=Math.round(D(Z-V))-ie,he=Math.round(D(q-V))+ie;O.select("g."+b.grabberMinClassName).attr("transform",l(fe,ie)),O.select("g."+b.grabberMaxClassName).attr("transform",l(he,ie))}function u(O,M,W,E){var N=r.ensureSingle(O,"rect",b.bgClassName,function(G){G.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),R=E.borderwidth%2===0?E.borderwidth:E.borderwidth-1,V=-E._offsetShift,U=o.crispRound(M,E.borderwidth);N.attr({width:E._width+R,height:E._height+R,transform:l(V,V),"stroke-width":U}).call(s.stroke,E.bordercolor).call(s.fill,E.bgcolor)}function f(O,M,W,E){var N=M._fullLayout,R=r.ensureSingleById(N._topdefs,"clipPath",E._clipId,function(V){V.append("rect").attr({x:0,y:0})});R.select("rect").attr({width:E._width,height:E._height})}function _(O,M,W,E){var N=M.calcdata,R=O.selectAll("g."+b.rangePlotClassName).data(W._subplotsWith,r.identity);R.enter().append("g").attr("class",function(U){return b.rangePlotClassName+" "+U}).call(o.setClipUrl,E._clipId,M),R.order(),R.exit().remove();var V;R.each(function(U,G){var D=i.select(this),Z=G===0,q=p.getFromId(M,U,"y"),ae=q._name,te=E[ae],ie={data:[],layout:{xaxis:{type:W.type,domain:[0,1],range:E.range.slice(),calendar:W.calendar},width:E._width,height:E._height,margin:{t:0,b:0,l:0,r:0}},_context:M._context};W.rangebreaks&&(ie.layout.xaxis.rangebreaks=W.rangebreaks),ie.layout[ae]={type:q.type,domain:[0,1],range:te.rangemode!=="match"?te.range.slice():q.range.slice(),calendar:q.calendar},q.rangebreaks&&(ie.layout[ae].rangebreaks=q.rangebreaks),n.supplyDefaults(ie);var fe=ie._fullLayout.xaxis,he=ie._fullLayout[ae];fe.clearCalc(),fe.setScale(),he.clearCalc(),he.setScale();var be={id:U,plotgroup:D,xaxis:fe,yaxis:he,isRangePlot:!0};Z?V=be:(be.mainplot="xy",be.mainplotinfo=V),t.rangePlot(M,be,w(N,U))})}function w(O,M){for(var W=[],E=0;E<O.length;E++){var N=O[E],R=N[0].trace;R.xaxis+R.yaxis===M&&W.push(N)}return W}function k(O,M,W,E,N){var R=r.ensureSingle(O,"rect",b.maskMinClassName,function(D){D.attr({x:0,y:0,"shape-rendering":"crispEdges"})});R.attr("height",E._height).call(s.fill,b.maskColor);var V=r.ensureSingle(O,"rect",b.maskMaxClassName,function(D){D.attr({y:0,"shape-rendering":"crispEdges"})});if(V.attr("height",E._height).call(s.fill,b.maskColor),N.rangemode!=="match"){var U=r.ensureSingle(O,"rect",b.maskMinOppAxisClassName,function(D){D.attr({y:0,"shape-rendering":"crispEdges"})});U.attr("width",E._width).call(s.fill,b.maskOppAxisColor);var G=r.ensureSingle(O,"rect",b.maskMaxOppAxisClassName,function(D){D.attr({y:0,"shape-rendering":"crispEdges"})});G.attr("width",E._width).style("border-top",b.maskOppBorder).call(s.fill,b.maskOppAxisColor)}}function J(O,M,W,E){if(!M._context.staticPlot){var N=r.ensureSingle(O,"rect",b.slideBoxClassName,function(R){R.attr({y:0,cursor:b.slideBoxCursor,"shape-rendering":"crispEdges"})});N.attr({height:E._height,fill:b.slideBoxFill})}}function P(O,M,W,E){var N=r.ensureSingle(O,"g",b.grabberMinClassName),R=r.ensureSingle(O,"g",b.grabberMaxClassName),V={x:0,width:b.handleWidth,rx:b.handleRadius,fill:s.background,stroke:s.defaultLine,"stroke-width":b.handleStrokeWidth,"shape-rendering":"crispEdges"},U={y:Math.round(E._height/4),height:Math.round(E._height/2)},G=r.ensureSingle(N,"rect",b.handleMinClassName,function(te){te.attr(V)});G.attr(U);var D=r.ensureSingle(R,"rect",b.handleMaxClassName,function(te){te.attr(V)});D.attr(U);var Z={width:b.grabAreaWidth,x:0,y:0,fill:b.grabAreaFill,cursor:M._context.staticPlot?void 0:b.grabAreaCursor},q=r.ensureSingle(N,"rect",b.grabAreaMinClassName,function(te){te.attr(Z)});q.attr("height",E._height);var ae=r.ensureSingle(R,"rect",b.grabAreaMaxClassName,function(te){te.attr(Z)});ae.attr("height",E._height)}}),qd=ye((F,C)=>{var i=zt(),e=Hl(),n=k0(),r=Ud();C.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:i.extendFlat({},e,{yaxis:n})}}},layoutAttributes:Hl(),handleDefaults:Gd(),calcAutorange:Wd(),draw:Zd(),isVisible:r.isVisible,makeData:r.makeData,autoMarginOpts:r.autoMarginOpts}}),Vl=ye((F,C)=>{var i=Za(),e=kr(),n=or().templatedArray,r=n("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});C.exports={visible:{valType:"boolean",editType:"plot"},buttons:r,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:i({editType:"plot"}),bgcolor:{valType:"color",dflt:e.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:e.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}}),A0=ye((F,C)=>{C.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}}),Xd=ye((F,C)=>{var i=zt(),e=$n(),n=or(),r=ki(),l=Vl(),o=A0();C.exports=function(t,p,c,h,b){var y=t.rangeselector||{},g=n.newContainer(p,"rangeselector");function m(w,k){return i.coerce(y,g,l,w,k)}var v=r(y,g,{name:"buttons",handleItemDefaults:s,calendar:b}),u=m("visible",v.length>0);if(u){var f=d(p,c,h);m("x",f[0]),m("y",f[1]),i.noneOrAll(t,p,["x","y"]),m("xanchor"),m("yanchor"),i.coerceFont(m,"font",c.font);var _=m("bgcolor");m("activecolor",e.contrast(_,o.lightAmount,o.darkAmount)),m("bordercolor"),m("borderwidth")}};function s(t,p,c,h){var b=h.calendar;function y(v,u){return i.coerce(t,p,l.buttons,v,u)}var g=y("visible");if(g){var m=y("step");m!=="all"&&(b&&b!=="gregorian"&&(m==="month"||m==="year")?p.stepmode="backward":y("stepmode"),y("count")),y("label")}}function d(t,p,c){for(var h=c.filter(function(m){return p[m].anchor===t._id}),b=0,y=0;y<h.length;y++){var g=p[h[y]].domain;g&&(b=Math.max(g[1],b))}return[t.domain[0],b+o.yPad]}}),Jd=ye((F,C)=>{var i=ga(),e=zt().titleCase;C.exports=function(r,l){var o=r._name,s={};if(l.step==="all")s[o+".autorange"]=!0;else{var d=n(r,l);s[o+".range[0]"]=d[0],s[o+".range[1]"]=d[1]}return s};function n(r,l){var o=r.range,s=new Date(r.r2l(o[1])),d=l.step,t=i["utc"+e(d)],p=l.count,c;switch(l.stepmode){case"backward":c=r.l2r(+t.offset(s,-p));break;case"todate":var h=t.offset(s,-p);c=r.l2r(+t.ceil(h));break}var b=o[1];return[c,b]}}),Qd=ye((F,C)=>{var i=Xt(),e=Kn(),n=Lr(),r=$n(),l=Ga(),o=zt(),s=o.strTranslate,d=Xr(),t=Nr(),p=ai(),c=p.LINE_SPACING,h=p.FROM_TL,b=p.FROM_BR,y=A0(),g=Jd();C.exports=function(P){var O=P._fullLayout,M=O._infolayer.selectAll(".rangeselector").data(m(P),v);M.enter().append("g").classed("rangeselector",!0),M.exit().remove(),M.style({cursor:"pointer","pointer-events":"all"}),M.each(function(W){var E=i.select(this),N=W,R=N.rangeselector,V=E.selectAll("g.button").data(o.filterVisible(R.buttons));V.enter().append("g").classed("button",!0),V.exit().remove(),V.each(function(U){var G=i.select(this),D=g(N,U);U._isActive=u(N,U,D),G.call(f,R,U),G.call(w,R,U,P),G.on("click",function(){P._dragged||e.call("_guiRelayout",P,D)}),G.on("mouseover",function(){U._isHovered=!0,G.call(f,R,U)}),G.on("mouseout",function(){U._isHovered=!1,G.call(f,R,U)})}),J(P,V,R,N._name,E)})};function m(P){for(var O=t.list(P,"x",!0),M=[],W=0;W<O.length;W++){var E=O[W];E.rangeselector&&E.rangeselector.visible&&M.push(E)}return M}function v(P){return P._id}function u(P,O,M){if(O.step==="all")return P.autorange===!0;var W=Object.keys(M);return P.range[0]===M[W[0]]&&P.range[1]===M[W[1]]}function f(P,O,M){var W=o.ensureSingle(P,"rect","selector-rect",function(E){E.attr("shape-rendering","crispEdges")});W.attr({rx:y.rx,ry:y.ry}),W.call(r.stroke,O.bordercolor).call(r.fill,_(O,M)).style("stroke-width",O.borderwidth+"px")}function _(P,O){return O._isActive||O._isHovered?P.activecolor:P.bgcolor}function w(P,O,M,W){function E(R){d.convertToTspans(R,W)}var N=o.ensureSingle(P,"text","selector-text",function(R){R.attr("text-anchor","middle")});N.call(l.font,O.font).text(k(M,W._fullLayout._meta)).call(E)}function k(P,O){return P.label?O?o.templateString(P.label,O):P.label:P.step==="all"?"all":P.count+P.step.charAt(0)}function J(P,O,M,W,E){var N=0,R=0,V=M.borderwidth;O.each(function(){var ae=i.select(this),te=ae.select(".selector-text"),ie=M.font.size*c,fe=Math.max(ie*d.lineCount(te),16)+3;R=Math.max(R,fe)}),O.each(function(){var ae=i.select(this),te=ae.select(".selector-rect"),ie=ae.select(".selector-text"),fe=ie.node()&&l.bBox(ie.node()).width,he=M.font.size*c,be=d.lineCount(ie),H=Math.max(fe+10,y.minButtonWidth);ae.attr("transform",s(V+N,V)),te.attr({x:0,y:0,width:H,height:R}),d.positionText(ie,H/2,R/2-(be-1)*he/2+3),N+=H+5});var U=P._fullLayout._size,G=U.l+U.w*M.x,D=U.t+U.h*(1-M.y),Z="left";o.isRightAnchor(M)&&(G-=N,Z="right"),o.isCenterAnchor(M)&&(G-=N/2,Z="center");var q="top";o.isBottomAnchor(M)&&(D-=R,q="bottom"),o.isMiddleAnchor(M)&&(D-=R/2,q="middle"),N=Math.ceil(N),R=Math.ceil(R),G=Math.round(G),D=Math.round(D),n.autoMargin(P,W+"-range-selector",{x:M.x,y:M.y,l:N*h[Z],r:N*b[Z],b:R*b[q],t:R*h[q]}),E.attr("transform",s(G,D))}}),Kd=ye((F,C)=>{C.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:Vl()}}},layoutAttributes:Vl(),handleDefaults:Xd(),draw:Qd()}}),Yl=ye(F=>{var C=Ca().extendFlat;F.attributes=function(i,e){i=i||{},e=e||{};var n={valType:"info_array",editType:i.editType,items:[{valType:"number",min:0,max:1,editType:i.editType},{valType:"number",min:0,max:1,editType:i.editType}],dflt:[0,1]};i.name&&i.name+"",i.trace,e.description&&""+e.description;var r={x:C({},n,{}),y:C({},n,{}),editType:i.editType};return i.noGridCell||(r.row={valType:"integer",min:0,dflt:0,editType:i.editType},r.column={valType:"integer",min:0,dflt:0,editType:i.editType}),r},F.defaults=function(i,e,n,r){var l=r&&r.x||[0,1],o=r&&r.y||[0,1],s=e.grid;if(s){var d=n("domain.column");d!==void 0&&(d<s.columns?l=s._domains.x[d]:delete i.domain.column);var t=n("domain.row");t!==void 0&&(t<s.rows?o=s._domains.y[t]:delete i.domain.row)}var p=n("domain.x",l),c=n("domain.y",o);p[0]<p[1]||(i.domain.x=l.slice()),c[0]<c[1]||(i.domain.y=o.slice())}}),ef=ye((F,C)=>{var i=zt(),e=Yr().counter,n=Yl().attributes,r=$r().idRegex,l=or(),o={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[e("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[r.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[r.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:n({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function s(h,b,y){var g=b[y+"axes"],m=Object.keys((h._splomAxes||{})[y]||{});if(Array.isArray(g))return g;if(m.length)return m}function d(h,b){var y=h.grid||{},g=s(b,y,"x"),m=s(b,y,"y");if(!h.grid&&!g&&!m)return;var v=Array.isArray(y.subplots)&&Array.isArray(y.subplots[0]),u=Array.isArray(g),f=Array.isArray(m),_=u&&g!==y.xaxes&&f&&m!==y.yaxes,w,k;v?(w=y.subplots.length,k=y.subplots[0].length):(f&&(w=m.length),u&&(k=g.length));var J=l.newContainer(b,"grid");function P(D,Z){return i.coerce(y,J,o,D,Z)}var O=P("rows",w),M=P("columns",k);if(!(O*M>1)){delete b.grid;return}if(!v&&!u&&!f){var W=P("pattern")==="independent";W&&(v=!0)}J._hasSubplotGrid=v;var E=P("roworder"),N=E==="top to bottom",R=v?.2:.1,V=v?.3:.1,U,G;_&&b._splomGridDflt&&(U=b._splomGridDflt.xside,G=b._splomGridDflt.yside),J._domains={x:t("x",P,R,U,M),y:t("y",P,V,G,O,N)}}function t(h,b,y,g,m,v){var u=b(h+"gap",y),f=b("domain."+h);b(h+"side",g);for(var _=new Array(m),w=f[0],k=(f[1]-w)/(m-u),J=k*(1-u),P=0;P<m;P++){var O=w+k*P;_[v?m-1-P:P]=[O,O+J]}return _}function p(h,b){var y=b.grid;if(!(!y||!y._domains)){var g=h.grid||{},m=b._subplots,v=y._hasSubplotGrid,u=y.rows,f=y.columns,_=y.pattern==="independent",w,k,J,P,O,M,W,E=y._axisMap={};if(v){var N=g.subplots||[];M=y.subplots=new Array(u);var R=1;for(w=0;w<u;w++){var V=M[w]=new Array(f),U=N[w]||[];for(k=0;k<f;k++)if(_?(O=R===1?"xy":"x"+R+"y"+R,R++):O=U[k],V[k]="",m.cartesian.indexOf(O)!==-1){if(W=O.indexOf("y"),J=O.slice(0,W),P=O.slice(W),E[J]!==void 0&&E[J]!==k||E[P]!==void 0&&E[P]!==w)continue;V[k]=O,E[J]=k,E[P]=w}}}else{var G=s(b,g,"x"),D=s(b,g,"y");y.xaxes=c(G,m.xaxis,f,E,"x"),y.yaxes=c(D,m.yaxis,u,E,"y")}var Z=y._anchors={},q=y.roworder==="top to bottom";for(var ae in E){var te=ae.charAt(0),ie=y[te+"side"],fe,he,be;if(ie.length<8)Z[ae]="free";else if(te==="x"){if(ie.charAt(0)==="t"===q?(fe=0,he=1,be=u):(fe=u-1,he=-1,be=-1),v){var H=E[ae];for(w=fe;w!==be;w+=he)if(O=M[w][H],!!O&&(W=O.indexOf("y"),O.slice(0,W)===ae)){Z[ae]=O.slice(W);break}}else for(w=fe;w!==be;w+=he)if(P=y.yaxes[w],m.cartesian.indexOf(ae+P)!==-1){Z[ae]=P;break}}else if(ie.charAt(0)==="l"?(fe=0,he=1,be=f):(fe=f-1,he=-1,be=-1),v){var B=E[ae];for(w=fe;w!==be;w+=he)if(O=M[B][w],!!O&&(W=O.indexOf("y"),O.slice(W)===ae)){Z[ae]=O.slice(0,W);break}}else for(w=fe;w!==be;w+=he)if(J=y.xaxes[w],m.cartesian.indexOf(J+ae)!==-1){Z[ae]=J;break}}}}function c(h,b,y,g,m){var v=new Array(y),u;function f(_,w){b.indexOf(w)!==-1&&g[w]===void 0?(v[_]=w,g[w]=_):v[_]=""}if(Array.isArray(h))for(u=0;u<y;u++)f(u,h[u]);else for(f(0,m),u=1;u<y;u++)f(u,m+(u+1));return v}C.exports={moduleType:"component",name:"grid",schema:{layout:{grid:o}},layoutAttributes:o,sizeDefaults:d,contentDefaults:p}}),S0=ye((F,C)=>{C.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc"}}),tf=ye((F,C)=>{var i=on(),e=Kn(),n=zt(),r=or(),l=S0();C.exports=function(o,s,d,t){var p="error_"+t.axis,c=r.newContainer(s,p),h=o[p]||{};function b(_,w){return n.coerce(h,c,l,_,w)}var y=h.array!==void 0||h.value!==void 0||h.type==="sqrt",g=b("visible",y);if(g!==!1){var m=b("type","array"in h?"data":"percent"),v=!0;m!=="sqrt"&&(v=b("symmetric",!((m==="data"?"arrayminus":"valueminus")in h))),m==="data"?(b("array"),b("traceref"),v||(b("arrayminus"),b("tracerefminus"))):(m==="percent"||m==="constant")&&(b("value"),v||b("valueminus"));var u="copy_"+t.inherit+"style";if(t.inherit){var f=s["error_"+t.inherit];(f||{}).visible&&b(u,!(h.color||i(h.thickness)||i(h.width)))}(!t.inherit||!c[u])&&(b("color",d),b("thickness"),b("width",e.traceIs(s,"gl3d")?0:4))}}}),L0=ye((F,C)=>{C.exports=function(e){var n=e.type,r=e.symmetric;if(n==="data"){var l=e.array||[];if(r)return function(t,p){var c=+l[p];return[c,c]};var o=e.arrayminus||[];return function(t,p){var c=+l[p],h=+o[p];return!isNaN(c)||!isNaN(h)?[h||0,c||0]:[NaN,NaN]}}else{var s=i(n,e.value),d=i(n,e.valueminus);return r||e.valueminus===void 0?function(t){var p=s(t);return[p,p]}:function(t){return[d(t),s(t)]}}};function i(e,n){if(e==="percent")return function(r){return Math.abs(r*n/100)};if(e==="constant")return function(){return Math.abs(n)};if(e==="sqrt")return function(r){return Math.sqrt(Math.abs(r))}}}),nf=ye((F,C)=>{var i=on(),e=Kn(),n=cr(),r=zt(),l=L0();C.exports=function(s){for(var d=s.calcdata,t=0;t<d.length;t++){var p=d[t],c=p[0].trace;if(c.visible===!0&&e.traceIs(c,"errorBarsOK")){var h=n.getFromId(s,c.xaxis),b=n.getFromId(s,c.yaxis);o(p,c,h,"x"),o(p,c,b,"y")}}};function o(s,d,t,p){var c=d["error_"+p]||{},h=c.visible&&["linear","log"].indexOf(t.type)!==-1,b=[];if(h){for(var y=l(c),g=0;g<s.length;g++){var m=s[g],v=m.i;if(v===void 0)v=g;else if(v===null)continue;var u=m[p];if(i(t.c2l(u))){var f=y(u,v);if(i(f[0])&&i(f[1])){var _=m[p+"s"]=u-f[0],w=m[p+"h"]=u+f[1];b.push(_,w)}}}var k=t._id,J=d._extremes[k],P=n.findExtremes(t,b,r.extendFlat({tozero:J.opts.tozero},{padded:!0}));J.min=J.min.concat(P.min),J.max=J.max.concat(P.max)}}}),af=ye((F,C)=>{var i=Xt(),e=on(),n=Ga(),r=fi();C.exports=function(o,s,d,t){var p,c=d.xaxis,h=d.yaxis,b=t&&t.duration>0,y=o._context.staticPlot;s.each(function(g){var m=g[0].trace,v=m.error_x||{},u=m.error_y||{},f;m.ids&&(f=function(J){return J.id});var _=r.hasMarkers(m)&&m.marker.maxdisplayed>0;!u.visible&&!v.visible&&(g=[]);var w=i.select(this).selectAll("g.errorbar").data(g,f);if(w.exit().remove(),!!g.length){v.visible||w.selectAll("path.xerror").remove(),u.visible||w.selectAll("path.yerror").remove(),w.style("opacity",1);var k=w.enter().append("g").classed("errorbar",!0);b&&k.style("opacity",0).transition().duration(t.duration).style("opacity",1),n.setClipUrl(w,d.layerClipId,o),w.each(function(J){var P=i.select(this),O=l(J,c,h);if(!(_&&!J.vis)){var M,W=P.select("path.yerror");if(u.visible&&e(O.x)&&e(O.yh)&&e(O.ys)){var E=u.width;M="M"+(O.x-E)+","+O.yh+"h"+2*E+"m-"+E+",0V"+O.ys,O.noYS||(M+="m-"+E+",0h"+2*E),p=!W.size(),p?W=P.append("path").style("vector-effect",y?"none":"non-scaling-stroke").classed("yerror",!0):b&&(W=W.transition().duration(t.duration).ease(t.easing)),W.attr("d",M)}else W.remove();var N=P.select("path.xerror");if(v.visible&&e(O.y)&&e(O.xh)&&e(O.xs)){var R=(v.copy_ystyle?u:v).width;M="M"+O.xh+","+(O.y-R)+"v"+2*R+"m0,-"+R+"H"+O.xs,O.noXS||(M+="m0,-"+R+"v"+2*R),p=!N.size(),p?N=P.append("path").style("vector-effect",y?"none":"non-scaling-stroke").classed("xerror",!0):b&&(N=N.transition().duration(t.duration).ease(t.easing)),N.attr("d",M)}else N.remove()}})}})};function l(o,s,d){var t={x:s.c2p(o.x),y:d.c2p(o.y)};return o.yh!==void 0&&(t.yh=d.c2p(o.yh),t.ys=d.c2p(o.ys),e(t.ys)||(t.noYS=!0,t.ys=d.c2p(o.ys,!0))),o.xh!==void 0&&(t.xh=s.c2p(o.xh),t.xs=s.c2p(o.xs),e(t.xs)||(t.noXS=!0,t.xs=s.c2p(o.xs,!0))),t}}),rf=ye((F,C)=>{var i=Xt(),e=$n();C.exports=function(n){n.each(function(r){var l=r[0].trace,o=l.error_y||{},s=l.error_x||{},d=i.select(this);d.selectAll("path.yerror").style("stroke-width",o.thickness+"px").call(e.stroke,o.color),s.copy_ystyle&&(s=o),d.selectAll("path.xerror").style("stroke-width",s.thickness+"px").call(e.stroke,s.color)})}}),of=ye((F,C)=>{var i=zt(),e=Tr().overrideAll,n=S0(),r={error_x:i.extendFlat({},n),error_y:i.extendFlat({},n)};delete r.error_x.copy_zstyle,delete r.error_y.copy_zstyle,delete r.error_y.copy_ystyle;var l={error_x:i.extendFlat({},n),error_y:i.extendFlat({},n),error_z:i.extendFlat({},n)};delete l.error_x.copy_ystyle,delete l.error_y.copy_ystyle,delete l.error_z.copy_ystyle,delete l.error_z.copy_zstyle,C.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:r,bar:r,histogram:r,scatter3d:e(l,"calc","nested"),scattergl:e(r,"calc","nested")}},supplyDefaults:tf(),calc:nf(),makeComputeError:L0(),plot:af(),style:rf(),hoverInfo:o};function o(s,d,t){(d.error_y||{}).visible&&(t.yerr=s.yh-s.y,d.error_y.symmetric||(t.yerrneg=s.y-s.ys)),(d.error_x||{}).visible&&(t.xerr=s.xh-s.x,d.error_x.symmetric||(t.xerrneg=s.x-s.xs))}}),lf=ye((F,C)=>{C.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}}),sf=ye((F,C)=>{var i=Xt(),e=Va(),n=Lr(),r=Kn(),l=cr(),o=Ai(),s=zt(),d=s.strTranslate,t=Ca().extendFlat,p=qi(),c=Ga(),h=$n(),b=Fo(),y=Xr(),g=xi().flipScale,m=y0(),v=x0(),u=Mi(),f=ai(),_=f.LINE_SPACING,w=f.FROM_TL,k=f.FROM_BR,J=lf().cn;function P(R){var V=R._fullLayout,U=V._infolayer.selectAll("g."+J.colorbar).data(O(R),function(G){return G._id});U.enter().append("g").attr("class",function(G){return G._id}).classed(J.colorbar,!0),U.each(function(G){var D=i.select(this);s.ensureSingle(D,"rect",J.cbbg),s.ensureSingle(D,"g",J.cbfills),s.ensureSingle(D,"g",J.cblines),s.ensureSingle(D,"g",J.cbaxis,function(q){q.classed(J.crisp,!0)}),s.ensureSingle(D,"g",J.cbtitleunshift,function(q){q.append("g").classed(J.cbtitle,!0)}),s.ensureSingle(D,"rect",J.cboutline);var Z=M(D,G,R);Z&&Z.then&&(R._promises||[]).push(Z),R._context.edits.colorbarPosition&&W(D,G,R)}),U.exit().each(function(G){n.autoMargin(R,G._id)}).remove(),U.order()}function O(R){var V=R._fullLayout,U=R.calcdata,G=[],D,Z,q,ae;function te(T){return t(T,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function ie(){typeof ae.calc=="function"?ae.calc(R,q,D):(D._fillgradient=Z.reversescale?g(Z.colorscale):Z.colorscale,D._zrange=[Z[ae.min],Z[ae.max]])}for(var fe=0;fe<U.length;fe++){var he=U[fe];if(q=he[0].trace,!!q._module){var be=q._module.colorbar;if(q.visible===!0&&be)for(var H=Array.isArray(be),B=H?be:[be],A=0;A<B.length;A++){ae=B[A];var X=ae.container;Z=X?q[X]:q,Z&&Z.showscale&&(D=te(Z.colorbar),D._id="cb"+q.uid+(H&&X?"-"+X:""),D._traceIndex=q.index,D._propPrefix=(X?X+".":"")+"colorbar.",D._meta=q._meta,ie(),G.push(D))}}}for(var I in V._colorAxes)if(Z=V[I],Z.showscale){var j=V._colorAxes[I];D=te(Z.colorbar),D._id="cb"+I,D._propPrefix=I+".colorbar.",D._meta=V._meta,ae={min:"cmin",max:"cmax"},j[0]!=="heatmap"&&(q=j[1],ae.calc=q._module.colorbar.calc),ie(),G.push(D)}return G}function M(R,V,U){var G=V.orientation==="v",D=V.len,Z=V.lenmode,q=V.thickness,ae=V.thicknessmode,te=V.outlinewidth,ie=V.borderwidth,fe=V.bgcolor,he=V.xanchor,be=V.yanchor,H=V.xpad,B=V.ypad,A=V.x,X=G?V.y:1-V.y,I=V.yref==="paper",j=V.xref==="paper",T=U._fullLayout,L=T._size,$=V._fillcolor,Y=V._line,re=V.title,se=re.side,ce=V._zrange||i.extent((typeof $=="function"?$:Y.color).domain()),we=typeof Y.color=="function"?Y.color:function(){return Y.color},Se=typeof $=="function"?$:function(){return $},Ie=V._levels,Ze=E(U,V,ce),He=Ze.fill,Be=Ze.line,pe=Math.round(q*(ae==="fraction"?G?L.w:L.h:1)),_e=pe/(G?L.w:L.h),oe=Math.round(D*(Z==="fraction"?G?L.h:L.w:1)),Le=oe/(G?L.h:L.w),Re=j?L.w:U._fullLayout.width,Ye=I?L.h:U._fullLayout.height,ot=Math.round(G?A*Re+H:X*Ye+B),Xe={center:.5,right:1}[he]||0,lt={top:1,middle:.5}[be]||0,ut=G?A-Xe*_e:X-lt*_e,dt=G?X-lt*Le:A-Xe*Le,xt=Math.round(G?Ye*(1-dt):Re*dt);V._lenFrac=Le,V._thickFrac=_e,V._uFrac=ut,V._vFrac=dt;var qe=V._axis=N(U,V,ce);qe.position=_e+(G?A+H/L.w:X+B/L.h);var bt=["top","bottom"].indexOf(se)!==-1;if(G&&bt&&(qe.title.side=se,qe.titlex=A+H/L.w,qe.titley=dt+(re.side==="top"?Le-B/L.h:B/L.h)),!G&&!bt&&(qe.title.side=se,qe.titley=X+B/L.h,qe.titlex=dt+H/L.w),Y.color&&V.tickmode==="auto"){qe.tickmode="linear",qe.tick0=Ie.start;var Dt=Ie.size,pt=s.constrain(oe/50,4,15)+1,St=(ce[1]-ce[0])/((V.nticks||pt)*Dt);if(St>1){var me=Math.pow(10,Math.floor(Math.log(St)/Math.LN10));Dt*=me*s.roundUp(St/me,[2,5,10]),(Math.abs(Ie.start)/Ie.size+1e-6)%1<2e-6&&(qe.tick0=0)}qe.dtick=Dt}qe.domain=G?[dt+B/L.h,dt+Le-B/L.h]:[dt+H/L.w,dt+Le-H/L.w],qe.setScale(),R.attr("transform",d(Math.round(L.l),Math.round(L.t)));var Ae=R.select("."+J.cbtitleunshift).attr("transform",d(-Math.round(L.l),-Math.round(L.t))),ke=qe.ticklabelposition,K=qe.title.font.size,de=R.select("."+J.cbaxis),xe,ge=0,Ee=0;function Me(rt,ft){var yt={propContainer:qe,propName:V._propPrefix+"title",traceIndex:V._traceIndex,_meta:V._meta,placeholder:T._dfltTitle.colorbar,containerGroup:R.select("."+J.cbtitle)},Ht=rt.charAt(0)==="h"?rt.substr(1):"h"+rt;R.selectAll("."+Ht+",."+Ht+"-math-group").remove(),b.draw(U,rt,t(yt,ft||{}))}function Je(){if(G&&bt||!G&&!bt){var rt,ft;se==="top"&&(rt=H+L.l+Re*A,ft=B+L.t+Ye*(1-dt-Le)+3+K*.75),se==="bottom"&&(rt=H+L.l+Re*A,ft=B+L.t+Ye*(1-dt)-3-K*.25),se==="right"&&(ft=B+L.t+Ye*X+3+K*.75,rt=H+L.l+Re*dt),Me(qe._id+"title",{attributes:{x:rt,y:ft,"text-anchor":G?"start":"middle"}})}}function Qe(){if(G&&!bt||!G&&bt){var rt=qe.position||0,ft=qe._offset+qe._length/2,yt,Ht;if(se==="right")Ht=ft,yt=L.l+Re*rt+10+K*(qe.showticklabels?1:.5);else if(yt=ft,se==="bottom"&&(Ht=L.t+Ye*rt+10+(ke.indexOf("inside")===-1?qe.tickfont.size:0)+(qe.ticks!=="intside"&&V.ticklen||0)),se==="top"){var Wt=re.text.split("<br>").length;Ht=L.t+Ye*rt+10-pe-_*K*Wt}Me((G?"h":"v")+qe._id+"title",{avoid:{selection:i.select(U).selectAll("g."+qe._id+"tick"),side:se,offsetTop:G?0:L.t,offsetLeft:G?L.l:0,maxShift:G?T.width:T.height},attributes:{x:yt,y:Ht,"text-anchor":"middle"},transform:{rotate:G?-90:0,offset:0}})}}function st(){if(!G&&!bt||G&&bt){var rt=R.select("."+J.cbtitle),ft=rt.select("text"),yt=[-te/2,te/2],Ht=rt.select(".h"+qe._id+"title-math-group").node(),Wt=15.6;ft.node()&&(Wt=parseInt(ft.node().style.fontSize,10)*_);var hn;if(Ht?(hn=c.bBox(Ht),Ee=hn.width,ge=hn.height,ge>Wt&&(yt[1]-=(ge-Wt)/2)):ft.node()&&!ft.classed(J.jsPlaceholder)&&(hn=c.bBox(ft.node()),Ee=hn.width,ge=hn.height),G){if(ge){if(ge+=5,se==="top")qe.domain[1]-=ge/L.h,yt[1]*=-1;else{qe.domain[0]+=ge/L.h;var Bt=y.lineCount(ft);yt[1]+=(1-Bt)*Wt}rt.attr("transform",d(yt[0],yt[1])),qe.setScale()}}else Ee&&(se==="right"&&(qe.domain[0]+=(Ee+K/2)/L.w),rt.attr("transform",d(yt[0],yt[1])),qe.setScale())}R.selectAll("."+J.cbfills+",."+J.cblines).attr("transform",G?d(0,Math.round(L.h*(1-qe.domain[1]))):d(Math.round(L.w*qe.domain[0]),0)),de.attr("transform",G?d(0,Math.round(-L.t)):d(Math.round(-L.l),0));var en=R.select("."+J.cbfills).selectAll("rect."+J.cbfill).attr("style","").data(He);en.enter().append("rect").classed(J.cbfill,!0).attr("style",""),en.exit().remove();var Ft=ce.map(qe.c2p).map(Math.round).sort(function(Ut,Pt){return Ut-Pt});en.each(function(Ut,Pt){var nn=[Pt===0?ce[0]:(He[Pt]+He[Pt-1])/2,Pt===He.length-1?ce[1]:(He[Pt]+He[Pt+1])/2].map(qe.c2p).map(Math.round);G&&(nn[1]=s.constrain(nn[1]+(nn[1]>nn[0])?1:-1,Ft[0],Ft[1]));var On=i.select(this).attr(G?"x":"y",ot).attr(G?"y":"x",i.min(nn)).attr(G?"width":"height",Math.max(pe,2)).attr(G?"height":"width",Math.max(i.max(nn)-i.min(nn),2));if(V._fillgradient)c.gradient(On,U,V._id,G?"vertical":"horizontalreversed",V._fillgradient,"fill");else{var Qn=Se(Ut).replace("e-","");On.attr("fill",e(Qn).toHexString())}});var Nt=R.select("."+J.cblines).selectAll("path."+J.cbline).data(Y.color&&Y.width?Be:[]);Nt.enter().append("path").classed(J.cbline,!0),Nt.exit().remove(),Nt.each(function(Ut){var Pt=ot,nn=Math.round(qe.c2p(Ut))+Y.width/2%1;i.select(this).attr("d","M"+(G?Pt+","+nn:nn+","+Pt)+(G?"h":"v")+pe).call(c.lineGroupStyle,Y.width,we(Ut),Y.dash)}),de.selectAll("g."+qe._id+"tick,path").remove();var ln=ot+pe+(te||0)/2-(V.ticks==="outside"?1:0),tn=l.calcTicks(qe),sn=l.getTickSigns(qe)[2];return l.drawTicks(U,qe,{vals:qe.ticks==="inside"?l.clipEnds(qe,tn):tn,layer:de,path:l.makeTickPath(qe,ln,sn),transFn:l.makeTransTickFn(qe)}),l.drawLabels(U,qe,{vals:tn,layer:de,transFn:l.makeTransTickLabelFn(qe),labelFns:l.makeLabelFns(qe,ln)})}function ze(){var rt,ft=pe+te/2;ke.indexOf("inside")===-1&&(rt=c.bBox(de.node()),ft+=G?rt.width:rt.height),xe=Ae.select("text");var yt=0,Ht=G&&se==="top",Wt=!G&&se==="right",hn=0;if(xe.node()&&!xe.classed(J.jsPlaceholder)){var Bt,en=Ae.select(".h"+qe._id+"title-math-group").node();en&&(G&&bt||!G&&!bt)?(rt=c.bBox(en),yt=rt.width,Bt=rt.height):(rt=c.bBox(Ae.node()),yt=rt.right-L.l-(G?ot:xt),Bt=rt.bottom-L.t-(G?xt:ot),!G&&se==="top"&&(ft+=rt.height,hn=rt.height)),Wt&&(xe.attr("transform",d(yt/2+K/2,0)),yt*=2),ft=Math.max(ft,G?yt:Bt)}var Ft=(G?H:B)*2+ft+ie+te/2,Nt=0;!G&&re.text&&be==="bottom"&&X<=0&&(Nt=Ft/2,Ft+=Nt,hn+=Nt),T._hColorbarMoveTitle=Nt,T._hColorbarMoveCBTitle=hn;var ln=ie+te,tn=(G?ot:xt)-ln/2-(G?H:0),sn=(G?xt:ot)-(G?oe:B+hn-Nt);R.select("."+J.cbbg).attr("x",tn).attr("y",sn).attr(G?"width":"height",Math.max(Ft-Nt,2)).attr(G?"height":"width",Math.max(oe+ln,2)).call(h.fill,fe).call(h.stroke,V.bordercolor).style("stroke-width",ie);var Ut=Wt?Math.max(yt-10,0):0;R.selectAll("."+J.cboutline).attr("x",(G?ot:xt+H)+Ut).attr("y",(G?xt+B-oe:ot)+(Ht?ge:0)).attr(G?"width":"height",Math.max(pe,2)).attr(G?"height":"width",Math.max(oe-(G?2*B+ge:2*H+Ut),2)).call(h.stroke,V.outlinecolor).style({fill:"none","stroke-width":te});var Pt=G?Xe*Ft:0,nn=G?0:(1-lt)*Ft-hn;if(Pt=j?L.l-Pt:-Pt,nn=I?L.t-nn:-nn,R.attr("transform",d(Pt,nn)),!G&&(ie||e(fe).getAlpha()&&!e.equals(T.paper_bgcolor,fe))){var On=de.selectAll("text"),Qn=On[0].length,rn=R.select("."+J.cbbg).node(),In=c.bBox(rn),Nn=c.getTranslate(R),xa=2;On.each(function(We,Ne){var Ue=0,Ke=Qn-1;if(Ne===Ue||Ne===Ke){var it=c.bBox(this),_t=c.getTranslate(this),Ct;if(Ne===Ke){var Mt=it.right+_t.x,jt=In.right+Nn.x+xt-ie-xa+A;Ct=jt-Mt,Ct>0&&(Ct=0)}else if(Ne===Ue){var $t=it.left+_t.x,bn=In.left+Nn.x+xt+ie+xa;Ct=bn-$t,Ct<0&&(Ct=0)}Ct&&(Qn<3?this.setAttribute("transform","translate("+Ct+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Et={},ea=w[he],ee=k[he],le=w[be],$e=k[be],Ve=Ft-pe;G?(Z==="pixels"?(Et.y=X,Et.t=oe*le,Et.b=oe*$e):(Et.t=Et.b=0,Et.yt=X+D*le,Et.yb=X-D*$e),ae==="pixels"?(Et.x=A,Et.l=Ft*ea,Et.r=Ft*ee):(Et.l=Ve*ea,Et.r=Ve*ee,Et.xl=A-q*ea,Et.xr=A+q*ee)):(Z==="pixels"?(Et.x=A,Et.l=oe*ea,Et.r=oe*ee):(Et.l=Et.r=0,Et.xl=A+D*ea,Et.xr=A-D*ee),ae==="pixels"?(Et.y=1-X,Et.t=Ft*le,Et.b=Ft*$e):(Et.t=Ve*le,Et.b=Ve*$e,Et.yt=X-q*le,Et.yb=X+q*$e));var De=V.y<.5?"b":"t",Pe=V.x<.5?"l":"r";U._fullLayout._reservedMargin[V._id]={};var je={r:T.width-tn-Pt,l:tn+Et.r,b:T.height-sn-nn,t:sn+Et.b};j&&I?n.autoMargin(U,V._id,Et):j?U._fullLayout._reservedMargin[V._id][De]=je[De]:I||G?U._fullLayout._reservedMargin[V._id][Pe]=je[Pe]:U._fullLayout._reservedMargin[V._id][De]=je[De]}return s.syncOrAsync([n.previousPromises,Je,st,Qe,n.previousPromises,ze],U)}function W(R,V,U){var G=V.orientation==="v",D=U._fullLayout,Z=D._size,q,ae,te;o.init({element:R.node(),gd:U,prepFn:function(){q=R.attr("transform"),p(R)},moveFn:function(ie,fe){R.attr("transform",q+d(ie,fe)),ae=o.align((G?V._uFrac:V._vFrac)+ie/Z.w,G?V._thickFrac:V._lenFrac,0,1,V.xanchor),te=o.align((G?V._vFrac:1-V._uFrac)-fe/Z.h,G?V._lenFrac:V._thickFrac,0,1,V.yanchor);var he=o.getCursor(ae,te,V.xanchor,V.yanchor);p(R,he)},doneFn:function(){if(p(R),ae!==void 0&&te!==void 0){var ie={};ie[V._propPrefix+"x"]=ae,ie[V._propPrefix+"y"]=te,V._traceIndex!==void 0?r.call("_guiRestyle",U,ie,V._traceIndex):r.call("_guiRelayout",U,ie)}}})}function E(R,V,U){var G=V._levels,D=[],Z=[],q,ae,te=G.end+G.size/100,ie=G.size,fe=1.001*U[0]-.001*U[1],he=1.001*U[1]-.001*U[0];for(ae=0;ae<1e5&&(q=G.start+ae*ie,!(ie>0?q>=te:q<=te));ae++)q>fe&&q<he&&D.push(q);if(V._fillgradient)Z=[0];else if(typeof V._fillcolor=="function"){var be=V._filllevels;if(be)for(te=be.end+be.size/100,ie=be.size,ae=0;ae<1e5&&(q=be.start+ae*ie,!(ie>0?q>=te:q<=te));ae++)q>U[0]&&q<U[1]&&Z.push(q);else Z=D.map(function(H){return H-G.size/2}),Z.push(Z[Z.length-1]+G.size)}else V._fillcolor&&typeof V._fillcolor=="string"&&(Z=[0]);return G.size<0&&(D.reverse(),Z.reverse()),{line:D,fill:Z}}function N(R,V,U){var G=R._fullLayout,D=V.orientation==="v",Z={type:"linear",range:U,tickmode:V.tickmode,nticks:V.nticks,tick0:V.tick0,dtick:V.dtick,tickvals:V.tickvals,ticktext:V.ticktext,ticks:V.ticks,ticklen:V.ticklen,tickwidth:V.tickwidth,tickcolor:V.tickcolor,showticklabels:V.showticklabels,labelalias:V.labelalias,ticklabelposition:V.ticklabelposition,ticklabeloverflow:V.ticklabeloverflow,ticklabelstep:V.ticklabelstep,tickfont:V.tickfont,tickangle:V.tickangle,tickformat:V.tickformat,exponentformat:V.exponentformat,minexponent:V.minexponent,separatethousands:V.separatethousands,showexponent:V.showexponent,showtickprefix:V.showtickprefix,tickprefix:V.tickprefix,showticksuffix:V.showticksuffix,ticksuffix:V.ticksuffix,title:V.title,showline:!0,anchor:"free",side:D?"right":"bottom",position:1},q=D?"y":"x",ae={type:"linear",_id:q+V._id},te={letter:q,font:G.font,noAutotickangles:q==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:G.calendar};function ie(fe,he){return s.coerce(Z,ae,u,fe,he)}return m(Z,ae,ie,te,G),v(Z,ae,ie,te),ae}C.exports={draw:P}}),cf=ye((F,C)=>{C.exports={moduleType:"component",name:"colorbar",attributes:yl(),supplyDefaults:Fs(),draw:sf().draw,hasColorbar:Ss()}}),uf=ye((F,C)=>{C.exports={moduleType:"component",name:"legend",layoutAttributes:Hs(),supplyLayoutDefaults:Bs(),draw:$s(),style:Ys()}}),df=ye((F,C)=>{C.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}}),ff=ye((F,C)=>{C.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}}),O0=ye((F,C)=>{var i=Kn(),e=zt(),n=e.extendFlat,r=e.extendDeep;function l(s){var d;switch(s){case"themes__thumb":d={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":d={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:d={}}return d}function o(s){var d=["xaxis","yaxis","zaxis"];return d.indexOf(s.slice(0,5))>-1}C.exports=function(s,d){var t,p=s.data,c=s.layout,h=r([],p),b=r({},c,l(d.tileClass)),y=s._context||{};if(d.width&&(b.width=d.width),d.height&&(b.height=d.height),d.tileClass==="thumbnail"||d.tileClass==="themes__thumb"){b.annotations=[];var g=Object.keys(b);for(t=0;t<g.length;t++)o(g[t])&&(b[g[t]].title={text:""});for(t=0;t<h.length;t++){var m=h[t];m.showscale=!1,m.marker&&(m.marker.showscale=!1),i.traceIs(m,"pie-like")&&(m.textposition="none")}}if(Array.isArray(d.annotations))for(t=0;t<d.annotations.length;t++)b.annotations.push(d.annotations[t]);var v=Object.keys(b).filter(function(k){return k.match(/^scene\d*$/)});if(v.length){var u={};for(d.tileClass==="thumbnail"&&(u={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),t=0;t<v.length;t++){var f=b[v[t]];f.xaxis||(f.xaxis={}),f.yaxis||(f.yaxis={}),f.zaxis||(f.zaxis={}),n(f.xaxis,u),n(f.yaxis,u),n(f.zaxis,u),f._scene=null}}var _=document.createElement("div");d.tileClass&&(_.className=d.tileClass);var w={gd:_,td:_,layout:b,data:h,config:{staticPlot:d.staticPlot===void 0?!0:d.staticPlot,plotGlPixelRatio:d.plotGlPixelRatio===void 0?2:d.plotGlPixelRatio,displaylogo:d.displaylogo||!1,showLink:d.showLink||!1,showTips:d.showTips||!1,mapboxAccessToken:y.mapboxAccessToken}};return d.setBackground!=="transparent"&&(w.config.setBackground=d.setBackground||"opaque"),w.gd.defaultLayout=l(d.tileClass),w}}),hf=ye((F,C)=>{var i=vl().EventEmitter,e=Kn(),n=zt(),r=co(),l=O0(),o=Fl(),s=Il();function d(t,p){var c=new i,h=l(t,{format:"png"}),b=h.gd;b.style.position="absolute",b.style.left="-5000px",document.body.appendChild(b);function y(){var m=r.getDelay(b._fullLayout);setTimeout(function(){var v=o(b),u=document.createElement("canvas");u.id=n.randstr(),c=s({format:p.format,width:b._fullLayout.width,height:b._fullLayout.height,canvas:u,emitter:c,svg:v}),c.clean=function(){b&&document.body.removeChild(b)}},m)}var g=r.getRedrawFunc(b);return e.call("_doPlot",b,h.data,h.layout,h.config).then(g).then(y).catch(function(m){c.emit("error",m)}),c}C.exports=d}),pf=ye((F,C)=>{var i=co(),e={getDelay:i.getDelay,getRedrawFunc:i.getRedrawFunc,clone:O0(),toSVG:Fl(),svgToImg:Il(),toImage:hf(),downloadImage:l0()};C.exports=e}),vf=ye(F=>{F.version=Yt().version,vn(),yi();var C=Kn(),i=F.register=C.register,e=Gu(),n=Object.keys(e);for(l=0;l<n.length;l++)r=n[l],r.charAt(0)!=="_"&&(F[r]=e[r]),i({moduleType:"apiMethod",name:r,fn:e[r]});var r,l;i(yd()),i([Md(),Od(),wo(),Ed(),Nd(),Bd(),$d(),qd(),Kd(),ef(),of(),Is(),cf(),uf(),Fi(),Qs()]),i([df(),ff()]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(i(window.PlotlyLocales),delete window.PlotlyLocales),F.Icons=Al();var o=Fi(),s=Lr();F.Plots={resize:s.resize,graphJson:s.graphJson,sendDataToCloud:s.sendDataToCloud},F.Fx={hover:o.hover,unhover:o.unhover,loneHover:o.loneHover,loneUnhover:o.loneUnhover},F.Snapshot=pf(),F.PlotSchema=yo()}),gf=ye((F,C)=>{C.exports=vf()}),$l=ye((F,C)=>{C.exports={TEXTPAD:3,eventDataKeys:["value","label"]}}),Bo=ye((F,C)=>{var i=so(),e=ml().axisHoverFormat,n=Sr().hovertemplateAttrs,r=Sr().texttemplateAttrs,l=Eo(),o=Za(),s=$l(),d=Rr().pattern,t=Ca().extendFlat,p=o({editType:"calc",arrayOk:!0,colorEditType:"style"}),c=i.marker,h=c.line,b=t({},h.width,{dflt:0}),y=t({width:b,editType:"calc"},l("marker.line")),g=t({line:y,editType:"calc"},l("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:d,cornerradius:{valType:"any",editType:"calc"}});C.exports={x:i.x,x0:i.x0,dx:i.dx,y:i.y,y0:i.y0,dy:i.dy,xperiod:i.xperiod,yperiod:i.yperiod,xperiod0:i.xperiod0,yperiod0:i.yperiod0,xperiodalignment:i.xperiodalignment,yperiodalignment:i.yperiodalignment,xhoverformat:e("x"),yhoverformat:e("y"),text:i.text,texttemplate:r({editType:"plot"},{keys:s.eventDataKeys}),hovertext:i.hovertext,hovertemplate:n({},{keys:s.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:t({},p,{}),insidetextfont:t({},p,{}),outsidetextfont:t({},p,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:t({},i.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:g,offsetgroup:i.offsetgroup,alignmentgroup:i.alignmentgroup,selected:{marker:{opacity:i.selected.marker.opacity,color:i.selected.marker.color,editType:"style"},textfont:i.selected.textfont,editType:"style"},unselected:{marker:{opacity:i.unselected.marker.opacity,color:i.unselected.marker.color,editType:"style"},textfont:i.unselected.textfont,editType:"style"},zorder:i.zorder}}),D0=ye((F,C)=>{C.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},barcornerradius:{valType:"any",editType:"calc"}}}),mf=ye((F,C)=>{var i=$n(),e=xi().hasColorscale,n=xo(),r=zt().coercePattern;C.exports=function(l,o,s,d,t){var p=s("marker.color",d),c=e(l,"marker");c&&n(l,o,t,s,{prefix:"marker.",cLetter:"c"}),s("marker.line.color",i.defaultLine),e(l,"marker.line")&&n(l,o,t,s,{prefix:"marker.line.",cLetter:"c"}),s("marker.line.width"),s("marker.opacity"),r(s,"marker.pattern",p,c),s("selected.marker.color"),s("unselected.marker.color")}}),Vo=ye((F,C)=>{var i=on(),e=zt(),n=$n(),r=Kn(),l=s0(),o=c0(),s=mf(),d=u0(),t=Bo(),p=e.coerceFont;function c(g,m,v,u){function f(P,O){return e.coerce(g,m,t,P,O)}var _=l(g,m,u,f);if(!_){m.visible=!1;return}o(g,m,u,f),f("xhoverformat"),f("yhoverformat"),f("zorder"),f("orientation",m.x&&!m.y?"h":"v"),f("base"),f("offset"),f("width"),f("text"),f("hovertext"),f("hovertemplate");var w=f("textposition");y(g,m,u,f,w,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),s(g,m,f,v,u);var k=(m.marker.line||{}).color,J=r.getComponentMethod("errorbars","supplyDefaults");J(g,m,k||n.defaultLine,{axis:"y"}),J(g,m,k||n.defaultLine,{axis:"x",inherit:"y"}),e.coerceSelectionMarkerOpacity(m,f)}function h(g,m){var v,u;function f(k,J){return e.coerce(u._input,u,t,k,J)}for(var _=0;_<g.length;_++)if(u=g[_],u.type==="bar"){v=u._input;var w=f("marker.cornerradius",m.barcornerradius);u.marker&&(u.marker.cornerradius=b(w)),d(v,u,m,f,m.barmode)}}function b(g){if(i(g)){if(g=+g,g>=0)return g}else if(typeof g=="string"&&(g=g.trim(),g.slice(-1)==="%"&&i(g.slice(0,-1))&&(g=+g.slice(0,-1),g>=0)))return g+"%"}function y(g,m,v,u,f,_){_=_||{};var w=_.moduleHasSelected!==!1,k=_.moduleHasUnselected!==!1,J=_.moduleHasConstrain!==!1,P=_.moduleHasCliponaxis!==!1,O=_.moduleHasTextangle!==!1,M=_.moduleHasInsideanchor!==!1,W=!!_.hasPathbar,E=Array.isArray(f)||f==="auto",N=E||f==="inside",R=E||f==="outside";if(N||R){var V=p(u,"textfont",v.font),U=e.extendFlat({},V),G=g.textfont&&g.textfont.color,D=!G;if(D&&delete U.color,p(u,"insidetextfont",U),W){var Z=e.extendFlat({},V);D&&delete Z.color,p(u,"pathbar.textfont",Z)}R&&p(u,"outsidetextfont",V),w&&u("selected.textfont.color"),k&&u("unselected.textfont.color"),J&&u("constraintext"),P&&u("cliponaxis"),O&&u("textangle"),u("texttemplate")}N&&M&&u("insidetextanchor")}C.exports={supplyDefaults:c,crossTraceDefaults:h,handleText:y,validateCornerradius:b}}),yf=ye((F,C)=>{var i=Kn(),e=cr(),n=zt(),r=D0(),l=Vo().validateCornerradius;C.exports=function(o,s,d){function t(w,k){return n.coerce(o,s,r,w,k)}for(var p=!1,c=!1,h=!1,b={},y=t("barmode"),g=y==="group",m=0;m<d.length;m++){var v=d[m];if(i.traceIs(v,"bar")&&v.visible)p=!0;else continue;var u=v.xaxis+v.yaxis;if(g?(b[u]&&(h=!0),b[u]=!0):(u+=v._input.offsetgroup,b.length>0&&!b[u]&&(h=!0),b[u]=!0),v.visible&&v.type==="histogram"){var f=e.getFromId({_fullLayout:s},v[v.orientation==="v"?"xaxis":"yaxis"]);f.type!=="category"&&(c=!0)}}if(!p){delete s.barmode;return}y!=="overlay"&&t("barnorm"),t("bargap",c&&!h?0:.2),t("bargroupgap");var _=t("barcornerradius");s.barcornerradius=l(_)}}),C0=ye((F,C)=>{var i=zt();C.exports=function(e,n){for(var r=0;r<e.length;r++)e[r].i=r;i.mergeArray(n.text,e,"tx"),i.mergeArray(n.hovertext,e,"htx");var l=n.marker;if(l){i.mergeArray(l.opacity,e,"mo",!0),i.mergeArray(l.color,e,"mc");var o=l.line;o&&(i.mergeArray(o.color,e,"mlc"),i.mergeArrayCastPositive(o.width,e,"mlw"))}}}),xf=ye((F,C)=>{var i=cr(),e=d0(),n=xi().hasColorscale,r=xl(),l=C0(),o=h0();C.exports=function(s,d){var t=i.getFromId(s,d.xaxis||"x"),p=i.getFromId(s,d.yaxis||"y"),c,h,b,y,g,m,v={msUTC:!!(d.base||d.base===0)};d.orientation==="h"?(c=t.makeCalcdata(d,"x",v),b=p.makeCalcdata(d,"y"),y=e(d,p,"y",b),g=!!d.yperiodalignment,m="y"):(c=p.makeCalcdata(d,"y",v),b=t.makeCalcdata(d,"x"),y=e(d,t,"x",b),g=!!d.xperiodalignment,m="x"),h=y.vals;for(var u=Math.min(h.length,c.length),f=new Array(u),_=0;_<u;_++)f[_]={p:h[_],s:c[_]},g&&(f[_].orig_p=b[_],f[_][m+"End"]=y.ends[_],f[_][m+"Start"]=y.starts[_]),d.ids&&(f[_].id=String(d.ids[_]));return n(d,"marker")&&r(s,d,{vals:d.marker.color,containerStr:"marker",cLetter:"c"}),n(d,"marker.line")&&r(s,d,{vals:d.marker.line.color,containerStr:"marker.line",cLetter:"c"}),l(f,d),o(f,d),f}}),Yo=ye((F,C)=>{var i=Xt(),e=zt();function n(s,d,t){var p=s._fullLayout,c=p["_"+t+"Text_minsize"];if(c){var h=p.uniformtext.mode==="hide",b;switch(t){case"funnelarea":case"pie":case"sunburst":b="g.slice";break;case"treemap":case"icicle":b="g.slice, g.pathbar";break;default:b="g.points > g.point"}d.selectAll(b).each(function(y){var g=y.transform;if(g){g.scale=h&&g.hide?0:c/g.fontSize;var m=i.select(this).select("text");e.setTransormAndDisplay(m,g)}})}}function r(s,d,t){if(t.uniformtext.mode){var p=o(s),c=t.uniformtext.minsize,h=d.scale*d.fontSize;d.hide=h<c,t[p]=t[p]||1/0,d.hide||(t[p]=Math.min(t[p],Math.max(h,c)))}}function l(s,d){var t=o(s);d[t]=void 0}function o(s){return"_"+s+"Text_minsize"}C.exports={recordMinTextSize:r,clearMinTextSize:l,resizeText:n}}),Ul=ye(F=>{var C=on(),i=Va(),e=zt().isArrayOrTypedArray;F.coerceString=function(n,r,l){if(typeof r=="string"){if(r||!n.noBlank)return r}else if((typeof r=="number"||r===!0)&&!n.strict)return String(r);return l!==void 0?l:n.dflt},F.coerceNumber=function(n,r,l){if(C(r)){r=+r;var o=n.min,s=n.max,d=o!==void 0&&r<o||s!==void 0&&r>s;if(!d)return r}return l!==void 0?l:n.dflt},F.coerceColor=function(n,r,l){return i(r).isValid()?r:l!==void 0?l:n.dflt},F.coerceEnumerated=function(n,r,l){return n.coerceNumber&&(r=+r),n.values.indexOf(r)!==-1?r:l!==void 0?l:n.dflt},F.getValue=function(n,r){var l;return e(n)?r<n.length&&(l=n[r]):l=n,l},F.getLineWidth=function(n,r){var l=0<r.mlw?r.mlw:e(n.marker.line.width)?0:n.marker.line.width;return l}}),Gl=ye((F,C)=>{var i=Xt(),e=$n(),n=Ga(),r=zt(),l=Kn(),o=Yo().resizeText,s=Bo(),d=s.textfont,t=s.insidetextfont,p=s.outsidetextfont,c=Ul();function h(P){var O=i.select(P).selectAll('g[class^="barlayer"]').selectAll("g.trace");o(P,O,"bar");var M=O.size(),W=P._fullLayout;O.style("opacity",function(E){return E[0].trace.opacity}).each(function(E){(W.barmode==="stack"&&M>1||W.bargap===0&&W.bargroupgap===0&&!E[0].trace.marker.line.width)&&i.select(this).attr("shape-rendering","crispEdges")}),O.selectAll("g.points").each(function(E){var N=i.select(this),R=E[0].trace;b(N,R,P)}),l.getComponentMethod("errorbars","style")(O)}function b(P,O,M){n.pointStyle(P.selectAll("path"),O,M),y(P,O,M)}function y(P,O,M){P.selectAll("text").each(function(W){var E=i.select(this),N=r.ensureUniformFontSize(M,u(E,W,O,M));n.font(E,N)})}function g(P,O,M){var W=O[0].trace;W.selectedpoints?m(M,W,P):(b(M,W,P),l.getComponentMethod("errorbars","style")(M))}function m(P,O,M){n.selectedPointStyle(P.selectAll("path"),O),v(P.selectAll("text"),O,M)}function v(P,O,M){P.each(function(W){var E=i.select(this),N;if(W.selected){N=r.ensureUniformFontSize(M,u(E,W,O,M));var R=O.selected.textfont&&O.selected.textfont.color;R&&(N.color=R),n.font(E,N)}else n.selectedTextStyle(E,O)})}function u(P,O,M,W){var E=W._fullLayout.font,N=M.textfont;if(P.classed("bartext-inside")){var R=J(O,M);N=_(M,O.i,E,R)}else P.classed("bartext-outside")&&(N=w(M,O.i,E));return N}function f(P,O,M){return k(d,P.textfont,O,M)}function _(P,O,M,W){var E=f(P,O,M),N=P._input.textfont===void 0||P._input.textfont.color===void 0||Array.isArray(P.textfont.color)&&P.textfont.color[O]===void 0;return N&&(E={color:e.contrast(W),family:E.family,size:E.size,weight:E.weight,style:E.style,variant:E.variant,textcase:E.textcase,lineposition:E.lineposition,shadow:E.shadow}),k(t,P.insidetextfont,O,E)}function w(P,O,M){var W=f(P,O,M);return k(p,P.outsidetextfont,O,W)}function k(P,O,M,W){O=O||{};var E=c.getValue(O.family,M),N=c.getValue(O.size,M),R=c.getValue(O.color,M),V=c.getValue(O.weight,M),U=c.getValue(O.style,M),G=c.getValue(O.variant,M),D=c.getValue(O.textcase,M),Z=c.getValue(O.lineposition,M),q=c.getValue(O.shadow,M);return{family:c.coerceString(P.family,E,W.family),size:c.coerceNumber(P.size,N,W.size),color:c.coerceColor(P.color,R,W.color),weight:c.coerceString(P.weight,V,W.weight),style:c.coerceString(P.style,U,W.style),variant:c.coerceString(P.variant,G,W.variant),textcase:c.coerceString(P.variant,D,W.textcase),lineposition:c.coerceString(P.variant,Z,W.lineposition),shadow:c.coerceString(P.variant,q,W.shadow)}}function J(P,O){return O.type==="waterfall"?O[P.dir].marker.color:P.mcc||P.mc||O.marker.color}C.exports={style:h,styleTextPoints:y,styleOnSelect:g,getInsideTextFont:_,getOutsideTextFont:w,getBarColor:J,resizeText:o}}),bf=ye((F,C)=>{var i=Xt(),e=on(),n=zt(),r=Xr(),l=$n(),o=Ga(),s=Kn(),d=cr().tickText,t=Yo(),p=t.recordMinTextSize,c=t.clearMinTextSize,h=Gl(),b=Ul(),y=$l(),g=Bo(),m=g.text,v=g.textposition,u=Ei().appendArrayPointValue,f=y.TEXTPAD;function _(ie){return ie.id}function w(ie){if(ie.ids)return _}function k(ie){return(ie>0)-(ie<0)}function J(ie,fe){return ie<fe?1:-1}function P(ie,fe,he,be){var H=[],B=[],A=be?fe:he,X=be?he:fe;return H[0]=A.c2p(ie.s0,!0),B[0]=X.c2p(ie.p0,!0),H[1]=A.c2p(ie.s1,!0),B[1]=X.c2p(ie.p1,!0),be?[H,B]:[B,H]}function O(ie,fe,he,be){if(!fe.uniformtext.mode&&M(he)){var H;return be&&(H=be()),ie.transition().duration(he.duration).ease(he.easing).each("end",function(){H&&H()}).each("interrupt",function(){H&&H()})}else return ie}function M(ie){return ie&&ie.duration>0}function W(ie,fe,he,be,H,B){var A=fe.xaxis,X=fe.yaxis,I=ie._fullLayout,j=ie._context.staticPlot;H||(H={mode:I.barmode,norm:I.barmode,gap:I.bargap,groupgap:I.bargroupgap},c("bar",I));var T=n.makeTraceGroups(be,he,"trace bars").each(function(L){var $=i.select(this),Y=L[0].trace,re=L[0].t,se=Y.type==="waterfall",ce=Y.type==="funnel",we=Y.type==="histogram",Se=Y.type==="bar",Ie=Se||ce,Ze=0;se&&Y.connector.visible&&Y.connector.mode==="between"&&(Ze=Y.connector.line.width/2);var He=Y.orientation==="h",Be=M(H),pe=n.ensureSingle($,"g","points"),_e=w(Y),oe=pe.selectAll("g.point").data(n.identity,_e);oe.enter().append("g").classed("point",!0),oe.exit().remove(),oe.each(function(Re,Ye){var ot=i.select(this),Xe=P(Re,A,X,He),lt=Xe[0][0],ut=Xe[0][1],dt=Xe[1][0],xt=Xe[1][1],qe=(He?ut-lt:xt-dt)===0;qe&&Ie&&b.getLineWidth(Y,Re)&&(qe=!1),qe||(qe=!e(lt)||!e(ut)||!e(dt)||!e(xt)),Re.isBlank=qe,qe&&(He?ut=lt:xt=dt),Ze&&!qe&&(He?(lt-=J(lt,ut)*Ze,ut+=J(lt,ut)*Ze):(dt-=J(dt,xt)*Ze,xt+=J(dt,xt)*Ze));var bt,Dt;if(Y.type==="waterfall"){if(!qe){var pt=Y[Re.dir].marker;bt=pt.line.width,Dt=pt.color}}else bt=b.getLineWidth(Y,Re),Dt=Re.mc||Y.marker.color;function St(ln){var tn=i.round(bt/2%1,2);return H.gap===0&&H.groupgap===0?i.round(Math.round(ln)-tn,2):ln}function me(ln,tn,sn){return sn&&ln===tn?ln:Math.abs(ln-tn)>=2?St(ln):ln>tn?Math.ceil(ln):Math.floor(ln)}var Ae=l.opacity(Dt),ke=Ae<1||bt>.01?St:me;ie._context.staticPlot||(lt=ke(lt,ut,He),ut=ke(ut,lt,He),dt=ke(dt,xt,!He),xt=ke(xt,dt,!He));var K=He?A.c2p:X.c2p,de;Re.s0>0?de=Re._sMax:Re.s0<0?de=Re._sMin:de=Re.s1>0?Re._sMax:Re._sMin;function xe(ln,tn){if(!ln)return 0;var sn=Math.abs(He?xt-dt:ut-lt),Ut=Math.abs(He?ut-lt:xt-dt),Pt=ke(Math.abs(K(de,!0)-K(0,!0))),nn=Re.hasB?Math.min(sn/2,Ut/2):Math.min(sn/2,Pt),On;if(tn==="%"){var Qn=Math.min(50,ln);On=sn*(Qn/100)}else On=ln;return ke(Math.max(Math.min(On,nn),0))}var ge=Se||we?xe(re.cornerradiusvalue,re.cornerradiusform):0,Ee,Me,Je="M"+lt+","+dt+"V"+xt+"H"+ut+"V"+dt+"Z",Qe=0;if(ge&&Re.s){var st=k(Re.s0)===0||k(Re.s)===k(Re.s0)?Re.s1:Re.s0;if(Qe=ke(Re.hasB?0:Math.abs(K(de,!0)-K(st,!0))),Qe<ge){var ze=J(lt,ut),rt=J(dt,xt),ft=ze===-rt?1:0;if(He)if(Re.hasB)Ee="M"+(lt+ge*ze)+","+dt+"A "+ge+","+ge+" 0 0 "+ft+" "+lt+","+(dt+ge*rt)+"V"+(xt-ge*rt)+"A "+ge+","+ge+" 0 0 "+ft+" "+(lt+ge*ze)+","+xt+"H"+(ut-ge*ze)+"A "+ge+","+ge+" 0 0 "+ft+" "+ut+","+(xt-ge*rt)+"V"+(dt+ge*rt)+"A "+ge+","+ge+" 0 0 "+ft+" "+(ut-ge*ze)+","+dt+"Z";else{Me=Math.abs(ut-lt)+Qe;var yt=Me<ge?ge-Math.sqrt(Me*(2*ge-Me)):0,Ht=Qe>0?Math.sqrt(Qe*(2*ge-Qe)):0,Wt=ze>0?Math.max:Math.min;Ee="M"+lt+","+dt+"V"+(xt-yt*rt)+"H"+Wt(ut-(ge-Qe)*ze,lt)+"A "+ge+","+ge+" 0 0 "+ft+" "+ut+","+(xt-ge*rt-Ht)+"V"+(dt+ge*rt+Ht)+"A "+ge+","+ge+" 0 0 "+ft+" "+Wt(ut-(ge-Qe)*ze,lt)+","+(dt+yt*rt)+"Z"}else if(Re.hasB)Ee="M"+(lt+ge*ze)+","+dt+"A "+ge+","+ge+" 0 0 "+ft+" "+lt+","+(dt+ge*rt)+"V"+(xt-ge*rt)+"A "+ge+","+ge+" 0 0 "+ft+" "+(lt+ge*ze)+","+xt+"H"+(ut-ge*ze)+"A "+ge+","+ge+" 0 0 "+ft+" "+ut+","+(xt-ge*rt)+"V"+(dt+ge*rt)+"A "+ge+","+ge+" 0 0 "+ft+" "+(ut-ge*ze)+","+dt+"Z";else{Me=Math.abs(xt-dt)+Qe;var hn=Me<ge?ge-Math.sqrt(Me*(2*ge-Me)):0,Bt=Qe>0?Math.sqrt(Qe*(2*ge-Qe)):0,en=rt>0?Math.max:Math.min;Ee="M"+(lt+hn*ze)+","+dt+"V"+en(xt-(ge-Qe)*rt,dt)+"A "+ge+","+ge+" 0 0 "+ft+" "+(lt+ge*ze-Bt)+","+xt+"H"+(ut-ge*ze+Bt)+"A "+ge+","+ge+" 0 0 "+ft+" "+(ut-hn*ze)+","+en(xt-(ge-Qe)*rt,dt)+"V"+dt+"Z"}}else Ee=Je}else Ee=Je;var Ft=O(n.ensureSingle(ot,"path"),I,H,B);if(Ft.style("vector-effect",j?"none":"non-scaling-stroke").attr("d",isNaN((ut-lt)*(xt-dt))||qe&&ie._context.staticPlot?"M0,0Z":Ee).call(o.setClipUrl,fe.layerClipId,ie),!I.uniformtext.mode&&Be){var Nt=o.makePointStyleFns(Y);o.singlePointStyle(Re,Ft,Y,Nt,ie)}E(ie,fe,ot,L,Ye,lt,ut,dt,xt,ge,Qe,H,B),fe.layerClipId&&o.hideOutsideRangePoint(Re,ot.select("text"),A,X,Y.xcalendar,Y.ycalendar)});var Le=Y.cliponaxis===!1;o.setClipUrl($,Le?null:fe.layerClipId,ie)});s.getComponentMethod("errorbars","plot")(ie,T,fe,H)}function E(ie,fe,he,be,H,B,A,X,I,j,T,L,$){var Y=fe.xaxis,re=fe.yaxis,se=ie._fullLayout,ce;function we(Me,Je,Qe){var st=n.ensureSingle(Me,"text").text(Je).attr({class:"bartext bartext-"+ce,"text-anchor":"middle","data-notex":1}).call(o.font,Qe).call(r.convertToTspans,ie);return st}var Se=be[0].trace,Ie=Se.orientation==="h",Ze=Z(se,be,H,Y,re);ce=q(Se,H);var He=L.mode==="stack"||L.mode==="relative",Be=be[H],pe=!He||Be._outmost,_e=Be.hasB,oe=j&&j-T>f;if(!Ze||ce==="none"||(Be.isBlank||B===A||X===I)&&(ce==="auto"||ce==="inside")){he.select("text").remove();return}var Le=se.font,Re=h.getBarColor(be[H],Se),Ye=h.getInsideTextFont(Se,H,Le,Re),ot=h.getOutsideTextFont(Se,H,Le),Xe=Se.insidetextanchor||"end",lt=he.datum();Ie?Y.type==="log"&&lt.s0<=0&&(Y.range[0]<Y.range[1]?B=0:B=Y._length):re.type==="log"&&lt.s0<=0&&(re.range[0]<re.range[1]?X=re._length:X=0);var ut=Math.abs(A-B),dt=Math.abs(I-X),xt=ut-2*f,qe=dt-2*f,bt,Dt,pt,St,me;if(ce==="outside"&&!pe&&!Be.hasB&&(ce="inside"),ce==="auto")if(pe){ce="inside",me=n.ensureUniformFontSize(ie,Ye),bt=we(he,Ze,me),Dt=o.bBox(bt.node()),pt=Dt.width,St=Dt.height;var Ae=pt>0&&St>0,ke;oe?_e?ke=N(xt-2*j,qe,pt,St,Ie)||N(xt,qe-2*j,pt,St,Ie):Ie?ke=N(xt-(j-T),qe,pt,St,Ie)||N(xt,qe-2*(j-T),pt,St,Ie):ke=N(xt,qe-(j-T),pt,St,Ie)||N(xt-2*(j-T),qe,pt,St,Ie):ke=N(xt,qe,pt,St,Ie),Ae&&ke?ce="inside":(ce="outside",bt.remove(),bt=null)}else ce="inside";if(!bt){me=n.ensureUniformFontSize(ie,ce==="outside"?ot:Ye),bt=we(he,Ze,me);var K=bt.attr("transform");if(bt.attr("transform",""),Dt=o.bBox(bt.node()),pt=Dt.width,St=Dt.height,bt.attr("transform",K),pt<=0||St<=0){bt.remove();return}}var de=Se.textangle,xe,ge;ce==="outside"?(ge=Se.constraintext==="both"||Se.constraintext==="outside",xe=D(B,A,X,I,Dt,{isHorizontal:Ie,constrained:ge,angle:de})):(ge=Se.constraintext==="both"||Se.constraintext==="inside",xe=U(B,A,X,I,Dt,{isHorizontal:Ie,constrained:ge,angle:de,anchor:Xe,hasB:_e,r:j,overhead:T})),xe.fontSize=me.size,p(Se.type==="histogram"?"bar":Se.type,xe,se),Be.transform=xe;var Ee=O(bt,se,L,$);n.setTransormAndDisplay(Ee,xe)}function N(ie,fe,he,be,H){if(ie<0||fe<0)return!1;var B=he<=ie&&be<=fe,A=he<=fe&&be<=ie,X=H?ie>=he*(fe/be):fe>=be*(ie/he);return B||A||X}function R(ie){return ie==="auto"?0:ie}function V(ie,fe){var he=Math.PI/180*fe,be=Math.abs(Math.sin(he)),H=Math.abs(Math.cos(he));return{x:ie.width*H+ie.height*be,y:ie.width*be+ie.height*H}}function U(ie,fe,he,be,H,B){var A=!!B.isHorizontal,X=!!B.constrained,I=B.angle||0,j=B.anchor,T=j==="end",L=j==="start",$=B.leftToRight||0,Y=($+1)/2,re=1-Y,se=B.hasB,ce=B.r,we=B.overhead,Se=H.width,Ie=H.height,Ze=Math.abs(fe-ie),He=Math.abs(be-he),Be=Ze>2*f&&He>2*f?f:0;Ze-=2*Be,He-=2*Be;var pe=R(I);I==="auto"&&!(Se<=Ze&&Ie<=He)&&(Se>Ze||Ie>He)&&(!(Se>He||Ie>Ze)||Se<Ie!=Ze<He)&&(pe+=90);var _e=V(H,pe),oe,Le;if(ce&&ce-we>f){var Re=G(ie,fe,he,be,_e,ce,we,A,se);oe=Re.scale,Le=Re.pad}else oe=1,X&&(oe=Math.min(1,Ze/_e.x,He/_e.y)),Le=0;var Ye=H.left*re+H.right*Y,ot=(H.top+H.bottom)/2,Xe=(ie+f)*re+(fe-f)*Y,lt=(he+be)/2,ut=0,dt=0;if(L||T){var xt=(A?_e.x:_e.y)/2;ce&&(T||se)&&(Be+=Le);var qe=A?J(ie,fe):J(he,be);A?L?(Xe=ie+qe*Be,ut=-qe*xt):(Xe=fe-qe*Be,ut=qe*xt):L?(lt=he+qe*Be,dt=-qe*xt):(lt=be-qe*Be,dt=qe*xt)}return{textX:Ye,textY:ot,targetX:Xe,targetY:lt,anchorX:ut,anchorY:dt,scale:oe,rotate:pe}}function G(ie,fe,he,be,H,B,A,X,I){var j=Math.max(0,Math.abs(fe-ie)-2*f),T=Math.max(0,Math.abs(be-he)-2*f),L=B-f,$=A?L-Math.sqrt(L*L-(L-A)*(L-A)):L,Y=I?L*2:X?L-A:2*$,re=I?L*2:X?2*$:L-A,se,ce,we,Se,Ie;return H.y/H.x>=T/(j-Y)?Se=T/H.y:H.y/H.x<=(T-re)/j?Se=j/H.x:!I&&X?(se=H.x*H.x+H.y*H.y/4,ce=-2*H.x*(j-L)-H.y*(T/2-L),we=(j-L)*(j-L)+(T/2-L)*(T/2-L)-L*L,Se=(-ce+Math.sqrt(ce*ce-4*se*we))/(2*se)):I?(se=(H.x*H.x+H.y*H.y)/4,ce=-H.x*(j/2-L)-H.y*(T/2-L),we=(j/2-L)*(j/2-L)+(T/2-L)*(T/2-L)-L*L,Se=(-ce+Math.sqrt(ce*ce-4*se*we))/(2*se)):(se=H.x*H.x/4+H.y*H.y,ce=-H.x*(j/2-L)-2*H.y*(T-L),we=(j/2-L)*(j/2-L)+(T-L)*(T-L)-L*L,Se=(-ce+Math.sqrt(ce*ce-4*se*we))/(2*se)),Se=Math.min(1,Se),X?Ie=Math.max(0,L-Math.sqrt(Math.max(0,L*L-(L-(T-H.y*Se)/2)*(L-(T-H.y*Se)/2)))-A):Ie=Math.max(0,L-Math.sqrt(Math.max(0,L*L-(L-(j-H.x*Se)/2)*(L-(j-H.x*Se)/2)))-A),{scale:Se,pad:Ie}}function D(ie,fe,he,be,H,B){var A=!!B.isHorizontal,X=!!B.constrained,I=B.angle||0,j=H.width,T=H.height,L=Math.abs(fe-ie),$=Math.abs(be-he),Y;A?Y=$>2*f?f:0:Y=L>2*f?f:0;var re=1;X&&(re=A?Math.min(1,$/T):Math.min(1,L/j));var se=R(I),ce=V(H,se),we=(A?ce.x:ce.y)/2,Se=(H.left+H.right)/2,Ie=(H.top+H.bottom)/2,Ze=(ie+fe)/2,He=(he+be)/2,Be=0,pe=0,_e=A?J(fe,ie):J(he,be);return A?(Ze=fe-_e*Y,Be=_e*we):(He=be+_e*Y,pe=-_e*we),{textX:Se,textY:Ie,targetX:Ze,targetY:He,anchorX:Be,anchorY:pe,scale:re,rotate:se}}function Z(ie,fe,he,be,H){var B=fe[0].trace,A=B.texttemplate,X;return A?X=ae(ie,fe,he,be,H):B.textinfo?X=te(fe,he,be,H):X=b.getValue(B.text,he),b.coerceString(m,X)}function q(ie,fe){var he=b.getValue(ie.textposition,fe);return b.coerceEnumerated(v,he)}function ae(ie,fe,he,be,H){var B=fe[0].trace,A=n.castOption(B,he,"texttemplate");if(!A)return"";var X=B.type==="histogram",I=B.type==="waterfall",j=B.type==="funnel",T=B.orientation==="h",L,$,Y,re;T?(L="y",$=H,Y="x",re=be):(L="x",$=be,Y="y",re=H);function se(Be){return d($,$.c2l(Be),!0).text}function ce(Be){return d(re,re.c2l(Be),!0).text}var we=fe[he],Se={};Se.label=we.p,Se.labelLabel=Se[L+"Label"]=se(we.p);var Ie=n.castOption(B,we.i,"text");(Ie===0||Ie)&&(Se.text=Ie),Se.value=we.s,Se.valueLabel=Se[Y+"Label"]=ce(we.s);var Ze={};u(Ze,B,we.i),(X||Ze.x===void 0)&&(Ze.x=T?Se.value:Se.label),(X||Ze.y===void 0)&&(Ze.y=T?Se.label:Se.value),(X||Ze.xLabel===void 0)&&(Ze.xLabel=T?Se.valueLabel:Se.labelLabel),(X||Ze.yLabel===void 0)&&(Ze.yLabel=T?Se.labelLabel:Se.valueLabel),I&&(Se.delta=+we.rawS||we.s,Se.deltaLabel=ce(Se.delta),Se.final=we.v,Se.finalLabel=ce(Se.final),Se.initial=Se.final-Se.delta,Se.initialLabel=ce(Se.initial)),j&&(Se.value=we.s,Se.valueLabel=ce(Se.value),Se.percentInitial=we.begR,Se.percentInitialLabel=n.formatPercent(we.begR),Se.percentPrevious=we.difR,Se.percentPreviousLabel=n.formatPercent(we.difR),Se.percentTotal=we.sumR,Se.percenTotalLabel=n.formatPercent(we.sumR));var He=n.castOption(B,we.i,"customdata");return He&&(Se.customdata=He),n.texttemplateString(A,Se,ie._d3locale,Ze,Se,B._meta||{})}function te(ie,fe,he,be){var H=ie[0].trace,B=H.orientation==="h",A=H.type==="waterfall",X=H.type==="funnel";function I(He){var Be=B?be:he;return d(Be,He,!0).text}function j(He){var Be=B?he:be;return d(Be,+He,!0).text}var T=H.textinfo,L=ie[fe],$=T.split("+"),Y=[],re,se=function(He){return $.indexOf(He)!==-1};if(se("label")&&Y.push(I(ie[fe].p)),se("text")&&(re=n.castOption(H,L.i,"text"),(re===0||re)&&Y.push(re)),A){var ce=+L.rawS||L.s,we=L.v,Se=we-ce;se("initial")&&Y.push(j(Se)),se("delta")&&Y.push(j(ce)),se("final")&&Y.push(j(we))}if(X){se("value")&&Y.push(j(L.s));var Ie=0;se("percent initial")&&Ie++,se("percent previous")&&Ie++,se("percent total")&&Ie++;var Ze=Ie>1;se("percent initial")&&(re=n.formatPercent(L.begR),Ze&&(re+=" of initial"),Y.push(re)),se("percent previous")&&(re=n.formatPercent(L.difR),Ze&&(re+=" of previous"),Y.push(re)),se("percent total")&&(re=n.formatPercent(L.sumR),Ze&&(re+=" of total"),Y.push(re))}return Y.join("<br>")}C.exports={plot:W,toMoveInsideBar:U}}),_f=ye((F,C)=>{var i=Fi(),e=Kn(),n=$n(),r=zt().fillText,l=Ul().getLineWidth,o=cr().hoverLabelText,s=Gn().BADNUM;function d(c,h,b,y,g){var m=t(c,h,b,y,g);if(m){var v=m.cd,u=v[0].trace,f=v[m.index];return m.color=p(u,f),e.getComponentMethod("errorbars","hoverInfo")(f,u,m),[m]}}function t(c,h,b,y,g){var m=c.cd,v=m[0].trace,u=m[0].t,f=y==="closest",_=v.type==="waterfall",w=c.maxHoverDistance,k=c.maxSpikeDistance,J,P,O,M,W,E,N;v.orientation==="h"?(J=b,P=h,O="y",M="x",W=be,E=ie):(J=h,P=b,O="x",M="y",E=be,W=ie);var R=v[O+"period"],V=f||R;function U(re){return D(re,-1)}function G(re){return D(re,1)}function D(re,se){var ce=re.w;return re[O]+se*ce/2}function Z(re){return re[O+"End"]-re[O+"Start"]}var q=f?U:R?function(re){return re.p-Z(re)/2}:function(re){return Math.min(U(re),re.p-u.bardelta/2)},ae=f?G:R?function(re){return re.p+Z(re)/2}:function(re){return Math.max(G(re),re.p+u.bardelta/2)};function te(re,se,ce){return g.finiteRange&&(ce=0),i.inbox(re-J,se-J,ce+Math.min(1,Math.abs(se-re)/N)-1)}function ie(re){return te(q(re),ae(re),w)}function fe(re){return te(U(re),G(re),k)}function he(re){var se=re[M];if(_){var ce=Math.abs(re.rawS)||0;P>0?se+=ce:P<0&&(se-=ce)}return se}function be(re){var se=P,ce=re.b,we=he(re);return i.inbox(ce-se,we-se,w+(we-se)/(we-ce)-1)}function H(re){var se=P,ce=re.b,we=he(re);return i.inbox(ce-se,we-se,k+(we-se)/(we-ce)-1)}var B=c[O+"a"],A=c[M+"a"];N=Math.abs(B.r2c(B.range[1])-B.r2c(B.range[0]));function X(re){return(W(re)+E(re))/2}var I=i.getDistanceFunction(y,W,E,X);if(i.getClosest(m,I,c),c.index!==!1&&m[c.index].p!==s){V||(q=function(re){return Math.min(U(re),re.p-u.bargroupwidth/2)},ae=function(re){return Math.max(G(re),re.p+u.bargroupwidth/2)});var j=c.index,T=m[j],L=v.base?T.b+T.s:T.s;c[M+"0"]=c[M+"1"]=A.c2p(T[M],!0),c[M+"LabelVal"]=L;var $=u.extents[u.extents.round(T.p)];c[O+"0"]=B.c2p(f?q(T):$[0],!0),c[O+"1"]=B.c2p(f?ae(T):$[1],!0);var Y=T.orig_p!==void 0;return c[O+"LabelVal"]=Y?T.orig_p:T.p,c.labelLabel=o(B,c[O+"LabelVal"],v[O+"hoverformat"]),c.valueLabel=o(A,c[M+"LabelVal"],v[M+"hoverformat"]),c.baseLabel=o(A,T.b,v[M+"hoverformat"]),c.spikeDistance=(H(T)+fe(T))/2,c[O+"Spike"]=B.c2p(T.p,!0),r(T,v,c),c.hovertemplate=v.hovertemplate,c}}function p(c,h){var b=h.mcc||c.marker.color,y=h.mlcc||c.marker.line.color,g=l(c,h);if(n.opacity(b))return b;if(n.opacity(y)&&g)return y}C.exports={hoverPoints:d,hoverOnBars:t,getTraceColor:p}}),wf=ye((F,C)=>{C.exports=function(i,e,n){return i.x="xVal"in e?e.xVal:e.x,i.y="yVal"in e?e.yVal:e.y,e.xa&&(i.xaxis=e.xa),e.ya&&(i.yaxis=e.ya),n.orientation==="h"?(i.label=i.y,i.value=i.x):(i.label=i.x,i.value=i.y),i}}),Tf=ye((F,C)=>{C.exports=function(e,n){var r=e.cd,l=e.xaxis,o=e.yaxis,s=r[0].trace,d=s.type==="funnel",t=s.orientation==="h",p=[],c;if(n===!1)for(c=0;c<r.length;c++)r[c].selected=0;else for(c=0;c<r.length;c++){var h=r[c],b="ct"in h?h.ct:i(h,l,o,t,d);n.contains(b,!1,c,e)?(p.push({pointNumber:c,x:l.c2d(h.x),y:o.c2d(h.y)}),h.selected=1):h.selected=0}return p};function i(e,n,r,l,o){var s=n.c2p(l?e.s0:e.p0,!0),d=n.c2p(l?e.s1:e.p1,!0),t=r.c2p(l?e.p0:e.s0,!0),p=r.c2p(l?e.p1:e.s1,!0);return o?[(s+d)/2,(t+p)/2]:l?[d,(t+p)/2]:[(s+d)/2,p]}}),Mf=ye((F,C)=>{C.exports={attributes:Bo(),layoutAttributes:D0(),supplyDefaults:Vo().supplyDefaults,crossTraceDefaults:Vo().crossTraceDefaults,supplyLayoutDefaults:yf(),calc:xf(),crossTraceCalc:v0().crossTraceCalc,colorbar:g0(),arraysToCalcdata:C0(),plot:bf().plot,style:Gl().style,styleOnSelect:Gl().styleOnSelect,hoverPoints:_f().hoverPoints,eventData:wf(),selectPoints:Tf(),moduleType:"trace",name:"bar",basePlotModule:Rl(),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}}),kf=ye((F,C)=>{C.exports=Mf()}),P0=ye((F,C)=>{var i=Er(),e=Yl().attributes,n=Za(),r=kr(),l=Sr().hovertemplateAttrs,o=Sr().texttemplateAttrs,s=Ca().extendFlat,d=Rr().pattern,t=n({editType:"plot",arrayOk:!0,colorEditType:"plot"});C.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:r.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:d,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:s({},i.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:l({},{keys:["label","color","value","percent","text"]}),texttemplate:o({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:s({},t,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:s({},t,{}),outsidetextfont:s({},t,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:s({},t,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:e({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"}}}),Af=ye((F,C)=>{var i=on(),e=zt(),n=P0(),r=Yl().defaults,l=Vo().handleText,o=zt().coercePattern;function s(p,c){var h=e.isArrayOrTypedArray(p),b=e.isArrayOrTypedArray(c),y=Math.min(h?p.length:1/0,b?c.length:1/0);if(isFinite(y)||(y=0),y&&b){for(var g,m=0;m<y;m++){var v=c[m];if(i(v)&&v>0){g=!0;break}}g||(y=0)}return{hasLabels:h,hasValues:b,len:y}}function d(p,c,h,b,y){var g=b("marker.line.width");g&&b("marker.line.color",y?void 0:h.paper_bgcolor);var m=b("marker.colors");o(b,"marker.pattern",m),p.marker&&!c.marker.pattern.fgcolor&&(c.marker.pattern.fgcolor=p.marker.colors),c.marker.pattern.bgcolor||(c.marker.pattern.bgcolor=h.paper_bgcolor)}function t(p,c,h,b){function y(E,N){return e.coerce(p,c,n,E,N)}var g=y("labels"),m=y("values"),v=s(g,m),u=v.len;if(c._hasLabels=v.hasLabels,c._hasValues=v.hasValues,!c._hasLabels&&c._hasValues&&(y("label0"),y("dlabel")),!u){c.visible=!1;return}c._length=u,d(p,c,b,y,!0),y("scalegroup");var f=y("text"),_=y("texttemplate"),w;if(_||(w=y("textinfo",e.isArrayOrTypedArray(f)?"text+percent":"percent")),y("hovertext"),y("hovertemplate"),_||w&&w!=="none"){var k=y("textposition");l(p,c,b,y,k,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var J=Array.isArray(k)||k==="auto",P=J||k==="outside";P&&y("automargin"),(k==="inside"||k==="auto"||Array.isArray(k))&&y("insidetextorientation")}else w==="none"&&y("textposition","none");r(c,b,y);var O=y("hole"),M=y("title.text");if(M){var W=y("title.position",O?"middle center":"top center");!O&&W==="middle center"&&(c.title.position="top center"),e.coerceFont(y,"title.font",b.font)}y("sort"),y("direction"),y("rotation"),y("pull")}C.exports={handleLabelsAndValues:s,handleMarkerDefaults:d,supplyDefaults:t}}),E0=ye((F,C)=>{C.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}}),Sf=ye((F,C)=>{var i=zt(),e=E0();C.exports=function(n,r){function l(o,s){return i.coerce(n,r,e,o,s)}l("hiddenlabels"),l("piecolorway",r.colorway),l("extendpiecolors")}}),F0=ye((F,C)=>{var i=on(),e=Va(),n=$n(),r={};function l(t,p){var c=[],h=t._fullLayout,b=h.hiddenlabels||[],y=p.labels,g=p.marker.colors||[],m=p.values,v=p._length,u=p._hasValues&&v,f,_;if(p.dlabel)for(y=new Array(v),f=0;f<v;f++)y[f]=String(p.label0+f*p.dlabel);var w={},k=o(h["_"+p.type+"colormap"]),J=0,P=!1;for(f=0;f<v;f++){var O,M,W;if(u){if(O=m[f],!i(O))continue;O=+O}else O=1;M=y[f],(M===void 0||M==="")&&(M=f),M=String(M);var E=w[M];E===void 0?(w[M]=c.length,W=b.indexOf(M)!==-1,W||(J+=O),c.push({v:O,label:M,color:k(g[f],M),i:f,pts:[f],hidden:W})):(P=!0,_=c[E],_.v+=O,_.pts.push(f),_.hidden||(J+=O),_.color===!1&&g[f]&&(_.color=k(g[f],M)))}c=c.filter(function(R){return R.v>=0});var N=p.type==="funnelarea"?P:p.sort;return N&&c.sort(function(R,V){return V.v-R.v}),c[0]&&(c[0].vTotal=J),c}function o(t){return function(p,c){return!p||(p=e(p),!p.isValid())?!1:(p=n.addOpacity(p,p.getAlpha()),t[c]||(t[c]=p),p)}}function s(t,p){var c=(p||{}).type;c||(c="pie");var h=t._fullLayout,b=t.calcdata,y=h[c+"colorway"],g=h["_"+c+"colormap"];h["extend"+c+"colors"]&&(y=d(y,r));for(var m=0,v=0;v<b.length;v++){var u=b[v],f=u[0].trace.type;if(f===c)for(var _=0;_<u.length;_++){var w=u[_];w.color===!1&&(g[w.label]?w.color=g[w.label]:(g[w.label]=w.color=y[m%y.length],m++))}}}function d(t,p){var c,h=JSON.stringify(t),b=p[h];if(!b){for(b=t.slice(),c=0;c<t.length;c++)b.push(e(t[c]).lighten(20).toHexString());for(c=0;c<t.length;c++)b.push(e(t[c]).darken(20).toHexString());p[h]=b}return b}C.exports={calc:l,crossTraceCalc:s,makePullColorFn:o,generateExtendedColors:d}}),Lf=ye((F,C)=>{var i=Ei().appendArrayMultiPointValues;C.exports=function(e,n){var r={curveNumber:n.index,pointNumbers:e.pts,data:n._input,fullData:n,label:e.label,color:e.color,value:e.v,percent:e.percent,text:e.text,bbox:e.bbox,v:e.v};return e.pts.length===1&&(r.pointNumber=r.i=e.pts[0]),i(r,n,e.pts),n.type==="funnelarea"&&(delete r.v,delete r.i),r}}),Of=ye((F,C)=>{var i=Xt(),e=Lr(),n=Fi(),r=$n(),l=Ga(),o=zt(),s=o.strScale,d=o.strTranslate,t=Xr(),p=Yo(),c=p.recordMinTextSize,h=p.clearMinTextSize,b=$l().TEXTPAD,y=wl(),g=Lf(),m=zt().isValidTextValue;function v(B,A){var X=B._context.staticPlot,I=B._fullLayout,j=I._size;h("pie",I),k(A,B),te(A,j);var T=o.makeTraceGroups(I._pielayer,A,"trace").each(function(L){var $=i.select(this),Y=L[0],re=Y.trace;fe(L),$.attr("stroke-linejoin","round"),$.each(function(){var se=i.select(this).selectAll("g.slice").data(L);se.enter().append("g").classed("slice",!0),se.exit().remove();var ce=[[[],[]],[[],[]]],we=!1;se.each(function(oe,Le){if(oe.hidden){i.select(this).selectAll("path,g").remove();return}oe.pointNumber=oe.i,oe.curveNumber=re.index,ce[oe.pxmid[1]<0?0:1][oe.pxmid[0]<0?0:1].push(oe);var Re=Y.cx,Ye=Y.cy,ot=i.select(this),Xe=ot.selectAll("path.surface").data([oe]);if(Xe.enter().append("path").classed("surface",!0).style({"pointer-events":X?"none":"all"}),ot.call(f,B,L),re.pull){var lt=+y.castOption(re.pull,oe.pts)||0;lt>0&&(Re+=lt*oe.pxmid[0],Ye+=lt*oe.pxmid[1])}oe.cxFinal=Re,oe.cyFinal=Ye;function ut(St,me,Ae,ke){var K=ke*(me[0]-St[0]),de=ke*(me[1]-St[1]);return"a"+ke*Y.r+","+ke*Y.r+" 0 "+oe.largeArc+(Ae?" 1 ":" 0 ")+K+","+de}var dt=re.hole;if(oe.v===Y.vTotal){var xt="M"+(Re+oe.px0[0])+","+(Ye+oe.px0[1])+ut(oe.px0,oe.pxmid,!0,1)+ut(oe.pxmid,oe.px0,!0,1)+"Z";dt?Xe.attr("d","M"+(Re+dt*oe.px0[0])+","+(Ye+dt*oe.px0[1])+ut(oe.px0,oe.pxmid,!1,dt)+ut(oe.pxmid,oe.px0,!1,dt)+"Z"+xt):Xe.attr("d",xt)}else{var qe=ut(oe.px0,oe.px1,!0,1);if(dt){var bt=1-dt;Xe.attr("d","M"+(Re+dt*oe.px1[0])+","+(Ye+dt*oe.px1[1])+ut(oe.px1,oe.px0,!1,dt)+"l"+bt*oe.px0[0]+","+bt*oe.px0[1]+qe+"Z")}else Xe.attr("d","M"+Re+","+Ye+"l"+oe.px0[0]+","+oe.px0[1]+qe+"Z")}be(B,oe,Y);var Dt=y.castOption(re.textposition,oe.pts),pt=ot.selectAll("g.slicetext").data(oe.text&&Dt!=="none"?[0]:[]);pt.enter().append("g").classed("slicetext",!0),pt.exit().remove(),pt.each(function(){var St=o.ensureSingle(i.select(this),"text","",function(Ee){Ee.attr("data-notex",1)}),me=o.ensureUniformFontSize(B,Dt==="outside"?_(re,oe,I.font):w(re,oe,I.font));St.text(oe.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(l.font,me).call(t.convertToTspans,B);var Ae=l.bBox(St.node()),ke;if(Dt==="outside")ke=V(Ae,oe);else if(ke=J(Ae,oe,Y),Dt==="auto"&&ke.scale<1){var K=o.ensureUniformFontSize(B,re.outsidetextfont);St.call(l.font,K),Ae=l.bBox(St.node()),ke=V(Ae,oe)}var de=ke.textPosAngle,xe=de===void 0?oe.pxmid:he(Y.r,de);if(ke.targetX=Re+xe[0]*ke.rCenter+(ke.x||0),ke.targetY=Ye+xe[1]*ke.rCenter+(ke.y||0),H(ke,Ae),ke.outside){var ge=ke.targetY;oe.yLabelMin=ge-Ae.height/2,oe.yLabelMid=ge,oe.yLabelMax=ge+Ae.height/2,oe.labelExtraX=0,oe.labelExtraY=0,we=!0}ke.fontSize=me.size,c(re.type,ke,I),L[Le].transform=ke,o.setTransormAndDisplay(St,ke)})});var Se=i.select(this).selectAll("g.titletext").data(re.title.text?[0]:[]);if(Se.enter().append("g").classed("titletext",!0),Se.exit().remove(),Se.each(function(){var oe=o.ensureSingle(i.select(this),"text","",function(Ye){Ye.attr("data-notex",1)}),Le=re.title.text;re._meta&&(Le=o.templateString(Le,re._meta)),oe.text(Le).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(l.font,re.title.font).call(t.convertToTspans,B);var Re;re.title.position==="middle center"?Re=U(Y):Re=G(Y,j),oe.attr("transform",d(Re.x,Re.y)+s(Math.min(1,Re.scale))+d(Re.tx,Re.ty))}),we&&ae(ce,re),u(se,re),we&&re.automargin){var Ie=l.bBox($.node()),Ze=re.domain,He=j.w*(Ze.x[1]-Ze.x[0]),Be=j.h*(Ze.y[1]-Ze.y[0]),pe=(.5*He-Y.r)/j.w,_e=(.5*Be-Y.r)/j.h;e.autoMargin(B,"pie."+re.uid+".automargin",{xl:Ze.x[0]-pe,xr:Ze.x[1]+pe,yb:Ze.y[0]-_e,yt:Ze.y[1]+_e,l:Math.max(Y.cx-Y.r-Ie.left,0),r:Math.max(Ie.right-(Y.cx+Y.r),0),b:Math.max(Ie.bottom-(Y.cy+Y.r),0),t:Math.max(Y.cy-Y.r-Ie.top,0),pad:5})}})});setTimeout(function(){T.selectAll("tspan").each(function(){var L=i.select(this);L.attr("dy")&&L.attr("dy",L.attr("dy"))})},0)}function u(B,A){B.each(function(X){var I=i.select(this);if(!X.labelExtraX&&!X.labelExtraY){I.select("path.textline").remove();return}var j=I.select("g.slicetext text");X.transform.targetX+=X.labelExtraX,X.transform.targetY+=X.labelExtraY,o.setTransormAndDisplay(j,X.transform);var T=X.cxFinal+X.pxmid[0],L=X.cyFinal+X.pxmid[1],$="M"+T+","+L,Y=(X.yLabelMax-X.yLabelMin)*(X.pxmid[0]<0?-1:1)/4;if(X.labelExtraX){var re=X.labelExtraX*X.pxmid[1]/X.pxmid[0],se=X.yLabelMid+X.labelExtraY-(X.cyFinal+X.pxmid[1]);Math.abs(re)>Math.abs(se)?$+="l"+se*X.pxmid[0]/X.pxmid[1]+","+se+"H"+(T+X.labelExtraX+Y):$+="l"+X.labelExtraX+","+re+"v"+(se-re)+"h"+Y}else $+="V"+(X.yLabelMid+X.labelExtraY)+"h"+Y;o.ensureSingle(I,"path","textline").call(r.stroke,A.outsidetextfont.color).attr({"stroke-width":Math.min(2,A.outsidetextfont.size/8),d:$,fill:"none"})})}function f(B,A,X){var I=X[0],j=I.cx,T=I.cy,L=I.trace,$=L.type==="funnelarea";"_hasHoverLabel"in L||(L._hasHoverLabel=!1),"_hasHoverEvent"in L||(L._hasHoverEvent=!1),B.on("mouseover",function(Y){var re=A._fullLayout,se=A._fullData[L.index];if(!(A._dragging||re.hovermode===!1)){var ce=se.hoverinfo;if(Array.isArray(ce)&&(ce=n.castHoverinfo({hoverinfo:[y.castOption(ce,Y.pts)],_module:L._module},re,0)),ce==="all"&&(ce="label+text+value+percent+name"),se.hovertemplate||ce!=="none"&&ce!=="skip"&&ce){var we=Y.rInscribed||0,Se=j+Y.pxmid[0]*(1-we),Ie=T+Y.pxmid[1]*(1-we),Ze=re.separators,He=[];if(ce&&ce.indexOf("label")!==-1&&He.push(Y.label),Y.text=y.castOption(se.hovertext||se.text,Y.pts),ce&&ce.indexOf("text")!==-1){var Be=Y.text;o.isValidTextValue(Be)&&He.push(Be)}Y.value=Y.v,Y.valueLabel=y.formatPieValue(Y.v,Ze),ce&&ce.indexOf("value")!==-1&&He.push(Y.valueLabel),Y.percent=Y.v/I.vTotal,Y.percentLabel=y.formatPiePercent(Y.percent,Ze),ce&&ce.indexOf("percent")!==-1&&He.push(Y.percentLabel);var pe=se.hoverlabel,_e=pe.font,oe=[];n.loneHover({trace:L,x0:Se-we*I.r,x1:Se+we*I.r,y:Ie,_x0:$?j+Y.TL[0]:Se-we*I.r,_x1:$?j+Y.TR[0]:Se+we*I.r,_y0:$?T+Y.TL[1]:Ie-we*I.r,_y1:$?T+Y.BL[1]:Ie+we*I.r,text:He.join("<br>"),name:se.hovertemplate||ce.indexOf("name")!==-1?se.name:void 0,idealAlign:Y.pxmid[0]<0?"left":"right",color:y.castOption(pe.bgcolor,Y.pts)||Y.color,borderColor:y.castOption(pe.bordercolor,Y.pts),fontFamily:y.castOption(_e.family,Y.pts),fontSize:y.castOption(_e.size,Y.pts),fontColor:y.castOption(_e.color,Y.pts),nameLength:y.castOption(pe.namelength,Y.pts),textAlign:y.castOption(pe.align,Y.pts),hovertemplate:y.castOption(se.hovertemplate,Y.pts),hovertemplateLabels:Y,eventData:[g(Y,se)]},{container:re._hoverlayer.node(),outerContainer:re._paper.node(),gd:A,inOut_bbox:oe}),Y.bbox=oe[0],L._hasHoverLabel=!0}L._hasHoverEvent=!0,A.emit("plotly_hover",{points:[g(Y,se)],event:i.event})}}),B.on("mouseout",function(Y){var re=A._fullLayout,se=A._fullData[L.index],ce=i.select(this).datum();L._hasHoverEvent&&(Y.originalEvent=i.event,A.emit("plotly_unhover",{points:[g(ce,se)],event:i.event}),L._hasHoverEvent=!1),L._hasHoverLabel&&(n.loneUnhover(re._hoverlayer.node()),L._hasHoverLabel=!1)}),B.on("click",function(Y){var re=A._fullLayout,se=A._fullData[L.index];A._dragging||re.hovermode===!1||(A._hoverdata=[g(Y,se)],n.click(A,i.event))})}function _(B,A,X){var I=y.castOption(B.outsidetextfont.color,A.pts)||y.castOption(B.textfont.color,A.pts)||X.color,j=y.castOption(B.outsidetextfont.family,A.pts)||y.castOption(B.textfont.family,A.pts)||X.family,T=y.castOption(B.outsidetextfont.size,A.pts)||y.castOption(B.textfont.size,A.pts)||X.size,L=y.castOption(B.outsidetextfont.weight,A.pts)||y.castOption(B.textfont.weight,A.pts)||X.weight,$=y.castOption(B.outsidetextfont.style,A.pts)||y.castOption(B.textfont.style,A.pts)||X.style,Y=y.castOption(B.outsidetextfont.variant,A.pts)||y.castOption(B.textfont.variant,A.pts)||X.variant,re=y.castOption(B.outsidetextfont.textcase,A.pts)||y.castOption(B.textfont.textcase,A.pts)||X.textcase,se=y.castOption(B.outsidetextfont.lineposition,A.pts)||y.castOption(B.textfont.lineposition,A.pts)||X.lineposition,ce=y.castOption(B.outsidetextfont.shadow,A.pts)||y.castOption(B.textfont.shadow,A.pts)||X.shadow;return{color:I,family:j,size:T,weight:L,style:$,variant:Y,textcase:re,lineposition:se,shadow:ce}}function w(B,A,X){var I=y.castOption(B.insidetextfont.color,A.pts);!I&&B._input.textfont&&(I=y.castOption(B._input.textfont.color,A.pts));var j=y.castOption(B.insidetextfont.family,A.pts)||y.castOption(B.textfont.family,A.pts)||X.family,T=y.castOption(B.insidetextfont.size,A.pts)||y.castOption(B.textfont.size,A.pts)||X.size,L=y.castOption(B.insidetextfont.weight,A.pts)||y.castOption(B.textfont.weight,A.pts)||X.weight,$=y.castOption(B.insidetextfont.style,A.pts)||y.castOption(B.textfont.style,A.pts)||X.style,Y=y.castOption(B.insidetextfont.variant,A.pts)||y.castOption(B.textfont.variant,A.pts)||X.variant,re=y.castOption(B.insidetextfont.textcase,A.pts)||y.castOption(B.textfont.textcase,A.pts)||X.textcase,se=y.castOption(B.insidetextfont.lineposition,A.pts)||y.castOption(B.textfont.lineposition,A.pts)||X.lineposition,ce=y.castOption(B.insidetextfont.shadow,A.pts)||y.castOption(B.textfont.shadow,A.pts)||X.shadow;return{color:I||r.contrast(A.color),family:j,size:T,weight:L,style:$,variant:Y,textcase:re,lineposition:se,shadow:ce}}function k(B,A){for(var X,I,j=0;j<B.length;j++)if(X=B[j][0],I=X.trace,I.title.text){var T=I.title.text;I._meta&&(T=o.templateString(T,I._meta));var L=l.tester.append("text").attr("data-notex",1).text(T).call(l.font,I.title.font).call(t.convertToTspans,A),$=l.bBox(L.node(),!0);X.titleBox={width:$.width,height:$.height},L.remove()}}function J(B,A,X){var I=X.r||A.rpx1,j=A.rInscribed,T=A.startangle===A.stopangle;if(T)return{rCenter:1-j,scale:0,rotate:0,textPosAngle:0};var L=A.ring,$=L===1&&Math.abs(A.startangle-A.stopangle)===Math.PI*2,Y=A.halfangle,re=A.midangle,se=X.trace.insidetextorientation,ce=se==="horizontal",we=se==="tangential",Se=se==="radial",Ie=se==="auto",Ze=[],He;if(!Ie){var Be=function(ot,Xe){if(P(A,ot)){var lt=Math.abs(ot-A.startangle),ut=Math.abs(ot-A.stopangle),dt=lt<ut?lt:ut;Xe==="tan"?He=M(B,I,L,dt,0):He=O(B,I,L,dt,Math.PI/2),He.textPosAngle=ot,Ze.push(He)}},pe;if(ce||we){for(pe=4;pe>=-4;pe-=2)Be(Math.PI*pe,"tan");for(pe=4;pe>=-4;pe-=2)Be(Math.PI*(pe+1),"tan")}if(ce||Se){for(pe=4;pe>=-4;pe-=2)Be(Math.PI*(pe+1.5),"rad");for(pe=4;pe>=-4;pe-=2)Be(Math.PI*(pe+.5),"rad")}}if($||Ie||ce){var _e=Math.sqrt(B.width*B.width+B.height*B.height);if(He={scale:j*I*2/_e,rCenter:1-j,rotate:0},He.textPosAngle=(A.startangle+A.stopangle)/2,He.scale>=1)return He;Ze.push(He)}(Ie||Se)&&(He=O(B,I,L,Y,re),He.textPosAngle=(A.startangle+A.stopangle)/2,Ze.push(He)),(Ie||we)&&(He=M(B,I,L,Y,re),He.textPosAngle=(A.startangle+A.stopangle)/2,Ze.push(He));for(var oe=0,Le=0,Re=0;Re<Ze.length;Re++){var Ye=Ze[Re].scale;if(Le<Ye&&(Le=Ye,oe=Re),!Ie&&Le>=1)break}return Ze[oe]}function P(B,A){var X=B.startangle,I=B.stopangle;return X>A&&A>I||X<A&&A<I}function O(B,A,X,I,j){A=Math.max(0,A-2*b);var T=B.width/B.height,L=N(T,I,A,X);return{scale:L*2/B.height,rCenter:W(T,L/A),rotate:E(j)}}function M(B,A,X,I,j){A=Math.max(0,A-2*b);var T=B.height/B.width,L=N(T,I,A,X);return{scale:L*2/B.width,rCenter:W(T,L/A),rotate:E(j+Math.PI/2)}}function W(B,A){return Math.cos(A)-B*A}function E(B){return(180/Math.PI*B+720)%180-90}function N(B,A,X,I){var j=B+1/(2*Math.tan(A));return X*Math.min(1/(Math.sqrt(j*j+.5)+j),I/(Math.sqrt(B*B+I/2)+B))}function R(B,A){return B.v===A.vTotal&&!A.trace.hole?1:Math.min(1/(1+1/Math.sin(B.halfangle)),B.ring/2)}function V(B,A){var X=A.pxmid[0],I=A.pxmid[1],j=B.width/2,T=B.height/2;return X<0&&(j*=-1),I<0&&(T*=-1),{scale:1,rCenter:1,rotate:0,x:j+Math.abs(T)*(j>0?1:-1)/2,y:T/(1+X*X/(I*I)),outside:!0}}function U(B){var A=Math.sqrt(B.titleBox.width*B.titleBox.width+B.titleBox.height*B.titleBox.height);return{x:B.cx,y:B.cy,scale:B.trace.hole*B.r*2/A,tx:0,ty:-B.titleBox.height/2+B.trace.title.font.size}}function G(B,A){var X=1,I=1,j,T=B.trace,L={x:B.cx,y:B.cy},$={tx:0,ty:0};$.ty+=T.title.font.size,j=q(T),T.title.position.indexOf("top")!==-1?(L.y-=(1+j)*B.r,$.ty-=B.titleBox.height):T.title.position.indexOf("bottom")!==-1&&(L.y+=(1+j)*B.r);var Y=D(B.r,B.trace.aspectratio),re=A.w*(T.domain.x[1]-T.domain.x[0])/2;return T.title.position.indexOf("left")!==-1?(re=re+Y,L.x-=(1+j)*Y,$.tx+=B.titleBox.width/2):T.title.position.indexOf("center")!==-1?re*=2:T.title.position.indexOf("right")!==-1&&(re=re+Y,L.x+=(1+j)*Y,$.tx-=B.titleBox.width/2),X=re/B.titleBox.width,I=Z(B,A)/B.titleBox.height,{x:L.x,y:L.y,scale:Math.min(X,I),tx:$.tx,ty:$.ty}}function D(B,A){return B/(A===void 0?1:A)}function Z(B,A){var X=B.trace,I=A.h*(X.domain.y[1]-X.domain.y[0]);return Math.min(B.titleBox.height,I/2)}function q(B){var A=B.pull;if(!A)return 0;var X;if(o.isArrayOrTypedArray(A))for(A=0,X=0;X<B.pull.length;X++)B.pull[X]>A&&(A=B.pull[X]);return A}function ae(B,A){var X,I,j,T,L,$,Y,re,se,ce,we,Se,Ie;function Ze(_e,oe){return _e.pxmid[1]-oe.pxmid[1]}function He(_e,oe){return oe.pxmid[1]-_e.pxmid[1]}function Be(_e,oe){oe||(oe={});var Le=oe.labelExtraY+(I?oe.yLabelMax:oe.yLabelMin),Re=I?_e.yLabelMin:_e.yLabelMax,Ye=I?_e.yLabelMax:_e.yLabelMin,ot=_e.cyFinal+L(_e.px0[1],_e.px1[1]),Xe=Le-Re,lt,ut,dt,xt,qe,bt;if(Xe*Y>0&&(_e.labelExtraY=Xe),!!o.isArrayOrTypedArray(A.pull))for(ut=0;ut<ce.length;ut++)dt=ce[ut],!(dt===_e||(y.castOption(A.pull,_e.pts)||0)>=(y.castOption(A.pull,dt.pts)||0))&&((_e.pxmid[1]-dt.pxmid[1])*Y>0?(xt=dt.cyFinal+L(dt.px0[1],dt.px1[1]),Xe=xt-Re-_e.labelExtraY,Xe*Y>0&&(_e.labelExtraY+=Xe)):(Ye+_e.labelExtraY-ot)*Y>0&&(lt=3*$*Math.abs(ut-ce.indexOf(_e)),qe=dt.cxFinal+T(dt.px0[0],dt.px1[0]),bt=qe+lt-(_e.cxFinal+_e.pxmid[0])-_e.labelExtraX,bt*$>0&&(_e.labelExtraX+=bt)))}for(I=0;I<2;I++)for(j=I?Ze:He,L=I?Math.max:Math.min,Y=I?1:-1,X=0;X<2;X++){for(T=X?Math.max:Math.min,$=X?1:-1,re=B[I][X],re.sort(j),se=B[1-I][X],ce=se.concat(re),Se=[],we=0;we<re.length;we++)re[we].yLabelMid!==void 0&&Se.push(re[we]);for(Ie=!1,we=0;I&&we<se.length;we++)if(se[we].yLabelMid!==void 0){Ie=se[we];break}for(we=0;we<Se.length;we++){var pe=we&&Se[we-1];Ie&&!we&&(pe=Ie),Be(Se[we],pe)}}}function te(B,A){for(var X=[],I=0;I<B.length;I++){var j=B[I][0],T=j.trace,L=T.domain,$=A.w*(L.x[1]-L.x[0]),Y=A.h*(L.y[1]-L.y[0]);T.title.text&&T.title.position!=="middle center"&&(Y-=Z(j,A));var re=$/2,se=Y/2;T.type==="funnelarea"&&!T.scalegroup&&(se/=T.aspectratio),j.r=Math.min(re,se)/(1+q(T)),j.cx=A.l+A.w*(T.domain.x[1]+T.domain.x[0])/2,j.cy=A.t+A.h*(1-T.domain.y[0])-Y/2,T.title.text&&T.title.position.indexOf("bottom")!==-1&&(j.cy-=Z(j,A)),T.scalegroup&&X.indexOf(T.scalegroup)===-1&&X.push(T.scalegroup)}ie(B,X)}function ie(B,A){for(var X,I,j,T=0;T<A.length;T++){var L=1/0,$=A[T];for(I=0;I<B.length;I++)if(X=B[I][0],j=X.trace,j.scalegroup===$){var Y;if(j.type==="pie")Y=X.r*X.r;else if(j.type==="funnelarea"){var re,se;j.aspectratio>1?(re=X.r,se=re/j.aspectratio):(se=X.r,re=se*j.aspectratio),re*=(1+j.baseratio)/2,Y=re*se}L=Math.min(L,Y/X.vTotal)}for(I=0;I<B.length;I++)if(X=B[I][0],j=X.trace,j.scalegroup===$){var ce=L*X.vTotal;j.type==="funnelarea"&&(ce/=(1+j.baseratio)/2,ce/=j.aspectratio),X.r=Math.sqrt(ce)}}}function fe(B){var A=B[0],X=A.r,I=A.trace,j=y.getRotationAngle(I.rotation),T=2*Math.PI/A.vTotal,L="px0",$="px1",Y,re,se;if(I.direction==="counterclockwise"){for(Y=0;Y<B.length&&B[Y].hidden;Y++);if(Y===B.length)return;j+=T*B[Y].v,T*=-1,L="px1",$="px0"}for(se=he(X,j),Y=0;Y<B.length;Y++)re=B[Y],!re.hidden&&(re[L]=se,re.startangle=j,j+=T*re.v/2,re.pxmid=he(X,j),re.midangle=j,j+=T*re.v/2,se=he(X,j),re.stopangle=j,re[$]=se,re.largeArc=re.v>A.vTotal/2?1:0,re.halfangle=Math.PI*Math.min(re.v/A.vTotal,.5),re.ring=1-I.hole,re.rInscribed=R(re,A))}function he(B,A){return[B*Math.sin(A),-B*Math.cos(A)]}function be(B,A,X){var I=B._fullLayout,j=X.trace,T=j.texttemplate,L=j.textinfo;if(!T&&L&&L!=="none"){var $=L.split("+"),Y=function(oe){return $.indexOf(oe)!==-1},re=Y("label"),se=Y("text"),ce=Y("value"),we=Y("percent"),Se=I.separators,Ie;if(Ie=re?[A.label]:[],se){var Ze=y.getFirstFilled(j.text,A.pts);m(Ze)&&Ie.push(Ze)}ce&&Ie.push(y.formatPieValue(A.v,Se)),we&&Ie.push(y.formatPiePercent(A.v/X.vTotal,Se)),A.text=Ie.join("<br>")}function He(oe){return{label:oe.label,value:oe.v,valueLabel:y.formatPieValue(oe.v,I.separators),percent:oe.v/X.vTotal,percentLabel:y.formatPiePercent(oe.v/X.vTotal,I.separators),color:oe.color,text:oe.text,customdata:o.castOption(j,oe.i,"customdata")}}if(T){var Be=o.castOption(j,A.i,"texttemplate");if(!Be)A.text="";else{var pe=He(A),_e=y.getFirstFilled(j.text,A.pts);(m(_e)||_e==="")&&(pe.text=_e),A.text=o.texttemplateString(Be,pe,B._fullLayout._d3locale,pe,j._meta||{})}}}function H(B,A){var X=B.rotate*Math.PI/180,I=Math.cos(X),j=Math.sin(X),T=(A.left+A.right)/2,L=(A.top+A.bottom)/2;B.textX=T*I-L*j,B.textY=T*j+L*I,B.noCenter=!0}C.exports={plot:v,formatSliceLabel:be,transformInsideText:J,determineInsideTextFont:w,positionTitleOutside:G,prerenderTitles:k,layoutAreas:te,attachFxHandlers:f,computeTransform:H}}),Df=ye((F,C)=>{var i=Xt(),e=Tl(),n=Yo().resizeText;C.exports=function(r){var l=r._fullLayout._pielayer.selectAll(".trace");n(r,l,"pie"),l.each(function(o){var s=o[0],d=s.trace,t=i.select(this);t.style({opacity:d.opacity}),t.selectAll("path.surface").each(function(p){i.select(this).call(e,p,d,r)})})}}),Cf=ye(F=>{var C=Lr();F.name="pie",F.plot=function(i,e,n,r){C.plotBasePlot(F.name,i,e,n,r)},F.clean=function(i,e,n,r){C.cleanBasePlot(F.name,i,e,n,r)}}),Pf=ye((F,C)=>{C.exports={attributes:P0(),supplyDefaults:Af().supplyDefaults,supplyLayoutDefaults:Sf(),layoutAttributes:E0(),calc:F0().calc,crossTraceCalc:F0().crossTraceCalc,plot:Of().plot,style:Df(),styleOne:Tl(),moduleType:"trace",name:"pie",basePlotModule:Cf(),categories:["pie-like","pie","showLegend"],meta:{}}}),Ef=ye((F,C)=>{C.exports=Pf()}),Jr=ye((F,C)=>{var i=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(o){if(o==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(o)}function l(){try{if(!Object.assign)return!1;var o=new String("abc");if(o[5]="de",Object.getOwnPropertyNames(o)[0]==="5")return!1;for(var s={},d=0;d<10;d++)s["_"+String.fromCharCode(d)]=d;var t=Object.getOwnPropertyNames(s).map(function(c){return s[c]});if(t.join("")!=="0123456789")return!1;var p={};return"abcdefghijklmnopqrst".split("").forEach(function(c){p[c]=c}),Object.keys(Object.assign({},p)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}C.exports=l()?Object.assign:function(o,s){for(var d,t=r(o),p,c=1;c<arguments.length;c++){d=Object(arguments[c]);for(var h in d)e.call(d,h)&&(t[h]=d[h]);if(i){p=i(d);for(var b=0;b<p.length;b++)n.call(d,p[b])&&(t[p[b]]=d[p[b]])}}return t}}),Qr=ye((F,C)=>{var i=Jr();function e(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}i(e.prototype,{instance:function(d,t){d=(d||"gregorian").toLowerCase(),t=t||"";var p=this._localCals[d+"-"+t];if(!p&&this.calendars[d]&&(p=new this.calendars[d](t),this._localCals[d+"-"+t]=p),!p)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,d);return p},newDate:function(d,t,p,c,h){return c=(d!=null&&d.year?d.calendar():typeof c=="string"?this.instance(c,h):c)||this.instance(),c.newDate(d,t,p)},substituteDigits:function(d){return function(t){return(t+"").replace(/[0-9]/g,function(p){return d[p]})}},substituteChineseDigits:function(d,t){return function(p){for(var c="",h=0;p>0;){var b=p%10;c=(b===0?"":d[b]+t[h])+c,h++,p=Math.floor(p/10)}return c.indexOf(d[1]+t[1])===0&&(c=c.substr(1)),c||d[0]}}});function n(d,t,p,c){if(this._calendar=d,this._year=t,this._month=p,this._day=c,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(s.local.invalidDate||s.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function r(d,t){return d=""+d,"000000".substring(0,t-d.length)+d}i(n.prototype,{newDate:function(d,t,p){return this._calendar.newDate(d??this,t,p)},year:function(d){return arguments.length===0?this._year:this.set(d,"y")},month:function(d){return arguments.length===0?this._month:this.set(d,"m")},day:function(d){return arguments.length===0?this._day:this.set(d,"d")},date:function(d,t,p){if(!this._calendar.isValid(d,t,p))throw(s.local.invalidDate||s.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=d,this._month=t,this._day=p,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(d,t){return this._calendar.add(this,d,t)},set:function(d,t){return this._calendar.set(this,d,t)},compareTo:function(d){if(this._calendar.name!==d._calendar.name)throw(s.local.differentCalendars||s.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,d._calendar.local.name);var t=this._year!==d._year?this._year-d._year:this._month!==d._month?this.monthOfYear()-d.monthOfYear():this._day-d._day;return t===0?0:t<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(d){return this._calendar.fromJD(d)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(d){return this._calendar.fromJSDate(d)},toString:function(){return(this.year()<0?"-":"")+r(Math.abs(this.year()),4)+"-"+r(this.month(),2)+"-"+r(this.day(),2)}});function l(){this.shortYearCutoff="+10"}i(l.prototype,{_validateLevel:0,newDate:function(d,t,p){return d==null?this.today():(d.year&&(this._validate(d,t,p,s.local.invalidDate||s.regionalOptions[""].invalidDate),p=d.day(),t=d.month(),d=d.year()),new n(this,d,t,p))},today:function(){return this.fromJSDate(new Date)},epoch:function(d){var t=this._validate(d,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return t.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(d){var t=this._validate(d,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return(t.year()<0?"-":"")+r(Math.abs(t.year()),4)},monthsInYear:function(d){return this._validate(d,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear),12},monthOfYear:function(d,t){var p=this._validate(d,t,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth);return(p.month()+this.monthsInYear(p)-this.firstMonth)%this.monthsInYear(p)+this.minMonth},fromMonthOfYear:function(d,t){var p=(t+this.firstMonth-2*this.minMonth)%this.monthsInYear(d)+this.minMonth;return this._validate(d,p,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth),p},daysInYear:function(d){var t=this._validate(d,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return this.leapYear(t)?366:365},dayOfYear:function(d,t,p){var c=this._validate(d,t,p,s.local.invalidDate||s.regionalOptions[""].invalidDate);return c.toJD()-this.newDate(c.year(),this.fromMonthOfYear(c.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(d,t,p){var c=this._validate(d,t,p,s.local.invalidDate||s.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(c))+2)%this.daysInWeek()},extraInfo:function(d,t,p){return this._validate(d,t,p,s.local.invalidDate||s.regionalOptions[""].invalidDate),{}},add:function(d,t,p){return this._validate(d,this.minMonth,this.minDay,s.local.invalidDate||s.regionalOptions[""].invalidDate),this._correctAdd(d,this._add(d,t,p),t,p)},_add:function(d,t,p){if(this._validateLevel++,p==="d"||p==="w"){var c=d.toJD()+t*(p==="w"?this.daysInWeek():1),h=d.calendar().fromJD(c);return this._validateLevel--,[h.year(),h.month(),h.day()]}try{var b=d.year()+(p==="y"?t:0),y=d.monthOfYear()+(p==="m"?t:0),h=d.day(),g=function(u){for(;y<u.minMonth;)b--,y+=u.monthsInYear(b);for(var f=u.monthsInYear(b);y>f-1+u.minMonth;)b++,y-=f,f=u.monthsInYear(b)};p==="y"?(d.month()!==this.fromMonthOfYear(b,y)&&(y=this.newDate(b,d.month(),this.minDay).monthOfYear()),y=Math.min(y,this.monthsInYear(b)),h=Math.min(h,this.daysInMonth(b,this.fromMonthOfYear(b,y)))):p==="m"&&(g(this),h=Math.min(h,this.daysInMonth(b,this.fromMonthOfYear(b,y))));var m=[b,this.fromMonthOfYear(b,y),h];return this._validateLevel--,m}catch(v){throw this._validateLevel--,v}},_correctAdd:function(d,t,p,c){if(!this.hasYearZero&&(c==="y"||c==="m")&&(t[0]===0||d.year()>0!=t[0]>0)){var h={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[c],b=p<0?-1:1;t=this._add(d,p*h[0]+b*h[1],h[2])}return d.date(t[0],t[1],t[2])},set:function(d,t,p){this._validate(d,this.minMonth,this.minDay,s.local.invalidDate||s.regionalOptions[""].invalidDate);var c=p==="y"?t:d.year(),h=p==="m"?t:d.month(),b=p==="d"?t:d.day();return(p==="y"||p==="m")&&(b=Math.min(b,this.daysInMonth(c,h))),d.date(c,h,b)},isValid:function(d,t,p){this._validateLevel++;var c=this.hasYearZero||d!==0;if(c){var h=this.newDate(d,t,this.minDay);c=t>=this.minMonth&&t-this.minMonth<this.monthsInYear(h)&&p>=this.minDay&&p-this.minDay<this.daysInMonth(h)}return this._validateLevel--,c},toJSDate:function(d,t,p){var c=this._validate(d,t,p,s.local.invalidDate||s.regionalOptions[""].invalidDate);return s.instance().fromJD(this.toJD(c)).toJSDate()},fromJSDate:function(d){return this.fromJD(s.instance().fromJSDate(d).toJD())},_validate:function(d,t,p,c){if(d.year){if(this._validateLevel===0&&this.name!==d.calendar().name)throw(s.local.differentCalendars||s.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,d.calendar().local.name);return d}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(d,t,p))throw c.replace(/\{0\}/,this.local.name);var h=this.newDate(d,t,p);return this._validateLevel--,h}catch(b){throw this._validateLevel--,b}}});function o(d){this.local=this.regionalOptions[d]||this.regionalOptions[""]}o.prototype=new l,i(o.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(p){var t=this._validate(p,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear),p=t.year()+(t.year()<0?1:0);return p%4===0&&(p%100!==0||p%400===0)},weekOfYear:function(d,t,p){var c=this.newDate(d,t,p);return c.add(4-(c.dayOfWeek()||7),"d"),Math.floor((c.dayOfYear()-1)/7)+1},daysInMonth:function(d,t){var p=this._validate(d,t,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===2&&this.leapYear(p.year())?1:0)},weekDay:function(d,t,p){return(this.dayOfWeek(d,t,p)||7)<6},toJD:function(d,t,p){var c=this._validate(d,t,p,s.local.invalidDate||s.regionalOptions[""].invalidDate);d=c.year(),t=c.month(),p=c.day(),d<0&&d++,t<3&&(t+=12,d--);var h=Math.floor(d/100),b=2-h+Math.floor(h/4);return Math.floor(365.25*(d+4716))+Math.floor(30.6001*(t+1))+p+b-1524.5},fromJD:function(d){var t=Math.floor(d+.5),p=Math.floor((t-186721625e-2)/36524.25);p=t+1+p-Math.floor(p/4);var c=p+1524,h=Math.floor((c-122.1)/365.25),b=Math.floor(365.25*h),y=Math.floor((c-b)/30.6001),g=c-b-Math.floor(y*30.6001),m=y-(y>13.5?13:1),v=h-(m>2.5?4716:4715);return v<=0&&v--,this.newDate(v,m,g)},toJSDate:function(d,t,p){var c=this._validate(d,t,p,s.local.invalidDate||s.regionalOptions[""].invalidDate),h=new Date(c.year(),c.month()-1,c.day());return h.setHours(0),h.setMinutes(0),h.setSeconds(0),h.setMilliseconds(0),h.setHours(h.getHours()>12?h.getHours()+2:0),h},fromJSDate:function(d){return this.newDate(d.getFullYear(),d.getMonth()+1,d.getDate())}});var s=C.exports=new e;s.cdate=n,s.baseCalendar=l,s.calendars.gregorian=o}),Ff=ye(()=>{var F=Jr(),C=Qr();F(C.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),C.local=C.regionalOptions[""],F(C.cdate.prototype,{formatDate:function(i,e){return typeof i!="string"&&(e=i,i=""),this._calendar.formatDate(i||"",this,e)}}),F(C.baseCalendar.prototype,{UNIX_EPOCH:C.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:24*60*60,TICKS_EPOCH:C.instance().jdEpoch,TICKS_PER_DAY:24*60*60*1e7,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(i,e,n){if(typeof i!="string"&&(n=e,e=i,i=""),!e)return"";if(e.calendar()!==this)throw C.local.invalidFormat||C.regionalOptions[""].invalidFormat;i=i||this.local.dateFormat,n=n||{};for(var r=n.dayNamesShort||this.local.dayNamesShort,l=n.dayNames||this.local.dayNames,o=n.monthNumbers||this.local.monthNumbers,s=n.monthNamesShort||this.local.monthNamesShort,d=n.monthNames||this.local.monthNames,t=n.calculateWeek||this.local.calculateWeek,p=function(w,k){for(var J=1;_+J<i.length&&i.charAt(_+J)===w;)J++;return _+=J-1,Math.floor(J/(k||1))>1},c=function(w,k,J,P){var O=""+k;if(p(w,P))for(;O.length<J;)O="0"+O;return O},h=function(w,k,J,P){return p(w)?P[k]:J[k]},b=this,y=function(w){return typeof o=="function"?o.call(b,w,p("m")):v(c("m",w.month(),2))},g=function(w,k){return k?typeof d=="function"?d.call(b,w):d[w.month()-b.minMonth]:typeof s=="function"?s.call(b,w):s[w.month()-b.minMonth]},m=this.local.digits,v=function(w){return n.localNumbers&&m?m(w):w},u="",f=!1,_=0;_<i.length;_++)if(f)i.charAt(_)==="'"&&!p("'")?f=!1:u+=i.charAt(_);else switch(i.charAt(_)){case"d":u+=v(c("d",e.day(),2));break;case"D":u+=h("D",e.dayOfWeek(),r,l);break;case"o":u+=c("o",e.dayOfYear(),3);break;case"w":u+=c("w",e.weekOfYear(),2);break;case"m":u+=y(e);break;case"M":u+=g(e,p("M"));break;case"y":u+=p("y",2)?e.year():(e.year()%100<10?"0":"")+e.year()%100;break;case"Y":p("Y",2),u+=e.formatYear();break;case"J":u+=e.toJD();break;case"@":u+=(e.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":u+=(e.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":p("'")?u+="'":f=!0;break;default:u+=i.charAt(_)}return u},parseDate:function(i,e,n){if(e==null)throw C.local.invalidArguments||C.regionalOptions[""].invalidArguments;if(e=typeof e=="object"?e.toString():e+"",e==="")return null;i=i||this.local.dateFormat,n=n||{};var r=n.shortYearCutoff||this.shortYearCutoff;r=typeof r!="string"?r:this.today().year()%100+parseInt(r,10);for(var l=n.dayNamesShort||this.local.dayNamesShort,o=n.dayNames||this.local.dayNames,s=n.parseMonth||this.local.parseMonth,d=n.monthNumbers||this.local.monthNumbers,t=n.monthNamesShort||this.local.monthNamesShort,p=n.monthNames||this.local.monthNames,c=-1,h=-1,b=-1,y=-1,g=-1,m=!1,v=!1,u=function(N,R){for(var V=1;M+V<i.length&&i.charAt(M+V)===N;)V++;return M+=V-1,Math.floor(V/(R||1))>1},f=function(N,R){var V=u(N,R),U=[2,3,V?4:2,V?4:2,10,11,20]["oyYJ@!".indexOf(N)+1],G=new RegExp("^-?\\d{1,"+U+"}"),D=e.substring(O).match(G);if(!D)throw(C.local.missingNumberAt||C.regionalOptions[""].missingNumberAt).replace(/\{0\}/,O);return O+=D[0].length,parseInt(D[0],10)},_=this,w=function(){if(typeof d=="function"){u("m");var N=d.call(_,e.substring(O));return O+=N.length,N}return f("m")},k=function(N,R,V,U){for(var G=u(N,U)?V:R,D=0;D<G.length;D++)if(e.substr(O,G[D].length).toLowerCase()===G[D].toLowerCase())return O+=G[D].length,D+_.minMonth;throw(C.local.unknownNameAt||C.regionalOptions[""].unknownNameAt).replace(/\{0\}/,O)},J=function(){if(typeof p=="function"){var N=u("M")?p.call(_,e.substring(O)):t.call(_,e.substring(O));return O+=N.length,N}return k("M",t,p)},P=function(){if(e.charAt(O)!==i.charAt(M))throw(C.local.unexpectedLiteralAt||C.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,O);O++},O=0,M=0;M<i.length;M++)if(v)i.charAt(M)==="'"&&!u("'")?v=!1:P();else switch(i.charAt(M)){case"d":y=f("d");break;case"D":k("D",l,o);break;case"o":g=f("o");break;case"w":f("w");break;case"m":b=w();break;case"M":b=J();break;case"y":var W=M;m=!u("y",2),M=W,h=f("y",2);break;case"Y":h=f("Y",2);break;case"J":c=f("J")+.5,e.charAt(O)==="."&&(O++,f("J"));break;case"@":c=f("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":c=f("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":O=e.length;break;case"'":u("'")?P():v=!0;break;default:P()}if(O<e.length)throw C.local.unexpectedText||C.regionalOptions[""].unexpectedText;if(h===-1?h=this.today().year():h<100&&m&&(h+=r===-1?1900:this.today().year()-this.today().year()%100-(h<=r?0:100)),typeof b=="string"&&(b=s.call(this,h,b)),g>-1){b=1,y=g;for(var E=this.daysInMonth(h,b);y>E;E=this.daysInMonth(h,b))b++,y-=E}return c>-1?this.fromJD(c):this.newDate(h,b,y)},determineDate:function(i,e,n,r,l){n&&typeof n!="object"&&(l=r,r=n,n=null),typeof r!="string"&&(l=r,r="");var o=this,s=function(d){try{return o.parseDate(r,d,l)}catch{}d=d.toLowerCase();for(var t=(d.match(/^c/)&&n?n.newDate():null)||o.today(),p=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,c=p.exec(d);c;)t.add(parseInt(c[1],10),c[2]||"d"),c=p.exec(d);return t};return e=e?e.newDate():null,i=i==null?e:typeof i=="string"?s(i):typeof i=="number"?isNaN(i)||i===1/0||i===-1/0?e:o.today().add(i,"d"):o.newDate(i),i}})}),If=ye(()=>{var F=Qr(),C=Jr(),i=F.instance();function e(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}e.prototype=new F.baseCalendar,C(e.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(c,h){if(typeof c=="string"){var b=c.match(r);return b?b[0]:""}var y=this._validateYear(c),g=c.month(),m=""+this.toChineseMonth(y,g);return h&&m.length<2&&(m="0"+m),this.isIntercalaryMonth(y,g)&&(m+="i"),m},monthNames:function(c){if(typeof c=="string"){var h=c.match(l);return h?h[0]:""}var b=this._validateYear(c),y=c.month(),g=this.toChineseMonth(b,y),m=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"][g-1];return this.isIntercalaryMonth(b,y)&&(m="闰"+m),m},monthNamesShort:function(c){if(typeof c=="string"){var h=c.match(o);return h?h[0]:""}var b=this._validateYear(c),y=c.month(),g=this.toChineseMonth(b,y),m=["一","二","三","四","五","六","七","八","九","十","十一","十二"][g-1];return this.isIntercalaryMonth(b,y)&&(m="闰"+m),m},parseMonth:function(c,h){c=this._validateYear(c);var b=parseInt(h),y;if(isNaN(b))h[0]==="闰"&&(y=!0,h=h.substring(1)),h[h.length-1]==="月"&&(h=h.substring(0,h.length-1)),b=1+["一","二","三","四","五","六","七","八","九","十","十一","十二"].indexOf(h);else{var g=h[h.length-1];y=g==="i"||g==="I"}var m=this.toMonthIndex(c,b,y);return m},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(c,h){if(c.year&&(c=c.year()),typeof c!="number"||c<1888||c>2111)throw h.replace(/\{0\}/,this.local.name);return c},toMonthIndex:function(c,h,b){var y=this.intercalaryMonth(c),g=b&&h!==y;if(g||h<1||h>12)throw F.local.invalidMonth.replace(/\{0\}/,this.local.name);var m;return y?!b&&h<=y?m=h-1:m=h:m=h-1,m},toChineseMonth:function(c,h){c.year&&(c=c.year(),h=c.month());var b=this.intercalaryMonth(c),y=b?12:11;if(h<0||h>y)throw F.local.invalidMonth.replace(/\{0\}/,this.local.name);var g;return b?h<b?g=h+1:g=h:g=h+1,g},intercalaryMonth:function(c){c=this._validateYear(c);var h=s[c-s[0]],b=h>>13;return b},isIntercalaryMonth:function(c,h){c.year&&(c=c.year(),h=c.month());var b=this.intercalaryMonth(c);return!!b&&b===h},leapYear:function(c){return this.intercalaryMonth(c)!==0},weekOfYear:function(c,h,b){var y=this._validateYear(c,F.local.invalidyear),g=d[y-d[0]],m=g>>9&4095,v=g>>5&15,u=g&31,f;f=i.newDate(m,v,u),f.add(4-(f.dayOfWeek()||7),"d");var _=this.toJD(c,h,b)-f.toJD();return 1+Math.floor(_/7)},monthsInYear:function(c){return this.leapYear(c)?13:12},daysInMonth:function(c,h){c.year&&(h=c.month(),c=c.year()),c=this._validateYear(c);var b=s[c-s[0]],y=b>>13,g=y?12:11;if(h>g)throw F.local.invalidMonth.replace(/\{0\}/,this.local.name);var m=b&1<<12-h?30:29;return m},weekDay:function(c,h,b){return(this.dayOfWeek(c,h,b)||7)<6},toJD:function(c,h,b){var y=this._validate(c,m,b,F.local.invalidDate);c=this._validateYear(y.year()),h=y.month(),b=y.day();var g=this.isIntercalaryMonth(c,h),m=this.toChineseMonth(c,h),v=p(c,m,b,g);return i.toJD(v.year,v.month,v.day)},fromJD:function(c){var h=i.fromJD(c),b=t(h.year(),h.month(),h.day()),y=this.toMonthIndex(b.year,b.month,b.isIntercalary);return this.newDate(b.year,y,b.day)},fromString:function(c){var h=c.match(n),b=this._validateYear(+h[1]),y=+h[2],g=!!h[3],m=this.toMonthIndex(b,y,g),v=+h[4];return this.newDate(b,m,v)},add:function(c,h,b){var y=c.year(),g=c.month(),m=this.isIntercalaryMonth(y,g),v=this.toChineseMonth(y,g),u=Object.getPrototypeOf(e.prototype).add.call(this,c,h,b);if(b==="y"){var f=u.year(),_=u.month(),w=this.isIntercalaryMonth(f,v),k=m&&w?this.toMonthIndex(f,v,!0):this.toMonthIndex(f,v,!1);k!==_&&u.month(k)}return u}});var n=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,r=/^\d?\d[iI]?/m,l=/^闰?十?[一二三四五六七八九]?月/m,o=/^闰?十?[一二三四五六七八九]?/m;F.calendars.chinese=e;var s=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],d=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function t(c,h,b,y){var g,m;if(typeof c=="object")g=c,m=h||{};else{var v=typeof c=="number"&&c>=1888&&c<=2111;if(!v)throw new Error("Solar year outside range 1888-2111");var u=typeof h=="number"&&h>=1&&h<=12;if(!u)throw new Error("Solar month outside range 1 - 12");var f=typeof b=="number"&&b>=1&&b<=31;if(!f)throw new Error("Solar day outside range 1 - 31");g={year:c,month:h,day:b},m=y||{}}var _=d[g.year-d[0]],w=g.year<<9|g.month<<5|g.day;m.year=w>=_?g.year:g.year-1,_=d[m.year-d[0]];var k=_>>9&4095,J=_>>5&15,P=_&31,O,M=new Date(k,J-1,P),W=new Date(g.year,g.month-1,g.day);O=Math.round((W-M)/(24*3600*1e3));var E=s[m.year-s[0]],N;for(N=0;N<13;N++){var R=E&1<<12-N?30:29;if(O<R)break;O-=R}var V=E>>13;return!V||N<V?(m.isIntercalary=!1,m.month=1+N):N===V?(m.isIntercalary=!0,m.month=N):(m.isIntercalary=!1,m.month=N),m.day=1+O,m}function p(c,h,b,y,g){var m,v;if(typeof c=="object")v=c,m=h||{};else{var u=typeof c=="number"&&c>=1888&&c<=2111;if(!u)throw new Error("Lunar year outside range 1888-2111");var f=typeof h=="number"&&h>=1&&h<=12;if(!f)throw new Error("Lunar month outside range 1 - 12");var _=typeof b=="number"&&b>=1&&b<=30;if(!_)throw new Error("Lunar day outside range 1 - 30");var w;typeof y=="object"?(w=!1,m=y):(w=!!y,m=g||{}),v={year:c,month:h,day:b,isIntercalary:w}}var k;k=v.day-1;var J=s[v.year-s[0]],P=J>>13,O;P&&(v.month>P||v.isIntercalary)?O=v.month:O=v.month-1;for(var M=0;M<O;M++){var W=J&1<<12-M?30:29;k+=W}var E=d[v.year-d[0]],N=E>>9&4095,R=E>>5&15,V=E&31,U=new Date(N,R-1,V+k);return m.year=U.getFullYear(),m.month=1+U.getMonth(),m.day=U.getDate(),m}}),Rf=ye(()=>{var F=Qr(),C=Jr();function i(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}i.prototype=new F.baseCalendar,C(i.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(r){var n=this._validate(r,this.minMonth,this.minDay,F.local.invalidYear),r=n.year()+(n.year()<0?1:0);return r%4===3||r%4===-1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,F.local.invalidYear||F.regionalOptions[""].invalidYear),13},weekOfYear:function(e,n,r){var l=this.newDate(e,n,r);return l.add(-l.dayOfWeek(),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInMonth:function(e,n){var r=this._validate(e,n,this.minDay,F.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(r.month()===13&&this.leapYear(r.year())?1:0)},weekDay:function(e,n,r){return(this.dayOfWeek(e,n,r)||7)<6},toJD:function(e,n,r){var l=this._validate(e,n,r,F.local.invalidDate);return e=l.year(),e<0&&e++,l.day()+(l.month()-1)*30+(e-1)*365+Math.floor(e/4)+this.jdEpoch-1},fromJD:function(e){var n=Math.floor(e)+.5-this.jdEpoch,r=Math.floor((n-Math.floor((n+366)/1461))/365)+1;r<=0&&r--,n=Math.floor(e)+.5-this.newDate(r,1,1).toJD();var l=Math.floor(n/30)+1,o=n-(l-1)*30+1;return this.newDate(r,l,o)}}),F.calendars.coptic=i}),Nf=ye(()=>{var F=Qr(),C=Jr();function i(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}i.prototype=new F.baseCalendar,C(i.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(n){return this._validate(n,this.minMonth,this.minDay,F.local.invalidYear),!1},monthsInYear:function(n){return this._validate(n,this.minMonth,this.minDay,F.local.invalidYear),13},daysInYear:function(n){return this._validate(n,this.minMonth,this.minDay,F.local.invalidYear),400},weekOfYear:function(n,r,l){var o=this.newDate(n,r,l);return o.add(-o.dayOfWeek(),"d"),Math.floor((o.dayOfYear()-1)/8)+1},daysInMonth:function(n,r){var l=this._validate(n,r,this.minDay,F.local.invalidMonth);return this.daysPerMonth[l.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(n,r,l){var o=this._validate(n,r,l,F.local.invalidDate);return(o.day()+1)%8},weekDay:function(n,r,l){var o=this.dayOfWeek(n,r,l);return o>=2&&o<=6},extraInfo:function(n,r,l){var o=this._validate(n,r,l,F.local.invalidDate);return{century:e[Math.floor((o.year()-1)/100)+1]||""}},toJD:function(n,r,l){var o=this._validate(n,r,l,F.local.invalidDate);return n=o.year()+(o.year()<0?1:0),r=o.month(),l=o.day(),l+(r>1?16:0)+(r>2?(r-2)*32:0)+(n-1)*400+this.jdEpoch-1},fromJD:function(n){n=Math.floor(n+.5)-Math.floor(this.jdEpoch)-1;var r=Math.floor(n/400)+1;n-=(r-1)*400,n+=n>15?16:0;var l=Math.floor(n/32)+1,o=n-(l-1)*32+1;return this.newDate(r<=0?r-1:r,l,o)}});var e={20:"Fruitbat",21:"Anchovy"};F.calendars.discworld=i}),jf=ye(()=>{var F=Qr(),C=Jr();function i(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}i.prototype=new F.baseCalendar,C(i.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(r){var n=this._validate(r,this.minMonth,this.minDay,F.local.invalidYear),r=n.year()+(n.year()<0?1:0);return r%4===3||r%4===-1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,F.local.invalidYear||F.regionalOptions[""].invalidYear),13},weekOfYear:function(e,n,r){var l=this.newDate(e,n,r);return l.add(-l.dayOfWeek(),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInMonth:function(e,n){var r=this._validate(e,n,this.minDay,F.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(r.month()===13&&this.leapYear(r.year())?1:0)},weekDay:function(e,n,r){return(this.dayOfWeek(e,n,r)||7)<6},toJD:function(e,n,r){var l=this._validate(e,n,r,F.local.invalidDate);return e=l.year(),e<0&&e++,l.day()+(l.month()-1)*30+(e-1)*365+Math.floor(e/4)+this.jdEpoch-1},fromJD:function(e){var n=Math.floor(e)+.5-this.jdEpoch,r=Math.floor((n-Math.floor((n+366)/1461))/365)+1;r<=0&&r--,n=Math.floor(e)+.5-this.newDate(r,1,1).toJD();var l=Math.floor(n/30)+1,o=n-(l-1)*30+1;return this.newDate(r,l,o)}}),F.calendars.ethiopian=i}),zf=ye(()=>{var F=Qr(),C=Jr();function i(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}i.prototype=new F.baseCalendar,C(i.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(n){var r=this._validate(n,this.minMonth,this.minDay,F.local.invalidYear);return this._leapYear(r.year())},_leapYear:function(n){return n=n<0?n+1:n,e(n*7+1,19)<7},monthsInYear:function(n){return this._validate(n,this.minMonth,this.minDay,F.local.invalidYear),this._leapYear(n.year?n.year():n)?13:12},weekOfYear:function(n,r,l){var o=this.newDate(n,r,l);return o.add(-o.dayOfWeek(),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInYear:function(n){var r=this._validate(n,this.minMonth,this.minDay,F.local.invalidYear);return n=r.year(),this.toJD(n===-1?1:n+1,7,1)-this.toJD(n,7,1)},daysInMonth:function(n,r){return n.year&&(r=n.month(),n=n.year()),this._validate(n,r,this.minDay,F.local.invalidMonth),r===12&&this.leapYear(n)||r===8&&e(this.daysInYear(n),10)===5?30:r===9&&e(this.daysInYear(n),10)===3?29:this.daysPerMonth[r-1]},weekDay:function(n,r,l){return this.dayOfWeek(n,r,l)!==6},extraInfo:function(n,r,l){var o=this._validate(n,r,l,F.local.invalidDate);return{yearType:(this.leapYear(o)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(o)%10-3]}},toJD:function(n,r,l){var o=this._validate(n,r,l,F.local.invalidDate);n=o.year(),r=o.month(),l=o.day();var s=n<=0?n+1:n,d=this.jdEpoch+this._delay1(s)+this._delay2(s)+l+1;if(r<7){for(var t=7;t<=this.monthsInYear(n);t++)d+=this.daysInMonth(n,t);for(var t=1;t<r;t++)d+=this.daysInMonth(n,t)}else for(var t=7;t<r;t++)d+=this.daysInMonth(n,t);return d},_delay1:function(n){var r=Math.floor((235*n-234)/19),l=12084+13753*r,o=r*29+Math.floor(l/25920);return e(3*(o+1),7)<3&&o++,o},_delay2:function(n){var r=this._delay1(n-1),l=this._delay1(n),o=this._delay1(n+1);return o-l===356?2:l-r===382?1:0},fromJD:function(n){n=Math.floor(n)+.5;for(var r=Math.floor((n-this.jdEpoch)*98496/35975351)-1;n>=this.toJD(r===-1?1:r+1,7,1);)r++;for(var l=n<this.toJD(r,1,1)?7:1;n>this.toJD(r,l,this.daysInMonth(r,l));)l++;var o=n-this.toJD(r,l,1)+1;return this.newDate(r,l,o)}});function e(n,r){return n-r*Math.floor(n/r)}F.calendars.hebrew=i}),Hf=ye(()=>{var F=Qr(),C=Jr();function i(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}i.prototype=new F.baseCalendar,C(i.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khamīs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(e){var n=this._validate(e,this.minMonth,this.minDay,F.local.invalidYear);return(n.year()*11+14)%30<11},weekOfYear:function(e,n,r){var l=this.newDate(e,n,r);return l.add(-l.dayOfWeek(),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInYear:function(e){return this.leapYear(e)?355:354},daysInMonth:function(e,n){var r=this._validate(e,n,this.minDay,F.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(r.month()===12&&this.leapYear(r.year())?1:0)},weekDay:function(e,n,r){return this.dayOfWeek(e,n,r)!==5},toJD:function(e,n,r){var l=this._validate(e,n,r,F.local.invalidDate);return e=l.year(),n=l.month(),r=l.day(),e=e<=0?e+1:e,r+Math.ceil(29.5*(n-1))+(e-1)*354+Math.floor((3+11*e)/30)+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e)+.5;var n=Math.floor((30*(e-this.jdEpoch)+10646)/10631);n=n<=0?n-1:n;var r=Math.min(12,Math.ceil((e-29-this.toJD(n,1,1))/29.5)+1),l=e-this.toJD(n,r,1)+1;return this.newDate(n,r,l)}}),F.calendars.islamic=i}),Bf=ye(()=>{var F=Qr(),C=Jr();function i(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}i.prototype=new F.baseCalendar,C(i.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(r){var n=this._validate(r,this.minMonth,this.minDay,F.local.invalidYear),r=n.year()<0?n.year()+1:n.year();return r%4===0},weekOfYear:function(e,n,r){var l=this.newDate(e,n,r);return l.add(4-(l.dayOfWeek()||7),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInMonth:function(e,n){var r=this._validate(e,n,this.minDay,F.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(r.month()===2&&this.leapYear(r.year())?1:0)},weekDay:function(e,n,r){return(this.dayOfWeek(e,n,r)||7)<6},toJD:function(e,n,r){var l=this._validate(e,n,r,F.local.invalidDate);return e=l.year(),n=l.month(),r=l.day(),e<0&&e++,n<=2&&(e--,n+=12),Math.floor(365.25*(e+4716))+Math.floor(30.6001*(n+1))+r-1524.5},fromJD:function(e){var n=Math.floor(e+.5),r=n+1524,l=Math.floor((r-122.1)/365.25),o=Math.floor(365.25*l),s=Math.floor((r-o)/30.6001),d=s-Math.floor(s<14?1:13),t=l-Math.floor(d>2?4716:4715),p=r-o-Math.floor(30.6001*s);return t<=0&&t--,this.newDate(t,d,p)}}),F.calendars.julian=i}),Vf=ye(()=>{var F=Qr(),C=Jr();function i(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}i.prototype=new F.baseCalendar,C(i.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(r){return this._validate(r,this.minMonth,this.minDay,F.local.invalidYear),!1},formatYear:function(r){var l=this._validate(r,this.minMonth,this.minDay,F.local.invalidYear);r=l.year();var o=Math.floor(r/400);r=r%400,r+=r<0?400:0;var s=Math.floor(r/20);return o+"."+s+"."+r%20},forYear:function(r){if(r=r.split("."),r.length<3)throw"Invalid Mayan year";for(var l=0,o=0;o<r.length;o++){var s=parseInt(r[o],10);if(Math.abs(s)>19||o>0&&s<0)throw"Invalid Mayan year";l=l*20+s}return l},monthsInYear:function(r){return this._validate(r,this.minMonth,this.minDay,F.local.invalidYear),18},weekOfYear:function(r,l,o){return this._validate(r,l,o,F.local.invalidDate),0},daysInYear:function(r){return this._validate(r,this.minMonth,this.minDay,F.local.invalidYear),360},daysInMonth:function(r,l){return this._validate(r,l,this.minDay,F.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(r,l,o){var s=this._validate(r,l,o,F.local.invalidDate);return s.day()},weekDay:function(r,l,o){return this._validate(r,l,o,F.local.invalidDate),!0},extraInfo:function(r,l,o){var s=this._validate(r,l,o,F.local.invalidDate),d=s.toJD(),t=this._toHaab(d),p=this._toTzolkin(d);return{haabMonthName:this.local.haabMonths[t[0]-1],haabMonth:t[0],haabDay:t[1],tzolkinDayName:this.local.tzolkinMonths[p[0]-1],tzolkinDay:p[0],tzolkinTrecena:p[1]}},_toHaab:function(r){r-=this.jdEpoch;var l=e(r+8+17*20,365);return[Math.floor(l/20)+1,e(l,20)]},_toTzolkin:function(r){return r-=this.jdEpoch,[n(r+20,20),n(r+4,13)]},toJD:function(r,l,o){var s=this._validate(r,l,o,F.local.invalidDate);return s.day()+s.month()*20+s.year()*360+this.jdEpoch},fromJD:function(r){r=Math.floor(r)+.5-this.jdEpoch;var l=Math.floor(r/360);r=r%360,r+=r<0?360:0;var o=Math.floor(r/20),s=r%20;return this.newDate(l,o,s)}});function e(r,l){return r-l*Math.floor(r/l)}function n(r,l){return e(r-1,l)+1}F.calendars.mayan=i}),Yf=ye(()=>{var F=Qr(),C=Jr();function i(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}i.prototype=new F.baseCalendar;var e=F.instance("gregorian");C(i.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(n){var r=this._validate(n,this.minMonth,this.minDay,F.local.invalidYear||F.regionalOptions[""].invalidYear);return e.leapYear(r.year()+(r.year()<1?1:0)+1469)},weekOfYear:function(n,r,l){var o=this.newDate(n,r,l);return o.add(1-(o.dayOfWeek()||7),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInMonth:function(n,r){var l=this._validate(n,r,this.minDay,F.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(l.month()===12&&this.leapYear(l.year())?1:0)},weekDay:function(n,r,l){return(this.dayOfWeek(n,r,l)||7)<6},toJD:function(s,r,l){var o=this._validate(s,r,l,F.local.invalidMonth),s=o.year();s<0&&s++;for(var d=o.day(),t=1;t<o.month();t++)d+=this.daysPerMonth[t-1];return d+e.toJD(s+1468,3,13)},fromJD:function(n){n=Math.floor(n+.5);for(var r=Math.floor((n-(this.jdEpoch-1))/366);n>=this.toJD(r+1,1,1);)r++;for(var l=n-Math.floor(this.toJD(r,1,1)+.5)+1,o=1;l>this.daysInMonth(r,o);)l-=this.daysInMonth(r,o),o++;return this.newDate(r,o,l)}}),F.calendars.nanakshahi=i}),$f=ye(()=>{var F=Qr(),C=Jr();function i(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}i.prototype=new F.baseCalendar,C(i.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(e){return this.daysInYear(e)!==this.daysPerYear},weekOfYear:function(e,n,r){var l=this.newDate(e,n,r);return l.add(-l.dayOfWeek(),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInYear:function(e){var n=this._validate(e,this.minMonth,this.minDay,F.local.invalidYear);if(e=n.year(),typeof this.NEPALI_CALENDAR_DATA[e]>"u")return this.daysPerYear;for(var r=0,l=this.minMonth;l<=12;l++)r+=this.NEPALI_CALENDAR_DATA[e][l];return r},daysInMonth:function(e,n){return e.year&&(n=e.month(),e=e.year()),this._validate(e,n,this.minDay,F.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[e]>"u"?this.daysPerMonth[n-1]:this.NEPALI_CALENDAR_DATA[e][n]},weekDay:function(e,n,r){return this.dayOfWeek(e,n,r)!==6},toJD:function(e,n,r){var l=this._validate(e,n,r,F.local.invalidDate);e=l.year(),n=l.month(),r=l.day();var o=F.instance(),s=0,d=n,t=e;this._createMissingCalendarData(e);var p=e-(d>9||d===9&&r>=this.NEPALI_CALENDAR_DATA[t][0]?56:57);for(n!==9&&(s=r,d--);d!==9;)d<=0&&(d=12,t--),s+=this.NEPALI_CALENDAR_DATA[t][d],d--;return n===9?(s+=r-this.NEPALI_CALENDAR_DATA[t][0],s<0&&(s+=o.daysInYear(p))):s+=this.NEPALI_CALENDAR_DATA[t][9]-this.NEPALI_CALENDAR_DATA[t][0],o.newDate(p,1,1).add(s,"d").toJD()},fromJD:function(e){var n=F.instance(),r=n.fromJD(e),l=r.year(),o=r.dayOfYear(),s=l+56;this._createMissingCalendarData(s);for(var d=9,t=this.NEPALI_CALENDAR_DATA[s][0],p=this.NEPALI_CALENDAR_DATA[s][d]-t+1;o>p;)d++,d>12&&(d=1,s++),p+=this.NEPALI_CALENDAR_DATA[s][d];var c=this.NEPALI_CALENDAR_DATA[s][d]-(p-o);return this.newDate(s,d,c)},_createMissingCalendarData:function(e){var n=this.daysPerMonth.slice(0);n.unshift(17);for(var r=e-1;r<e+2;r++)typeof this.NEPALI_CALENDAR_DATA[r]>"u"&&(this.NEPALI_CALENDAR_DATA[r]=n)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),F.calendars.nepali=i}),Uf=ye(()=>{var F=Qr(),C=Jr();function i(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}i.prototype=new F.baseCalendar,C(i.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chæharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Chæ","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(n){var r=this._validate(n,this.minMonth,this.minDay,F.local.invalidYear);return((r.year()-(r.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(n,r,l){var o=this.newDate(n,r,l);return o.add(-((o.dayOfWeek()+1)%7),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInMonth:function(n,r){var l=this._validate(n,r,this.minDay,F.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(l.month()===12&&this.leapYear(l.year())?1:0)},weekDay:function(n,r,l){return this.dayOfWeek(n,r,l)!==5},toJD:function(n,r,l){var o=this._validate(n,r,l,F.local.invalidDate);n=o.year(),r=o.month(),l=o.day();var s=n-(n>=0?474:473),d=474+e(s,2820);return l+(r<=7?(r-1)*31:(r-1)*30+6)+Math.floor((d*682-110)/2816)+(d-1)*365+Math.floor(s/2820)*1029983+this.jdEpoch-1},fromJD:function(n){n=Math.floor(n)+.5;var r=n-this.toJD(475,1,1),l=Math.floor(r/1029983),o=e(r,1029983),s=2820;if(o!==1029982){var d=Math.floor(o/366),t=e(o,366);s=Math.floor((2134*d+2816*t+2815)/1028522)+d+1}var p=s+2820*l+474;p=p<=0?p-1:p;var c=n-this.toJD(p,1,1)+1,h=c<=186?Math.ceil(c/31):Math.ceil((c-6)/30),b=n-this.toJD(p,h,1)+1;return this.newDate(p,h,b)}});function e(n,r){return n-r*Math.floor(n/r)}F.calendars.persian=i,F.calendars.jalali=i}),Gf=ye(()=>{var F=Qr(),C=Jr(),i=F.instance();function e(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}e.prototype=new F.baseCalendar,C(e.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(l){var r=this._validate(l,this.minMonth,this.minDay,F.local.invalidYear),l=this._t2gYear(r.year());return i.leapYear(l)},weekOfYear:function(s,r,l){var o=this._validate(s,this.minMonth,this.minDay,F.local.invalidYear),s=this._t2gYear(o.year());return i.weekOfYear(s,o.month(),o.day())},daysInMonth:function(n,r){var l=this._validate(n,r,this.minDay,F.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(l.month()===2&&this.leapYear(l.year())?1:0)},weekDay:function(n,r,l){return(this.dayOfWeek(n,r,l)||7)<6},toJD:function(s,r,l){var o=this._validate(s,r,l,F.local.invalidDate),s=this._t2gYear(o.year());return i.toJD(s,o.month(),o.day())},fromJD:function(n){var r=i.fromJD(n),l=this._g2tYear(r.year());return this.newDate(l,r.month(),r.day())},_t2gYear:function(n){return n+this.yearsOffset+(n>=-this.yearsOffset&&n<=-1?1:0)},_g2tYear:function(n){return n-this.yearsOffset-(n>=1&&n<=this.yearsOffset?1:0)}}),F.calendars.taiwan=e}),Wf=ye(()=>{var F=Qr(),C=Jr(),i=F.instance();function e(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}e.prototype=new F.baseCalendar,C(e.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(l){var r=this._validate(l,this.minMonth,this.minDay,F.local.invalidYear),l=this._t2gYear(r.year());return i.leapYear(l)},weekOfYear:function(s,r,l){var o=this._validate(s,this.minMonth,this.minDay,F.local.invalidYear),s=this._t2gYear(o.year());return i.weekOfYear(s,o.month(),o.day())},daysInMonth:function(n,r){var l=this._validate(n,r,this.minDay,F.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(l.month()===2&&this.leapYear(l.year())?1:0)},weekDay:function(n,r,l){return(this.dayOfWeek(n,r,l)||7)<6},toJD:function(s,r,l){var o=this._validate(s,r,l,F.local.invalidDate),s=this._t2gYear(o.year());return i.toJD(s,o.month(),o.day())},fromJD:function(n){var r=i.fromJD(n),l=this._g2tYear(r.year());return this.newDate(l,r.month(),r.day())},_t2gYear:function(n){return n-this.yearsOffset-(n>=1&&n<=this.yearsOffset?1:0)},_g2tYear:function(n){return n+this.yearsOffset+(n>=-this.yearsOffset&&n<=-1?1:0)}}),F.calendars.thai=e}),Zf=ye(()=>{var F=Qr(),C=Jr();function i(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}i.prototype=new F.baseCalendar,C(i.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalāthā’","Yawm al-Arba‘ā’","Yawm al-Khamīs","Yawm al-Jum‘a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(n){var r=this._validate(n,this.minMonth,this.minDay,F.local.invalidYear);return this.daysInYear(r.year())===355},weekOfYear:function(n,r,l){var o=this.newDate(n,r,l);return o.add(-o.dayOfWeek(),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInYear:function(n){for(var r=0,l=1;l<=12;l++)r+=this.daysInMonth(n,l);return r},daysInMonth:function(n,r){for(var l=this._validate(n,r,this.minDay,F.local.invalidMonth),o=l.toJD()-24e5+.5,s=0,d=0;d<e.length;d++){if(e[d]>o)return e[s]-e[s-1];s++}return 30},weekDay:function(n,r,l){return this.dayOfWeek(n,r,l)!==5},toJD:function(n,r,l){var o=this._validate(n,r,l,F.local.invalidDate),s=12*(o.year()-1)+o.month()-15292,d=o.day()+e[s-1]-1;return d+24e5-.5},fromJD:function(n){for(var r=n-24e5+.5,l=0,o=0;o<e.length&&!(e[o]>r);o++)l++;var s=l+15292,d=Math.floor((s-1)/12),t=d+1,p=s-12*d,c=r-e[l-1]+1;return this.newDate(t,p,c)},isValid:function(n,r,l){var o=F.baseCalendar.prototype.isValid.apply(this,arguments);return o&&(n=n.year!=null?n.year:n,o=n>=1276&&n<=1500),o},_validate:function(n,r,l,o){var s=F.baseCalendar.prototype._validate.apply(this,arguments);if(s.year<1276||s.year>1500)throw o.replace(/\{0\}/,this.local.name);return s}}),F.calendars.ummalqura=i;var e=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]}),qf=ye((F,C)=>{C.exports=Qr(),Ff(),If(),Rf(),Nf(),jf(),zf(),Hf(),Bf(),Vf(),Yf(),$f(),Uf(),Gf(),Wf(),Zf()}),Xf=ye((F,C)=>{var i=qf(),e=zt(),n=Gn(),r=n.EPOCHJD,l=n.ONEDAY,o={valType:"enumerated",values:e.sortObjectKeys(i.calendars),editType:"calc",dflt:"gregorian"},s=function(J,P,O,M){var W={};return W[O]=o,e.coerce(J,P,W,O,M)},d=function(J,P,O,M){for(var W=0;W<O.length;W++)s(J,P,O[W]+"calendar",M.calendar)},t={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},p={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},c={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},h="##",b={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:h,w:h,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function y(J,P,O){for(var M=Math.floor((P+.05)/l)+r,W=m(O).fromJD(M),E=0,N,R,V,U,G;(E=J.indexOf("%",E))!==-1;)N=J.charAt(E+1),N==="0"||N==="-"||N==="_"?(V=3,R=J.charAt(E+2),N==="_"&&(N="-")):(R=N,N="0",V=2),U=b[R],U?(U===h?G=h:G=W.formatDate(U[N]),J=J.substr(0,E)+G+J.substr(E+V),E+=G.length):E+=V;return J}var g={};function m(J){var P=g[J];return P||(P=g[J]=i.instance(J),P)}function v(J){return e.extendFlat({},o,{description:J})}function u(J){return"Sets the calendar system to use with `"+J+"` date data."}var f={xcalendar:v(u("x"))},_=e.extendFlat({},f,{ycalendar:v(u("y"))}),w=e.extendFlat({},_,{zcalendar:v(u("z"))}),k=v(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));C.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:_,bar:_,box:_,heatmap:_,contour:_,histogram:_,histogram2d:_,histogram2dcontour:_,scatter3d:w,surface:w,mesh3d:w,scattergl:_,ohlc:f,candlestick:f},layout:{calendar:v(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:k},yaxis:{calendar:k},scene:{xaxis:{calendar:k},yaxis:{calendar:k},zaxis:{calendar:k}},polar:{radialaxis:{calendar:k}}}},layoutAttributes:o,handleDefaults:s,handleTraceDefaults:d,CANONICAL_SUNDAY:p,CANONICAL_TICK:t,DFLTRANGE:c,getCal:m,worldCalFmt:y}}),Jf=ye((F,C)=>{C.exports=Xf()}),Qf=ye((F,C)=>{var i=gf();i.register([kf(),Ef(),Jf()]),C.exports=i});return Qf()})();/*! Bundled license information:

	native-promise-only/lib/npo.src.js:
	  (*! Native Promise Only
	      v0.8.1 (c) Kyle Simpson
	      MIT License: http://getify.mit-license.org
	  *)

	polybooljs/index.js:
	  (*
	   * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
	   * @license MIT
	   * @preserve Project Home: https://github.com/voidqk/polybooljs
	   *)

	object-assign/index.js:
	  (*
	  object-assign
	  (c) Sindre Sorhus
	  @license MIT
	  *)
	*/return window.Plotly=at,at})})(eu);var Mp=eu.exports;const Di=Uh(Mp),kp=[{id:"bucket1",name:"maestro",description:"System and gas sensor data"},{id:"bucket2",name:"maestro1",description:"Application data"},{id:"bucket3",name:"2300RAR",description:"Level data"},{id:"bucket4",name:"_monitoring",description:"Monitoring data"},{id:"bucket5",name:"_tasks",description:"Task data"}],ms=[{name:"gas_sensor_data",fields:["value","status"],tags:["location","gas_type","unit","device_location","sensor_name"]},{name:"system_metrics",fields:["cpu_usage","memory_usage","signal_strength"],tags:["device"]}],Ap=[{label:"Past 5m",value:"-5m"},{label:"Past 15m",value:"-15m"},{label:"Past 1h",value:"-1h"},{label:"Past 6h",value:"-6h"},{label:"Past 24h",value:"-24h"},{label:"Past 7d",value:"-7d"},{label:"Past 30d",value:"-30d"},{label:"Custom",value:"custom"}],Bc=[{name:"CO",unit:"ppm",normalRange:[0,5],warningLevel:25,criticalLevel:50},{name:"CO2",unit:"ppm",normalRange:[400,1e3],warningLevel:2e3,criticalLevel:5e3},{name:"CH4",unit:"ppm",normalRange:[0,10],warningLevel:1e3,criticalLevel:5e3},{name:"O2",unit:"%",normalRange:[20.5,21.5],warningLevel:19.5,criticalLevel:18},{name:"H2S",unit:"ppm",normalRange:[0,1],warningLevel:10,criticalLevel:20}],Vc=["1800RAR-Level1-Section3","1800RAR-Level2-Section1","1800RAR-Level3-Main","2400RAR-Entrance","2400RAR-Level2-Section4","3500RAR-ProcessingArea","3500RAR-StorageArea","4200RAR-MainControl"],Sp=["AQI02-Controller-1800RAR","AQI05-Gateway-1800RAR","AQI02-Controller-2400RAR","MRQ05-Display-2400RAR","PSW01-Node-3500RAR","MOD05-Controller-4200RAR"],Yc={nineteen_eighty_four:["#4591ED","#7CE490","#F95F53","#FFB94A","#9394FF","#545667","#00C9FF","#BF3D5E","#F48D38","#32B08C"],professional:["#00D4FF","#00FF88","#FFD700","#FF3366","#AA44FF","#FF6B35","#00FFCC","#FF4081","#7FFF00","#FF8C00"],modern:["#0EA5E9","#22C55E","#F59E0B","#EF4444","#A855F7","#EC4899","#14B8A6","#FB923C","#06B6D4","#84CC16"],distinctive:["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf","#aec7e8","#ffbb78","#98df8a","#ff9896","#c5b0d5","#c49c94","#f7b6d3","#c7c7c7","#dbdb8d","#9edae5"],cthulhu:["#9BBBFF","#7FA0FF","#5F7CDE","#4656A6","#313782","#20175F","#170E41","#110A2A","#080417","#000004"],delorean:["#00C9FF","#9BBBFF","#9394FF","#A16AFF","#CE3D3D","#F58F39","#FFC53D","#FFF93D","#9CFF57","#4795E6"],ectoplasm:["#4CE07A","#2BAB57","#36955F","#267B98","#1A5376","#152E57","#142238","#11131E","#08090A","#000000"],atlantis:["#1A9CE0","#4DADFF","#8FC7FF","#82E08F","#5BD876","#25B33A","#3EAF87","#00857A","#293964","#0A0F1E"]},Lp=`Time,CO (ppm),NO₂ (ppm)
0:00,4.633053,0.222157
0:05,5.928809,0.3825
0:10,5.712894,0.473329
0:15,4.786504,0.431605
0:20,5.857628,0.218389
0:25,5.457663,0.269273
0:30,4.906684,0.210058
0:35,5.976054,0.427689
0:40,4.943443,0.204188
0:45,4.132399,0.284348
0:50,4.40318,0.346707
0:55,5.902203,0.489025
1:00,4.461832,0.430511
1:05,4.34896,0.23458
1:10,4.903997,0.215595
1:15,5.812557,0.307676
1:20,4.870781,0.482743
1:25,4.520776,0.268107
1:30,4.090125,0.408621
1:35,4.467226,0.221046
1:40,5.950049,0.427692
1:45,4.281166,0.296499
1:50,5.768365,0.220633
1:55,5.300231,0.408981
2:00,5.055338,0.283014
2:05,5.696879,0.397043
2:10,4.638527,0.21128
2:15,5.802484,0.209864
2:20,4.58274,0.287028
2:25,4.540432,0.441002
2:30,4.091501,0.234795
2:35,4.740274,0.251064
2:40,5.013475,0.433397
2:45,4.625635,0.363326
2:50,5.146933,0.488409
2:55,5.919952,0.236055
3:00,4.287045,0.41645
3:05,4.904854,0.224498
3:10,4.128285,0.441963
3:15,5.614844,0.232119
3:20,4.526128,0.476627
3:25,5.31497,0.282169
3:30,5.575565,0.482055
3:35,5.939142,0.455335
3:40,5.681255,0.219961
3:45,4.561718,0.28468
3:50,4.581771,0.388081
3:55,5.240397,0.362151
4:00,5.832763,0.347918
4:05,5.668182,0.488191
4:10,4.117226,0.471802
4:15,5.567792,0.472905
4:20,5.345628,0.357675
4:25,4.395354,0.227102
4:30,4.125388,0.471877
4:35,4.553349,0.26671
4:40,4.64216,0.31481
4:45,5.615637,0.360403
4:50,4.922097,0.287122
4:55,4.095446,0.487099
5:00,4.324692,0.310126
5:05,4.060602,0.24253
5:10,4.570764,0.234465
5:15,5.409533,0.29645
5:20,4.120961,0.330232
5:25,5.92968,0.444563
5:30,4.341526,0.386104
5:35,4.278081,0.420081
5:40,5.023185,0.490003
5:45,4.08045,0.467527
5:50,4.229591,0.36346
5:55,4.138859,0.367751
6:00,5.998347,0.389588
6:05,4.609738,0.215111
6:10,5.571326,0.385282
6:15,4.869216,0.407246
6:20,4.50701,0.459038
6:25,4.936738,0.39686
6:30,4.693965,0.463717
6:35,4.110286,0.423185
6:40,5.856689,0.406328
6:45,5.248226,0.292358
6:50,5.3461,0.461342
6:55,5.670958,0.370034
7:00,4.223073,0.356696
7:05,5.557039,0.262077
7:10,5.283477,0.220134
7:15,4.138521,0.426062
7:20,4.790711,0.408815
7:25,4.059657,0.41086
7:30,5.333725,0.415681
7:35,4.846748,0.404109
7:40,4.85477,0.374081
7:45,4.088303,0.253738
7:50,5.327895,0.447125
7:55,4.570438,0.416805
8:00,4.607562,0.224121
8:05,5.687498,0.292783
8:10,4.946959,0.375417
8:15,4.900541,0.436351
8:20,4.859595,0.398338
8:25,5.55668,0.265875
8:30,4.430514,0.426373
8:35,5.031892,0.248684
8:40,5.991269,0.409431
8:45,5.11422,0.203847
8:50,5.46598,0.438287
8:55,4.71614,0.357389
9:00,4.151034,0.260221
9:05,5.314746,0.277912
9:10,4.908441,0.357019
9:15,4.919231,0.313052
9:20,4.188479,0.244415
9:25,4.37512,0.235047
9:30,5.748195,0.465146
9:35,5.920085,0.38055
9:40,4.083102,0.458088
9:45,5.878608,0.470898
9:50,4.785433,0.369725
9:55,4.171558,0.203081
10:00,4.688804,0.374667
10:05,5.448464,0.363673
10:10,5.097815,0.333637
10:15,5.763172,0.237621
10:20,5.775637,0.331755
10:25,4.0797,0.386763
10:30,4.587769,0.417101
10:35,4.63891,0.482307
10:40,4.326903,0.329611
10:45,4.600101,0.325389
10:50,5.507293,0.201721
10:55,4.166736,0.206793
11:00,4.155147,0.228007
11:05,5.513884,0.478359
11:10,5.149256,0.251216
11:15,4.717862,0.243688
11:20,4.213663,0.411705
11:25,5.819918,0.407143
11:30,4.278132,0.394582
11:35,5.845168,0.202513
11:40,4.631137,0.216589
11:45,5.221527,0.405937
11:50,4.536837,0.393536
11:55,5.818406,0.398918
12:00,4.363587,0.380938
12:05,5.316177,0.254848
12:10,5.705899,0.4736
12:15,5.06772,0.499222
12:20,4.135156,0.209989
12:25,4.660372,0.296076
12:30,5.6604,0.415077
12:35,5.091006,0.372643
12:40,4.08243,0.271289
12:45,5.719948,0.413508
12:50,4.114586,0.243324
12:55,4.436366,0.451219
13:00,5.099073,0.485953
13:05,4.09816,0.297563
13:10,4.080606,0.239334
13:15,5.831958,0.230369
13:20,4.256631,0.463531
13:25,4.120766,0.259054
13:30,4.763364,0.364883
13:35,5.851792,0.40999
13:40,4.355343,0.37903
13:45,5.671522,0.350102
13:50,5.402605,0.480274
13:55,5.112434,0.412553
14:00,5.862894,0.227096
14:05,5.046062,0.394801
14:10,4.863068,0.367883
14:15,4.643437,0.225115
14:20,4.648362,0.483666
14:25,5.177986,0.342758
14:30,5.79074,0.254811
14:35,4.51801,0.483661
14:40,5.293703,0.383162
14:45,5.20849,0.483012
14:50,5.073059,0.334959
14:55,4.845581,0.395196
15:00,4.068613,0.39364
15:05,5.045857,0.416097
15:10,4.436007,0.415932
15:15,4.201336,0.426318
15:20,5.529782,0.228013
15:25,5.012036,0.361092
15:30,5.493445,0.438975
15:35,4.778794,0.398541
15:40,5.277103,0.288015
15:45,4.289081,0.290457
15:50,4.624161,0.411405
15:55,4.403552,0.313757
16:00,4.403201,0.416317
16:05,4.018429,0.235903
16:10,5.238675,0.216973
16:15,5.47737,0.314068
16:20,5.023883,0.347797
16:25,4.198584,0.45597
16:30,5.498628,0.416058
16:35,4.427617,0.41478
16:40,4.542615,0.215686
16:45,5.20899,0.212545
16:50,5.192008,0.226659
16:55,5.716201,0.280102
17:00,5.645823,0.43779
17:05,5.290217,0.414841
17:10,4.373663,0.333398
17:15,5.55947,0.348342
17:20,5.394474,0.242411
17:25,5.881771,0.288349
17:30,4.975848,0.340307
17:35,5.447665,0.224549
17:40,5.53331,0.260345
17:45,4.623003,0.383699
17:50,5.791591,0.353409
17:55,5.295003,0.214674
18:00,5.206757,0.424058
18:05,5.510072,0.247796
18:10,5.163424,0.409622
18:15,4.579007,0.319343
18:20,5.220256,0.329922
18:25,5.938321,0.499235
18:30,4.518293,0.467438
18:35,4.437095,0.412823
18:40,5.435864,0.44807
18:45,4.460053,0.400596
18:50,4.9224,0.330004
18:55,5.763105,0.234991
19:00,5.346227,0.496089
19:05,5.032631,0.41524
19:10,4.676017,0.376707
19:15,4.883984,0.314679
19:20,4.597756,0.460446
19:25,4.999522,0.264967
19:30,5.013976,0.256116
19:35,5.082727,0.39254
19:40,4.607943,0.403854
19:45,5.349271,0.246066
19:50,4.191523,0.323609
19:55,4.992541,0.487084
20:00,4.888622,0.334942
20:05,4.100161,0.277511
20:10,5.058461,0.248032
20:15,4.305952,0.228543
20:20,5.878974,0.473992
20:25,5.099249,0.230219
20:30,5.359663,0.344141
20:35,4.383674,0.436932
20:40,5.64699,0.348646
20:45,4.645612,0.4606
20:50,5.036359,0.433329
20:55,5.56664,0.336301
21:00,4.241528,0.295986
21:05,4.325131,0.2658
21:10,5.707254,0.363918
21:15,4.262436,0.38162
21:20,4.106221,0.362728
21:25,5.123794,0.480681
21:30,5.153063,0.445389
21:35,4.75173,0.389141
21:40,4.109511,0.287883
21:45,4.779566,0.444313
21:50,5.097197,0.359849
21:55,4.7506,0.451555
22:00,5.481158,0.260866
22:05,4.16367,0.20246
22:10,5.534511,0.269914
22:15,4.363874,0.38497
22:20,5.0066,0.440391
22:25,5.754863,0.43406
22:30,4.464855,0.292609
22:35,4.10644,0.459024
22:40,5.478763,0.251862
22:45,5.888047,0.330392
22:50,5.183227,0.319345
22:55,4.899362,0.39797
23:00,4.155293,0.432126
23:05,5.45045,0.392054
23:10,4.471952,0.376281
23:15,5.665982,0.214107
23:20,4.220972,0.238877
23:25,4.152825,0.498219
23:30,4.004639,0.253748
23:35,4.342939,0.244394
23:40,4.868691,0.401266
23:45,4.314959,0.383826
23:50,4.624831,0.303013
23:55,5.057082,0.286048
24:00:00,4.604938,0.45981
24:05:00,5.532603,0.26705
24:10:00,4.208653,0.405469
24:15:00,5.787979,0.439132
24:20:00,4.678997,0.458214
24:25:00,4.713018,0.394342
24:30:00,5.759653,0.409642
24:35:00,4.729408,0.432372
24:40:00,4.749991,0.4642
24:45:00,5.61003,0.319034
24:50:00,4.39546,0.316988
24:55:00,5.165573,0.424572
25:00:00,5.558973,0.221065
25:05:00,4.253017,0.24398
25:10:00,4.212767,0.417638
25:15:00,5.016357,0.431452
25:20:00,4.084274,0.266096
25:25:00,5.679863,0.413148
25:30:00,5.346582,0.211611
25:35:00,5.63353,0.402666
25:40:00,5.302286,0.228945
25:45:00,4.33997,0.267468
25:50:00,5.448966,0.206968
25:55:00,5.143922,0.412203
26:00:00,5.334491,0.266219
26:05:00,4.38635,0.423423
26:10:00,4.355801,0.426735
26:15:00,4.62794,0.472744
26:20:00,5.941807,0.387252
26:25:00,5.610251,0.47305
26:30:00,4.219625,0.300135
26:35:00,4.270606,0.425907
26:40:00,5.931776,0.346903
26:45:00,5.125348,0.300642
26:50:00,5.483398,0.379321
26:55:00,5.710564,0.344533
27:00:00,4.167815,0.267876
27:05:00,5.128501,0.292959
27:10:00,4.407495,0.415669
27:15:00,5.243575,0.228867
27:20:00,5.900873,0.350594
27:25:00,5.410509,0.221003
27:30:00,5.493852,0.363308
27:35:00,5.980059,0.378533
27:40:00,5.981266,0.300423
27:45:00,5.422802,0.358872
27:50:00,5.314641,0.200355
27:55:00,5.145401,0.291473
28:00:00,5.205854,0.348201
28:05:00,4.278122,0.431295
28:10:00,4.278364,0.303311
28:15:00,4.694945,0.308472
28:20:00,4.173054,0.453233
28:25:00,5.788017,0.201206
28:30:00,4.062161,0.297017
28:35:00,4.392124,0.233713
28:40:00,5.224706,0.345303
28:45:00,5.15594,0.450471
28:50:00,5.585015,0.320217
28:55:00,4.558088,0.213083
29:00:00,4.802739,0.397658
29:05:00,4.60445,0.291765
29:10:00,5.553735,0.340702
29:15:00,5.00536,0.28567
29:20:00,4.760994,0.299544
29:25:00,5.420417,0.362988
29:30:00,4.14768,0.207253
29:35:00,5.513787,0.416999
29:40:00,5.435051,0.454486
29:45:00,4.124052,0.249497
29:50:00,5.235058,0.388657
29:55:00,5.762476,0.429426
30:00:00,4.98957,0.307003
30:05:00,216.1408,26.45966
30:10:00,422.5885,51.61328
30:15:00,628.4,77.09774
30:20:00,837.6716,100.3113
30:25:00,1045.772,126.0767
30:30:00,1253.691,150.2675
30:35:00,1247.076,149.3861
30:40:00,1241.804,148.7667
30:45:00,1237.285,148.0426
30:50:00,1233.491,147.365
30:55:00,1228.898,146.4914
31:00:00,1224.861,145.8578
31:05:00,1220.467,145.2572
31:10:00,1214.959,144.4242
31:15:00,1211.542,143.7697
31:20:00,1207.761,143.2187
31:25:00,1203.537,142.502
31:30:00,1198.222,141.787
31:35:00,1195.099,141.2081
31:40:00,1189.339,140.4936
31:45:00,1185.047,139.7075
31:50:00,1181.011,139.101
31:55:00,1176.5,138.442
32:00:00,1172.872,137.8885
32:05:00,1169.811,137.219
32:10:00,1165.234,136.493
32:15:00,1161.227,135.9157
32:20:00,1157.075,135.1789
32:25:00,1152.749,134.5429
32:30:00,1147.613,134.0596
32:35:00,1144.646,133.2827
32:40:00,1140.541,132.7115
32:45:00,1135.727,132.0096
32:50:00,1132.432,131.4309
32:55:00,1128.549,130.9008
33:00:00,1123.706,130.1744
33:05:00,1119.834,129.6736
33:10:00,1116.1,128.9885
33:15:00,1112.387,128.4336
33:20:00,1106.895,127.6867
33:25:00,1104.554,127.2347
33:30:00,1099.497,126.4941
33:35:00,1096.065,125.9336
33:40:00,1093.04,125.4076
33:45:00,1088.682,124.7404
33:50:00,1083.981,124.1767
33:55:00,1080.469,123.6505
34:00:00,1076.028,122.9867
34:05:00,1072.943,122.3446
34:10:00,1069.319,121.8274
34:15:00,1064.258,121.3764
34:20:00,1060.819,120.7562
34:25:00,1057.421,120.2357
34:30:00,1053.981,119.5544
34:35:00,1050.819,119.0248
34:40:00,1045.64,118.4925
34:45:00,1043.28,117.8512
34:50:00,1038.346,117.2638
34:55:00,1034.877,116.8298
35:00:00,1031.672,116.2223
35:05:00,1027.278,115.6301
35:10:00,1024.803,115.1634
35:15:00,1020.144,114.6922
35:20:00,1016.382,114.1326
35:25:00,1012.847,113.4401
35:30:00,1009.135,112.9701
35:35:00,1006.104,112.5415
35:40:00,1002.537,111.9597
35:45:00,999.1367,111.3413
35:50:00,996.1649,110.7853
35:55:00,991.4608,110.2633
36:00:00,988.2707,109.8643
36:05:00,984.2676,109.2307
36:10:00,981.1563,108.7889
36:15:00,978.3725,108.2204
36:20:00,974.206,107.7498
36:25:00,971.7602,107.1472
36:30:00,966.6416,106.8192
36:35:00,963.8062,106.1372
36:40:00,961.3982,105.7762
36:45:00,957.7107,105.2291
36:50:00,952.8189,104.6575
36:55:00,950.8858,104.3223
37:00:00,946.4178,103.7541
37:05:00,942.6359,103.3069
37:10:00,940.2991,102.8064
37:15:00,935.9631,102.2423
37:20:00,933.436,101.731
37:25:00,930.9246,101.374
37:30:00,926.7021,100.8294
37:35:00,923.9553,100.3703
37:40:00,921.0628,99.99531
37:45:00,917.3592,99.50575
37:50:00,913.3517,99.03839
37:55:00,911.2303,98.48792
38:00:00,906.674,98.08451
38:05:00,904.2126,97.62252
38:10:00,901.4215,97.05677
38:15:00,896.9013,96.55701
38:20:00,894.0532,96.24343
38:25:00,891.8107,95.65404
38:30:00,887.9117,95.24572
38:35:00,884.6335,94.82213
38:40:00,881.1317,94.41375
38:45:00,878.2936,94.02769
38:50:00,876.1635,93.47545
38:55:00,871.9612,92.99672
39:00:00,869.0288,92.53642
39:05:00,865.8023,92.14565
39:10:00,862.8562,91.71492
39:15:00,860.46,91.23258
39:20:00,857.6652,90.82293
39:25:00,853.9496,90.45449
39:30:00,851.3905,90.05326
39:35:00,846.9683,89.57671
39:40:00,845.3082,89.19349
39:45:00,840.6928,88.79477
39:50:00,838.0912,88.27857
39:55:00,835.1792,87.94376
40:00:00,832.7953,87.47851
40:05:00,829.7966,87.09873
40:10:00,827.4434,86.67114
40:15:00,823.3432,86.22968
40:20:00,820.5089,85.82672
40:25:00,818.5261,85.36545
40:30:00,814.6962,84.98514
40:35:00,811.6941,84.66544
40:40:00,808.3131,84.26694
40:45:00,805.528,83.85831
40:50:00,803.5608,83.37896
40:55:00,800.5348,83.14774
41:00:00,797.3225,82.64627
41:05:00,795.2572,82.2604
41:10:00,791.9253,81.8694
41:15:00,789.0439,81.55091
41:20:00,785.673,81.17439
41:25:00,784.3268,80.73431
41:30:00,780.9303,80.41659
41:35:00,777.7392,80.05292
41:40:00,776.2861,79.60753
41:45:00,772.3848,79.19467
41:50:00,770.4215,78.83219
41:55:00,767.8685,78.45102
42:00:00,764.4789,78.14912
42:05:00,761.2151,77.65928
42:10:00,758.8745,77.34694
42:15:00,755.726,76.93741
42:20:00,752.7914,76.74783
42:25:00,750.6588,76.22691
42:30:00,747.6575,75.94306
42:35:00,744.927,75.65512
42:40:00,743.4728,75.19306
42:45:00,740.5254,74.82495
42:50:00,736.7881,74.61112
42:55:00,735.1109,74.22914
43:00:00,732.4974,73.87546
43:05:00,729.5697,73.52847
43:10:00,727.8521,73.15191
43:15:00,724.3539,72.71966
43:20:00,722.6859,72.50389
43:25:00,720.1286,72.11681
43:30:00,716.1393,71.79909
43:35:00,715.0067,71.33307
43:40:00,711.1754,70.98047
43:45:00,708.8339,70.77093
43:50:00,706.124,70.47274
43:55:00,703.2934,70.14135
44:00:00,702.747,69.7124
44:05:00,699.3117,69.34339
44:10:00,696.5557,69.18848
44:15:00,694.8785,68.66666
44:20:00,691.7702,68.51661
44:25:00,689.7383,68.0691
44:30:00,686.9555,67.85423
44:35:00,683.9558,67.43071
44:40:00,681.3623,67.09158
44:45:00,679.2805,66.84947
44:50:00,677.4914,66.46561
44:55:00,675.3597,66.14854
45:00:00,671.6088,65.99992
45:05:00,669.1109,65.52561
45:10:00,667.7132,65.38571
45:15:00,665.9702,64.96647
45:20:00,662.4857,64.75191
45:25:00,659.7545,64.33179
45:30:00,657.5422,64.15223
45:35:00,654.9531,63.83324
45:40:00,653.5478,63.45444
45:45:00,651.3395,63.21418
45:50:00,648.7033,62.778
45:55:00,645.9278,62.54163
46:00:00,644.975,62.2922
46:05:00,641.9142,61.9521
46:10:00,640.503,61.75296
46:15:00,636.9595,61.34982
46:20:00,635.2713,61.20678
46:25:00,632.7223,60.79182
46:30:00,629.94,60.49389
46:35:00,627.7904,60.24248
46:40:00,626.5833,59.92903
46:45:00,623.3114,59.58746
46:50:00,621.1677,59.47221
46:55:00,620.0378,59.16135
47:00:00,618.1411,58.86862
47:05:00,615.2722,58.54782
47:10:00,612.5376,58.24371
47:15:00,610.0698,57.98641
47:20:00,608.9482,57.80127
47:25:00,606.151,57.53631
47:30:00,605.168,57.15381
47:35:00,602.0974,56.84822
47:40:00,599.4062,56.5904
47:45:00,597.5986,56.38286
47:50:00,594.8417,56.194
47:55:00,594.4178,55.83427
48:00:00,590.8992,55.62899
48:05:00,589.8663,55.36422
48:10:00,586.9026,55.07425
48:15:00,585.7062,54.88543
48:20:00,583.0061,54.51568
48:25:00,580.4682,54.41099
48:30:00,579.0968,53.95896
48:35:00,577.9579,53.84431
48:40:00,575.9144,53.49371
48:45:00,572.3953,53.35823
48:50:00,571.5505,53.04207
48:55:00,568.0049,52.73172
49:00:00,567.0273,52.62673
49:05:00,565.6523,52.34417
49:10:00,562.8206,52.0824
49:15:00,560.1367,51.72002
49:20:00,558.3441,51.51295
49:25:00,556.7365,51.23581
49:30:00,555.5092,51.11041
49:35:00,553.8321,50.81256
49:40:00,550.6191,50.55774
49:45:00,548.111,50.3202
49:50:00,547.2485,50.21165
49:55:00,545.3227,49.88481
50:00:00,544.0962,49.70761
50:05:00,542.0155,49.47576
50:10:00,538.8308,49.21479
50:15:00,536.8824,48.90069
50:20:00,535.2628,48.78427
50:25:00,532.8479,48.47507
50:30:00,532.0581,48.21297
50:35:00,529.763,48.04293
50:40:00,528.9763,47.80346
50:45:00,526.5009,47.68674
50:50:00,524.0447,47.41419
50:55:00,522.383,47.21605
51:00:00,519.9587,47.00458
51:05:00,519.062,46.71998
51:10:00,517.4992,46.4446
51:15:00,515.6307,46.30851
51:20:00,513.577,46.11516
51:25:00,511.8712,45.74233
51:30:00,509.0794,45.60543
51:35:00,507.2864,45.39198
51:40:00,506.9502,45.20772
51:45:00,503.5771,44.92577
51:50:00,502.3519,44.77478
51:55:00,501.0832,44.65296
52:00:00,499.5926,44.35467
52:05:00,497.414,44.13078
52:10:00,495.1126,43.88864
52:15:00,492.7912,43.70405
52:20:00,491.359,43.61905
52:25:00,489.2629,43.23007
52:30:00,487.8025,43.16247
52:35:00,486.5361,42.96598
52:40:00,484.363,42.69466
52:45:00,484.0547,42.51409
52:50:00,480.8085,42.39177
52:55:00,479.991,42.15149
53:00:00,477.8444,41.83248
53:05:00,476.2677,41.69979
53:10:00,475.5169,41.50818
53:15:00,473.5361,41.25065
53:20:00,471.5715,41.15399
53:25:00,469.2866,40.95637
53:30:00,467.0327,40.72662
53:35:00,465.5398,40.47773
53:40:00,465.2016,40.42752
53:45:00,462.9809,40.10631
53:50:00,461.4416,39.91988
53:55:00,459.2098,39.82066
54:00:00,458.5673,39.69133
54:05:00,456.228,39.49105
54:10:00,455.3513,39.16525
54:15:00,453.7286,39.13328
54:20:00,451.4408,38.89879
54:25:00,450.3366,38.74983
54:30:00,448.3915,38.59672
54:35:00,447.6344,38.40541
54:40:00,446.2226,38.07671
54:45:00,443.5513,37.91068
54:50:00,441.2399,37.87787
54:55:00,440.9051,37.63051
55:00:00,438.9155,37.4088
55:05:00,438.1826,37.25101
55:10:00,435.2809,37.13177
55:15:00,435.3348,36.8963
55:20:00,432.0092,36.77361
55:25:00,431.6201,36.64316
55:30:00,430.8403,36.43356
55:35:00,429.316,36.16609
55:40:00,426.1535,35.96587
55:45:00,425.3607,35.93778
55:50:00,423.637,35.67643
55:55:00,423.0122,35.62545
56:00:00,420.2194,35.48788
56:05:00,419.6281,35.27385
56:10:00,417.0816,34.97395
56:15:00,416.7543,34.88087
56:20:00,415.1793,34.81829
56:25:00,413.3667,34.51814
56:30:00,411.9946,34.39421
56:35:00,410.8975,34.20917
56:40:00,409.136,34.05668
56:45:00,407.3815,33.97576
56:50:00,406.3469,33.84998
56:55:00,404.3716,33.63661
57:00:00,402.5207,33.5386
57:05:00,402.0977,33.21611
57:10:00,400.6258,33.17038
57:15:00,399.5139,32.9224
57:20:00,398.5078,32.84568
57:25:00,396.5948,32.60664
57:30:00,394.6871,32.50422
57:35:00,392.6427,32.38725
57:40:00,392.1318,32.29641
57:45:00,389.8784,32.11045
57:50:00,388.7286,31.91746
57:55:00,387.5471,31.79847
58:00:00,385.6864,31.62226
58:05:00,384.5323,31.41508
58:10:00,383.6307,31.31921
58:15:00,381.7568,31.2589
58:20:00,381.3227,31.09455
58:25:00,379.7429,30.93636
58:30:00,378.3141,30.82099
58:35:00,377.6106,30.51893
58:40:00,376.2217,30.50245
58:45:00,375.2618,30.2645
58:50:00,373.3091,30.09956
58:55:00,372.3496,29.99392
59:00:00,369.7872,29.81685
59:05:00,368.534,29.68522
59:10:00,368.5225,29.62968
59:15:00,366.604,29.45351
59:20:00,365.4156,29.35999
59:25:00,363.6215,29.24649
59:30:00,362.5158,29.04259
59:35:00,360.8658,28.90779
59:40:00,359.4276,28.82238
59:45:00,358.1264,28.67834
59:50:00,357.501,28.60455
59:55:00,356.5609,28.31763
60:00:00,355.4981,28.25382
60:05:00,353.6109,28.06892
60:10:00,352.3459,28.05574
60:15:00,350.5103,27.7902
60:20:00,349.5009,27.69137
60:25:00,348.649,27.66753
60:30:00,347.0535,27.49104
60:35:00,347.3822,27.25598
60:40:00,345.6493,27.31322
60:45:00,344.165,27.17285
60:50:00,341.8532,26.9299
60:55:00,342.1853,26.89772
61:00:00,339.8998,26.74637
61:05:00,339.805,26.50757
61:10:00,338.2049,26.55564
61:15:00,336.7891,26.33916
61:20:00,336.0875,26.18804
61:25:00,334.7178,26.01774
61:30:00,334.187,26.02512
61:35:00,332.196,25.85223
61:40:00,330.819,25.81867
61:45:00,329.5147,25.69013
61:50:00,327.8585,25.55022
61:55:00,327.4631,25.44737
62:00:00,325.335,25.24136
62:05:00,325.4891,25.16934
62:10:00,324.9961,24.97498
62:15:00,322.5801,24.94507
62:20:00,321.188,24.77723
62:25:00,320.0738,24.73893
62:30:00,319.5491,24.62726
62:35:00,318.5406,24.3857
62:40:00,316.9371,24.23746
62:45:00,317.0767,24.18752
62:50:00,314.8678,24.08185
62:55:00,313.7778,23.99185
63:00:00,313.6831,23.88422
63:05:00,311.8266,23.70261
63:10:00,310.8333,23.64382
63:15:00,308.7789,23.59444
63:20:00,307.6892,23.42202
63:25:00,308.1385,23.2683
63:30:00,305.9424,23.22432
63:35:00,306.0556,23.13054
63:40:00,304.1605,22.99421
63:45:00,302.8484,22.90266
63:50:00,301.9987,22.88213
63:55:00,301.0052,22.6205
64:00:00,299.9585,22.54903
64:05:00,299.5064,22.45819
64:10:00,297.7923,22.37565
64:15:00,296.451,22.30029
64:20:00,294.8833,22.24054
64:25:00,294.791,21.97158
64:30:00,292.6029,22.02135
64:35:00,292.2166,21.90735
64:40:00,291.0409,21.66169
64:45:00,289.6044,21.63591
64:50:00,288.8105,21.59125
64:55:00,288.6892,21.52892
65:00:00,288.2324,21.28058
65:05:00,286.2487,21.23295
65:10:00,284.582,21.115
65:15:00,284.8912,21.07308
65:20:00,282.7863,21.00924
65:25:00,282.6942,20.80593
65:30:00,281.6219,20.79369
65:35:00,280.078,20.63473
65:40:00,279.5539,20.55487
65:45:00,277.5287,20.55915
65:50:00,276.6863,20.46456
65:55:00,276.6298,20.26633
66:00:00,274.8081,20.27035
66:05:00,274.1704,20.14224
66:10:00,272.8993,19.92981
66:15:00,272.1021,19.90033
66:20:00,272.4973,19.90749
66:25:00,271.0113,19.74507
66:30:00,270.4684,19.60387
66:35:00,269.7982,19.5693
66:40:00,267.061,19.4851
66:45:00,267.8918,19.40521
66:50:00,265.9849,19.25033
66:55:00,265.4533,19.08925
67:00:00,263.6013,19.15318
67:05:00,262.3101,19.05969
67:10:00,262.5122,18.91524
67:15:00,260.5933,18.77353
67:20:00,261.3488,18.80993
67:25:00,260.1636,18.69028
67:30:00,258.7954,18.48533
67:35:00,256.8016,18.54326
67:40:00,257.534,18.33521
67:45:00,255.0526,18.25986
67:50:00,256.0094,18.2656
67:55:00,253.2447,18.19855
68:00:00,253.1127,18.07536
68:05:00,252.6024,18.01185
68:10:00,252.1206,17.9878
68:15:00,250.9041,17.76926
68:20:00,249.6256,17.70943
68:25:00,249.771,17.63301
68:30:00,247.7396,17.60861
68:35:00,246.7035,17.40887
68:40:00,246.7481,17.45936
68:45:00,244.8588,17.37938
68:50:00,244.4176,17.16335
68:55:00,244.6953,17.21924
69:00:00,243.6169,17.03908
69:05:00,242.7324,17.05848
69:10:00,240.9638,16.96733
69:15:00,239.6984,16.8406
69:20:00,239.7684,16.68184
69:25:00,238.0139,16.74312
69:30:00,238.1343,16.54973
69:35:00,236.3451,16.57181
69:40:00,235.2289,16.42282
69:45:00,235.2658,16.48068
69:50:00,233.9166,16.33451
69:55:00,233.0076,16.2802
70:00:00,233.6179,16.21343
70:05:00,231.1069,16.17251
70:10:00,230.6822,16.03608
70:15:00,231.0076,15.89874
70:20:00,228.6805,15.85135
70:25:00,228.0431,15.80248
70:30:00,228.8536,15.77167
70:35:00,228.2046,15.63744
70:40:00,227.2328,15.64225
70:45:00,226.4399,15.40321
70:50:00,224.5307,15.48624
70:55:00,224.7734,15.45198
71:00:00,222.6997,15.1938
71:05:00,221.5484,15.22972
71:10:00,220.9591,15.07227
71:15:00,220.0652,15.036
71:20:00,219.7632,14.93165
71:25:00,220.0044,14.8951
71:30:00,218.941,14.96306
71:35:00,217.6356,14.75989
71:40:00,216.2227,14.6555
71:45:00,216.4229,14.72856
71:50:00,214.6632,14.52109
71:55:00,214.8247,14.58092
72:00:00,214.0565,14.46989
72:05:00,212.4217,14.38859
72:10:00,213.1639,14.36601
72:15:00,211.0684,14.28499
72:20:00,211.0076,14.15455
72:25:00,209.9247,14.15814
72:30:00,208.8664,14.09471
72:35:00,208.8108,14.03315
72:40:00,207.6706,13.85517
72:45:00,206.6082,13.84779
72:50:00,206.1794,13.74549
72:55:00,205.6117,13.80977
73:00:00,206.1249,13.58104
73:05:00,204.3059,13.69006
73:10:00,203.8043,13.53957
73:15:00,203.6955,13.4144
73:20:00,201.883,13.46586
73:25:00,201.1236,13.28283
73:30:00,200.7447,13.27234
73:35:00,201.3271,13.14481
73:40:00,200.2142,13.2088
73:45:00,198.7081,13.09108
73:50:00,199.1055,12.97843
73:55:00,197.0823,12.99369
74:00:00,197.653,12.93728
74:05:00,196.3006,12.87684
74:10:00,196.4461,12.84876
74:15:00,195.7676,12.79052
74:20:00,194.6162,12.79632
74:25:00,193.7006,12.7404
74:30:00,192.656,12.50383
74:35:00,191.9578,12.58219
74:40:00,192.5101,12.44065
74:45:00,191.1712,12.4251
74:50:00,190.5719,12.44028
74:55:00,189.0689,12.3006
75:00:00,189.6106,12.16455
75:05:00,187.5779,12.26836
75:10:00,187.9539,12.04244
75:15:00,186.201,12.07593
75:20:00,186.7584,12.11145
75:25:00,185.8321,12.06879
75:30:00,184.0071,11.81901
75:35:00,184.8732,11.76491
75:40:00,182.7335,11.87415
75:45:00,182.5787,11.73243
75:50:00,181.8523,11.63846
75:55:00,182.46,11.59967
76:00:00,181.7509,11.50012
76:05:00,180.1794,11.5332
76:10:00,180.6054,11.56339
76:15:00,179.8972,11.50945
76:20:00,178.9344,11.46679
76:25:00,177.663,11.303
76:30:00,177.7971,11.32519
76:35:00,177.4741,11.17812
76:40:00,175.3672,11.12195
76:45:00,176.2137,11.18838
76:50:00,175.7238,11.10024
76:55:00,174.0953,11.05774
77:00:00,173.283,10.92905
77:05:00,174.072,10.95907
77:10:00,173.3893,10.94589
77:15:00,172.1476,10.89204
77:20:00,170.6711,10.76365
77:25:00,170.4433,10.80517
77:30:00,169.808,10.59371
77:35:00,168.9585,10.66121
77:40:00,168.3186,10.5126
77:45:00,167.8915,10.4754
77:50:00,168.386,10.44394
77:55:00,166.5566,10.4622
78:00:00,166.8417,10.40296
78:05:00,166.2847,10.42522
78:10:00,165.7796,10.28323
78:15:00,165.1012,10.30587
78:20:00,163.6062,10.15387
78:25:00,164.5707,10.231
78:30:00,163.0072,10.01385
78:35:00,163.1592,10.15386
78:40:00,161.2508,10.03114
78:45:00,162.5518,9.940747
78:50:00,161.943,9.93768
78:55:00,160.1594,9.94138
79:00:00,159.7771,9.737944
79:05:00,160.2256,9.798548
79:10:00,158.6936,9.748427
79:15:00,158.3105,9.728273
79:20:00,158.7044,9.582205
79:25:00,157.4229,9.696335
79:30:00,156.5509,9.504477
79:35:00,155.3655,9.545904
79:40:00,155.8205,9.428083
79:45:00,155.945,9.368867
79:50:00,154.5501,9.384844
79:55:00,154.4244,9.323303
80:00:00,152.6926,9.371546
80:05:00,153.8752,9.267929
80:10:00,151.6403,9.139003
80:15:00,151.5767,9.193166
80:20:00,150.6327,9.118486
80:25:00,150.8693,9.087815
80:30:00,149.8073,9.135914
80:35:00,149.5996,9.003522
80:40:00,148.7275,9.006236
80:45:00,148.0324,8.866582
80:50:00,147.4648,8.91123
80:55:00,147.8179,8.839483
81:00:00,147.4887,8.754515
81:05:00,146.9199,8.844519
81:10:00,145.5115,8.789563
81:15:00,145.3085,8.652333
81:20:00,145.3112,8.73415
81:25:00,144.3291,8.630552
81:30:00,144.4061,8.534814
81:35:00,143.4463,8.613728
81:40:00,143.6273,8.54858
81:45:00,142.3737,8.467941
81:50:00,142.4813,8.504749
81:55:00,142.0967,8.427701
82:00:00,140.645,8.384616
82:05:00,140.994,8.294401
82:10:00,139.6429,8.176472
82:15:00,139.9243,8.22663
82:20:00,138.8304,8.148586
82:25:00,138.1486,8.099081
82:30:00,139.3756,8.149719
82:35:00,138.3611,8.083615
82:40:00,136.7417,8.019444
82:45:00,136.3336,7.986216
82:50:00,136.3852,8.043669
82:55:00,136.8087,7.853507
83:00:00,135.4952,7.828206
83:05:00,134.4888,7.872572
83:10:00,135.316,7.779927
83:15:00,133.8794,7.783185
83:20:00,133.9333,7.831712
83:25:00,132.9853,7.676091
83:30:00,132.621,7.764369
83:35:00,132.2194,7.652994
83:40:00,131.3731,7.671379
83:45:00,130.8122,7.648146
83:50:00,130.2539,7.548666
83:55:00,130.1559,7.432152
84:00:00,130.5103,7.395267
84:05:00,130.5358,7.395622
84:10:00,129.5888,7.357204
84:15:00,129.273,7.36184
84:20:00,127.4055,7.307024
84:25:00,127.9209,7.39741
84:30:00,128.3321,7.227497
84:35:00,126.2283,7.234765
84:40:00,125.8485,7.160224
84:45:00,126.6825,7.261705
84:50:00,126.6273,7.111221
84:55:00,125.3967,7.080144
85:00:00,125.81,7.133582
85:05:00,123.6463,7.074897
85:10:00,123.9809,7.076539
85:15:00,124.1125,6.982523
85:20:00,123.8774,6.984149
85:25:00,123.2544,6.879935
85:30:00,122.099,6.975124
85:35:00,121.6405,6.791743
85:40:00,121.097,6.779888
85:45:00,120.4714,6.854725
85:50:00,121.1445,6.737387
85:55:00,120.9357,6.811797
86:00:00,119.3462,6.751368
86:05:00,118.6795,6.629539
86:10:00,118.3002,6.584602
86:15:00,118.211,6.606638
86:20:00,118.7076,6.560598
86:25:00,117.271,6.584258
86:30:00,117.5265,6.631155
86:35:00,116.6288,6.436107
86:40:00,117.5582,6.483242
86:45:00,115.3042,6.541554
86:50:00,116.3674,6.348841
86:55:00,116.3374,6.436088
87:00:00,115.8782,6.301142
87:05:00,114.2489,6.321121
87:10:00,114.1682,6.383998
87:15:00,114.5334,6.31473
87:20:00,113.9268,6.215797
87:25:00,112.4745,6.331791
87:30:00,113.4739,6.160551
87:35:00,112.4808,6.137082
87:40:00,112.5951,6.081714
87:45:00,111.3946,6.089731
87:50:00,110.2418,6.113642
87:55:00,110.6313,6.041617
88:00:00,110.0527,6.117567
88:05:00,109.096,6.074858
88:10:00,110.406,5.981032
88:15:00,108.6159,5.868995
88:20:00,108.8142,5.87745
88:25:00,107.954,5.855181
88:30:00,108.6385,5.960853
88:35:00,107.9826,5.776367
88:40:00,108.0744,5.837654
88:45:00,106.4633,5.713348
88:50:00,106.9157,5.746977
88:55:00,106.7407,5.848687
89:00:00,106.809,5.809586
89:05:00,106.2239,5.689831
89:10:00,104.4849,5.596314
89:15:00,105.162,5.660571
89:20:00,104.2251,5.599486
89:25:00,104.9082,5.707779
89:30:00,103.8773,5.630162
89:35:00,104.4547,5.599475
89:40:00,102.6124,5.489498
89:45:00,103.4892,5.547508
89:50:00,101.5233,5.4894
89:55:00,102.9044,5.401475
90:00:00,101.9103,5.397713
90:05:00,102.0316,5.38786
90:10:00,100.725,5.312842
90:15:00,101.7678,5.368025
90:20:00,99.5906,5.335061
90:25:00,100.3374,5.379142
90:30:00,99.11356,5.358803
90:35:00,99.63403,5.299449
90:40:00,99.02228,5.215239
90:45:00,98.65864,5.223909
90:50:00,98.42449,5.216022
90:55:00,97.83114,5.185635
91:00:00,97.63477,5.240209
91:05:00,96.85858,5.112087
91:10:00,96.36413,5.037852
91:15:00,96.45608,5.023559
91:20:00,97.17284,5.098469
91:25:00,95.26143,5.077674
91:30:00,96.49388,5.107399
91:35:00,95.61027,4.926452
91:40:00,95.7659,5.005532
91:45:00,95.17532,5.029153
91:50:00,93.73206,4.867144
91:55:00,94.88043,4.919665
92:00:00,94.08689,4.853364
92:05:00,93.44568,4.829361
92:10:00,93.85636,4.870697
92:15:00,92.14356,4.788489
92:20:00,92.7448,4.833719
92:25:00,93.01301,4.7681
92:30:00,92.73046,4.842935
92:35:00,91.02378,4.748835
92:40:00,92.15377,4.77741
92:45:00,91.71024,4.728486
92:50:00,91.53973,4.671478
92:55:00,91.03451,4.572662
93:00:00,90.01208,4.565492
93:05:00,89.2313,4.615404
93:10:00,89.53201,4.645998
93:15:00,89.93708,4.648815
93:20:00,89.74463,4.566458
93:25:00,88.98674,4.627772
93:30:00,89.30926,4.591399
93:35:00,88.00607,4.59112
93:40:00,87.20631,4.561408
93:45:00,87.98722,4.523738
93:50:00,87.14028,4.53491
93:55:00,86.07658,4.398752
94:00:00,87.37519,4.420943
94:05:00,85.36349,4.305803
94:10:00,86.96078,4.327015
94:15:00,85.74274,4.26149
94:20:00,84.79032,4.2518
94:25:00,86.01014,4.351085
94:30:00,84.73616,4.392217
94:35:00,84.78705,4.336093
94:40:00,84.03469,4.194736
94:45:00,83.8229,4.157267
94:50:00,83.43321,4.13734
94:55:00,84.47511,4.250577
95:00:00,82.70443,4.185859
95:05:00,83.33084,4.205574
95:10:00,83.0892,4.180964
95:15:00,82.98926,4.169668
95:20:00,81.54152,4.026606
95:25:00,82.78705,4.021089
95:30:00,80.9088,4.170114
95:35:00,80.3294,4.149352
95:40:00,80.7816,4.039811
95:45:00,80.52562,4.116381
95:50:00,81.02616,3.979956
95:55:00,80.85884,4.034811
96:00:00,79.84154,3.897126
96:05:00,78.9424,3.957525
96:10:00,79.22595,3.948399
96:15:00,78.4672,3.864036
96:20:00,79.27768,3.812021
96:25:00,79.63062,3.854609
96:30:00,77.7957,3.832763
96:35:00,77.92331,3.94608
96:40:00,77.86878,3.795465
96:45:00,77.4894,3.739323
96:50:00,77.46103,3.858063
96:55:00,77.74402,3.767865
97:00:00,77.3868,3.851651
97:05:00,76.9292,3.700174
97:10:00,76.16992,3.751835
97:15:00,75.85518,3.69287
97:20:00,76.23966,3.662727
97:25:00,75.25003,3.723143
97:30:00,75.5623,3.729508
97:35:00,75.51659,3.668865
97:40:00,74.16897,3.734813
97:45:00,74.90089,3.649512
97:50:00,75.07348,3.580289
97:55:00,74.55362,3.567489
98:00:00,73.54274,3.605289
98:05:00,73.21889,3.633272
98:10:00,72.47877,3.607787
98:15:00,73.8566,3.525933
98:20:00,73.32731,3.610592
98:25:00,73.58236,3.435345
98:30:00,72.39395,3.455772
98:35:00,71.84393,3.522956
98:40:00,71.47906,3.525556
98:45:00,70.86458,3.510982
98:50:00,71.40889,3.527942
98:55:00,70.74718,3.52254
99:00:00,70.06639,3.372853
99:05:00,70.37752,3.368218
99:10:00,71.08607,3.423295
99:15:00,70.90845,3.472778
99:20:00,69.47942,3.374933
99:25:00,70.73045,3.364464
99:30:00,69.72423,3.243142
99:35:00,69.73801,3.218852
99:40:00,69.49113,3.340878
99:45:00,69.16251,3.313083
99:50:00,67.78973,3.352953
99:55:00,69.0802,3.19904
100:00:00,67.38103,3.321123
100:05:00,68.17133,3.187436
100:10:00,67.6582,3.16463
100:15:00,66.76876,3.25887
100:20:00,67.54531,3.233146
100:25:00,67.0339,3.205764
100:30:00,66.31112,3.126996
100:35:00,66.47428,3.125725
100:40:00,66.15864,3.106215
100:45:00,66.11053,3.118989
100:50:00,66.22807,3.039066
100:55:00,65.9263,3.158435
101:00:00,65.55184,3.11219
101:05:00,64.50644,3.175759
101:10:00,65.55967,3.070098
101:15:00,65.64146,3.111929
101:20:00,64.58843,2.998322
101:25:00,63.80468,3.00744
101:30:00,63.4753,3.010185
101:35:00,64.7676,2.971175
101:40:00,64.04812,2.955282
101:45:00,63.69865,2.901746
101:50:00,62.80854,2.95858
101:55:00,62.39165,2.870698
102:00:00,62.27132,2.998885
102:05:00,63.67642,2.931654
102:10:00,62.13854,2.922424
102:15:00,62.04054,2.890769
102:20:00,62.61584,2.960919
102:25:00,61.54968,2.800777
102:30:00,61.99339,2.931057
102:35:00,61.61435,2.834897
102:40:00,60.75265,2.932623
102:45:00,62.27316,2.790438
102:50:00,60.20169,2.826591
102:55:00,60.64648,2.742473
103:00:00,60.61562,2.726922
103:05:00,60.94137,2.744162
103:10:00,60.3006,2.835069
103:15:00,60.10361,2.856646
103:20:00,59.17678,2.675855
103:25:00,60.10429,2.682716
103:30:00,59.81158,2.832871
103:35:00,59.99233,2.732153
103:40:00,59.98666,2.625404
103:45:00,59.54492,2.664874
103:50:00,58.56607,2.637834
103:55:00,59.36927,2.670672
104:00:00,58.26624,2.717259
104:05:00,58.82666,2.643581
104:10:00,58.64977,2.573155
104:15:00,57.48267,2.62099
104:20:00,56.70441,2.614876
104:25:00,57.60634,2.661824
104:30:00,58.2669,2.555522
104:35:00,56.6463,2.536856
104:40:00,55.93075,2.559904
104:45:00,57.55624,2.522945
104:50:00,55.58598,2.579321
104:55:00,55.82935,2.599356
105:00:00,55.817,2.537783
105:05:00,56.21231,2.475642
105:10:00,55.45348,2.546493
105:15:00,56.22965,2.545193
105:20:00,55.51364,2.478099
105:25:00,54.78373,2.415409
105:30:00,55.65498,2.441219
105:35:00,55.61984,2.473959
105:40:00,55.45576,2.380748
105:45:00,53.99459,2.506158
105:50:00,54.79465,2.511687
105:55:00,53.94917,2.43996
106:00:00,54.37214,2.407728
106:05:00,54.4503,2.40257
106:10:00,53.30572,2.415991
106:15:00,53.54343,2.487048
106:20:00,53.59708,2.475872
106:25:00,53.78945,2.367073
106:30:00,54.01116,2.448672
106:35:00,53.58342,2.361543
106:40:00,52.86049,2.282289
106:45:00,53.19348,2.24245
106:50:00,51.6964,2.362792
106:55:00,53.18073,2.287332
107:00:00,51.59753,2.374417
107:05:00,51.14976,2.350716
107:10:00,50.91902,2.216555
107:15:00,51.69451,2.264482
107:20:00,51.64441,2.253737
107:25:00,52.12306,2.316593
107:30:00,51.70966,2.181131
107:35:00,51.11207,2.333668
107:40:00,50.69777,2.196414
107:45:00,51.27793,2.251684
107:50:00,49.59518,2.215298
107:55:00,49.7728,2.287165
108:00:00,50.73395,2.140101
108:05:00,49.28451,2.221011
108:10:00,48.86146,2.248036
108:15:00,48.9954,2.104339
108:20:00,49.8986,2.256655
108:25:00,48.57068,2.202067
108:30:00,49.02516,2.089962
108:35:00,49.47773,2.175848
108:40:00,48.55148,2.102406
108:45:00,49.22601,2.079748
108:50:00,49.29661,2.110843
108:55:00,49.17591,2.187825
109:00:00,49.12848,2.145087
109:05:00,48.43924,2.093032
109:10:00,48.08247,2.038086
109:15:00,48.02905,2.136511
109:20:00,48.46671,2.139173
109:25:00,46.84314,2.069902
109:30:00,47.60568,2.005402
109:35:00,46.2407,2.01299
109:40:00,47.47589,2.07763
109:45:00,47.85371,2.108565
109:50:00,46.3572,2.086032
109:55:00,47.04876,1.952392
110:00:00,47.26555,1.972101
110:05:00,46.97242,1.958031
110:10:00,45.97517,2.033751
110:15:00,45.57462,2.010651
110:20:00,46.44912,2.008579
110:25:00,45.31804,2.013822
110:30:00,45.11105,1.959964
110:35:00,45.32034,1.993559
110:40:00,45.24758,1.889967
110:45:00,44.68786,1.939446
110:50:00,45.03609,1.943444
110:55:00,44.6475,1.887669
111:00:00,44.82637,2.013061
111:05:00,44.58672,2.013984
111:10:00,44.13667,1.997595
111:15:00,43.4129,1.910712
111:20:00,44.71157,1.816894
111:25:00,43.41059,1.872581
111:30:00,44.35104,1.946469
111:35:00,44.45723,1.796965
111:40:00,43.29153,1.821681
111:45:00,43.9371,1.83389
111:50:00,42.65071,1.805773
111:55:00,42.81871,1.906376
112:00:00,43.03762,1.881283
112:05:00,43.77442,1.862413
112:10:00,41.98471,1.850476
112:15:00,42.4793,1.816174
112:20:00,43.10958,1.900979
112:25:00,42.72165,1.770189
112:30:00,42.92562,1.856588
112:35:00,43.16536,1.845381
112:40:00,42.98319,1.857679
112:45:00,41.63328,1.762407
112:50:00,41.66288,1.753029
112:55:00,41.18169,1.860211
113:00:00,41.50137,1.749893
113:05:00,40.7411,1.71694
113:10:00,41.37621,1.65707
113:15:00,41.96635,1.83339
113:20:00,41.20799,1.656524
113:25:00,40.24257,1.775239
113:30:00,40.69032,1.695047
113:35:00,39.80585,1.645681
113:40:00,40.5271,1.687434
113:45:00,41.21813,1.618544
113:50:00,41.11497,1.633226
113:55:00,40.2645,1.590733
114:00:00,40.47484,1.600577
114:05:00,40.32025,1.583644
114:10:00,39.02694,1.633816
114:15:00,39.66453,1.749107
114:20:00,40.15265,1.719127
114:25:00,40.10881,1.635503
114:30:00,39.96071,1.571879
114:35:00,40.14948,1.691853
114:40:00,38.6839,1.682656
114:45:00,39.68971,1.658841
114:50:00,37.86742,1.593534
114:55:00,39.21705,1.555977
115:00:00,38.68493,1.523324
115:05:00,39.36245,1.652401
115:10:00,37.55793,1.695298
115:15:00,37.32569,1.638453
115:20:00,38.07709,1.594055
115:25:00,38.22063,1.578708
115:30:00,38.54494,1.548463
115:35:00,38.1563,1.643456
115:40:00,37.50396,1.639327
115:45:00,37.17315,1.46431
115:50:00,37.33829,1.490682
115:55:00,36.66853,1.618755
116:00:00,36.67193,1.562559
116:05:00,36.95308,1.470199
116:10:00,36.18439,1.57651
116:15:00,37.83387,1.493793
116:20:00,35.87901,1.618118
116:25:00,35.69295,1.563535
116:30:00,36.34498,1.601055
116:35:00,35.74954,1.486595
116:40:00,35.95242,1.549118
116:45:00,37.01461,1.559898
116:50:00,36.5695,1.484841
116:55:00,36.99778,1.453038
117:00:00,35.15858,1.448823
117:05:00,34.95773,1.538421
117:10:00,35.94423,1.377578
117:15:00,35.81153,1.376966
117:20:00,34.66831,1.392485
117:25:00,36.20327,1.401186
117:30:00,34.57988,1.52396
117:35:00,35.83873,1.389705
117:40:00,34.30994,1.441282
117:45:00,35.14378,1.394025
117:50:00,35.64734,1.36796
117:55:00,33.83961,1.360656
118:00:00,34.67326,1.497098
118:05:00,34.14933,1.345064
118:10:00,35.31538,1.32881
118:15:00,34.19967,1.429929
118:20:00,34.95492,1.488374
118:25:00,34.81689,1.381983
118:30:00,33.27771,1.372936
118:35:00,33.49827,1.293516
118:40:00,34.7636,1.441106
118:45:00,33.3304,1.433921
118:50:00,32.71518,1.310808
118:55:00,33.89414,1.374179
119:00:00,32.67243,1.305247
119:05:00,33.3497,1.403216
119:10:00,32.92795,1.391448
119:15:00,33.08864,1.350756
119:20:00,33.15292,1.271307
119:25:00,33.38075,1.343294
119:30:00,33.52875,1.256838
119:35:00,32.01513,1.306002
119:40:00,33.19262,1.237936
119:45:00,33.4071,1.303455
119:50:00,32.89114,1.388754
119:55:00,31.63545,1.396685
120:00:00,31.78754,1.373378
120:05:00,31.78488,1.221599
120:10:00,32.59474,1.348446
120:15:00,31.53658,1.272363
120:20:00,32.81377,1.239192
120:25:00,30.94222,1.19424
120:30:00,31.03187,1.367908
120:35:00,32.49585,1.291715
120:40:00,31.14532,1.282079
120:45:00,31.87863,1.286834
120:50:00,30.43332,1.289628
120:55:00,31.13013,1.234123
121:00:00,31.62925,1.228762
121:05:00,30.20037,1.324618
121:10:00,31.88333,1.253184
121:15:00,29.9484,1.268213
121:20:00,31.39921,1.256613
121:25:00,30.75801,1.22354
121:30:00,31.00783,1.219104
121:35:00,29.86188,1.202379
121:40:00,29.51799,1.129685
121:45:00,29.8411,1.165427
121:50:00,29.41059,1.15813
121:55:00,30.77416,1.123876
122:00:00,29.58403,1.194261
122:05:00,29.07118,1.208425
122:10:00,30.90741,1.285699
122:15:00,29.76524,1.178575
122:20:00,30.4988,1.205619
122:25:00,29.89932,1.176792
122:30:00,30.57042,1.113521
122:35:00,28.61841,1.117499
122:40:00,28.52336,1.123641
122:45:00,28.48832,1.239649
122:50:00,30.26107,1.106511
122:55:00,29.333,1.081719
123:00:00,29.06151,1.17777
123:05:00,29.07643,1.229279
123:10:00,29.63262,1.244518
123:15:00,29.2312,1.116023
123:20:00,28.59424,1.185272
123:25:00,28.62122,1.126267
123:30:00,28.68148,1.18191
123:35:00,29.46398,1.166915
123:40:00,27.54435,1.088717
123:45:00,27.53928,1.128398
123:50:00,28.43853,1.192097
123:55:00,27.30657,1.045212
124:00:00,28.67829,1.167097
124:05:00,28.53173,1.180833
124:10:00,27.96094,1.12193
124:15:00,27.34976,1.134104
124:20:00,27.16959,1.100277
124:25:00,26.78068,1.148839
124:30:00,26.73346,1.152706
124:35:00,27.20426,1.105358
124:40:00,27.10321,1.191551
124:45:00,26.81763,1.104946
124:50:00,26.71546,1.03618
124:55:00,28.05655,1.104531
125:00:00,27.00621,1.13089
125:05:00,27.00557,1.049347
125:10:00,26.50369,1.164054
125:15:00,27.85404,1.055877
125:20:00,26.82876,0.995741
125:25:00,26.03323,0.988892
125:30:00,26.25351,1.109426
125:35:00,27.47844,1.141891
125:40:00,26.77622,1.00948
125:45:00,26.58265,1.083965
125:50:00,27.26775,0.982227
125:55:00,26.04122,1.008576
126:00:00,26.56963,0.991466
126:05:00,25.53544,1.075906
126:10:00,25.76664,0.970894
126:15:00,26.92796,1.081591
126:20:00,25.69326,1.070883
126:25:00,25.93108,0.953374
126:30:00,26.21351,1.055102
126:35:00,25.73656,1.017702
126:40:00,25.9948,1.116643
126:45:00,25.9111,1.099661
126:50:00,25.43057,0.992046
126:55:00,25.26967,1.082106
127:00:00,26.34383,1.017995
127:05:00,24.64715,1.004352
127:10:00,24.68664,1.103276
127:15:00,26.08959,1.070101
127:20:00,25.26804,0.991654
127:25:00,25.15313,0.9059
127:30:00,25.11857,1.010102
127:35:00,24.24114,0.973256
127:40:00,24.34598,1.049559
127:45:00,24.29724,1.007495
127:50:00,24.66425,1.058771
127:55:00,23.85908,0.925786
128:00:00,24.15623,1.013472
128:05:00,25.36175,0.965915
128:10:00,24.25994,0.941306
128:15:00,24.08489,1.04024
128:20:00,24.49977,1.016275
128:25:00,24.10486,0.923134
128:30:00,23.75477,0.93284
128:35:00,24.75926,0.863107
128:40:00,23.13819,1.055382
128:45:00,23.18373,0.999438
128:50:00,24.59395,0.861693
128:55:00,23.52372,0.880334
129:00:00,22.94256,0.89958
129:05:00,22.97821,0.87046
129:10:00,23.31553,0.947694
129:15:00,22.70398,1.011289
129:20:00,23.3446,0.980301
129:25:00,23.76021,1.01491
129:30:00,22.51047,0.877069
129:35:00,23.01464,0.993429
129:40:00,23.60665,0.967707
129:45:00,24.04348,0.991319
129:50:00,22.42774,0.973502
129:55:00,22.18903,0.883001
130:00:00,22.75718,0.959408
130:05:00,23.71977,0.890196
130:10:00,22.65438,0.881085
130:15:00,22.2323,0.997084
130:20:00,23.53643,0.839761
130:25:00,23.17245,0.907444
130:30:00,23.2609,0.929289
130:35:00,21.68059,0.884102
130:40:00,23.26484,0.964285
130:45:00,21.94728,0.911174
130:50:00,23.28518,0.912001
130:55:00,22.69527,0.962615
131:00:00,21.53323,0.922643
131:05:00,22.72462,0.833796
131:10:00,22.7317,0.831691
131:15:00,22.63919,0.894353
131:20:00,21.96424,0.783014
131:25:00,22.16545,0.832379
131:30:00,21.36506,0.845276
131:35:00,22.64089,0.919559
131:40:00,22.26144,0.925581
131:45:00,20.85305,0.832036
131:50:00,22.61571,0.869265
131:55:00,21.03238,0.920897
132:00:00,22.16511,0.780035
132:05:00,22.02704,0.813117
132:10:00,22.08633,0.944616
132:15:00,21.22574,0.888224
132:20:00,22.41545,0.948722
132:25:00,21.96816,0.806764
132:30:00,20.38521,0.91601
132:35:00,20.36431,0.809943
132:40:00,20.32679,0.808445
132:45:00,20.4134,0.840326
132:50:00,21.21436,0.752146
132:55:00,20.60003,0.876437
133:00:00,20.79222,0.866318
133:05:00,20.51968,0.835348
133:10:00,20.79747,0.73406
133:15:00,21.60151,0.823633
133:20:00,20.66748,0.784838
133:25:00,20.82692,0.814833
133:30:00,21.24564,0.921574
133:35:00,19.71777,0.782061
133:40:00,20.76297,0.73751
133:45:00,21.46136,0.72821
133:50:00,20.77611,0.803288
133:55:00,19.45198,0.740906
134:00:00,19.50693,0.780748
134:05:00,21.01084,0.843086
134:10:00,20.61113,0.807134
134:15:00,20.06563,0.884243
134:20:00,19.92511,0.831033
134:25:00,20.42726,0.823069
134:30:00,19.75361,0.897346
134:35:00,20.39075,0.861853
134:40:00,20.75985,0.794067
134:45:00,20.64294,0.817151
134:50:00,19.18536,0.740596
134:55:00,19.21674,0.788352
135:00:00,19.64656,0.876267
135:05:00,19.58512,0.717755
135:10:00,18.97794,0.813
135:15:00,19.79026,0.795658
135:20:00,20.25451,0.871217
135:25:00,18.64361,0.709749
135:30:00,20.00915,0.7176
135:35:00,20.41131,0.740053
135:40:00,19.19635,0.760029
135:45:00,20.08433,0.68752
135:50:00,18.6004,0.807846
135:55:00,20.16844,0.706167
136:00:00,19.01463,0.790925
136:05:00,19.192,0.768365
136:10:00,19.08097,0.719658
136:15:00,20.03864,0.731139
136:20:00,18.89931,0.855781
136:25:00,19.31606,0.821381
136:30:00,19.49011,0.840917
136:35:00,19.48321,0.700364
136:40:00,19.47704,0.801679
136:45:00,19.43819,0.833707
136:50:00,17.73894,0.683283
136:55:00,18.04831,0.740983
137:00:00,18.25495,0.727145
137:05:00,18.37216,0.809061
137:10:00,17.83034,0.705047
137:15:00,18.16665,0.736147
137:20:00,18.67338,0.676419
137:25:00,18.71415,0.781002
137:30:00,17.58167,0.72047
137:35:00,18.33744,0.759605
137:40:00,18.61895,0.701479
137:45:00,18.09585,0.721977
137:50:00,18.63126,0.746747
137:55:00,18.45037,0.824257
138:00:00,17.5801,0.684367
138:05:00,18.88778,0.636393
138:10:00,18.3047,0.716394
138:15:00,18.7414,0.683829
138:20:00,17.99611,0.696215
138:25:00,17.41895,0.643639
138:30:00,17.98566,0.636763
138:35:00,18.04609,0.694872
138:40:00,17.51267,0.774229
138:45:00,18.07121,0.664652
138:50:00,16.75985,0.686898
138:55:00,18.00194,0.80603
139:00:00,17.04637,0.751066
139:05:00,17.405,0.697383
139:10:00,16.84712,0.658486
139:15:00,17.07827,0.682574
139:20:00,17.52691,0.746526
139:25:00,17.66072,0.677452
139:30:00,16.69829,0.684665
139:35:00,17.61681,0.763086
139:40:00,16.67156,0.787391
139:45:00,16.25085,0.675638
139:50:00,17.69811,0.746186
139:55:00,17.02306,0.613586
140:00:00,17.1136,0.644813
140:05:00,17.62011,0.624033
140:10:00,16.87152,0.697326
140:15:00,17.34523,0.656386
140:20:00,16.80116,0.626679
140:25:00,17.12425,0.647456
140:30:00,15.93393,0.629909
140:35:00,15.83187,0.611726
140:40:00,16.90148,0.722604
140:45:00,17.12575,0.618158
140:50:00,16.04771,0.669045
140:55:00,17.26945,0.661746
141:00:00,15.71314,0.629993
141:05:00,15.85331,0.721085
141:10:00,17.0794,0.755235
141:15:00,17.06949,0.698513
141:20:00,16.17211,0.605271
141:25:00,15.59977,0.623357
141:30:00,16.05017,0.677317
141:35:00,17.23394,0.653092
141:40:00,15.58082,0.642409
141:45:00,16.64771,0.571694
141:50:00,15.69017,0.592814
141:55:00,16.4039,0.706167
142:00:00,15.62685,0.590285
142:05:00,16.51739,0.682489
142:10:00,16.25763,0.700044
142:15:00,15.32432,0.690105
142:20:00,16.01517,0.61638
142:25:00,15.08933,0.638754
142:30:00,16.4328,0.591532
142:35:00,15.09329,0.70435
142:40:00,16.7689,0.70008
142:45:00,16.52063,0.718936
142:50:00,15.52496,0.715702
142:55:00,15.01137,0.73589
143:00:00,16.38185,0.714574
143:05:00,15.49556,0.653196
143:10:00,16.56757,0.732791
143:15:00,16.64669,0.549435
143:20:00,14.86291,0.708334
143:25:00,15.14082,0.629055
143:30:00,14.86253,0.683774
143:35:00,16.3807,0.655553
143:40:00,14.61042,0.66924
143:45:00,16.41522,0.710835
143:50:00,15.1526,0.674768
143:55:00,14.54275,0.697251
144:00:00,15.12789,0.676457
144:05:00,15.43597,0.632862
144:10:00,15.47977,0.619548
144:15:00,15.75128,0.691931
144:20:00,16.16188,0.56761
144:25:00,14.82897,0.715647
144:30:00,14.75329,0.537934
144:35:00,14.82579,0.567576
144:40:00,15.45431,0.705174
144:45:00,15.97551,0.674668
144:50:00,15.29149,0.578296
144:55:00,14.47127,0.694902
145:00:00,14.54835,0.604667
145:05:00,14.50324,0.688573
145:10:00,14.58562,0.680865
145:15:00,14.3943,0.661819
145:20:00,15.63135,0.600284
145:25:00,15.6488,0.566617
145:30:00,15.67627,0.660293
145:35:00,14.5368,0.587662
145:40:00,15.54243,0.659467
145:45:00,13.74626,0.653367
145:50:00,14.74813,0.650863
145:55:00,14.00822,0.592831
146:00:00,13.58239,0.519539
146:05:00,13.85739,0.667948
146:10:00,14.28802,0.525918
146:15:00,13.66645,0.592687
146:20:00,14.05528,0.586265
146:25:00,13.86924,0.682489
146:30:00,15.18841,0.607742
146:35:00,14.35503,0.594199
146:40:00,14.82463,0.623146
146:45:00,13.65332,0.677219
146:50:00,13.64093,0.55544
146:55:00,14.26559,0.577212
147:00:00,14.11297,0.567765
147:05:00,13.20667,0.601769
147:10:00,14.87444,0.508756
147:15:00,14.01459,0.567462
147:20:00,13.24329,0.673943
147:25:00,13.91579,0.686275
147:30:00,14.40294,0.570404
147:35:00,14.83956,0.594877
147:40:00,14.18199,0.494477
147:45:00,13.41266,0.539565
147:50:00,13.18401,0.531379
147:55:00,14.40493,0.685295
148:00:00,13.91923,0.672634
148:05:00,14.0475,0.509646
148:10:00,14.1519,0.643073
148:15:00,13.97042,0.608457
148:20:00,14.28345,0.666211
148:25:00,14.66175,0.489999
148:30:00,13.85496,0.589786
148:35:00,14.1254,0.526005
148:40:00,14.35961,0.50857
148:45:00,14.08242,0.516086
148:50:00,13.76452,0.495932
148:55:00,13.90018,0.615257
149:00:00,13.56522,0.510588
149:05:00,12.67003,0.656593
149:10:00,13.90032,0.650287
149:15:00,13.35389,0.623247
149:20:00,13.9755,0.631748
149:25:00,13.14219,0.505817
149:30:00,13.01813,0.633808
149:35:00,14.33509,0.473086
149:40:00,14.02604,0.657157
149:45:00,13.67558,0.585321
149:50:00,14.0838,0.661662
149:55:00,12.48037,0.522869
150:00:00,13.61849,0.608646
150:05:00,13.82939,0.652497
150:10:00,13.99847,0.509164
150:15:00,13.64252,0.62747
150:20:00,13.08335,0.642814
150:25:00,12.19372,0.500771
150:30:00,12.60276,0.483351
150:35:00,12.45865,0.577606
150:40:00,12.41654,0.547247
150:45:00,13.51579,0.587388
150:50:00,12.87602,0.490199
150:55:00,12.51529,0.577516
151:00:00,13.2578,0.624404
151:05:00,12.65323,0.487476
151:10:00,13.01766,0.579308
151:15:00,13.28839,0.525726
151:20:00,12.40167,0.537607
151:25:00,13.7338,0.497878
151:30:00,12.79946,0.589881
151:35:00,13.16818,0.493249
151:40:00,12.22305,0.479757
151:45:00,13.35051,0.521765
151:50:00,12.22591,0.493691
151:55:00,12.12899,0.638701
152:00:00,12.03536,0.56415
152:05:00,12.24395,0.639491
152:10:00,12.6601,0.477587
152:15:00,13.34317,0.570566
152:20:00,11.94809,0.508019
152:25:00,13.33221,0.516548
152:30:00,12.61457,0.543417
152:35:00,12.06558,0.480274
152:40:00,11.44994,0.607875
152:45:00,12.30527,0.54628
152:50:00,11.88418,0.556103
152:55:00,11.46612,0.620745
153:00:00,11.77373,0.576024
153:05:00,12.51591,0.53285
153:10:00,11.311,0.470686
153:15:00,11.73257,0.519264
153:20:00,13.03861,0.536325
153:25:00,12.92132,0.490153
153:30:00,12.8498,0.515586
153:35:00,11.30898,0.57812
153:40:00,12.65367,0.620335
153:45:00,11.8371,0.527546
153:50:00,11.20606,0.577205
153:55:00,11.3646,0.479984
154:00:00,12.4648,0.453322
154:05:00,11.68634,0.480371
154:10:00,12.78198,0.563783
154:15:00,12.61281,0.458542
154:20:00,11.36534,0.469746
154:25:00,11.67986,0.480746
154:30:00,12.89051,0.585227
154:35:00,12.24761,0.488339
154:40:00,11.34747,0.525211
154:45:00,11.48054,0.612532
154:50:00,11.24432,0.61129
154:55:00,12.33369,0.480747
155:00:00,12.72849,0.434022
155:05:00,11.09099,0.471932
155:10:00,12.47503,0.492451
155:15:00,12.5034,0.613862
155:20:00,11.64348,0.529829
155:25:00,11.55336,0.522168
155:30:00,10.74209,0.541808
155:35:00,12.55965,0.467987
155:40:00,10.70067,0.446278
155:45:00,11.02724,0.57346
155:50:00,11.77902,0.426885
155:55:00,11.45238,0.49833
156:00:00,12.41196,0.458131
156:05:00,11.5951,0.49375
156:10:00,11.60382,0.477499
156:15:00,10.67099,0.426791
156:20:00,11.93922,0.610082
156:25:00,11.64075,0.425294
156:30:00,12.02607,0.446382
156:35:00,12.30692,0.463299
156:40:00,12.08701,0.497082
156:45:00,10.5968,0.513191
156:50:00,11.38946,0.435324
156:55:00,10.57039,0.513419
157:00:00,11.78303,0.46957
157:05:00,10.88088,0.412153
157:10:00,11.87364,0.455683
157:15:00,10.51272,0.603961
157:20:00,10.65326,0.471436
157:25:00,11.60316,0.441758
157:30:00,11.51283,0.446604
157:35:00,10.85865,0.496758
157:40:00,11.54154,0.579143
157:45:00,10.23495,0.601858
157:50:00,12.09843,0.484827
157:55:00,10.95261,0.423864
158:00:00,11.61742,0.566455
158:05:00,10.13407,0.515101
158:10:00,10.31301,0.421183
158:15:00,10.77363,0.581156
158:20:00,10.64203,0.467517
158:25:00,11.81719,0.416589
158:30:00,11.51451,0.546741
158:35:00,10.39911,0.464549
158:40:00,11.38662,0.40405
158:45:00,11.60848,0.578355
158:50:00,10.15073,0.586121
158:55:00,10.13054,0.496257
159:00:00,11.61177,0.433432
159:05:00,10.04418,0.58439
159:10:00,10.18837,0.407487
159:15:00,10.53923,0.428592
159:20:00,11.46568,0.421603
159:25:00,10.15615,0.540051
159:30:00,10.72757,0.418616
159:35:00,10.63997,0.428781
159:40:00,10.77027,0.558172
159:45:00,9.817667,0.566659
159:50:00,11.34598,0.53736
159:55:00,11.01592,0.5429
160:00:00,11.38787,0.443384
160:05:00,11.02848,0.584582
160:10:00,11.42773,0.406212
160:15:00,9.772836,0.497428
160:20:00,10.28419,0.57807
160:25:00,10.38881,0.498383
160:30:00,10.12384,0.496749
160:35:00,10.65496,0.53372
160:40:00,11.08496,0.528352
160:45:00,10.57687,0.438177
160:50:00,10.56315,0.46785
160:55:00,9.840513,0.486902
161:00:00,10.00624,0.470201
161:05:00,10.40882,0.529388
161:10:00,10.56352,0.453656
161:15:00,10.3444,0.546105
161:20:00,10.05832,0.464465
161:25:00,9.784918,0.505995
161:30:00,10.5104,0.492292
161:35:00,9.48725,0.540785
161:40:00,11.09483,0.563277
161:45:00,9.540159,0.423013
161:50:00,11.21268,0.570946
161:55:00,9.376309,0.417555
162:00:00,10.43614,0.549161
162:05:00,10.40867,0.40919
162:10:00,10.07104,0.559133
162:15:00,10.65295,0.511723
162:20:00,10.72658,0.438695
162:25:00,10.7516,0.513164
162:30:00,10.33009,0.438355
162:35:00,9.510066,0.561236
162:40:00,10.58922,0.416287
162:45:00,10.79501,0.47834
162:50:00,9.672628,0.552049
162:55:00,10.99994,0.382259
163:00:00,10.1613,0.526594
163:05:00,9.693066,0.514159
163:10:00,10.38403,0.494726
163:15:00,9.676515,0.406015
163:20:00,10.16433,0.387155
163:25:00,10.31904,0.382432
163:30:00,9.499464,0.440753
163:35:00,10.50927,0.460358
163:40:00,10.80001,0.426999
163:45:00,9.01357,0.432476
163:50:00,9.480836,0.539191
163:55:00,10.42202,0.432235
164:00:00,10.77658,0.405588
164:05:00,10.39358,0.435285
164:10:00,9.936405,0.392663
164:15:00,9.611243,0.509523
164:20:00,10.83043,0.555116
164:25:00,9.262762,0.567439
164:30:00,9.363011,0.393356
164:35:00,10.41134,0.537378
164:40:00,9.095449,0.518248
164:45:00,9.450917,0.566874
164:50:00,9.437129,0.563883
164:55:00,10.67889,0.43624
165:00:00,9.596819,0.397986
165:05:00,9.067497,0.544488
165:10:00,9.833096,0.418681
165:15:00,9.586967,0.44051
165:20:00,10.0905,0.513922
165:25:00,10.53331,0.401007
165:30:00,9.504221,0.515736
165:35:00,9.376714,0.520236
165:40:00,10.32187,0.506765
165:45:00,9.243621,0.49796
165:50:00,10.45489,0.416562
165:55:00,8.987536,0.421923
166:00:00,9.312458,0.490778
166:05:00,8.635309,0.449416
166:10:00,9.938452,0.489764
166:15:00,9.540203,0.490822
166:20:00,10.22721,0.505738
166:25:00,10.39118,0.53784
166:30:00,9.372149,0.426084
166:35:00,10.32315,0.439588
166:40:00,9.993683,0.486796
166:45:00,9.506952,0.560739
166:50:00,9.85826,0.460545
166:55:00,9.678899,0.438337
167:00:00,9.663276,0.448877
167:05:00,10.03212,0.494711
167:10:00,9.175296,0.429874
167:15:00,9.024959,0.455219
167:20:00,10.40417,0.506738
167:25:00,10.35078,0.438315
167:30:00,10.25826,0.396788
167:35:00,9.147605,0.426611
167:40:00,10.09529,0.558083
167:45:00,9.281471,0.382978
167:50:00,9.78345,0.509001
167:55:00,9.683453,0.37539
168:00:00,8.36936,0.529904
168:05:00,10.03742,0.489095
168:10:00,9.570633,0.451611
168:15:00,9.0596,0.511278
168:20:00,9.162424,0.547732
168:25:00,10.07179,0.433833
168:30:00,8.298058,0.491997
168:35:00,8.891956,0.530058
168:40:00,10.16632,0.511462
168:45:00,8.894979,0.51871
168:50:00,8.926246,0.444098
168:55:00,8.312339,0.462193
169:00:00,9.558385,0.534335
169:05:00,10.08411,0.521769
169:10:00,8.709568,0.429704
169:15:00,8.982299,0.4504
169:20:00,9.156755,0.397763
169:25:00,8.819753,0.458393
169:30:00,8.426017,0.452457
169:35:00,8.883757,0.382117
169:40:00,8.291532,0.391612
169:45:00,9.833532,0.371453
169:50:00,9.552085,0.534551
169:55:00,9.164701,0.3641
170:00:00,9.356128,0.493576
170:05:00,8.207477,0.425254
170:10:00,9.586182,0.467751
170:15:00,8.643362,0.411886
170:20:00,9.592394,0.453894
170:25:00,9.588498,0.482551
170:30:00,9.200751,0.514005
170:35:00,9.640901,0.479132
170:40:00,8.811535,0.369539
170:45:00,9.271432,0.353255
170:50:00,8.037673,0.51333
170:55:00,8.138854,0.463848
171:00:00,9.378482,0.36348
171:05:00,9.326114,0.536093
171:10:00,8.666668,0.39132
171:15:00,9.067458,0.418346
171:20:00,8.697223,0.451002
171:25:00,9.743305,0.392129
171:30:00,8.771248,0.371952
171:35:00,8.78494,0.399808
171:40:00,8.371016,0.434363
171:45:00,9.268493,0.510397
171:50:00,8.439983,0.491631
171:55:00,9.279986,0.454408
172:00:00,8.687669,0.4228
172:05:00,8.17195,0.476092
172:10:00,9.352615,0.404515
172:15:00,8.324866,0.486941
172:20:00,8.849918,0.474813
172:25:00,7.950592,0.390212
172:30:00,8.224586,0.349806
172:35:00,8.803297,0.426875
172:40:00,8.394065,0.455873
172:45:00,9.441646,0.476328
172:50:00,7.935433,0.459404
172:55:00,8.979602,0.473298
173:00:00,8.415574,0.483086
173:05:00,8.567087,0.362134
173:10:00,8.091969,0.527209
173:15:00,8.289083,0.465935
173:20:00,8.566452,0.397656
173:25:00,8.519138,0.53593
173:30:00,9.17301,0.411621
173:35:00,7.826139,0.454834
173:40:00,9.344364,0.49742
173:45:00,8.236653,0.450498
173:50:00,8.358598,0.487274
173:55:00,9.52217,0.495758
174:00:00,8.636334,0.431096
174:05:00,8.836721,0.44739
174:10:00,9.294239,0.462987
174:15:00,8.644208,0.505629
174:20:00,7.577462,0.462409
174:25:00,9.419865,0.442608
174:30:00,9.240048,0.353284
174:35:00,7.520501,0.501253
174:40:00,8.173358,0.47208
174:45:00,7.606756,0.34756
174:50:00,7.584873,0.396627
174:55:00,7.698626,0.390679
175:00:00,8.981778,0.380154
175:05:00,7.934823,0.500314
175:10:00,8.314115,0.443477
175:15:00,8.904884,0.52964
175:20:00,9.204882,0.376603
175:25:00,8.282665,0.492226
175:30:00,8.062815,0.416913
175:35:00,9.38254,0.477042
175:40:00,8.301687,0.526696
175:45:00,7.837939,0.518803
175:50:00,7.790708,0.338151
175:55:00,8.275703,0.49449
176:00:00,9.094872,0.492206
176:05:00,8.035745,0.46745
176:10:00,7.38181,0.394212
176:15:00,8.642375,0.477262
176:20:00,8.14614,0.393974
176:25:00,8.566561,0.488286
176:30:00,7.830007,0.373731
176:35:00,8.137596,0.386913
176:40:00,7.752866,0.517407
176:45:00,8.688121,0.535663
176:50:00,8.922401,0.43309
176:55:00,8.278151,0.426368
177:00:00,8.104975,0.401594
177:05:00,8.869531,0.513077
177:10:00,8.405953,0.435988
177:15:00,7.579302,0.407011
177:20:00,7.336292,0.392238
177:25:00,8.610265,0.435149
177:30:00,9.164478,0.356946
177:35:00,8.411717,0.445939
177:40:00,8.934977,0.4846
177:45:00,8.63441,0.377605
177:50:00,8.828944,0.476117
177:55:00,9.139128,0.405366
178:00:00,8.974509,0.465003
178:05:00,8.182715,0.506563
178:10:00,7.796446,0.475183
178:15:00,8.526508,0.401228
178:20:00,7.180054,0.393954
178:25:00,8.754138,0.361907
178:30:00,8.874794,0.443007
178:35:00,8.074092,0.511876
178:40:00,7.450751,0.441782
178:45:00,7.399599,0.38173
178:50:00,8.070038,0.333206
178:55:00,7.509058,0.517104
179:00:00,8.061363,0.464212
179:05:00,8.024652,0.412006
179:10:00,7.906988,0.408553
179:15:00,8.019211,0.369365
179:20:00,8.52935,0.371884
179:25:00,7.276761,0.364177
179:30:00,8.636605,0.342865
179:35:00,8.803326,0.464269
179:40:00,7.835376,0.335088
179:45:00,7.418195,0.375465
179:50:00,8.458537,0.422184
179:55:00,8.942477,0.450736
180:00:00,8.105498,0.391236`,Op=()=>{try{const ct=Lp.trim().split(`
`);if(ct.length<2)return console.error("CSV file is empty or has no data"),[];const at=[];for(let tt=1;tt<ct.length;tt++){const Lt=ct[tt].trim();if(Lt){const Ot=Lt.split(",");Ot.length>=3&&at.push({time:Ot[0],co:parseFloat(Ot[1]),no2:parseFloat(Ot[2])})}}return console.log(`Loaded ${at.length} data points from CSV`),at}catch(ct){return console.error("Error loading CSV data:",ct),[]}},Dp=()=>{const ct=Op();if(!ct||ct.length===0)return console.error("No CSV data available"),[];const at=[],tt=new Date,Lt=[{name:"Drift 1600",location:"1600L"}],Ot=[{name:"CO",type:"CO",unit:"ppm"},{name:"NO₂",type:"NO₂",unit:"ppm"}],It=ct.length,Jt=0;for(let ye=0;ye<It;ye++){const Kt=ct[Jt+ye],wt=(It-ye-1)*5*60*1e3,Yt=new Date(tt.getTime()-wt),vn=Lt[0],Xt=Kt.co;at.push({_time:Yt.toISOString(),_value:Xt,_field:"value",_measurement:"gas_sensor_data",device_name:vn.name,device_location:vn.location,sensor_name:Ot[0].name,gas_type:Ot[0].type,type:Ot[0].type,measurement_type:"Concentration",unit:Ot[0].unit,sensor_unit:Ot[0].unit,status:Xt>35?"alarm":Xt>25?"warning":"active"});const ga=Kt.no2;at.push({_time:Yt.toISOString(),_value:ga,_field:"value",_measurement:"gas_sensor_data",device_name:vn.name,device_location:vn.location,sensor_name:Ot[1].name,gas_type:Ot[1].type,type:Ot[1].type,measurement_type:"Concentration",unit:Ot[1].unit,sensor_unit:Ot[1].unit,status:ga>3?"alarm":ga>2?"warning":"active"})}return console.log(`Generated ${at.length} demo data points for ${Lt.length} devices`),at},Cp=({data:ct,themeColors:at={background:"#10161A",textPrimary:"#ffffff",textSecondary:"rgba(255, 255, 255, 0.7)",border:"rgba(255, 255, 255, 0.1)",primary:"#4591ED"},height:tt="100%",properties:Lt={},regulatoryLine:Ot=null,demoMode:It=!1,isRealTime:Jt=!1,isPolling:ye=!1,pollingInterval:Kt=5e3,onPoll:wt=null,selectedMeasurement:Yt=null,showLegend:vn=!0})=>{console.log("LineGraph props - demoMode:",It,"data length:",ct==null?void 0:ct.length);const Xt=Vt.useRef(null),ga=Vt.useRef(null);Vt.useRef(null),Vt.useEffect(()=>{console.log("LineGraph received regulatoryLine:",Ot),Ot&&(Array.isArray(Ot)?Ot.forEach((cn,Sn)=>{console.log(`Regulatory line [${Sn}] details:`,cn)}):console.log("Regulatory line details:",{value:Ot.value,label:Ot.label,color:Ot.color}))},[Ot]);const{timeFormat:wa="MM-DD HH:mm:ss",geom:ka="line",hoverDimension:Ka="auto",shadeBelow:on=!1,fontSize:Gn="medium",axes:Pn={x:{label:"",bounds:null,gridColor:"rgba(255, 255, 255, 0.1)",gridWidth:1},y:{label:"",prefix:"",suffix:"",base:"",bounds:null,gridColor:"rgba(255, 255, 255, 0.1)",gridWidth:1}},position:kn="overlaid",colors:aa=[{type:"scale",name:"nineteen_eighty_four",value:""}]}=Lt,sa=Vt.useMemo(()=>{if(console.log("generateDemoData called, demoMode:",It),!It)return null;const cn=Dp();return console.log(`Generated ${cn.length} demo data points from CSV`),cn},[It]),Da=(cn,Sn,La)=>{if(!La||!cn||cn.length===0)return cn;const zn=new Date,Xn=cn[cn.length-1];if(Math.abs(zn-Xn.time)<=1e3)return cn;const Ln={time:zn,displayTime:`${(zn.getMonth()+1).toString().padStart(2,"0")}-${zn.getDate().toString().padStart(2,"0")} ${zn.getHours().toString().padStart(2,"0")}:${zn.getMinutes().toString().padStart(2,"0")}:${zn.getSeconds().toString().padStart(2,"0")}`,rawTime:zn.toISOString()};return Sn.forEach(Rn=>{for(let qt=cn.length-1;qt>=0;qt--)if(cn[qt][Rn]!==void 0&&cn[qt][Rn]!==null){Ln[Rn]=cn[qt][Rn],Object.keys(cn[qt]).forEach(An=>{An.startsWith(Rn+"_")&&(Ln[An]=cn[qt][An])});break}}),[...cn,Ln]},Un=Vt.useMemo(()=>{const cn=It&&sa?sa:ct;if(console.log("processedData useMemo - demoMode:",It,"generateDemoData:",!!sa,"dataToProcess length:",cn==null?void 0:cn.length),!cn||cn.length===0)return[];console.log(`LineGraph processing ${cn.length} data points`);const Sn=new Set(cn.map(Ln=>`${Ln.measurement_type||Ln.type}_${Ln.device_name}_${Ln.device_location}_${Ln.sensor_name}`));console.log("Unique sensor combinations in data:",Array.from(Sn));const La=cn.filter(Ln=>(Ln.measurement_type||Ln.type)==="TWA");La.length>0&&console.log("TWA data points:",La.map(Ln=>({time:Ln._time,value:Ln._value,measurement_type:Ln.measurement_type||Ln.type,device_name:Ln.device_name,device_location:Ln.device_location,sensor_name:Ln.sensor_name})));const zn=cn.reduce((Ln,Rn)=>{const qt=new Date(Rn._time),An=qt.toISOString();let Hn;switch(wa){case"MM-DD HH:mm":Hn=`${(qt.getMonth()+1).toString().padStart(2,"0")}-${qt.getDate().toString().padStart(2,"0")} ${qt.getHours().toString().padStart(2,"0")}:${qt.getMinutes().toString().padStart(2,"0")}`;break;case"MM-DD HH:mm:ss":Hn=`${(qt.getMonth()+1).toString().padStart(2,"0")}-${qt.getDate().toString().padStart(2,"0")} ${qt.getHours().toString().padStart(2,"0")}:${qt.getMinutes().toString().padStart(2,"0")}:${qt.getSeconds().toString().padStart(2,"0")}`;break;case"YYYY-MM-DD HH:mm:ss":Hn=qt.toISOString().replace("T"," ").substring(0,19);break;case"YYYY-MM-DD":Hn=qt.toISOString().substring(0,10);break;case"MM/DD/YYYY HH:mm:ss":Hn=`${(qt.getMonth()+1).toString().padStart(2,"0")}/${qt.getDate().toString().padStart(2,"0")}/${qt.getFullYear()} ${qt.getHours().toString().padStart(2,"0")}:${qt.getMinutes().toString().padStart(2,"0")}:${qt.getSeconds().toString().padStart(2,"0")}`;break;case"DD/MM/YYYY HH:mm:ss":Hn=`${qt.getDate().toString().padStart(2,"0")}/${(qt.getMonth()+1).toString().padStart(2,"0")}/${qt.getFullYear()} ${qt.getHours().toString().padStart(2,"0")}:${qt.getMinutes().toString().padStart(2,"0")}:${qt.getSeconds().toString().padStart(2,"0")}`;break;case"HH:mm:ss":Hn=`${qt.getHours().toString().padStart(2,"0")}:${qt.getMinutes().toString().padStart(2,"0")}:${qt.getSeconds().toString().padStart(2,"0")}`;break;default:Hn=`${(qt.getMonth()+1).toString().padStart(2,"0")}-${qt.getDate().toString().padStart(2,"0")} ${qt.getHours().toString().padStart(2,"0")}:${qt.getMinutes().toString().padStart(2,"0")}:${qt.getSeconds().toString().padStart(2,"0")}`}Ln[An]||(Ln[An]={time:qt,displayTime:Hn,rawTime:qt.toISOString()});const Aa=Rn.measurement_type||Rn.type||"default",Wn=Rn.device_name||"",Rt=Rn.device_location||"",un=Rn.sensor_name||"";let fn=`${Rn._field}_${Aa}`;return Wn&&(fn+=`_${Wn}`),Rt&&(fn+=`_${Rt}`),un&&(fn+=`_${un}`),Ln[An][fn]=Rn._value,Ln[An][`${fn}_type`]=Aa,Ln[An][`${fn}_device_name`]=Wn,Ln[An][`${fn}_device_location`]=Rt,Ln[An][`${fn}_sensor_name`]=un,Rn.status&&(Ln[An][`${fn}_status`]=Rn.status),(Rn.unit||Rn.sensor_unit)&&(Ln[An][`${fn}_unit`]=Rn.unit||Rn.sensor_unit),Rn.sensor_unit&&(Ln[An][`${fn}_sensor_unit`]=Rn.sensor_unit),Rn._measurement&&(Ln[An][`${fn}_measurement`]=Rn._measurement),Rn.source&&(Ln[An][`${fn}_source`]=Rn.source),Rn.result&&(Ln[An][`${fn}_result`]=Rn.result),Rn.host&&(Ln[An][`${fn}_host`]=Rn.host),Ln},{});let Xn=Object.values(zn).sort((Ln,Rn)=>Ln.time-Rn.time);return Xn=Da(Xn,Object.keys(Xn[0]||{}),Jt),Xn},[ct,wa,It,sa,Jt]),{dataKeys:ba,uniqueCombinations:za}=Vt.useMemo(()=>{if(!Un||Un.length===0)return{dataKeys:[],uniqueCombinations:[]};const cn=new Set,Sn=new Map;Un.forEach(zn=>{Object.keys(zn).forEach(Xn=>{if(!Xn.includes("_type")&&!Xn.includes("_status")&&!Xn.includes("_unit")&&!Xn.includes("_measurement")&&!Xn.includes("_source")&&!Xn.includes("_device_name")&&!Xn.includes("_device_location")&&!Xn.includes("_sensor_name")&&!Xn.includes("_host")&&!Xn.includes("_result")&&Xn!=="time"&&Xn!=="displayTime"&&Xn!=="rawTime"){cn.add(Xn);const Ln=Xn.split("_");if(Ln.length>=2){const Rn=Ln[1],qt=Ln.length>=3?Ln[2]:"",An=Ln.length>=4?Ln[3]:"",Hn=Ln.length>=5?Ln[4]:"",Aa=`${Rn}_${qt}_${An}_${Hn}`.replace(/^_+|_+$/g,"");Sn.has(Aa)||Sn.set(Aa,{key:Aa,measurementType:Rn,device:qt,location:An,sensorName:Hn,originalKeys:[]}),Sn.get(Aa).originalKeys.push(Xn)}}})});const La=Array.from(Sn.values());return Jt&&(console.log(`LineGraph extracted ${Array.from(cn).length} data keys:`,Array.from(cn)),console.log(`LineGraph found ${La.length} unique combinations:`,La.map(zn=>zn.key))),{dataKeys:Array.from(cn),uniqueCombinations:La}},[Un,Jt]),dr=Vt.useRef(new Map),Va=Vt.useRef(new Map),Ca=Vt.useRef(new Set),Za=Vt.useRef(0),zr=Vt.useRef(new Set),Hr=Vt.useMemo(()=>{var La;const cn=((La=aa[0])==null?void 0:La.name)||"distinctive";console.log("LineGraph: Using color scheme:",cn);const Sn=Yc[cn]||Yc.distinctive;return console.log("LineGraph: Selected colors:",Sn),dr.current.clear(),zr.current.clear(),Za.current=0,Sn},[aa]),li=Vt.useMemo(()=>cn=>{if(dr.current.has(cn))return dr.current.get(cn);let Sn,La=0;const zn=Hr.length*2;do{const Xn=Za.current%Hr.length;if(Sn=Hr[Xn],Za.current++,La++,!zr.current.has(Sn)||La>=zn)break}while(La<zn);return zr.current.add(Sn),dr.current.set(cn,Sn),Sn},[Hr]),Er=Vt.useMemo(()=>cn=>{if(Va.current.has(cn))return Va.current.get(cn);const Sn=cn.split("_");let La="";if(Un&&Un.length>0){const Xn=Un.find(Ln=>Ln[`${cn}_sensor_name`]);Xn&&(La=Xn[`${cn}_sensor_name`]||"")}if(Sn.length>=2){const Xn=Sn[1],Ln=Sn.length>=3?Sn[2]:"",Rn=Sn.length>=4?Sn[3]:"",qt=Sn.length>=5?Sn[4]:"",An=La||qt;let Hn="";An?Hn=An:Hn=Xn;const Aa=[];return An&&Xn&&Aa.push(Xn),Ln&&Aa.push(Ln),Rn&&Aa.push(Rn),Aa.length>0&&(Hn+=` (${Aa.join(" / ")})`),Va.current.set(cn,Hn),Ca.current.add(cn),Hn}const zn=cn;return Va.current.set(cn,zn),Ca.current.add(cn),zn},[Un]),pr=Un.length>0?Un[0].displayTime:null,kr=Un.length>0?Un[Un.length-1].displayTime:null,$n=Vt.useMemo(()=>Ot?(Array.isArray(Ot)?Ot:[Ot]).map((Sn,La)=>Sn?!pr||!kr?{x:["00:00","23:59"],y:[Sn.value,Sn.value],mode:"lines",name:Sn.label||`Regulation Limit ${La+1}`,line:{color:Sn.color||"#FF0000",width:2,dash:"dash"},hoverinfo:"skip",showlegend:!0}:{x:[pr,kr],y:[Sn.value,Sn.value],mode:"lines",name:Sn.label||`Regulation Limit ${La+1}`,line:{color:Sn.color||"#FF0000",width:3,dash:"dot"},hoverinfo:"skip",showlegend:!0}:null).filter(Boolean):[],[Ot,pr,kr]),Ir=Vt.useMemo(()=>{const cn=ba.map(zn=>{let Xn="linear";ka==="step"?Xn="hv":ka==="stepBefore"?Xn="vh":ka==="stepAfter"?Xn="hv":ka==="monotoneX"&&(Xn="spline");const Ln=Un.filter(Hn=>Hn[zn]!==void 0);if(Ln.length===0)return null;const Rn=Ln.map(Hn=>{var Xa;const Aa=Hn[`${zn}_device_name`]||"",Wn=Hn[`${zn}_device_location`]||"",Rt=Hn[`${zn}_type`]||"",un=Hn[`${zn}_sensor_unit`]||Hn[`${zn}_unit`]||"",fn=Hn[`${zn}_sensor_name`]||"",Jn=Hn[`${zn}_result`]||"",ya=Hn[`${zn}_host`]||"",ta=new Date(Hn.rawTime||Hn.time),Sa=`${(ta.getMonth()+1).toString().padStart(2,"0")}-${ta.getDate().toString().padStart(2,"0")} ${ta.getHours().toString().padStart(2,"0")}:${ta.getMinutes().toString().padStart(2,"0")}:${ta.getSeconds().toString().padStart(2,"0")}`;let Qt="";if(Ot){const vr=(Array.isArray(Ot)?Ot:[Ot]).find(gr=>gr&&gr.label&&gr.label.toLowerCase().includes(Rt.toLowerCase()));vr&&(Qt=`${vr.label}: ${vr.value}`)}const mn=(Ar=>{const vr=Array.isArray(Ar)?Ar:[Ar||""];let gr=!1,Tr=!1;return vr.forEach(Rr=>{const ua=(Rr||"").toLowerCase();ua.includes("climate")||ua.includes("temperature")||ua.includes("humidity")?gr=!0:(ua.includes("airflow")||ua.includes("flow")||ua.includes("velocity"))&&(Tr=!0)}),gr?"climate":Tr?"airflow":"gas"})(Yt);let En=12,Vn=14,ar=12;mn==="climate"?(En=14,Vn=20,ar=15):mn==="airflow"&&(En=12,Vn=16,ar=14);const Yn=(fn||"").padEnd(En," "),Mn=(Rt||"").padEnd(Vn," "),$a=`${((Xa=Hn[zn])==null?void 0:Xa.toFixed(2))||"0.00"} ${un}`.padEnd(ar," "),_n=`${Aa} / ${Wn}`;return[Aa,Wn,Rt,Hn[zn],un,fn,Jn,ya,Sa,Qt,Yn,Mn,$a,_n]}),qt=li(zn),An={x:Ln.map(Hn=>Hn.displayTime),y:Ln.map(Hn=>Hn[zn]),customdata:Rn,type:"scatter",mode:"lines",name:Er(zn),marker:{size:0,color:qt},hoveron:"points+lines",line:{color:qt,width:3.5,shape:Xn,smoothing:1.3},hovertemplate:`<span style="color: ${qt};">●</span> <b>%{customdata[10]}</b> | %{customdata[11]} | <b>%{customdata[12]}</b> | %{customdata[13]}<extra></extra>`,connectgaps:!0};return on&&(An.fill="tozeroy",An.fillcolor=`${qt}20`),kn==="stacked"&&(An.stackgroup="one"),An}).filter(zn=>zn!==null),Sn=[],La=new Map;return cn.forEach(zn=>{const Ln=[ba.find(qt=>Er(qt)===zn.name),zn.name,zn.name.trim()].filter(Boolean);let Rn=null;for(const qt of Ln)if(La.has(qt)){Rn=La.get(qt);break}if(Rn===null){const qt=Sn.length;Sn.push(zn),Ln.forEach(An=>{La.set(An,qt)})}else{const qt=Sn[Rn],An=new Map;qt.x.forEach((Aa,Wn)=>{An.set(Aa,{x:Aa,y:qt.y[Wn],customdata:qt.customdata[Wn]})}),zn.x.forEach((Aa,Wn)=>{An.set(Aa,{x:Aa,y:zn.y[Wn],customdata:zn.customdata[Wn]})});const Hn=Array.from(An.values()).sort((Aa,Wn)=>new Date(Aa.x)-new Date(Wn.x));qt.x=Hn.map(Aa=>Aa.x),qt.y=Hn.map(Aa=>Aa.y),qt.customdata=Hn.map(Aa=>Aa.customdata)}}),Jt&&(console.log(`LineGraph generated ${cn.length} initial traces, deduplicated to ${Sn.length} unique traces`),Sn.forEach((zn,Xn)=>{console.log(`Trace ${Xn}: ${zn.name} with ${zn.x.length} data points`)})),$n&&$n.length>0&&Sn.push(...$n),Sn},[Un,ba,ka,on,kn,li,Er,$n,Jt]),qa=(cn=>{const Sn={small:{general:11,axis:13,legend:14,hover:12,annotation:11,timeHeader:13,noData:13,demo:12},medium:{general:14,axis:16,legend:16,hover:14,annotation:14,timeHeader:15,noData:16,demo:14},large:{general:18,axis:20,legend:20,hover:18,annotation:18,timeHeader:19,noData:20,demo:18},"extra-large":{general:22,axis:24,legend:24,hover:22,annotation:22,timeHeader:23,noData:24,demo:22}};return Sn[cn]||Sn.medium})(Gn),Ya=Vt.useMemo(()=>{const cn=Pn.y.bounds||["auto","auto"],Sn=[],La=[];Ot&&(Array.isArray(Ot)?Ot:[Ot]).forEach((qt,An)=>{!qt||qt.value==null||(Sn.push({type:"line",xref:"paper",x0:0,x1:1,yref:"y",y0:qt.value,y1:qt.value,line:{color:qt.color||"#FF0000",width:6,dash:"solid"},opacity:.2,layer:"below"}),Sn.push({type:"line",xref:"paper",x0:0,x1:1,yref:"y",y0:qt.value,y1:qt.value,line:{color:qt.color||"#FF0000",width:2,dash:"dash"},layer:"above"}),La.push({xref:"paper",x:.98,y:qt.value,xanchor:"right",yanchor:"middle",text:qt.label||`Regulation Limit ${An+1}`,showarrow:!1,font:{color:"#FFFFFF",size:qa.annotation,weight:"500",family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},bgcolor:qt.color||"#FF0000",bordercolor:qt.color||"#FF0000",borderwidth:1,borderpad:6,opacity:.9}))});let zn=[null,null],Xn=[];Ot&&(Array.isArray(Ot)?Ot:[Ot]).forEach(qt=>{qt&&qt.value!=null&&Xn.push(qt.value)});let Ln=[];if(Un.length>0&&ba.forEach(Rn=>{Un.forEach(qt=>{qt[Rn]!==void 0&&Ln.push(qt[Rn])})}),Ln=Ln.concat(Xn),Ln.length>0){const Rn=Math.min(...Ln),qt=Math.max(...Ln),An=qt-Rn;zn=[Rn-An*.2,qt+An*.2],Xn.forEach(Hn=>{Hn<Rn+An*.1&&(zn[0]=Math.min(zn[0],Hn-An*.3)),Hn>qt-An*.1&&(zn[1]=Math.max(zn[1],Hn+An*.3))})}else if(Xn.length>0){const Rn=Math.min(...Xn),qt=Math.max(...Xn);zn=[Rn-20,qt+20]}return cn[0]!=="auto"&&(zn[0]=cn[0]),cn[1]!=="auto"&&(zn[1]=cn[1]),{autosize:!0,height:typeof tt=="string"?null:tt,margin:{l:80,r:30,b:80,t:vn?30:50,pad:6},paper_bgcolor:"rgba(30, 35, 42, 0.95)",plot_bgcolor:"rgba(25, 30, 36, 1)",font:{color:at.textSecondary,family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif',size:qa.general},xaxis:{showticklabels:!0,showgrid:!0,gridcolor:"rgba(255, 255, 255, 0.08)",gridwidth:.5,griddash:"dot",zeroline:!1,tickfont:{size:qa.axis,color:at.textSecondary},automargin:!0,tickangle:0,nticks:Math.min(7,Un.length),title:{text:Pn.x.label||"",font:{size:0,color:"transparent"}},margin:{l:10,r:0,t:0,b:0},rangemode:"normal",autorange:!0,tickmode:"array",tickvals:Un.length>1?Un.filter((Rn,qt)=>qt>0&&qt%Math.max(1,Math.floor((Un.length-1)/6))===0).map(Rn=>Rn.displayTime):void 0,ticktext:Un.length>1?Un.filter((Rn,qt)=>qt>0&&qt%Math.max(1,Math.floor((Un.length-1)/6))===0).map(Rn=>Rn.displayTime):void 0},yaxis:{showticklabels:!0,showgrid:!0,gridcolor:"rgba(255, 255, 255, 0.08)",gridwidth:.5,griddash:"dot",zeroline:!1,tickfont:{size:qa.axis,color:at.textSecondary},automargin:!0,range:zn,tickformat:".2f",title:{text:Pn.y.label||"",font:{size:0,color:"transparent"}}},showlegend:vn,legend:{orientation:"h",x:.5,y:1.08,xanchor:"center",yanchor:"bottom",bgcolor:"rgba(16, 22, 26, 0.8)",bordercolor:"rgba(255, 255, 255, 0.1)",borderwidth:1,font:{size:qa.legend,color:at.textSecondary,family:'-apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif'},itemsizing:"constant",itemwidth:30,tracegroupgap:10},hovermode:"x unified",hoverlabel:{bgcolor:"rgba(28, 31, 39, 0.95)",bordercolor:"rgba(255, 255, 255, 0.2)",font:{size:qa.hover,color:"#FFFFFF",family:'Consolas, Monaco, "Courier New", monospace'},namelength:-1,align:"left",borderwidth:1,padding:{t:12,r:20,b:12,l:20}},hoverdistance:20,spikedistance:20,dragmode:"zoom",shapes:Sn,annotations:La}},[tt,at,Pn,Un.length,Ot,ba,qa,vn]),si={displayModeBar:"hover",responsive:!0,doubleClick:"reset",showTips:!1,scrollZoom:!0,modeBarButtonsToRemove:["select2d","lasso2d","autoScale2d","toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"],modeBarButtonsToAdd:["zoomIn2d","zoomOut2d","resetScale2d"],displaylogo:!1,plotGlPixelRatio:2},Fr=cn=>{cn.on("plotly_hover",Sn=>{!Sn.points||Sn.points.length===0||setTimeout(()=>{const La=cn.querySelector(".hoverlayer");if(La&&Sn.points[0].customdata&&Sn.points[0].customdata[8]&&!La.querySelector(".time-header")){const Xn=document.createElement("div");Xn.className="time-header",Xn.style.cssText=`
              position: absolute;
              top: -25px;
              left: 0;
              font-weight: bold;
              font-size: ${qa.timeHeader}px;
              color: #fff;
              padding: 4px 8px;
              background: rgba(28, 31, 39, 0.95);
              border-radius: 3px;
              border: 1px solid rgba(255, 255, 255, 0.2);
            `,Xn.textContent=`Time: ${Sn.points[0].customdata[8]}`;const Ln=La.querySelector(".hovertext");Ln&&(Ln.style.position="relative",Ln.appendChild(Xn))}},10)}),cn.on("plotly_unhover",()=>{const Sn=cn.querySelector(".time-header");Sn&&Sn.remove()})},mi=()=>{Xt.current&&Xt.current.querySelectorAll(".time-header").forEach(Sn=>Sn.remove())};return Vt.useEffect(()=>{if(Jt&&console.log("LineGraph useEffect triggered in real-time mode",{plotDataLength:Ir.length,hasRegulatoryLine:!!Ot,plotRefExists:!!Xt.current,plotInstanceExists:!!ga.current}),!(!Ir.length&&!Ot||!Xt.current)){if(ga.current)try{const cn={...Ya};Ot&&Ot.value!==null&&(cn.yaxis={...cn.yaxis,autorange:!1},console.log("Updating plot with regulatory line at:",Ot.value,"and range:",cn.yaxis.range)),Jt&&console.log("Real-time mode: Forcing complete plot update"),Di.react(Xt.current,Ir,cn,si),Ot&&Ot.value!=null&&Di.relayout(Xt.current,{"yaxis.range":cn.yaxis.range,"yaxis.autorange":!1})}catch(cn){console.error("Error updating plot:",cn);try{Di.purge(Xt.current);const Sn={...Ya};Ot&&Ot.value!==null&&(Sn.yaxis={...Sn.yaxis,autorange:!1}),Di.newPlot(Xt.current,Ir,Sn,si).then(()=>{Fr(Xt.current),Ot&&Ot.value!=null&&Di.relayout(Xt.current,{"yaxis.range":Sn.yaxis.range,"yaxis.autorange":!1})})}catch(Sn){console.error("Error recreating plot:",Sn)}}else try{console.log("Creating new plot with regulatory line:",Ot==null?void 0:Ot.value);const cn={...Ya};Ot&&Ot.value!==null&&(cn.yaxis={...cn.yaxis,autorange:!1}),Di.newPlot(Xt.current,Ir,cn,si).then(()=>{ga.current=!0,Fr(Xt.current);const Sn="line-graph-table-hover-styles";if(!document.getElementById(Sn)){const zn=document.createElement("style");zn.id=Sn,zn.textContent=`
              .hoverlayer .hovertext {
                border-radius: 4px !important;
                box-shadow: 0 2px 12px rgba(0, 0, 0, 0.8) !important;
              }
              .hoverlayer .hovertext path {
                stroke-width: 1px !important;
                stroke: rgba(255, 255, 255, 0.2) !important;
                fill-opacity: 0.98 !important;
              }
              .hoverlayer .hovertext text {
                font-family: Consolas, Monaco, monospace !important;
                font-size: ${qa.hover}px !important;
                letter-spacing: 0.5px !important;
              }
              /* Table-like alignment for hover items */
              .hoverlayer .hovertext text tspan {
                white-space: pre !important;
              }
              /* Add subtle separator between hover items */
              .hoverlayer g.hovertext:not(:last-child) {
                border-bottom: 1px solid rgba(255, 255, 255, 0.1);
              }
              /* Time header styling */
              .time-header {
                z-index: 1000;
                white-space: nowrap;
              }
              /* Force hover position relative to cursor */
              .hoverlayer {
                pointer-events: none !important;
              }
              .hoverlayer .hovertext {
                pointer-events: none !important;
              }
            `,document.head.appendChild(zn)}(()=>{Xt.current.on("plotly_hover",zn=>{setTimeout(()=>{const Xn=Xt.current.querySelector(".hoverlayer");if(Xn){const Ln=Xn.querySelectorAll(".hovertext");if(Ln.length>0){const Rn=Xt.current.getBoundingClientRect(),An=zn.event.clientY-Rn.top,Hn=Rn.height;let Aa=0;Ln.forEach(Rt=>{const un=Rt.getBBox();Aa+=un.height+5});let Wn;An+Aa+20>Hn?Wn=-Aa-20:Wn=20,Ln.forEach((Rt,un)=>{const Jn=(Rt.getAttribute("transform")||"").match(/translate\(([^,]+),([^)]+)\)/);if(Jn){const ya=parseFloat(Jn[1]),ta=An+Wn+un*(Rt.getBBox().height+5);Rt.setAttribute("transform",`translate(${ya},${ta})`)}})}}},10)})})(),Ot&&Ot.value!=null&&(console.log("Applying forced range for regulatory line:",cn.yaxis.range),Di.relayout(Xt.current,{"yaxis.range":cn.yaxis.range,"yaxis.autorange":!1}))})}catch(cn){console.error("Error initializing plot:",cn)}return()=>{mi()}}},[Ir,Ya,si,ct,Ot]),Vt.useEffect(()=>{const cn=()=>{Xt.current&&ga.current&&Di.Plots.resize(Xt.current)};return window.addEventListener("resize",cn),()=>{window.removeEventListener("resize",cn)}},[]),Vt.useEffect(()=>{console.log("LineGraph real-time status changed:",{isRealTime:Jt,isPolling:ye,pollingInterval:Kt,dataLength:(ct==null?void 0:ct.length)||0,processedDataLength:(Un==null?void 0:Un.length)||0,dataKeysLength:(ba==null?void 0:ba.length)||0})},[Jt,ye,Kt,ct==null?void 0:ct.length,Un==null?void 0:Un.length,ba==null?void 0:ba.length]),Vt.useEffect(()=>{(Un.length===0||Un.length>0&&za.length===0)&&(Va.current.clear(),Ca.current.clear(),dr.current.clear())},[Jt,Un.length,za.length]),Vt.useEffect(()=>()=>{if(Xt.current&&ga.current)try{Di.purge(Xt.current),ga.current=!1}catch(cn){console.error("Error purging plot on unmount:",cn)}mi(),dr.current.clear(),Va.current.clear(),Ca.current.clear()},[]),Vt.useEffect(()=>{if(!Jt||!wt||typeof Kt!="number"||Kt<500)return;let cn=!1;const Sn=setInterval(()=>{cn||wt()},Kt);return()=>{cn=!0,clearInterval(Sn)}},[Jt,Kt,wt]),console.log("Empty state check - processedData length:",Un==null?void 0:Un.length,"regulatoryLine:",!!Ot,"demoMode:",It),(!Un||Un.length===0)&&!Ot&&!It?(console.log("Showing empty state"),Fe.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:tt||300,backgroundColor:at.background,color:at.textSecondary,border:"none",borderRadius:"0px",fontSize:`${qa.noData}px`},children:"No data available"})):(console.log("Rendering chart with processedData length:",Un==null?void 0:Un.length,"demoMode:",It),Fe.jsx("div",{style:{position:"relative",width:"100%",height:"100%"},children:Fe.jsx("div",{ref:Xt,style:{width:"100%",height:typeof tt=="string"?tt:tt+"px",minHeight:typeof tt=="string"?"300px":tt+"px",borderRadius:"0px",overflow:"hidden"}})}))},Pp=Cp,Ep=({queryResults:ct,viewRawData:at,handleToggleRawData:tt,showScriptEditor:Lt,handleToggleScriptEditor:Ot,handleRunQuery:It,selectedBucket:Jt,selectedMeasurement:ye,themeColors:Kt,styles:wt,selectedRegulatoryTemplate:Yt,onRegulatoryTemplateChange:vn,regulatoryBodies:Xt,showRegulationLines:ga=!0,onToggleRegulationLines:wa=()=>{},regulationViolations:ka=[],currentRegulations:Ka=[],isSubmitButtonDisabled:on=!1,isRealTime:Gn=!1,showLegend:Pn=!0,onToggleLegend:kn=()=>{},selectedDataMode:aa="historical",tagFilterValues:sa={},onApplyDataMode:Da=()=>{}})=>{const Un=()=>{const za=ye&&ye.length>0,dr=sa.device_location&&sa.device_location.length>0,Va=sa.sensor_name&&sa.sensor_name.length>0,Ca=sa.measurement_type&&sa.measurement_type.length>0||sa.type&&sa.type.length>0;return za&&dr&&Va&&Ca},ba=async()=>{Un()&&(Da&&Da(aa),aa!=="realtime"&&typeof It=="function"&&It(aa))};return Fe.jsxs(gn,{sx:{display:"flex",alignItems:"center",px:2,py:1,borderBottom:`1px solid ${Kt.border}`,position:"sticky",top:0,backgroundColor:Kt.background,zIndex:10,width:"100%",minHeight:48},children:[ct.length>1&&Fe.jsxs(qn,{sx:{mr:1,fontSize:14,color:Kt.textSecondary,whiteSpace:"nowrap"},children:["Query results: ",ct.length>0?`${ct.length} points`:""]}),Fe.jsx(gn,{sx:{flexGrow:1}}),Fe.jsxs(gn,{sx:{display:"flex",alignItems:"center"},children:[Fe.jsxs(Fe.Fragment,{children:[Fe.jsx(gn,{sx:{minWidth:180,mr:2},children:Fe.jsx(ji,{size:"small",fullWidth:!0,children:Fe.jsx(io,{value:Yt,onChange:vn,displayEmpty:!0,sx:{height:36,backgroundColor:Kt.background,borderRadius:"4px",color:Kt.text,"& .MuiOutlinedInput-notchedOutline":{borderColor:Kt.border},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:Kt.primary},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:Kt.primary},"& .MuiSelect-icon":{color:Kt.textSecondary}},children:Xt&&Xt.map(za=>Fe.jsx(Ti,{value:za.key,children:Fe.jsxs(gn,{sx:{display:"flex",alignItems:"center",gap:1},children:[za.label,!za.isStandard&&Fe.jsx(gn,{sx:{width:8,height:8,borderRadius:"50%",backgroundColor:Kt.primary}})]})},za.key))})})}),Fe.jsxs(gn,{sx:{display:"flex",alignItems:"center",mr:2,whiteSpace:"nowrap"},children:[Fe.jsx(qn,{sx:{fontSize:14,color:Kt.textSecondary,mr:1},children:"Regulation Lines"}),Fe.jsx(ol,{checked:ga,onChange:wa,size:"small",sx:wt.checkbox})]}),Fe.jsxs(gn,{sx:{display:"flex",alignItems:"center",mr:2,whiteSpace:"nowrap"},children:[Fe.jsx(qn,{sx:{fontSize:14,color:Kt.textSecondary,mr:1},children:"Legend"}),Fe.jsx(ol,{checked:Pn,onChange:kn,size:"small",sx:wt.checkbox})]}),!1,ka.length>0&&Fe.jsxs(gn,{sx:{display:"flex",alignItems:"center",mr:2,px:1,py:.5,borderRadius:1,backgroundColor:xn(Kt.error||"#f44336",.1),border:`1px solid ${Kt.error||"#f44336"}`},children:[Fe.jsx(Zr,{icon:"material-symbols:warning-outline",width:16,sx:{color:Kt.error||"#f44336",mr:.5}}),Fe.jsxs(qn,{sx:{fontSize:12,color:Kt.error||"#f44336",fontWeight:600},children:[ka.length," violations"]})]})]}),Fe.jsx(qr,{variant:"contained",sx:{...wt.primaryButton},onClick:ba,disabled:!Un(),children:"SUBMIT"})]})]})},Fp=Ep,Ip=`${Zh}/api/v2/query`,Rp=ct=>{if(!ct||typeof ct!="string")return[];const at=ct.trim().split(`
`);let tt=0;for(;tt<at.length&&at[tt].startsWith("#");)tt++;if(tt>=at.length)return[];const Lt=at[tt].split(",").map(It=>It.trim()),Ot=[];for(let It=tt+1;It<at.length;It++){const Jt={},ye=at[It].split(",").map(Kt=>Kt.trim());Lt.forEach((Kt,wt)=>{const Yt=ye[wt];Yt===""||Yt==="null"?Jt[Kt]=null:!isNaN(Yt)&&Yt!==""?Jt[Kt]=parseFloat(Yt):Jt[Kt]=Yt}),Ot.push(Jt)}return Ot},di=async ct=>{try{console.log("Executing query using REST API:",ct);const at=await Gh({method:"POST",url:Ip,headers:{Authorization:`Token ${Wh}`,"Content-Type":"application/vnd.flux",Accept:"application/csv"},params:{org:Ci},data:ct});return Rp(at.data)}catch(at){throw console.error("Error fetching data from InfluxDB REST API:",at),at}},Np=async()=>{const ct=`
import "influxdata/influxdb/schema"
schema.buckets()
  `;try{return(await di(ct)).map(tt=>tt.name)}catch(at){throw console.error("Error fetching buckets:",at),at}},$c=async ct=>{const at=`
import "influxdata/influxdb/schema"
schema.measurements(bucket: "${ct}")
  `;try{return await di(at)}catch(tt){throw console.error(`Error fetching measurements for bucket ${ct}:`,tt),tt}},Uc=async(ct,at=Ci)=>{const tt=Array.isArray(ct)&&ct.length>1?`(${ct.map(Ot=>`r._measurement == "${Ot}"`).join(" or ")})`:`r._measurement == "${Array.isArray(ct)?ct[0]:ct}"`,Lt=`
import "influxdata/influxdb/schema"
schema.tagKeys(
  bucket: "${at}",
  predicate: (r) => ${tt}
)
`;try{return await di(Lt)}catch(Ot){throw console.error(`Error fetching tag keys for measurement ${ct}:`,Ot),Ot}},ys=async(ct,at,tt=Ci)=>{const Lt=Array.isArray(ct)&&ct.length>1?`(${ct.map(It=>`r._measurement == "${It}"`).join(" or ")})`:`r._measurement == "${Array.isArray(ct)?ct[0]:ct}"`,Ot=`
import "influxdata/influxdb/schema"
schema.tagValues(
  bucket: "${tt}",
  tag: "${at}",
  predicate: (r) => ${Lt}
)
`;try{return await di(Ot)}catch(It){throw console.error(`Error fetching tag values for measurement ${ct} and tag ${at}:`,It),It}},Gc=async(ct,at=Ci)=>{const tt=Array.isArray(ct)&&ct.length>1?`(${ct.map(Ot=>`r._measurement == "${Ot}"`).join(" or ")})`:`r._measurement == "${Array.isArray(ct)?ct[0]:ct}"`,Lt=`
import "influxdata/influxdb/schema"
schema.fieldKeys(
  bucket: "${at}",
  predicate: (r) => ${tt}
)
`;try{return await di(Lt)}catch(Ot){throw console.error(`Error fetching field keys for measurement ${ct}:`,Ot),Ot}},jp=()=>["mean","median","last","first","min","max","sum","count","stddev","derivative","spread"],Wc=async(ct=[],at=Ci)=>{try{if(console.log("Fetching measurement types for sensors:",{sensorIds:ct}),!ct||ct.length===0)return{};const Lt=`(${ct.map(Kt=>`r["sensor_id"] == "${Kt}"`).join(" or ")})`,Ot=`
from(bucket: "${at}")
  |> range(start: -7d, stop: now())
  |> filter(fn: (r) => ${Lt})
  |> filter(fn: (r) => exists r["measurement_type"] and r["measurement_type"] != "")
  |> keep(columns: ["_measurement", "measurement_type"])
  |> group(columns: ["_measurement", "measurement_type"])
  |> distinct()
  |> group()
  |> sort(columns: ["_measurement", "measurement_type"])
  `;console.log("Executing measurement type query for sensors:",Ot);const It=await di(Ot);console.log("Measurement type results for sensors:",It);const Jt={};It.forEach(Kt=>{const wt=Kt._measurement,Yt=Kt.measurement_type;wt&&Yt&&(Jt[wt]||(Jt[wt]=new Set),Jt[wt].add(Yt))});const ye={};return Object.keys(Jt).forEach(Kt=>{ye[Kt]=Array.from(Jt[Kt]).sort()}),console.log("Grouped measurement types by measurement:",ye),ye}catch(tt){throw console.error("Error fetching measurement types for sensors:",tt),tt}},Zc=async(ct,at=[],tt=Ci,Lt=[])=>{try{if(console.log("Fetching sensors for devices:",{deviceNames:at,deviceUniqueIds:Lt,measurement:ct}),!at||at.length===0)return[];const Ot=Array.isArray(ct)&&ct.length>1?ct.map(Yt=>`r["_measurement"] == "${Yt}"`).join(" or "):`r["_measurement"] == "${Array.isArray(ct)?ct[0]:ct}"`;let It;Lt&&Lt.length>0?(console.log("Using unique IDs for filtering:",Lt),It=`(${Lt.map(vn=>`(r["mac_id"] == "${vn}" or r["ip_address"] == "${vn}")`).join(" or ")})`):(console.log("Falling back to device name filtering"),It=`(${at.map(vn=>`r["device_name"] == "${vn}"`).join(" or ")})`);const Jt=`
from(bucket: "${tt}")
  |> range(start: -30d, stop: now())
  |> filter(fn: (r) => ${Ot})
  |> filter(fn: (r) => exists r["mac_id"] and r["mac_id"] != "")
  |> filter(fn: (r) => exists r["sensor_id"] and r["sensor_id"] != "")
  |> filter(fn: (r) => exists r["serial_number"] and r["serial_number"] != "")
  |> filter(fn: (r) => ${It})
  |> keep(columns: ["_measurement", "mac_id", "sensor_id", "sensor_name", "sensor_location", "serial_number", "device_name", "device_location", "ip_address"])
  |> group(columns: ["_measurement", "sensor_id", "mac_id", "sensor_name", "sensor_location", "serial_number", "device_name", "device_location", "ip_address"])
  |> distinct()
  |> group()
  |> limit(n: 1000)
  |> sort(columns: ["_measurement", "sensor_name"])
  `;console.log("Executing sensor query for selected devices:",Jt);const ye=await di(Jt);console.log("Sensor results for devices:",ye),ye.length>0&&console.log("Sample sensor data:",{sensor_name:ye[0].sensor_name,sensor_location:ye[0].sensor_location,device_name:ye[0].device_name});const Kt=ye.filter(Yt=>Yt.mac_id&&Yt.sensor_name).map(Yt=>{const vn=Yt.device_name===Yt.device_location,Xt=Yt.sensor_location||(vn?Yt.device_name:Yt.device_location)||"";return{_measurement:Yt._measurement,sensor_id:Yt.sensor_id,sensor_name:typeof Yt.sensor_name=="string"?Yt.sensor_name.trim():Yt.sensor_name,sensor_location:typeof Xt=="string"?Xt.trim():Xt,serial_number:typeof Yt.serial_number=="string"?Yt.serial_number.trim():Yt.serial_number,device_name:typeof Yt.device_name=="string"?Yt.device_name.trim():Yt.device_name,device_location:typeof Yt.device_location=="string"?Yt.device_location.trim():Yt.device_location,mac_id:Yt.mac_id,ip_address:Yt.ip_address,is_legacy:vn}}),wt=Array.from(new Map(Kt.map(Yt=>[Yt.sensor_id||Yt.sensor_name,Yt])).values());return console.log("Unique sensors found for devices:",wt),wt}catch(Ot){throw console.error(`Error fetching sensors for devices in measurement ${ct}:`,Ot),Ot}},zp=async(ct,at=Ci)=>{try{console.log("Fetching unique sensors with locations for measurement:",ct);const tt=Array.isArray(ct)&&ct.length>1?ct.map(ye=>`r["_measurement"] == "${ye}"`).join(" or "):`r["_measurement"] == "${Array.isArray(ct)?ct[0]:ct}"`,Lt=`
from(bucket: "${at}")
  |> range(start: -30d, stop: now())
  |> filter(fn: (r) => ${tt})
  |> filter(fn: (r) => exists r["mac_id"] and r["mac_id"] != "")
  |> keep(columns: ["mac_id", "sensor_id", "sensor_name", "sensor_location", "serial_number", "device_name", "device_location"])
  |> group(columns: ["sensor_id", "mac_id", "sensor_name", "sensor_location", "serial_number", "device_name", "device_location"])
  |> distinct()
  |> group()
  |> limit(n: 1000)
  |> sort(columns: ["sensor_name"])
  `;console.log("Executing sensor query based on mac_id:",Lt);const Ot=await di(Lt);console.log("Sensor results:",Ot);const It=Ot.filter(ye=>ye.mac_id&&ye.sensor_name).map(ye=>{const Kt=ye.device_name===ye.device_location,wt=ye.sensor_location||(Kt?ye.device_name:ye.device_location)||"";return{sensor_id:ye.sensor_id,sensor_name:typeof ye.sensor_name=="string"?ye.sensor_name.trim():ye.sensor_name,sensor_location:typeof wt=="string"?wt.trim():wt,serial_number:typeof ye.serial_number=="string"?ye.serial_number.trim():ye.serial_number,device_name:typeof ye.device_name=="string"?ye.device_name.trim():ye.device_name,mac_id:ye.mac_id,is_legacy:Kt}}),Jt=Array.from(new Map(It.map(ye=>[ye.sensor_id||ye.sensor_name,ye])).values());return console.log("Unique sensors found:",Jt),Jt}catch(tt){throw console.error(`Error fetching unique sensors for measurement ${ct}:`,tt),tt}},Hp=async(ct,at=Ci)=>{try{console.log("Fetching unique devices with locations for measurement:",ct);const tt=Array.isArray(ct)&&ct.length>1?ct.map(ye=>`r["_measurement"] == "${ye}"`).join(" or "):`r["_measurement"] == "${Array.isArray(ct)?ct[0]:ct}"`,Lt=`
from(bucket: "${at}")
  |> range(start: -30d, stop: now())
  |> filter(fn: (r) => ${tt})
  |> filter(fn: (r) => exists r["device_name"] and r["device_name"] != "")
  |> keep(columns: ["mac_id", "ip_address", "device_name", "device_location", "device_type_id"])
  |> group(columns: ["mac_id", "ip_address", "device_name", "device_location","device_type_id"])
  |> distinct()
  |> group()
  |> limit(n: 1000)
  |> sort(columns: ["device_name"])
  `;console.log("Executing device query based on mac_id/ip_address:",Lt);const Ot=await di(Lt);console.log("Device results:",Ot);const It=Ot.filter(ye=>ye.device_name).map(ye=>(!ye.mac_id&&!ye.ip_address&&console.warn("Device missing mac_id and ip_address:",ye),{device_name:ye.device_name||"",device_location:ye.device_location||"",mac_id:ye.mac_id||null,ip_address:ye.ip_address||null,device_type_id:ye.device_type_id||null})),Jt=Array.from(new Map(It.map((ye,Kt)=>[ye.mac_id||ye.ip_address||`${ye.device_name}_${ye.device_location}_${Kt}`,ye])).values());return console.log("Unique devices found:",Jt),Jt}catch(tt){throw console.error(`Error fetching unique devices for measurement ${ct}:`,tt),tt}},Bp=async(ct=[],at=Ci)=>{try{if(console.log("Fetching sensor online status for sensors:",{sensorIds:ct}),!ct||ct.length===0)return{};const Lt=`(${ct.map(wt=>`r["sensor_id"] == "${wt}"`).join(" or ")})`,Ot=`
from(bucket: "${at}")
  |> range(start: -10m, stop: now())
  |> filter(fn: (r) => ${Lt})
  |> filter(fn: (r) => exists r["sensor_id"] and r["sensor_id"] != "")
  |> keep(columns: ["_time", "sensor_id", "_value"])
  |> group(columns: ["sensor_id"])
  |> last()
  |> group()
  |> yield(name: "sensor_status")
  `;console.log("Executing sensor online status query:",Ot);const It=await di(Ot);console.log("Sensor online status results:",It);const Jt={},ye=new Date,Kt=new Date(ye.getTime()-10*60*1e3);return ct.forEach(wt=>{Jt[wt]=!1}),It.forEach(wt=>{if(wt.sensor_id&&wt._time){const Yt=new Date(wt._time),vn=wt.sensor_id.toString();Yt>=Kt&&(Jt[vn]=!0)}}),console.log("Final sensor status:",Jt),Jt}catch(tt){console.error("Error fetching sensor online status:",tt);const Lt={};return ct.forEach(Ot=>{Lt[Ot]=!1}),Lt}},Vp=async(ct=[],at=Ci)=>{try{if(console.log("Fetching device online status for devices:",{deviceNames:ct}),!ct||ct.length===0)return{};const Lt=`(${ct.map(wt=>`r["device_name"] == "${wt}"`).join(" or ")})`,Ot=`
from(bucket: "${at}")
  |> range(start: -10m, stop: now())
  |> filter(fn: (r) => ${Lt})
  |> filter(fn: (r) => exists r["device_name"] and r["device_name"] != "")
  |> keep(columns: ["_time", "device_name", "_value"])
  |> group(columns: ["device_name"])
  |> last()
  |> group()
  |> yield(name: "device_status")
  `;console.log("Executing device online status query:",Ot);const It=await di(Ot);console.log("Device online status results:",It);const Jt={},ye=new Date,Kt=new Date(ye.getTime()-10*60*1e3);return ct.forEach(wt=>{Jt[wt]=!1}),It.forEach(wt=>{if(wt.device_name&&wt._time){const Yt=new Date(wt._time),vn=wt.device_name.toString();Yt>=Kt&&(Jt[vn]=!0)}}),console.log("Final device status:",Jt),Jt}catch(tt){console.error("Error fetching device online status:",tt);const Lt={};return ct.forEach(Ot=>{Lt[Ot]=!1}),Lt}},Yp=({customWindowPeriod:ct,setCustomWindowPeriod:at,themeColors:tt})=>{const[Lt,Ot]=Vt.useState(null),It=!!Lt,Jt=Yt=>{Ot(Yt.currentTarget)},ye=()=>{Ot(null)},Kt=Yt=>{console.log("Window period selected:",Yt),at(Yt),ye()},wt=[{value:"1s",label:"1s",description:"1 second"},{value:"5s",label:"5s",description:"5 seconds"},{value:"10s",label:"10s",description:"10 seconds"},{value:"15s",label:"15s",description:"15 seconds"},{value:"30s",label:"30s",description:"30 seconds"},{value:"1m",label:"1m",description:"1 minute"},{value:"5m",label:"5m",description:"5 minutes"},{value:"10m",label:"10m",description:"10 minutes"},{value:"15m",label:"15m",description:"15 minutes"},{value:"30m",label:"30m",description:"30 minutes"},{value:"1h",label:"1h",description:"1 hour"},{value:"2h",label:"2h",description:"2 hours"},{value:"4h",label:"4h",description:"4 hours"},{value:"12h",label:"12h",description:"12 hours"},{value:"1d",label:"1d",description:"1 day"}];return Fe.jsxs(Fe.Fragment,{children:[Fe.jsxs(gn,{onClick:Jt,sx:{backgroundColor:xn(tt.paper,.1),height:40,display:"flex",alignItems:"center",justifyContent:"space-between",px:2,borderRadius:1,cursor:"pointer",border:`1px solid ${xn(tt.border,.3)}`,"&:hover":{borderColor:tt.primary}},children:[Fe.jsx(qn,{sx:{color:tt.textSecondary,fontSize:14,fontWeight:500},children:ct}),Fe.jsx(Zr,{icon:"mdi:chevron-down",sx:{color:tt.textSecondary,fontSize:20}})]}),Fe.jsx(Qc,{anchorEl:Lt,open:It,onClose:ye,sx:{"& .MuiPaper-root":{backgroundColor:tt.paper,borderRadius:1,boxShadow:"0px 5px 15px rgba(0, 0, 0, 0.2)",minWidth:180}},children:wt.map(Yt=>Fe.jsxs(Ti,{onClick:()=>Kt(Yt.value),selected:ct===Yt.value,sx:{color:ct===Yt.value?tt.primary:tt.textSecondary,fontSize:14,py:1,px:2,display:"flex",justifyContent:"space-between",alignItems:"center","&:hover":{backgroundColor:xn(tt.border,.2)},"&.Mui-selected":{backgroundColor:xn(tt.primary,.1),fontWeight:600}},children:[Fe.jsx(gn,{children:Fe.jsx(qn,{variant:"body2",sx:{fontWeight:ct===Yt.value?600:400},children:Yt.label})}),Fe.jsx(qn,{variant:"caption",sx:{color:xn(tt.textSecondary,.7),ml:2,fontSize:11},children:Yt.description})]},Yt.value))})]})},$p=({selectedBucket:ct,setSelectedBucket:at,selectedMeasurement:tt,handleMeasurementChange:Lt,fieldOptions:Ot,selectedFields:It,setSelectedFields:Jt,tagFilterValues:ye,handleTagFilterValueChange:Kt,themeColors:wt,styles:Yt,windowPeriodMode:vn,setWindowPeriodMode:Xt,customWindowPeriod:ga,setCustomWindowPeriod:wa,calculatedAutoWindowPeriod:ka,fillMissingValues:Ka,setFillMissingValues:on,aggregateFunction:Gn,setAggregateFunction:Pn,aggregateWindow:kn,setAggregateWindow:aa,isRealTime:sa=!1,onRealTimeToggle:Da=()=>{},pollingInterval:Un=5e3,selectedDataMode:ba="historical",onSelectedDataModeChange:za=()=>{},timeRange:dr="-6h",handleTimeRangeChange:Va=()=>{}})=>{const[Ca,Za]=Vt.useState(Gn?"custom":"none"),[zr,Hr]=Vt.useState(!1);Vt.useEffect(()=>{Za(Gn?"custom":"none")},[Gn]);const{enqueueSnackbar:li}=qh(),[Er,pr]=Vt.useState(["maestro"]),[kr,$n]=Vt.useState([]),[Ir,Yr]=Vt.useState([]),[qa,Ya]=Vt.useState({}),[si,Fr]=Vt.useState([]),[mi,cn]=Vt.useState([]),[Sn,La]=Vt.useState({}),[zn,Xn]=Vt.useState({}),[Ln,Rn]=Vt.useState(new Map),[qt,An]=Vt.useState({buckets:!0,measurements:!1,tagKeys:!1,fieldKeys:!1,tagValues:{},aggregateFunctions:!0,sensorStatus:!1,deviceStatus:!1});Vt.useEffect(()=>{Gn?vn==="auto"?(console.log("QueryBuilderLayout: Setting aggregateWindow to auto"),aa("auto")):vn==="custom"&&(console.log("QueryBuilderLayout: Setting aggregateWindow to custom:",ga),aa(ga)):console.log("QueryBuilderLayout: Aggregate function is null, keeping aggregateWindow as null")},[vn,ga,aa,Gn]),Vt.useEffect(()=>{at("maestro"),Fr(jp()),An(Rt=>({...Rt,aggregateFunctions:!1})),Np().then(Rt=>{const un=Array.isArray(Rt)?Rt:[];un.includes("maestro")||un.push("maestro"),pr(un),An(fn=>({...fn,buckets:!1}))}).catch(Rt=>{console.error("Failed to fetch buckets:",Rt),An(un=>({...un,buckets:!1}))})},[]),Vt.useEffect(()=>{ct&&(An(Rt=>({...Rt,measurements:!0})),$c(ct).then(Rt=>{$n(Rt.map(un=>un._value)),An(un=>({...un,measurements:!1}))}).catch(Rt=>{console.error("Failed to fetch measurements:",Rt),An(un=>({...un,measurements:!1}))}))},[ct]),Vt.useEffect(()=>{tt&&tt.length>0&&ct&&(Yr([]),Ya(Rt=>{const un={};return Rt.deviceOptions&&(un.deviceOptions=Rt.deviceOptions),Rt.device_name&&(un.device_name=Rt.device_name),Rt.device_location&&(un.device_location=Rt.device_location),Rt.devicesData&&(un.devicesData=Rt.devicesData),Rt.sensorOptions&&(un.sensorOptions=Rt.sensorOptions),Rt.sensor_name&&(un.sensor_name=Rt.sensor_name),Rt.sensor_location&&(un.sensor_location=Rt.sensor_location),Rt.sensor_id&&(un.sensor_id=Rt.sensor_id),Rt.filteredSensorsData&&(un.filteredSensorsData=Rt.filteredSensorsData),Rt.sensorsData&&(un.sensorsData=Rt.sensorsData),Rt.allSensorOptions&&(un.allSensorOptions=Rt.allSensorOptions),un}),cn([]),An(Rt=>({...Rt,tagKeys:!0})),Uc(tt,ct).then(Rt=>{const un=Rt.map(mn=>mn._value).filter(mn=>!mn.startsWith("_")&&mn!=="_measurement"&&mn!=="_field").sort();Yr(un);const fn={};un.forEach(mn=>{fn[mn]=!0}),An(mn=>({...mn,tagValues:fn}));const Jn=["device_location","device_name","sensor_name","measurement_type","sensor_location","location","site","sensor","name","type"],ya=un.filter(mn=>Jn.includes(mn)),ta=un.filter(mn=>!Jn.includes(mn));if(ya.some(mn=>["device_name","device_location","name","location","site"].includes(mn))){const mn=ya.find(Vn=>["device_name","name"].includes(Vn))||"device_name",En=ya.find(Vn=>["device_location","location","site"].includes(Vn))||"device_location";console.log("Using tags:",{deviceNameTag:mn,deviceLocationTag:En}),Hp(tt,ct).then(async Vn=>{console.log("Devices fetched:",Vn);const Yn=[...Vn.map((Mn,ca)=>{console.log("device--->",Mn);let $a=Mn.mac_id||Mn.ip_address||"";$a||(console.warn("Device missing unique identifier, using index:",Mn),$a=`DEV_${ca+1}`);let _n,Xa=null;const Ar=vr=>{if(!vr)return{cleaned:vr,mac:null};const gr=vr.match(/\b([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})\b/);if(gr){const Tr=gr[0];return{cleaned:vr.replace(Tr,"").trim().replace(/\s+/g," "),mac:Tr}}return{cleaned:vr,mac:null}};if(Mn.device_type_id!==3){const{cleaned:vr,mac:gr}=Ar(Mn.device_name);_n=vr,Xa=gr}else{const vr=Ar(Mn.device_name),gr=Ar(Mn.device_location),Tr=vr.cleaned,Rr=gr.cleaned;Xa=vr.mac||gr.mac,Rr&&Rr.trim()!==""&&Rr!==Tr?_n=`${Rr} / ${Tr}`:_n=Tr}return _n=Xa?`${_n}###MAC###${Xa}`:_n,`${_n}|||${$a}`})].sort();console.log("Device options created with IDs:",Yn),console.log("Sample device option:",Yn[0]),Ya(Mn=>(console.log("Setting deviceOptions in tagValues:",Yn),{...Mn,[mn]:Vn.map(ca=>ca.device_name),[En]:Vn.map(ca=>ca.device_location),deviceOptions:Yn,devicesData:Vn,allDeviceOptions:Yn})),console.log("🔍 Fetching device online status..."),An(Mn=>({...Mn,deviceStatus:!0}));try{const Mn=Vn.map(ca=>ca.device_name).filter(ca=>ca!==null);if(Mn.length>0){const ca=await Vp(Mn,ct);console.log("✅ Received device online status:",ca),Xn(ca)}}catch(Mn){console.error("❌ Failed to fetch device online status:",Mn),Xn({})}finally{An(Mn=>({...Mn,deviceStatus:!1}))}An(Mn=>({...Mn,tagValues:{...Mn.tagValues,device_name:!1,device_location:!1,name:!1,location:!1,site:!1}}))}).catch(Vn=>{console.error("Failed to fetch unique devices with locations:",Vn),Ya(ar=>({...ar,[mn]:[],[En]:[]})),An(ar=>({...ar,tagValues:{...ar.tagValues,device_name:!1,device_location:!1,name:!1,location:!1,site:!1}}))})}ya.some(mn=>["sensor_name","sensor_location","sensor"].includes(mn))&&zp(tt,ct).then(mn=>{console.log("Sensors fetched:",mn);const En=mn.map(Vn=>`${Vn.sensor_name} / ${Vn.sensor_location}`).sort();console.log("Sensor options:",En),Ya(Vn=>({...Vn,sensor_name:mn.map(ar=>ar.sensor_name),sensor_location:mn.map(ar=>ar.sensor_location),sensorOptions:En,sensorsData:mn,allSensorOptions:En})),An(Vn=>({...Vn,tagValues:{...Vn.tagValues,sensor_name:!1,sensor_location:!1,sensor:!1}}))}).catch(mn=>{console.error("Failed to fetch unique sensors with locations:",mn),Ya(En=>({...En,sensor_name:[],sensor_location:[]})),An(En=>({...En,tagValues:{...En.tagValues,sensor_name:!1,sensor_location:!1,sensor:!1}}))}),ya.filter(mn=>!["device_name","device_location","name","location","site","sensor_name","sensor_location","sensor"].includes(mn)).forEach(mn=>{ys(tt,mn,ct).then(En=>{Ya(Vn=>({...Vn,[mn]:En.map(ar=>ar._value).sort()})),An(Vn=>({...Vn,tagValues:{...Vn.tagValues,[mn]:!1}}))}).catch(En=>{console.error(`Failed to fetch values for tag key ${mn}:`,En),An(Vn=>({...Vn,tagValues:{...Vn.tagValues,[mn]:!1}}))})}),ta.forEach(mn=>{ys(tt,mn,ct).then(En=>{Ya(Vn=>({...Vn,[mn]:En.map(ar=>ar._value).sort()})),An(Vn=>({...Vn,tagValues:{...Vn.tagValues,[mn]:!1}}))}).catch(En=>{console.error(`Failed to fetch values for tag key ${mn}:`,En),An(Vn=>({...Vn,tagValues:{...Vn.tagValues,[mn]:!1}}))})})}).catch(Rt=>{console.error("Failed to fetch tag keys:",Rt),An(un=>({...un,tagKeys:!1}))}),An(Rt=>({...Rt,fieldKeys:!0})),Gc(tt,ct).then(Rt=>{cn(Rt.map(un=>un._value).sort()),(It==null?void 0:It.length)===0&&Jt(Rt.map(un=>un._value).sort()),An(un=>({...un,fieldKeys:!1}))}).catch(Rt=>{console.error("Failed to fetch field keys:",Rt),An(un=>({...un,fieldKeys:!1}))}))},[tt,ct]),Vt.useEffect(()=>{const Rt=ye.deviceOptions||[];if(console.log("device----------------->",ye.deviceOptions),Rt.length>0&&tt&&tt.length>0&&ct){console.log("📋 Measurement changed with devices selected - re-fetching sensors");const un=Rt.map(Jn=>{let ya=Jn;if(Jn.includes("|||")&&(ya=Jn.split("|||")[0].trim()),Jn.match(/\[([^\]]+)\]$/)&&(ya=Jn.replace(/\s*\[[^\]]+\]$/,"").trim()),ya.includes(" / ")){const[,Sa]=ya.split(" / ");return Sa.trim()}return ya.trim()}),fn=ye.device_unique_ids||[];console.log("📋 Device unique IDs from tagFilterValues:",fn),console.log("📋 Device names to fetch sensors for:",un),Zc(tt,un,ct,fn).then(Jn=>{console.log("✅ Re-fetched sensors for measurement change:",Jn.length),Rn(ya=>{const ta=new Map;return Jn.forEach(Sa=>{Sa.sensor_id&&ta.set(Sa.sensor_id,Sa)}),Ya(Sa=>({...Sa,filteredSensorsData:Array.from(ta.values())})),ta})}).catch(Jn=>{console.error("❌ Failed to re-fetch sensors after measurement change:",Jn)})}},[tt,ct,ye.deviceOptions]);const Hn=(Rt,un)=>{Rt==="device_location"&&un.length===0?(Kt("device_location",[]),Kt("device_name",[])):Kt(Rt,un)},Aa=(Rt,un,fn,Jn,ya=!0,ta=250,Sa=!1)=>Fe.jsxs(gn,{sx:{width:ta,display:"flex",flexDirection:"column",height:"100%",minWidth:ta,maxWidth:ta,backgroundColor:xn(wt.paper,.4),borderRadius:2,overflow:"hidden",border:`1px solid ${xn(wt.border,.2)}`,transition:"all 0.2s ease","&:hover":{backgroundColor:xn(wt.paper,.6),borderColor:xn(wt.primary,.3)}},children:[Fe.jsxs(gn,{sx:{p:2,borderBottom:`1px solid ${xn(wt.border,.2)}`,backgroundColor:xn(wt.primary,.05),position:"sticky",top:0,zIndex:2,display:"flex",alignItems:"center",justifyContent:"space-between",backdropFilter:"blur(10px)"},children:[Fe.jsxs(qn,{variant:"subtitle2",sx:{color:wt.text,fontSize:13,fontWeight:700,textTransform:"uppercase",letterSpacing:.5},children:[Rt==="SENSOR NAME"?"SENSOR NAME/LOCATION":Rt,Rt==="SENSOR NAME"&&fn.length>0&&Fe.jsxs("span",{style:{color:fn.length>10?"#ff9800":wt.primary,marginLeft:8,fontSize:11,fontWeight:600},children:["(",fn.length,"/10)"]}),Rt==="MEASUREMENT TYPE"&&Fe.jsx(ro,{title:"Select multiple types to see them as separate lines in the chart",children:Fe.jsx(Zr,{icon:"mdi:information-outline",sx:{ml:.5,fontSize:14,verticalAlign:"text-bottom"}})})]}),Sa&&Fe.jsx(il,{size:16,sx:{color:wt.primary}})]}),Fe.jsx(gn,{sx:{p:1.5,overflowY:"auto",overflowX:"hidden",maxHeight:"calc(100% - 60px)","&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-track":{background:xn(wt.border,.1),borderRadius:"3px"},"&::-webkit-scrollbar-thumb":{background:xn(wt.primary,.3),borderRadius:"3px","&:hover":{background:xn(wt.primary,.5)}}},children:Sa?Fe.jsx(gn,{sx:{display:"flex",justifyContent:"center",py:4},children:Fe.jsx(il,{size:24,sx:{color:wt.primary}})}):un.length===0?Fe.jsx(qn,{variant:"body2",sx:{color:wt.textSecondary,fontStyle:"italic",textAlign:"center",py:4},children:"No options available"}):un.map(Qt=>{var ar;let oa=!1;if(Rt==="DEVICE LOCATION/NAME")oa=(fn||[]).includes(Qt);else if(Rt==="SENSOR NAME")if(Qt.includes("###")){const Yn=Qt.split("###")[0];oa=(fn||[]).includes(Yn)||(fn||[]).includes(Qt)}else oa=(fn||[]).some(Yn=>Yn.includes("###")?Yn.split("###")[0]===Qt:Yn===Qt);else if(Rt==="MEASUREMENT TYPE"){const Yn=Qt.includes("###")?Qt.split("###")[1]:Qt;oa=(fn||[]).includes(Yn)}else oa=(fn||[]).includes(Qt);let mn=Qt;Qt.includes("|||")&&(mn=Qt.split("|||")[0].trim());let En=null;if(mn.includes("###MAC###")){const Yn=mn.split("###MAC###");mn=Yn[0],En=Yn[1]}if(Rt==="MEASUREMENT TYPE"&&Qt.includes("###")){const[Yn,Mn]=Qt.split("###");mn=Mn}if(Rt==="DEVICE LOCATION/NAME")if(tt.includes("Airflow")&&Qt.includes("Remote")){const Yn=Qt.replace(/Remote\s+(\d+).*/,"$1");mn=`${Qt} / Airflow ${Yn}`}else if(Qt.includes("/")){const[Yn,Mn]=Qt.split("/");mn=`${Yn} / ${Mn}`}else mn=`${Qt}`;if(Rt==="SENSOR NAME")if(Qt.includes("###"))mn=Qt.split("###")[0];else{const Yn=ye.sensor_location&&ye.sensor_location.length>0?ye.sensor_location[0]:qa.sensor_location&&qa.sensor_location.length>0?qa.sensor_location[0]:"";if(Qt.includes("/")){const[Mn,ca]=Qt.split("/");mn=`${Mn} / ${ca}`}else if(Yn)mn=`${Qt} / ${Yn}`;else if(Qt.includes("(")){const[Mn,ca]=Qt.split("("),$a=ca.replace(")","");mn=`${Mn} / ${$a}`}else mn=Qt}const Vn=`${Rt}-${Qt}`;if(Rt==="MEASUREMENT TYPE"&&Qt==="__SEPARATOR__")return null;if(Rt==="MEASUREMENT TYPE"&&Qt.startsWith("__GROUP_HEADER__")){const Yn=Qt.replace("__GROUP_HEADER__","");return(ar=(qa.measurementTypesGrouped||{})[Yn])!=null&&ar.length,Fe.jsx(gn,{sx:{px:2,py:.5,mb:.5,mt:un.findIndex(ca=>ca===Qt)===0?0:2},children:Fe.jsx(qn,{variant:"caption",sx:{color:xn(wt.text,.6),fontWeight:600,fontSize:11,textTransform:"uppercase",letterSpacing:1,display:"block"},children:Yn})},Vn)}return Fe.jsxs(gn,{onClick:Yn=>{if(Yn.target.tagName!=="INPUT")if(Rt==="DEVICE LOCATION/NAME"){const Mn=oa?(fn||[]).filter(ca=>ca!==Qt):[...fn||[],Qt];Jn(Mn)}else if(ya)if(Rt==="SENSOR NAME")if(oa){const Mn=fn?fn.filter(ca=>!(ca===Qt||Qt.includes("###")&&ca===Qt.split("###")[0]||ca.includes("###")&&ca.split("###")[0]===Qt)):[];Jn(Mn)}else Jn(fn?[...fn,Qt]:[Qt]);else if(Rt==="MEASUREMENT TYPE"){const Mn=Qt.includes("###")?Qt.split("###")[1]:Qt;Jn(oa?fn?fn.filter(ca=>ca!==Mn):[]:fn?[...fn,Mn]:[Mn])}else Jn(oa?fn?fn.filter(Mn=>Mn!==Qt):[]:fn?[...fn,Qt]:[Qt]);else{const Mn=Rt==="MEASUREMENT TYPE"&&Qt.includes("###")?Qt.split("###")[1]:Qt;Jn([Mn])}},sx:{py:1.5,px:2,borderRadius:1.5,cursor:"pointer",backgroundColor:oa?xn(wt.primary,.9):xn(wt.paper,.5),color:oa?"#fff":wt.text,border:`1px solid ${oa?wt.primary:"transparent"}`,transition:"all 0.2s ease","&:hover":{backgroundColor:oa?wt.primary:xn(wt.primary,.1),borderColor:oa?wt.primary:xn(wt.primary,.3),transform:"translateX(4px)"},display:"flex",alignItems:"center",mb:1,fontWeight:oa?600:400,fontFamily:"inherit",boxShadow:oa?`0 2px 8px ${xn(wt.primary,.25)}`:"none",ml:(Rt==="MEASUREMENT TYPE"&&Qt.includes("###"),0)},children:[Fe.jsx(ol,{checked:oa,onChange:Yn=>{if(Rt==="DEVICE LOCATION/NAME"){const Mn=Yn.target.checked?[...fn||[],Qt]:(fn||[]).filter(ca=>ca!==Qt);Jn(Mn)}else if(ya)if(Rt==="SENSOR NAME")if(Yn.target.checked)Jn(fn?[...fn,Qt]:[Qt]);else{const Mn=fn?fn.filter(ca=>!(ca===Qt||Qt.includes("###")&&ca===Qt.split("###")[0]||ca.includes("###")&&ca.split("###")[0]===Qt)):[];Jn(Mn)}else if(Rt==="MEASUREMENT TYPE"){const Mn=Qt.includes("###")?Qt.split("###")[1]:Qt;Yn.target.checked?Jn(fn?[...fn,Mn]:[Mn]):Jn(fn?fn.filter(ca=>ca!==Mn):[])}else Yn.target.checked?Jn(fn?[...fn,Qt]:[Qt]):Jn(fn?fn.filter(Mn=>Mn!==Qt):[]);else{const Mn=Rt==="MEASUREMENT TYPE"&&Qt.includes("###")?Qt.split("###")[1]:Qt;Yn.target.checked?Jn([Mn]):Jn([])}},sx:{p:0,mr:1.5,color:oa?"#fff":xn(wt.text,.5),"&.Mui-checked":{color:"#fff"},"& .MuiSvgIcon-root":{fontSize:20},flexShrink:0},onClick:Yn=>{Yn.stopPropagation()}}),Fe.jsx(gn,{sx:{width:"100%"},children:Rt==="SENSOR NAME"&&Qt.includes("###")?(()=>{const Yn=Qt.split("###"),Mn=Yn[0],ca=Yn.length>2&&!Yn[1].startsWith("SENSOR_ID_")?Yn[1]:null;let $a=Yn[Yn.length-1];$a&&$a.startsWith("SENSOR_ID_")&&($a=$a.replace("SENSOR_ID_",""));const _n=Sn[$a]||!1;return Fe.jsx(gn,{sx:{display:"flex",alignItems:"center",gap:1},children:Fe.jsxs(gn,{sx:{flex:1},children:[Fe.jsxs(gn,{sx:{display:"flex",alignItems:"center",gap:.5},children:[Fe.jsx(qn,{variant:"body2",sx:{fontWeight:oa?600:400,color:oa?"#fff":wt.text,fontFamily:"inherit",letterSpacing:.3,fontSize:14,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",flex:1,lineHeight:1.3},children:Mn}),Fe.jsx(ro,{title:_n?"Online":"Offline",placement:"top",arrow:!0,componentsProps:{tooltip:{sx:{bgcolor:_n?"#4CAF50":"#F44336",color:"#fff",fontSize:"0.75rem",fontWeight:500,"& .MuiTooltip-arrow":{color:_n?"#4CAF50":"#F44336"}}}},children:Fe.jsx(gn,{sx:{width:8,height:8,borderRadius:"50%",backgroundColor:_n?"#4CAF50":"#F44336",flexShrink:0,boxShadow:_n?"0 0 4px rgba(76, 175, 80, 0.5)":"0 0 4px rgba(244, 67, 54, 0.5)",cursor:"help"}})})]}),ca&&Fe.jsxs(qn,{variant:"caption",sx:{fontWeight:400,color:oa?"rgba(255, 255, 255, 0.7)":wt.textSecondary,fontFamily:"inherit",fontSize:11,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%",lineHeight:1.2,fontStyle:"italic"},children:["Device: ",ca]})]})})})():Rt==="SENSOR NAME"?(()=>{let Yn=null;const ca=(qa.filteredSensorsData||[]).find(_n=>{const Xa=Hc(_n.sensor_name);return Qt.includes(Xa)&&Qt.includes(_n.sensor_location)});ca&&(Yn=ca.sensor_id);const $a=Yn&&Sn[Yn]||!1;return Fe.jsxs(gn,{sx:{display:"flex",alignItems:"center",gap:.5},children:[Fe.jsx(qn,{variant:"body2",sx:{fontWeight:oa?600:400,color:oa?"#fff":wt.text,fontFamily:"inherit",letterSpacing:.3,fontSize:14,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",flex:1,lineHeight:1.5},children:mn}),Fe.jsx(ro,{title:$a?"Online":"Offline",placement:"top",arrow:!0,componentsProps:{tooltip:{sx:{bgcolor:$a?"#4CAF50":"#F44336",color:"#fff",fontSize:"0.75rem",fontWeight:500,"& .MuiTooltip-arrow":{color:$a?"#4CAF50":"#F44336"}}}},children:Fe.jsx(gn,{sx:{width:8,height:8,borderRadius:"50%",backgroundColor:$a?"#4CAF50":"#F44336",flexShrink:0,boxShadow:$a?"0 0 4px rgba(76, 175, 80, 0.5)":"0 0 4px rgba(244, 67, 54, 0.5)",cursor:"help"}})})]})})():Rt==="DEVICE LOCATION/NAME"?(()=>{var _n;let Yn=null,Mn=Qt,ca=null;if(Qt.includes("|||")?Mn=Qt.split("|||")[0].trim():Qt.match(/\[([^\]]+)\]$/)&&(Mn=Qt.replace(/\s*\[[^\]]+\]$/,"").trim()),Mn.includes("###MAC###")){const Xa=Mn.split("###MAC###");Mn=Xa[0],ca=Xa[1]}Mn.includes(" / ")?Yn=(_n=Mn.split(" / ")[1])==null?void 0:_n.trim():Yn=Mn.trim();const $a=Yn&&zn[Yn]||!1;return Fe.jsxs(gn,{sx:{display:"flex",alignItems:"center",gap:.5},children:[Fe.jsxs(gn,{sx:{flex:1},children:[Fe.jsx(qn,{variant:"body2",sx:{fontWeight:oa?600:400,color:oa?"#fff":wt.text,fontFamily:"inherit",letterSpacing:.3,fontSize:14,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",lineHeight:1.2},children:Mn}),ca&&Fe.jsx(qn,{variant:"caption",sx:{color:xn(oa?"#fff":wt.text,.6),fontSize:11,fontFamily:"monospace",lineHeight:1.2},children:ca})]}),Fe.jsx(ro,{title:$a?"Online":"Offline",placement:"top",arrow:!0,componentsProps:{tooltip:{sx:{bgcolor:$a?"#4CAF50":"#F44336",color:"#fff",fontSize:"0.75rem",fontWeight:500,"& .MuiTooltip-arrow":{color:$a?"#4CAF50":"#F44336"}}}},children:Fe.jsx(gn,{sx:{width:8,height:8,borderRadius:"50%",backgroundColor:$a?"#4CAF50":"#F44336",flexShrink:0,boxShadow:$a?"0 0 4px rgba(76, 175, 80, 0.5)":"0 0 4px rgba(244, 67, 54, 0.5)",cursor:"help"}})})]})})():Fe.jsxs(gn,{sx:{width:"100%"},children:[Fe.jsx(qn,{variant:"body2",sx:{fontWeight:oa?600:400,color:oa?"#fff":wt.text,fontFamily:"inherit",letterSpacing:.3,fontSize:14,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%",lineHeight:1.2},children:mn}),En&&Fe.jsx(qn,{variant:"caption",sx:{color:xn(oa?"#fff":wt.text,.6),fontSize:11,fontFamily:"monospace",lineHeight:1.2},children:En})]})})]},Vn)})})]}),Wn=()=>Fe.jsxs(gn,{sx:{flex:1,display:"flex",flexDirection:"column",height:"100%",minWidth:280,maxWidth:340,backgroundColor:xn(wt.paper,.4),borderRadius:2,overflow:"hidden",border:`1px solid ${xn(wt.border,.2)}`,transition:"all 0.2s ease","&:hover":{backgroundColor:xn(wt.paper,.6),borderColor:xn(wt.primary,.3)}},children:[Fe.jsx(gn,{sx:{p:2,borderBottom:`1px solid ${xn(wt.border,.2)}`,backgroundColor:xn(wt.primary,.05),position:"sticky",top:0,zIndex:2,backdropFilter:"blur(10px)"},children:Fe.jsx(qn,{variant:"subtitle2",sx:{color:wt.text,fontSize:13,fontWeight:700,textTransform:"uppercase",letterSpacing:.5},children:"CONTROLS"})}),Fe.jsxs(gn,{sx:{flex:1,overflowY:"auto",overflowX:"hidden",p:2,"&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-track":{background:xn(wt.border,.1),borderRadius:"3px"},"&::-webkit-scrollbar-thumb":{background:xn(wt.primary,.3),borderRadius:"3px","&:hover":{background:xn(wt.primary,.5)}}},children:[Fe.jsxs(gn,{sx:{display:"flex",flexDirection:"column",width:"100%",mb:3},children:[Fe.jsx(qn,{sx:{color:wt.text,fontSize:13,fontWeight:700,textTransform:"uppercase",letterSpacing:.8,mb:1.5},children:"DATA MODE"}),Fe.jsx(ji,{children:Fe.jsxs(Kc,{row:!0,value:ba,onChange:Rt=>{za(Rt.target.value),Rt.target.value==="realtime"&&Hr(!1)},sx:{gap:2},children:[Fe.jsx(Lo,{value:"historical",control:Fe.jsx(ll,{sx:{color:wt.textSecondary,"&.Mui-checked":{color:wt.primary},"& .MuiSvgIcon-root":{fontSize:20}}}),label:Fe.jsx(qn,{sx:{color:wt.textSecondary,fontSize:14,fontWeight:500},children:"Historical"}),sx:{margin:0,"& .MuiFormControlLabel-label":{flex:1}}}),Fe.jsx(Lo,{value:"realtime",control:Fe.jsx(ll,{sx:{color:wt.textSecondary,"&.Mui-checked":{color:wt.primary},"& .MuiSvgIcon-root":{fontSize:20}}}),label:Fe.jsx(qn,{sx:{color:wt.textSecondary,fontSize:14,fontWeight:500},children:"Real-time"}),sx:{margin:0,"& .MuiFormControlLabel-label":{flex:1}}})]})})]}),ba==="historical"&&Fe.jsxs(gn,{sx:{display:"flex",flexDirection:"column",width:"100%",mb:3},children:[Fe.jsx(qn,{sx:{color:wt.text,fontSize:13,fontWeight:700,textTransform:"uppercase",letterSpacing:.8,mb:1.5},children:"TIME RANGE"}),Fe.jsx(ji,{size:"small",fullWidth:!0,children:Fe.jsx(io,{value:dr,onChange:Va,sx:{backgroundColor:wt.paper,borderRadius:"4px",color:wt.text,"& .MuiOutlinedInput-notchedOutline":{borderColor:wt.border},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:wt.primary},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:wt.primary},"& .MuiSelect-icon":{color:wt.textSecondary}},displayEmpty:!0,children:Ap.map(Rt=>Fe.jsx(Ti,{value:Rt.value,children:Rt.label},Rt.value))})})]}),Fe.jsx(Xh,{sx:{mb:3,borderColor:xn(wt.border,.2)}}),ba==="historical"&&Fe.jsxs(gn,{onClick:()=>Hr(!zr),sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",mb:3,cursor:"pointer","&:hover":{"& .MuiSvgIcon-root":{color:wt.primary}}},children:[Fe.jsx(qn,{sx:{color:wt.text,fontSize:13,fontWeight:700,textTransform:"uppercase",letterSpacing:.8},children:"ADVANCED"}),Fe.jsx(Zr,{icon:zr?"mdi:chevron-up":"mdi:chevron-down",sx:{fontSize:20,color:wt.textSecondary,transition:"all 0.2s"}})]}),ba==="historical"&&zr&&Fe.jsxs(Fe.Fragment,{children:[Fe.jsxs(gn,{sx:{display:"flex",flexDirection:"column",width:"100%",mb:2,p:2,backgroundColor:xn(wt.paper,.2),borderRadius:1,border:`1px solid ${xn(wt.border,.15)}`},children:[Fe.jsxs(qn,{sx:{color:wt.text,fontSize:12,fontWeight:600,textTransform:"uppercase",letterSpacing:.5,display:"flex",alignItems:"center",mb:2},children:["WINDOW PERIOD",Fe.jsx(ro,{title:Fe.jsxs("div",{style:{maxWidth:400},children:[Fe.jsx("div",{style:{fontWeight:600,marginBottom:8},children:"Window Period defines time intervals for data aggregation:"}),Fe.jsxs("ul",{style:{paddingLeft:18,margin:0,lineHeight:1.6},children:[Fe.jsxs("li",{children:[Fe.jsx("strong",{children:"Auto Mode"}),": Automatically selects optimal periods based on your time range"]}),Fe.jsxs("li",{children:[Fe.jsx("strong",{children:"Custom Mode"}),": Choose specific intervals like 1m, 5m, 1h, etc."]})]}),Fe.jsxs("div",{style:{marginTop:8,padding:8,backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:4},children:[Fe.jsx("strong",{children:"Example:"})," 5-minute window + mean function groups all data points within each 5-minute period and calculates their average, resulting in one smoothed data point every 5 minutes."]}),Fe.jsx("div",{style:{marginTop:8,fontSize:"0.9em",fontStyle:"italic"},children:"Smaller windows = more detail, Larger windows = broader trends"})]}),children:Fe.jsx("span",{children:Fe.jsx(Zr,{icon:"mdi:information-outline",sx:{ml:.5,fontSize:16,color:wt.textSecondary,opacity:.7,cursor:"pointer",verticalAlign:"middle"}})})})]}),Fe.jsx(gn,{sx:{mb:1.5},children:Fe.jsxs(gn,{sx:{display:"flex",width:"100%",borderRadius:1.5,overflow:"hidden",border:`1px solid ${xn(wt.border,.3)}`,backgroundColor:xn(wt.paper,.3)},children:[Fe.jsx(qr,{variant:"text",onClick:()=>Xt("custom"),sx:{py:1,flex:1,borderRadius:0,backgroundColor:vn==="custom"?wt.primary:"transparent",color:vn==="custom"?"#fff":wt.textSecondary,"&:hover":{backgroundColor:vn==="custom"?wt.primary:xn(wt.border,.2)},height:36,fontWeight:600,fontSize:13,textTransform:"uppercase",borderRight:`1px solid ${xn(wt.border,.4)}`},children:"CUSTOM"}),Fe.jsx(qr,{variant:"text",onClick:()=>Xt("auto"),sx:{py:1,flex:1,borderRadius:0,backgroundColor:vn==="auto"?wt.primary:"transparent",color:vn==="auto"?"#fff":wt.textSecondary,"&:hover":{backgroundColor:vn==="auto"?wt.primary:xn(wt.border,.2)},height:36,fontWeight:600,fontSize:13,textTransform:"uppercase"},children:"AUTO"})]})}),Fe.jsx(gn,{sx:{mb:1.5},children:vn==="custom"?Fe.jsx(Yp,{customWindowPeriod:ga,setCustomWindowPeriod:wa,themeColors:wt}):Fe.jsxs(gn,{sx:{backgroundColor:xn(wt.paper,.1),height:40,display:"flex",alignItems:"center",justifyContent:"space-between",px:2,borderRadius:1,border:`1px solid ${xn(wt.border,.3)}`},children:[Fe.jsx(qn,{sx:{color:wt.text,fontSize:14,fontWeight:500},children:ka||"1m"}),Fe.jsx(qn,{sx:{color:xn(wt.textSecondary,.7),fontSize:11,fontStyle:"italic"},children:"auto-calculated"})]})}),Fe.jsxs(gn,{sx:{display:"flex",alignItems:"center",height:32},children:[Fe.jsx(ol,{checked:Ka,onChange:Rt=>on(Rt.target.checked),size:"small",sx:{p:.5,color:Ka?wt.primary:wt.textSecondary,"&.Mui-checked":{color:wt.primary}}}),Fe.jsx(qn,{sx:{color:wt.textSecondary,fontSize:13,ml:1,fontWeight:500,textTransform:"uppercase"},children:"FILL MISSING VALUES"}),Fe.jsx(gn,{sx:{flexGrow:1}}),Fe.jsx(ro,{title:"Fill gaps in data with the previous value",children:Fe.jsx(Zr,{icon:"mdi:information-outline",sx:{ml:.5,fontSize:16,color:wt.textSecondary,opacity:.7}})})]})]}),Fe.jsxs(gn,{sx:{display:"flex",flexDirection:"column",width:"100%",mb:2,p:2,backgroundColor:xn(wt.paper,.2),borderRadius:1,border:`1px solid ${xn(wt.border,.15)}`},children:[Fe.jsxs(qn,{sx:{color:wt.text,fontSize:12,fontWeight:600,textTransform:"uppercase",letterSpacing:.5,display:"flex",alignItems:"center",mb:2},children:["AGGREGATE FUNCTION",Fe.jsx(ro,{title:Fe.jsxs("div",{style:{maxWidth:320},children:[Fe.jsx("div",{style:{fontWeight:600,marginBottom:4},children:"Aggregate functions summarize your data over time windows:"}),Fe.jsxs("ul",{style:{paddingLeft:18,margin:0},children:[Fe.jsxs("li",{children:[Fe.jsx("strong",{children:"Mean"}),": Calculates the average value.",Fe.jsx("br",{}),Fe.jsx("code",{children:"[2, 4, 6] → 4"})]}),Fe.jsxs("li",{children:[Fe.jsx("strong",{children:"Median"}),": Finds the middle value.",Fe.jsx("br",{}),Fe.jsx("code",{children:"[2, 4, 6] → 4"})]}),Fe.jsxs("li",{children:[Fe.jsx("strong",{children:"Last"}),": Most recent value in each window.",Fe.jsx("br",{}),Fe.jsx("code",{children:"[2, 4, 6] → 6"})]}),Fe.jsxs("li",{children:[Fe.jsx("strong",{children:"First"}),": Earliest value in each window.",Fe.jsx("br",{}),Fe.jsx("code",{children:"[2, 4, 6] → 2"})]}),Fe.jsxs("li",{children:[Fe.jsx("strong",{children:"Max"}),": Highest value in each window.",Fe.jsx("br",{}),Fe.jsx("code",{children:"[2, 4, 6] → 6"})]}),Fe.jsxs("li",{children:[Fe.jsx("strong",{children:"Min"}),": Lowest value in each window.",Fe.jsx("br",{}),Fe.jsx("code",{children:"[2, 4, 6] → 2"})]}),Fe.jsxs("li",{children:[Fe.jsx("strong",{children:"Sum"}),": Total of all values.",Fe.jsx("br",{}),Fe.jsx("code",{children:"[2, 4, 6] → 12"})]}),Fe.jsxs("li",{children:[Fe.jsx("strong",{children:"Count"}),": Number of data points.",Fe.jsx("br",{}),Fe.jsx("code",{children:"[2, 4, 6] → 3"})]})]})]}),children:Fe.jsx("span",{children:Fe.jsx(Zr,{icon:"mdi:information-outline",sx:{ml:.5,fontSize:16,color:wt.textSecondary,opacity:.7,cursor:"pointer",verticalAlign:"middle"}})})})]}),Fe.jsx(gn,{sx:{mb:1.5},children:Fe.jsxs(gn,{sx:{display:"flex",width:"100%",borderRadius:1.5,overflow:"hidden",border:`1px solid ${xn(wt.border,.3)}`,backgroundColor:xn(wt.paper,.3)},children:[Fe.jsx(qr,{variant:"text",onClick:()=>{Za("custom"),Gn||Pn("mean"),aa(vn==="auto"?"auto":ga)},sx:{py:1,flex:1,borderRadius:0,backgroundColor:Ca==="custom"?wt.primary:"transparent",color:Ca==="custom"?"#fff":wt.textSecondary,"&:hover":{backgroundColor:Ca==="custom"?wt.primary:xn(wt.border,.2)},height:36,fontWeight:600,fontSize:13,textTransform:"uppercase",borderRight:`1px solid ${xn(wt.border,.4)}`},children:"CUSTOM"}),Fe.jsx(qr,{variant:"text",onClick:()=>{Za("none"),Pn(null),aa(null)},sx:{py:1,flex:1,borderRadius:0,backgroundColor:Ca==="none"?wt.primary:"transparent",color:Ca==="none"?"#fff":wt.textSecondary,"&:hover":{backgroundColor:Ca==="none"?wt.primary:xn(wt.border,.2)},height:36,fontWeight:600,fontSize:13,textTransform:"uppercase"},children:"NONE"})]})}),Ca==="custom"&&Fe.jsx(gn,{children:qt.aggregateFunctions?Fe.jsx(gn,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:72},children:Fe.jsx(il,{size:20,sx:{color:wt.primary}})}):Fe.jsx(Fe.Fragment,{children:Fe.jsx(gn,{sx:{display:"flex",flexDirection:"column",gap:.5,width:"100%"},children:["mean","median","last","first","max","min","sum","count"].map(Rt=>Fe.jsxs(gn,{onClick:()=>{console.log("QueryBuilderLayout: Setting aggregate function to:",Rt),Pn(Rt)},sx:{py:1,px:2,borderRadius:1,cursor:"pointer",backgroundColor:Gn===Rt?xn(wt.primary,.9):xn(wt.paper,.5),color:Gn===Rt?"#fff":wt.text,border:`1px solid ${Gn===Rt?wt.primary:"transparent"}`,transition:"all 0.2s ease","&:hover":{backgroundColor:Gn===Rt?wt.primary:xn(wt.primary,.1),borderColor:Gn===Rt?wt.primary:xn(wt.primary,.3),transform:"translateX(4px)"},display:"flex",alignItems:"center",justifyContent:"space-between",fontWeight:Gn===Rt?600:400,fontSize:13,textTransform:"capitalize",boxShadow:Gn===Rt?`0 2px 8px ${xn(wt.primary,.25)}`:"none"},children:[Fe.jsx("span",{children:Rt}),Gn===Rt&&Fe.jsx(Zr,{icon:"mdi:check",sx:{fontSize:16}})]},Rt))})})})]})]}),sa&&Fe.jsxs(gn,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",py:4,px:2},children:[Fe.jsx(gn,{sx:{width:64,height:64,borderRadius:"50%",backgroundColor:xn(wt.success,.1),display:"flex",alignItems:"center",justifyContent:"center",mb:2},children:Fe.jsx(Zr,{icon:"mdi:pulse",sx:{fontSize:32,color:wt.success,animation:"pulse 2s infinite"}})}),Fe.jsx(qn,{variant:"subtitle1",sx:{color:wt.text,fontWeight:600,mb:1,textAlign:"center"},children:"Real-time Mode Active"}),Fe.jsx(qn,{variant:"body2",sx:{color:wt.textSecondary,textAlign:"center",fontSize:13,lineHeight:1.5},children:"Data is streaming live from sensors. Aggregation and windowing are disabled."})]}),Fe.jsxs(gn,{sx:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",py:1.5,mt:"auto"},children:[Fe.jsx(gn,{sx:{width:"100%"},children:Fe.jsx(qr,{startIcon:Fe.jsx(Zr,{icon:"mdi:refresh"}),onClick:()=>{ct&&(An(Rt=>({...Rt,measurements:!0,tagKeys:!0,fieldKeys:!0})),$c(ct).then(Rt=>{$n(Rt.map(un=>un._value)),An(un=>({...un,measurements:!1}))}),tt&&(Uc(tt,ct).then(Rt=>{const un=Rt.map(fn=>fn._value).filter(fn=>!fn.startsWith("_")&&fn!=="_measurement"&&fn!=="_field").sort();Yr(un),An(fn=>({...fn,tagKeys:!1})),un.forEach(fn=>{ys(tt,fn,ct)})}),Gc(tt,ct).then(Rt=>{cn(Rt.map(un=>un._value).sort()),An(un=>({...un,fieldKeys:!1}))})))},sx:{color:wt.primary,borderColor:wt.primary,"&:hover":{backgroundColor:xn(wt.primary,.1),borderColor:wt.primary},fontWeight:600,fontSize:13,width:"100%",height:36},variant:"outlined",children:"Refresh Data"})}),Fe.jsxs(qn,{variant:"caption",sx:{color:wt.textSecondary,mt:.5,fontSize:11,textAlign:"center"},children:["Data loaded from ",sa?"MQTT":"InfluxDB"]})]})]})," "]});return Fe.jsxs(gn,{sx:{display:"flex",height:"100%",minHeight:0,overflow:"auto",alignItems:"stretch",backgroundColor:wt.background,padding:2,gap:2},children:[Aa("MEASUREMENT",kr,tt||[],Rt=>Lt({target:{value:Rt}}),!0,280,qt.measurements),tt&&tt.length>0&&Aa("DEVICE LOCATION/NAME",qa.deviceOptions||[],ye.deviceOptions||[],async Rt=>{if(Kt("deviceOptions",Rt),Rt&&Rt.length>0){const un=Rt.map((ta,Sa)=>{let Qt=ta,oa=null;if(ta.includes("|||")){const mn=ta.split("|||");Qt=mn[0].trim(),oa=mn[1]}else{const mn=ta.match(/\[([^\]]+)\]$/);mn&&(oa=mn[1],Qt=ta.replace(/\s*\[[^\]]+\]$/,"").trim())}if(oa&&oa.startsWith("DEV_")){const mn=parseInt(oa.replace("DEV_",""))-1;if(qa.devicesData&&qa.devicesData[mn]){const En=qa.devicesData[mn];oa=En.mac_id||En.ip_address||oa}}if(Qt.includes(" / ")){const[mn,En]=Qt.split(" / ");return{deviceName:En.trim(),deviceLocation:mn.trim(),uniqueId:oa}}else return{deviceName:Qt.trim(),deviceLocation:Qt.trim(),uniqueId:oa}}),fn=un.map(ta=>ta.deviceName.trim()),Jn=un.map(ta=>ta.deviceLocation.trim()),ya=un.map(ta=>ta.uniqueId).filter(ta=>ta!==null);console.log("📋 Setting device names:",fn),console.log("📋 Setting device locations:",Jn),console.log("📋 Setting device unique IDs:",ya),console.log("📋 Current sensor selections before device change:",ye.sensorOptions),Hn("device_name",fn),Hn("device_location",Jn),Hn("device_unique_ids",ya),console.log("🔍 Fetching sensors for ALL selected devices..."),An(ta=>({...ta,tagValues:{...ta.tagValues,filteredSensors:!0}}));try{const ta=[...new Set(fn)],Qt=await Zc(tt,ta,ct,ya||[]);console.log("✅ Received filtered sensors with complete info:",Qt),console.log("✅ Number of sensors:",Qt.length),Qt.length>0&&console.log("✅ Sample sensor:",Qt[0]),Rn(En=>{const Vn=new Map(En);Qt.forEach(Yn=>{Yn.sensor_id&&Vn.set(Yn.sensor_id,Yn)});const ar=new Set(fn);for(const[Yn,Mn]of Vn)ar.has(Mn.device_name)||Vn.delete(Yn);return console.log("📊 Total accumulated sensors:",Vn.size),Ya(Yn=>({...Yn,filteredSensorsData:Array.from(Vn.values())})),Vn}),An(En=>({...En,sensorStatus:!0}));try{const En=Qt.map(Vn=>Vn.sensor_id).filter(Vn=>Vn!==null);if(En.length>0){const Vn=await Bp(En,ct);console.log("✅ Received sensor online status:",Vn),La(Vn)}}catch(En){console.error("❌ Failed to fetch sensor online status:",En),La({})}finally{An(En=>({...En,sensorStatus:!1}))}const oa=Qt.map(En=>En.sensor_id).filter(En=>En!==null);if(oa.length>0){console.log("🔍 Fetching measurement types for sensor IDs:",oa);try{const En=await Wc(oa,ct);console.log("✅ Received grouped measurement types:",En),Ya(Vn=>({...Vn,measurementTypesGrouped:En}))}catch(En){console.error("❌ Failed to fetch measurement types for sensors:",En),Ya(Vn=>({...Vn,measurementTypesGrouped:{}}))}}else Ya(En=>({...En,measurementTypesGrouped:{}}));(ye.sensorOptions||[]).length>0,An(En=>({...En,tagValues:{...En.tagValues,filteredSensors:!1}}))}catch(ta){console.error("❌ Failed to fetch sensors for devices:",ta),Ya(Sa=>({...Sa,filteredSensorsData:[]})),An(Sa=>({...Sa,tagValues:{...Sa.tagValues,filteredSensors:!1}}))}}else Hn("device_name",[]),Hn("device_location",[]),Hn("device_unique_ids",[]),Ya(un=>({...un,filteredSensorsData:[],measurementTypesGrouped:{}})),Rn(new Map),La({}),Xn({}),Kt("sensorOptions",[]),Hn("sensor_name",[]),Hn("sensor_location",[]),Hn("sensor_id",[])},!0,350,qt.tagValues.device_location||qt.tagValues.location||qt.tagValues.site||qt.tagValues.device_name||qt.deviceStatus),tt&&tt.length>0&&Aa("SENSOR NAME",(()=>{const Rt=ye.deviceOptions||[];if(Rt.length===0)return console.log("✅ No devices selected, showing empty sensor column"),[];const un=qa.filteredSensorsData||[];if(console.log("🚀 SENSOR DISPLAY - Using filtered sensors data"),console.log("Selected device options:",Rt),console.log("Filtered sensors data:",un.length,un.slice(0,3)),un.length===0)return console.log("❌ No filtered sensor data available"),[];const Jn=[...un].sort((ya,ta)=>{const Sa=ya.device_name||"",Qt=ta.device_name||"",oa=Sa.localeCompare(Qt);if(oa!==0)return oa;const mn=ya.sensor_name||"",En=ta.sensor_name||"";return mn.localeCompare(En)}).map(ya=>{const ta=Hc(ya.sensor_name);return ya.device_name&&ya.device_name!==ya.sensor_location?`${ta} / ${ya.sensor_location}###${ya.device_name}###${ya.sensor_id}`:`${ta} / ${ya.sensor_location}###SENSOR_ID_${ya.sensor_id}`});return console.log(`🎯 Sensor options for display: ${Jn.length} sensors`),console.log("Sorted sensor options by device:",Jn),Jn})(),ye.sensorOptions||[],async Rt=>{if(Rt&&Rt.length>10&&(li("Maximum 10 sensors can be selected for trending. Please deselect some sensors.",{variant:"warning",autoHideDuration:5e3}),Rt=Rt.slice(0,10)),Kt("sensorOptions",Rt),Rt&&Rt.length>0){console.log("🔧 Processing sensor selections:",Rt);const fn=Rt.map(Sa=>{const Qt=Sa.split("###"),oa=Qt[0];let mn=Qt[Qt.length-1];mn&&mn.startsWith("SENSOR_ID_")&&(mn=mn.replace("SENSOR_ID_",""));const[En,Vn]=oa.split(" / ");return console.log(`🔧 Parsed sensor: "${En}" at "${Vn}" with ID: "${mn}" from option: "${Sa}"`),{sensorName:En.trim(),sensorLocation:Vn.trim(),sensorId:mn?String(mn):null}}),Jn=fn.map(Sa=>Sa.sensorName),ya=fn.map(Sa=>Sa.sensorLocation),ta=fn.map(Sa=>Sa.sensorId).filter(Sa=>Sa!==null);if(console.log("🔧 Final sensor names for query:",Jn),console.log("🔧 Final sensor locations for query:",ya),console.log("🔧 Final sensor IDs for query:",ta),Hn("sensor_name",Jn),Hn("sensor_location",ya),Hn("sensor_id",ta),ta.length>0){console.log("🔍 Fetching measurement types for selected sensor IDs:",ta);try{const Sa=await Wc(ta,ct);console.log("✅ Received grouped measurement types for selected sensors:",Sa),Ya(Qt=>({...Qt,measurementTypesGrouped:Sa}))}catch(Sa){console.error("❌ Failed to fetch measurement types for selected sensors:",Sa),Ya(Qt=>({...Qt,measurementTypesGrouped:{}}))}}}else console.log("🔧 Clearing sensor selections and measurement types"),Hn("sensor_name",[]),Hn("sensor_location",[]),Hn("sensor_id",[]),Hn("measurement_type",[]),Ya(fn=>({...fn,measurementTypesGrouped:{}}))},!0,300,qt.tagValues.sensor_name||qt.tagValues.sensor||qt.tagValues.name||qt.tagValues.filteredSensors||qt.sensorStatus),tt&&tt.length>0&&Aa("MEASUREMENT TYPE",(()=>{if((ye.sensorOptions||[]).length===0)return console.log("✅ No sensors selected, showing empty measurement type column"),[];const un=qa.measurementTypesGrouped||{};if(Object.keys(un).length===0)return(qa.measurement_type||qa.type||[]).sort();const fn=[];return Object.keys(un).sort().forEach((ya,ta)=>{ta>0&&fn.push("__SEPARATOR__"),fn.push(`__GROUP_HEADER__${ya}`),(un[ya]||[]).sort().forEach(Qt=>{fn.push(`${ya}###${Qt}`)})}),fn})(),ye.measurement_type||ye.type||[],Rt=>{Hn("measurement_type",Rt),Rt.length},!0,240,qt.tagValues.measurement_type||qt.tagValues.type),Wn()]})},Up=$p,Gp=({themeColors:ct,properties:at,results:tt,update:Lt})=>{var un,fn,Jn,ya,ta,Sa,Qt,oa,mn,En,Vn,ar,Yn,Mn,ca,$a;const[Ot,It]=Vt.useState(null),[Jt,ye]=Vt.useState(0),[Kt,wt]=Vt.useState((at==null?void 0:at.xColumn)||""),[Yt,vn]=Vt.useState((at==null?void 0:at.yColumn)||""),[Xt,ga]=Vt.useState((at==null?void 0:at.adaptiveZoomHide)||!1),[wa,ka]=Vt.useState((at==null?void 0:at.timeFormat)||"YYYY-MM-DD HH:mm:ss"),[Ka,on]=Vt.useState((at==null?void 0:at.geom)||"line"),[Gn,Pn]=Vt.useState(((fn=(un=at==null?void 0:at.colors)==null?void 0:un[0])==null?void 0:fn.name)||"nineteen_eighty_four"),[kn,aa]=Vt.useState((at==null?void 0:at.hoverDimension)||"auto"),[sa,Da]=Vt.useState((at==null?void 0:at.shadeBelow)||!1),[Un,ba]=Vt.useState((at==null?void 0:at.fontSize)||"medium"),[za,dr]=Vt.useState(!0),[Va,Ca]=Vt.useState(((ya=(Jn=at==null?void 0:at.axes)==null?void 0:Jn.x)==null?void 0:ya.label)||""),[Za,zr]=Vt.useState(((Sa=(ta=at==null?void 0:at.axes)==null?void 0:ta.y)==null?void 0:Sa.label)||""),[Hr,li]=Vt.useState(((oa=(Qt=at==null?void 0:at.axes)==null?void 0:Qt.y)==null?void 0:oa.prefix)||""),[Er,pr]=Vt.useState(((En=(mn=at==null?void 0:at.axes)==null?void 0:mn.y)==null?void 0:En.suffix)||""),[kr,$n]=Vt.useState(((ar=(Vn=at==null?void 0:at.axes)==null?void 0:Vn.y)==null?void 0:ar.base)||"");Vt.useState(((Mn=(Yn=at==null?void 0:at.axes)==null?void 0:Yn.y)==null?void 0:Mn.bounds)||[null,null]);const[Ir,Yr]=Vt.useState(""),[qa,Ya]=Vt.useState(""),[si,Fr]=Vt.useState((at==null?void 0:at.position)||"overlaid");($a=(ca=tt==null?void 0:tt.table)==null?void 0:ca.columnKeys)!=null&&$a.filter(_n=>{var Ar,vr;if(_n==="result"||_n==="table")return!1;const Xa=(vr=(Ar=tt==null?void 0:tt.table)==null?void 0:Ar.getColumnType)==null?void 0:vr.call(Ar,_n);return Xa==="time"||Xa==="number"});const mi=[{id:"nineteen_eighty_four",name:"Nineteen Eighty Four"},{id:"distinctive",name:"Distinctive"},{id:"professional",name:"Professional"},{id:"modern",name:"Modern"},{id:"cthulhu",name:"Cthulhu"},{id:"delorean",name:"Delorean"},{id:"ectoplasm",name:"Ectoplasm"},{id:"atlantis",name:"Atlantis"}],cn=[{value:"YYYY-MM-DD HH:mm:ss",label:"YYYY-MM-DD HH:mm:ss"},{value:"MM/DD/YYYY HH:mm:ss",label:"MM/DD/YYYY HH:mm:ss"},{value:"DD/MM/YYYY HH:mm:ss",label:"DD/MM/YYYY HH:mm:ss"},{value:"HH:mm:ss",label:"HH:mm:ss"},{value:"MM-DD HH:mm",label:"MM-DD HH:mm"},{value:"YYYY-MM-DD",label:"YYYY-MM-DD"}],Sn=[{value:"linear",label:"Linear"},{value:"monotoneX",label:"Smooth"},{value:"step",label:"Step"},{value:"stepBefore",label:"Step Before"},{value:"stepAfter",label:"Step After"}],La=[{value:"auto",label:"Auto",description:"Automatically determine hover behavior"},{value:"x",label:"X Axis",description:"Show values for all points at X position"},{value:"y",label:"Y Axis",description:"Show values for all points at Y position"},{value:"xy",label:"XY",description:"Show values for points at exact X,Y position"}],zn=[{value:"small",label:"Small",description:"Compact view with smaller text"},{value:"medium",label:"Medium",description:"Reduced size for more content"},{value:"large",label:"Large",description:"Default readable size"},{value:"extra-large",label:"Extra Large",description:"Maximum readability"}],Xn=[{value:"",label:"None",description:"No unit conversion"},{value:"10",label:"SI",description:"Use SI units (k, M, G, etc.)"},{value:"2",label:"Binary",description:"Use binary units (Ki, Mi, Gi, etc.)"}],Ln=_n=>{It(_n.currentTarget)},Rn=()=>{It(null)},qt=()=>{var Xa,Ar;const _n={...at||{},xColumn:Kt,yColumn:Yt,adaptiveZoomHide:Xt,timeFormat:wa,geom:Ka,hoverDimension:kn,shadeBelow:sa,position:si,fontSize:Un,colors:[{type:"scale",name:Gn,value:""}],axes:{x:{...((Xa=at==null?void 0:at.axes)==null?void 0:Xa.x)||{},label:Va},y:{...((Ar=at==null?void 0:at.axes)==null?void 0:Ar.y)||{},label:Za,prefix:Hr,suffix:Er,base:kr,bounds:Ir||qa?[Ir||null,qa||null]:null}}};console.log("Saving customization settings:",_n),typeof Lt=="function"&&Lt(_n),Rn()},An=(_n,Xa)=>{ye(Xa)},Hn=!!Ot,Aa=Hn?"customize-popover":void 0,Wn={button:{backgroundColor:xn(ct.paper,.3),color:ct.text,border:`1px solid ${xn(ct.border,.5)}`,borderRadius:4,textTransform:"uppercase",fontWeight:600,padding:"0 12px",fontSize:"12px",letterSpacing:"0.5px",height:"32px","&:hover":{backgroundColor:xn(ct.primary,.1),borderColor:ct.primary}},dialogTitle:{backgroundColor:ct.background,borderBottom:`1px solid ${ct.border}`,padding:"12px 24px"},dialogContent:{backgroundColor:ct.background,color:ct.text,padding:"24px"},dialogActions:{backgroundColor:ct.background,borderTop:`1px solid ${ct.border}`,padding:"12px 24px"},tab:{color:ct.textSecondary,"&.Mui-selected":{color:ct.primary}},tabs:{borderBottom:`1px solid ${ct.border}`},formControl:{marginBottom:2,minWidth:"100%"},select:{backgroundColor:ct.paper,color:ct.text,"& .MuiOutlinedInput-notchedOutline":{borderColor:ct.border},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:ct.primary},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:ct.primary}},inputLabel:{color:ct.textSecondary},textField:{backgroundColor:ct.paper,"& .MuiOutlinedInput-root":{color:ct.text,"& fieldset":{borderColor:ct.border},"&:hover fieldset":{borderColor:ct.primary},"&.Mui-focused fieldset":{borderColor:ct.primary}}},switchTrack:{backgroundColor:ct.border},switchThumb:{backgroundColor:ct.text},sectionTitle:{color:ct.textSecondary,fontSize:"0.875rem",fontWeight:600,marginBottom:1,marginTop:2},popover:{"& .MuiPopover-paper":{backgroundColor:ct.background,color:ct.text,border:`1px solid ${ct.border}`,borderRadius:0,boxShadow:"0px 5px 15px rgba(0, 0, 0, 0.2)",width:600,maxHeight:600}},buttonGroup:{"& .MuiButtonGroup-grouped":{borderColor:xn(ct.border,.7)}},buttonGroupButton:{color:ct.text,"&.MuiButton-containedPrimary":{backgroundColor:ct.primary},"&.MuiButton-outlined":{borderColor:xn(ct.border,.7),color:ct.text}},radioGroup:{"& .MuiFormControlLabel-label":{color:ct.text}},radio:{color:ct.textSecondary,"&.Mui-checked":{color:ct.primary}}},Rt=_n=>{const Xa={nineteen_eighty_four:"#4591ED, #7CE490, #F95F53, #FFB94A, #9394FF",distinctive:"#1f77b4, #ff7f0e, #2ca02c, #d62728, #9467bd",professional:"#00D4FF, #00FF88, #FFD700, #FF3366, #AA44FF",modern:"#0EA5E9, #22C55E, #F59E0B, #EF4444, #A855F7",cthulhu:"#9BBBFF, #7FA0FF, #5F7CDE, #4656A6, #313782",delorean:"#00C9FF, #9BBBFF, #9394FF, #A16AFF, #CE3D3D",ectoplasm:"#4CE07A, #2BAB57, #36955F, #267B98, #1A5376",atlantis:"#1A9CE0, #4DADFF, #8FC7FF, #82E08F, #5BD876"};return Xa[_n]||Xa.nineteen_eighty_four};return Fe.jsxs(Fe.Fragment,{children:[Fe.jsx(qr,{sx:{paddingRight:0},color:"secondary",onClick:Ln,children:Fe.jsx(Zr,{color:"white",icon:"mdi:cog",width:24})}),Fe.jsx(Jh,{id:Aa,open:Hn,anchorEl:Ot,onClose:Rn,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},sx:Wn.popover,children:Fe.jsxs(gn,{sx:{width:"100%"},children:[Fe.jsx(gn,{sx:{borderBottom:1,borderColor:"divider"},children:Fe.jsxs(Qh,{value:Jt,onChange:An,sx:Wn.tabs,indicatorColor:"primary",children:[Fe.jsx(gs,{label:"Options",sx:Wn.tab}),Fe.jsx(gs,{label:"X-Axis",sx:Wn.tab}),Fe.jsx(gs,{label:"Y-Axis",sx:Wn.tab})]})}),Jt===0&&Fe.jsxs(gn,{sx:{p:3},children:[Fe.jsx(qn,{sx:Wn.sectionTitle,children:"Time Format"}),Fe.jsx(ji,{fullWidth:!0,sx:Wn.formControl,children:Fe.jsx(io,{value:wa,onChange:_n=>ka(_n.target.value),sx:Wn.select,children:cn.map(_n=>Fe.jsx(Ti,{value:_n.value,children:_n.label},_n.value))})}),Fe.jsx(qn,{sx:Wn.sectionTitle,children:"Font Size"}),Fe.jsx(ji,{fullWidth:!0,sx:Wn.formControl,children:Fe.jsx(io,{value:Un,onChange:_n=>ba(_n.target.value),sx:Wn.select,children:zn.map(_n=>Fe.jsx(Ti,{value:_n.value,children:Fe.jsxs(gn,{sx:{display:"flex",flexDirection:"column"},children:[Fe.jsx(qn,{variant:"body2",children:_n.label}),Fe.jsx(qn,{variant:"caption",sx:{color:ct.textSecondary},children:_n.description})]})},_n.value))})}),Fe.jsx(qn,{sx:Wn.sectionTitle,children:"Interpolation"}),Fe.jsx(ji,{fullWidth:!0,sx:Wn.formControl,children:Fe.jsx(io,{value:Ka,onChange:_n=>on(_n.target.value),sx:Wn.select,children:Sn.map(_n=>Fe.jsx(Ti,{value:_n.value,children:_n.label},_n.value))})}),Fe.jsx(qn,{sx:Wn.sectionTitle,children:"Line Colors"}),Fe.jsx(ji,{fullWidth:!0,sx:Wn.formControl,children:Fe.jsx(io,{value:Gn,onChange:_n=>Pn(_n.target.value),sx:Wn.select,children:mi.map(_n=>Fe.jsx(Ti,{value:_n.id,children:Fe.jsxs(gn,{sx:{display:"flex",alignItems:"center",gap:1},children:[Fe.jsx(gn,{sx:{width:20,height:20,borderRadius:1,background:`linear-gradient(45deg, ${Rt(_n.id)})`}}),_n.name]})},_n.id))})}),Fe.jsx(qn,{sx:Wn.sectionTitle,children:"Hover Dimension"}),Fe.jsx(ji,{fullWidth:!0,sx:Wn.formControl,children:Fe.jsx(io,{value:kn,onChange:_n=>aa(_n.target.value),sx:Wn.select,children:La.map(_n=>Fe.jsx(Ti,{value:_n.value,children:Fe.jsxs(gn,{sx:{display:"flex",flexDirection:"column"},children:[Fe.jsx(qn,{variant:"body2",children:_n.label}),Fe.jsx(qn,{variant:"caption",sx:{color:ct.textSecondary},children:_n.description})]})},_n.value))})}),Fe.jsx(Lo,{control:Fe.jsx(Kh,{checked:sa,onChange:_n=>Da(_n.target.checked),color:"primary"}),label:"Shade area below graph",sx:{mt:2}})]}),Jt===1&&Fe.jsxs(gn,{sx:{p:3},children:[Fe.jsx(qn,{sx:Wn.sectionTitle,children:"X-Axis"}),Fe.jsx(qn,{sx:Wn.sectionTitle,children:"Generate X-Axis Tick Marks"}),Fe.jsx(gn,{sx:{display:"flex",gap:1,mb:2},children:Fe.jsxs(jc,{sx:Wn.buttonGroup,fullWidth:!0,children:[Fe.jsx(qr,{variant:za?"contained":"outlined",color:za?"primary":"inherit",onClick:()=>dr(!0),sx:Wn.buttonGroupButton,children:"AUTO"}),Fe.jsx(qr,{variant:za?"outlined":"contained",color:za?"inherit":"primary",onClick:()=>dr(!1),sx:Wn.buttonGroupButton,children:"CUSTOM"})]})}),Fe.jsx(qn,{sx:Wn.sectionTitle,children:"X Axis Label"}),Fe.jsx(Bi,{fullWidth:!0,value:Va,onChange:_n=>Ca(_n.target.value),variant:"outlined",placeholder:"X Axis Label",sx:{...Wn.textField,mb:2}})]}),Jt===2&&Fe.jsxs(gn,{sx:{p:3},children:[Fe.jsx(qn,{sx:Wn.sectionTitle,children:"Y Axis Label"}),Fe.jsx(Bi,{fullWidth:!0,value:Za,onChange:_n=>zr(_n.target.value),variant:"outlined",placeholder:"Y Axis Label",sx:{...Wn.textField,mb:2}}),Fe.jsx(qn,{sx:Wn.sectionTitle,children:"Y-Value Unit Prefix"}),Fe.jsx(jc,{sx:Wn.buttonGroup,fullWidth:!0,children:Xn.map(_n=>Fe.jsx(qr,{variant:kr===_n.value?"contained":"outlined",color:kr===_n.value?"primary":"inherit",onClick:()=>$n(_n.value),sx:Wn.buttonGroupButton,children:Fe.jsxs(gn,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Fe.jsx(qn,{variant:"body2",children:_n.label}),Fe.jsx(qn,{variant:"caption",sx:{color:ct.textSecondary},children:_n.description})]})},_n.value))}),Fe.jsxs(po,{container:!0,spacing:2,sx:{mt:2},children:[Fe.jsxs(po,{item:!0,xs:6,children:[Fe.jsx(qn,{sx:Wn.sectionTitle,children:"Y Axis Prefix"}),Fe.jsx(Bi,{fullWidth:!0,value:Hr,onChange:_n=>li(_n.target.value),variant:"outlined",placeholder:"Prefix",sx:Wn.textField})]}),Fe.jsxs(po,{item:!0,xs:6,children:[Fe.jsx(qn,{sx:Wn.sectionTitle,children:"Y Axis Suffix"}),Fe.jsx(Bi,{fullWidth:!0,value:Er,onChange:_n=>pr(_n.target.value),variant:"outlined",placeholder:"Suffix",sx:Wn.textField})]})]}),Fe.jsx(qn,{sx:{...Wn.sectionTitle,mt:3},children:"Y Axis Domain"}),Fe.jsxs(po,{container:!0,spacing:2,children:[Fe.jsx(po,{item:!0,xs:6,children:Fe.jsx(Bi,{fullWidth:!0,value:Ir,onChange:_n=>Yr(_n.target.value),variant:"outlined",placeholder:"Min",type:"number",sx:Wn.textField})}),Fe.jsx(po,{item:!0,xs:6,children:Fe.jsx(Bi,{fullWidth:!0,value:qa,onChange:_n=>Ya(_n.target.value),variant:"outlined",placeholder:"Max",type:"number",sx:Wn.textField})})]}),Fe.jsx(qn,{sx:{...Wn.sectionTitle,mt:3},children:"Positioning"}),Fe.jsx(ji,{component:"fieldset",children:Fe.jsxs(Kc,{value:si,onChange:_n=>Fr(_n.target.value),sx:Wn.radioGroup,children:[Fe.jsx(Lo,{value:"overlaid",control:Fe.jsx(ll,{sx:Wn.radio}),label:"Overlaid"}),Fe.jsx(Lo,{value:"stacked",control:Fe.jsx(ll,{sx:Wn.radio}),label:"Stacked"})]})})]}),Fe.jsxs(gn,{sx:{display:"flex",justifyContent:"flex-end",p:2,borderTop:`1px solid ${ct.border}`},children:[Fe.jsx(qr,{onClick:Rn,sx:{color:ct.textSecondary,"&:hover":{backgroundColor:xn(ct.border,.2)}},children:"Cancel"}),Fe.jsx(qr,{onClick:qt,variant:"contained",color:"primary",sx:{ml:1},children:"Apply Changes"})]})]})})]})},Wp=({visualizationType:ct,onVisualizationTypeChange:at,onSave:tt,themeColors:Lt,isDataLoaded:Ot,properties:It,results:Jt,update:ye})=>{const Kt=[{value:"line",label:"Graph",icon:"mdi:chart-line"},{value:"table",label:"Table",icon:"mdi:table"},{value:"gauge",label:"Gauge",icon:"mdi:gauge"},{value:"singleStat",label:"Single Stat",icon:"mdi:numeric"},{value:"heatmap",label:"Heatmap",icon:"mdi:grid"}];Vt.useState(null);const[wt,Yt]=Vt.useState(null);Vt.useState(null);const vn={toolbar:{display:"flex",alignItems:"center",justifyContent:"space-between",height:"48px",px:2,paddingRight:0,backgroundColor:"transparent"},button:{backgroundColor:xn(Lt.paper,.3),color:Lt.text,border:`1px solid ${xn(Lt.border,.5)}`,borderRadius:4,textTransform:"none",fontWeight:500,padding:"6px 10px",height:"32px",fontSize:"13px","&:hover":{backgroundColor:xn(Lt.paper,.5),borderColor:Lt.border}},buttonGroup:{height:"32px","& .MuiButtonGroup-grouped":{borderColor:xn(Lt.border,.5),"&:hover":{borderColor:Lt.border}}},selectButton:{minWidth:"85px",backgroundColor:xn(Lt.paper,.3),color:Lt.text,border:`1px solid ${xn(Lt.border,.5)}`,borderRadius:"4px 0 0 4px",textTransform:"none",fontWeight:500,padding:"5px 12px",height:"32px",fontSize:"13px",display:"flex",alignItems:"center",justifyContent:"flex-start","&:hover":{backgroundColor:xn(Lt.paper,.5),borderColor:Lt.border}},dropdownButton:{minWidth:"32px",backgroundColor:xn(Lt.paper,.3),color:Lt.text,border:`1px solid ${xn(Lt.border,.5)}`,borderRadius:"0 4px 4px 0",height:"32px",padding:"0 6px","&:hover":{backgroundColor:xn(Lt.paper,.5),borderColor:Lt.border}},sourceButton:{height:"32px",backgroundColor:xn(Lt.primary,.2),color:Lt.text,border:`1px solid ${xn(Lt.primary,.3)}`,borderRadius:"4px 0 0 4px",textTransform:"none",fontWeight:500,padding:"0 12px",fontSize:"13px",display:"flex",alignItems:"center","&:hover":{backgroundColor:xn(Lt.primary,.3),borderColor:xn(Lt.primary,.4)}},sourceDropdownButton:{height:"32px",backgroundColor:xn(Lt.paper,.3),color:Lt.text,border:`1px solid ${xn(Lt.border,.5)}`,borderRadius:"0 4px 4px 0",padding:"0 6px",minWidth:"32px","&:hover":{backgroundColor:xn(Lt.paper,.5),borderColor:Lt.border}},saveButton:{height:"32px",backgroundColor:xn(Lt.primary,.2),color:Lt.text,border:`1px solid ${xn(Lt.primary,.3)}`,borderRadius:4,textTransform:"uppercase",fontWeight:600,padding:"0 12px",fontSize:"12px",letterSpacing:"0.5px","&:hover":{backgroundColor:xn(Lt.primary,.3),borderColor:xn(Lt.primary,.4)}},menu:{"& .MuiPaper-root":{backgroundColor:Lt.paper,border:`1px solid ${Lt.border}`,borderRadius:4,boxShadow:"0px 4px 20px rgba(0, 0, 0, 0.25)"},"& .MuiMenuItem-root":{color:Lt.text,fontSize:13,"&:hover":{backgroundColor:xn(Lt.primary,.1)}}},menuItem:{display:"flex",alignItems:"center",gap:1.5,minHeight:"36px"}},Xt=()=>{Yt(null)},ga=ka=>{tt(ka),Xt()},wa=!!wt;return Kt.find(ka=>ka.value===ct)||Kt[0],Fe.jsxs(gn,{sx:vn.toolbar,children:[Fe.jsx(gn,{sx:{display:"flex",alignItems:"center",gap:1},children:Fe.jsx(gn,{children:Fe.jsx(Gp,{themeColors:Lt,properties:It,results:Jt,update:ye})})}),Fe.jsx(gn,{sx:{display:"flex",alignItems:"center",gap:1},children:Fe.jsxs(Qc,{anchorEl:wt,open:wa,onClose:Xt,sx:vn.menu,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[Fe.jsxs(Ti,{onClick:()=>ga("dashboard"),sx:vn.menuItem,children:[Fe.jsx(Zr,{icon:"mdi:view-dashboard-outline",width:20}),"Dashboard"]}),Fe.jsxs(Ti,{onClick:()=>ga("template"),sx:vn.menuItem,children:[Fe.jsx(Zr,{icon:"mdi:file-document-outline",width:20}),"Template"]}),Fe.jsxs(Ti,{onClick:()=>ga("csv"),sx:vn.menuItem,children:[Fe.jsx(Zr,{icon:"mdi:file-delimited-outline",width:20}),"CSV"]})]})})]})},Zp=Wp,qp=({violations:ct=[],currentRegulations:at=[],selectedRegulatoryTemplate:tt,themeColors:Lt,isVisible:Ot=!0})=>{if(!Ot||ct.length===0)return null;const It=Yt=>{switch(Yt){case"error":return Lt.error||"#f44336";case"warning":return Lt.warning||"#ff9800";case"info":return Lt.info||"#2196f3";default:return Lt.textSecondary}},Jt=Yt=>{switch(Yt){case"error":return"material-symbols:error-outline";case"warning":return"material-symbols:warning-outline";case"info":return"material-symbols:info-outline";default:return"material-symbols:info-outline"}},ye=Yt=>{switch(Yt){case"ceiling":return"Ceiling/Peak";case"stel":return"STEL (15-min)";case"twa":return"TWA (8-hr)";default:return Yt.toUpperCase()}},Kt=ct.reduce((Yt,vn)=>{const Xt=`${vn.type}_${vn.severity}`;return Yt[Xt]||(Yt[Xt]={type:vn.type,severity:vn.severity,limit:vn.limit,count:0,maxValue:0,latestTime:null}),Yt[Xt].count+=1,Yt[Xt].maxValue=Math.max(Yt[Xt].maxValue,vn.value),(!Yt[Xt].latestTime||new Date(vn.time)>new Date(Yt[Xt].latestTime))&&(Yt[Xt].latestTime=vn.time),Yt},{}),wt=Object.values(Kt);return Fe.jsx(gn,{sx:{position:"absolute",top:16,right:16,width:320,zIndex:1e3,backgroundColor:xn(Lt.background||"#000",.95),border:`1px solid ${Lt.border}`,borderRadius:2,backdropFilter:"blur(8px)"},children:Fe.jsxs(ep,{severity:"error",variant:"outlined",sx:{backgroundColor:"transparent",color:Lt.text,"& .MuiAlert-icon":{color:Lt.error||"#f44336"},"& .MuiAlert-standardError":{backgroundColor:"transparent",border:`1px solid ${xn(Lt.error||"#f44336",.3)}`}},children:[Fe.jsx(bp,{sx:{fontWeight:600,mb:1},children:"Regulation Violations Detected"}),Fe.jsxs(qn,{variant:"body2",sx:{mb:2,color:Lt.textSecondary},children:[ct.length," violation",ct.length>1?"s":""," found for ",tt," standards"]}),Fe.jsx(Rc,{spacing:1.5,children:wt.map((Yt,vn)=>Fe.jsxs(gn,{sx:{p:1.5,borderRadius:1,backgroundColor:xn(It(Yt.severity),.1),border:`1px solid ${xn(It(Yt.severity),.3)}`},children:[Fe.jsxs(gn,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[Fe.jsxs(gn,{sx:{display:"flex",alignItems:"center",gap:1},children:[Fe.jsx(Zr,{icon:Jt(Yt.severity),width:16,sx:{color:It(Yt.severity)}}),Fe.jsxs(qn,{variant:"body2",sx:{fontWeight:600,color:Lt.text},children:[ye(Yt.type)," Exceeded"]})]}),Fe.jsx(tp,{label:`${Yt.count} times`,size:"small",sx:{backgroundColor:xn(It(Yt.severity),.2),color:It(Yt.severity),fontSize:"0.75rem"}})]}),Fe.jsxs(Rc,{spacing:.5,children:[Fe.jsxs(gn,{sx:{display:"flex",justifyContent:"space-between"},children:[Fe.jsx(qn,{variant:"caption",sx:{color:Lt.textSecondary},children:"Limit:"}),Fe.jsx(qn,{variant:"caption",sx:{color:Lt.text,fontWeight:600},children:Yt.limit})]}),Fe.jsxs(gn,{sx:{display:"flex",justifyContent:"space-between"},children:[Fe.jsx(qn,{variant:"caption",sx:{color:Lt.textSecondary},children:"Peak Value:"}),Fe.jsx(qn,{variant:"caption",sx:{color:It(Yt.severity),fontWeight:600},children:Yt.maxValue.toFixed(2)})]}),Fe.jsxs(gn,{sx:{display:"flex",justifyContent:"space-between"},children:[Fe.jsx(qn,{variant:"caption",sx:{color:Lt.textSecondary},children:"Latest:"}),Fe.jsx(qn,{variant:"caption",sx:{color:Lt.text},children:np(new Date(Yt.latestTime),"MM/dd HH:mm")})]})]})]},vn))})]})})},Xp=qp,qc={broker:`ws://${ap}:8083/mqtt`,options:{clientId:`duetto-dashboard-${Math.random().toString(16).substr(2,8)}`,clean:!0,reconnectPeriod:1e3,connectTimeout:30*1e3}},vo={DASHBOARD:"maestrolink/airquality/dashboard",REALTIME_SENSORS:"maestrolink/realtime/sensors"};class Jp{constructor(){this.client=null,this.isConnected=!1,this.messageHandlers=new Map,this.connectionCallbacks=[],this.errorCallbacks=[],this.filters={deviceLocations:[],deviceNames:[],sensorNames:[],gasTypes:[],measurementTypes:[]}}getDeviceTypeName(at){const tt=rp.find(Lt=>Lt.id===at);if(tt)switch(tt.type_code){case"AQI05":return"VAQS";case"AQI04":return"ZEPHYR";case"AQI02":return"VAQSLEGACY";default:return tt.type_name}return"UNKNOWN"}connect(){return this.client&&this.isConnected?Promise.resolve():new Promise((at,tt)=>{try{this.client=ip.connect(qc.broker,qc.options),this.client.on("connect",()=>{this.isConnected=!0,console.log("MQTT connected successfully"),this.connectionCallbacks.forEach(Lt=>Lt(!0)),at()}),this.client.on("error",Lt=>{this.isConnected=!1,console.error("MQTT connection error:",Lt),this.errorCallbacks.forEach(Ot=>Ot(Lt)),tt(Lt)}),this.client.on("disconnect",()=>{this.isConnected=!1,console.log("MQTT disconnected"),this.connectionCallbacks.forEach(Lt=>Lt(!1))}),this.client.on("message",(Lt,Ot)=>{this.handleMessage(Lt,Ot.toString())})}catch(Lt){console.error("Failed to create MQTT client:",Lt),tt(Lt)}})}disconnect(){this.client&&(this.client.end(),this.client=null,this.isConnected=!1,this.messageHandlers.clear(),console.log("MQTT disconnected and cleaned up"))}subscribe(){if(!this.isConnected){console.warn("Cannot subscribe - MQTT not connected");return}const at=[vo.DASHBOARD,vo.REALTIME_SENSORS];this.client.subscribe(at,{qos:1},tt=>{tt?console.error("Failed to subscribe to topics:",tt):console.log("Successfully subscribed to:",at)})}unsubscribeFromAll(){if(!this.isConnected||!this.client)return;const at=[vo.DASHBOARD,vo.REALTIME_SENSORS];this.client.unsubscribe(at,tt=>{tt?console.error("Failed to unsubscribe from topics:",tt):console.log("Successfully unsubscribed from:",at)})}updateFilters(at){this.filters={deviceLocations:at.deviceLocations||[],deviceNames:at.deviceNames||[],sensorNames:at.sensorNames||[],gasTypes:at.measurementTypes||at.gasTypes||[],measurementTypes:at.measurementTypes||[]},console.log("MQTT filters updated:",this.filters)}updateSelectedMeasurementTypes(at,tt){Array.isArray(tt)?(this.filters.measurementTypes=tt||[],this.filters.deviceNames=tt.device_name||[],this.filters.deviceLocations=tt.device_location||[],this.filters.gasTypes=tt.sensor_name||[],this.filters.selectedMeasurement=at):tt&&typeof tt=="object"?this.filters={deviceLocations:tt.device_location||[],deviceNames:tt.device_name||[],sensorNames:tt.sensor_name||[],gasTypes:tt.sensor_name||[],selectedMeasurement:at,measurementTypes:tt.measurement_type||tt.gas_type||[]}:(this.filters.measurementTypes=[],this.filters.gasTypes=[]),console.log("MQTT filters updated from tagFilterValues:",this.filters)}matchesSensorFilters(at){if(!at||!at.device||!at.sensor)return!1;if(!this.filters.deviceLocations.length&&!this.filters.deviceNames.length&&!this.filters.sensorNames.length&&!this.filters.gasTypes.length&&!this.filters.measurementTypes.length)return!0;if(this.filters.deviceNames.length>0){const tt=this.filters.deviceNames.map(Ot=>Ot.trim()),Lt=at.device.name?at.device.name.trim():"";if(!Lt||!tt.includes(Lt))return!1}if(this.filters.sensorNames.length>0||this.filters.gasTypes.length>0){const tt=[...this.filters.sensorNames,...this.filters.gasTypes],Lt=at.sensor.name||at.sensor.type||"";if(!tt.some(It=>{const Jt=It.trim().toLowerCase();return Lt.toLowerCase().includes(Jt)}))return!1}return!0}transformRealtimeSensorData(at){const{timestamp:tt,device:Lt,sensor:Ot,measurements:It}=at;return{_time:tt,_measurement:Ot.type==="gas"?"gas_sensor_data":"sensor_data",_field:"value",_value:parseFloat(It.concentration)||0,device_name:Lt.name,device_location:Lt.location||"Unknown",sensor_name:`${Ot.name} - ${It.range||""}`.trim(),gas_type:Ot.name,measurement_type:"Concentration",type:Ot.name,sensor_unit:It.unit||"ppm",unit:It.unit||"ppm",device_type:"VAQS",sensor_location:Ot.location||"Integral",status:It.state||"Unknown",data_source:"MQTT_REALTIME",stel:It.stel||0,twa:It.twa||0,range:It.range||"",calibrated:Ot.calibrated||!1,last_cal_date:Ot.last_cal_date||"",priority:Ot.priority||0}}matchesFilters(at,tt){var Lt,Ot,It,Jt,ye,Kt,wt,Yt,vn;if(console.log("=== FILTERING CHECK ==="),console.log("Device:",at.device_name,"at location:",(Lt=at.device_config)==null?void 0:Lt.location),console.log("Sensor:",(Ot=tt.status)==null?void 0:Ot.name,"type:",tt.sensor_type),console.log("Current filters:",this.filters),tt.config_type!==2&&tt.config_type!==1&&tt.config_type!==3&&tt.config_type!==4)return console.log("❌ Not a gas, airflow, climate, or pressure sensor, skipping"),!1;if(!this.filters.deviceLocations.length&&!this.filters.deviceNames.length&&!this.filters.sensorNames.length&&!this.filters.gasTypes.length&&!this.filters.measurementTypes.length)return console.log("✅ No filters set, showing all gas/airflow/climate/pressure sensors"),!0;if(this.filters.deviceNames.length>0){const Xt=this.filters.deviceNames.map(wa=>wa.trim()),ga=at.device_name?at.device_name.trim():"";if(console.log("Checking device name:",ga,"against:",Xt),!ga||!Xt.includes(ga))return console.log("❌ Device name not matched"),!1;console.log("✅ Device name matched")}if(this.filters.sensorNames.length>0){if(tt.config_type===2){const Xt=(It=tt.status.name)==null?void 0:It.replace(/<[^>]*>/g,"").trim(),ga=Nc.find(Gn=>Gn.sensor_type_id===tt.sensor_type),wa=ga?ga.screen_name.trim():Xt,ka=Gn=>{if(!Gn)return"";const Pn=Gn.match(/^[A-Za-z0-9]+/);return Pn?Pn[0].toLowerCase():Gn.toLowerCase()},Ka=ka(wa);if(console.log("Checking sensor gas:",Ka,"against filters:",this.filters.sensorNames),!this.filters.sensorNames.some(Gn=>ka(Gn.trim())===Ka))return console.log("❌ Sensor name not matched"),!1;console.log("✅ Sensor name matched")}else if(tt.config_type===1){const Xt=((ye=(Jt=tt.status)==null?void 0:Jt.name)==null?void 0:ye.toLowerCase())||"airflow";if(!this.filters.sensorNames.some(wa=>wa.trim().toLowerCase().includes("airflow")||Xt.includes(wa.trim().toLowerCase())))return console.log("❌ Airflow sensor name not matched"),!1;console.log("✅ Airflow sensor name matched")}else if(tt.config_type===3){const Xt=((wt=(Kt=tt.status)==null?void 0:Kt.name)==null?void 0:wt.toLowerCase())||"climate";if(!this.filters.sensorNames.some(wa=>{const ka=wa.trim().toLowerCase();return ka.includes("climate")||ka.includes("temperature")||ka.includes("humidity")||ka.includes("wet bulb")||ka.includes("wbgt")||Xt.includes(ka)}))return console.log("❌ Climate sensor name not matched"),!1;console.log("✅ Climate sensor name matched")}else if(tt.config_type===4){const Xt=((vn=(Yt=tt.status)==null?void 0:Yt.name)==null?void 0:vn.toLowerCase())||"pressure";if(!this.filters.sensorNames.some(wa=>{const ka=wa.trim().toLowerCase();return ka.includes("pressure")||Xt.includes(ka)}))return console.log("❌ Pressure sensor name not matched"),!1;console.log("✅ Pressure sensor name matched")}}return console.log("✅ All filters passed"),!0}handleMessage(at,tt){try{const Lt=JSON.parse(tt);if(console.log("=== MQTT DATA RECEIVED ==="),console.log("Topic:",at),at===vo.REALTIME_SENSORS){console.log("Real-time sensor update:",Lt);const Ot=[];this.matchesSensorFilters(Lt)&&Ot.push(this.transformRealtimeSensorData(Lt)),Ot.length>0&&this.messageHandlers.forEach((It,Jt)=>{try{It(Ot,"REALTIME_SENSOR",at)}catch(ye){console.error("Error in message handler:",ye)}})}else if(at===vo.DASHBOARD){console.log("Number of devices:",Lt==null?void 0:Lt.length);const Ot=[];Array.isArray(Lt)&&Lt.forEach((It,Jt)=>{var ye,Kt,wt,Yt,vn,Xt,ga,wa,ka,Ka,on,Gn,Pn;console.log(`
--- Device ${Jt+1} ---`),console.log("Device name:",It.device_name),console.log("Device status:",It.status),console.log("Device config location:",(ye=It.device_config)==null?void 0:ye.location),console.log("Has sensorList:",!!It.sensorList),console.log("Has gas_sensors:",!!((Kt=It.sensorList)!=null&&Kt.gas_sensors)),console.log("Gas sensors count:",((Yt=(wt=It.sensorList)==null?void 0:wt.gas_sensors)==null?void 0:Yt.length)||0),It.status&&It.sensorList&&It.sensorList.gas_sensors&&It.sensorList.gas_sensors.forEach((kn,aa)=>{var sa,Da,Un,ba;if(console.log(`  Sensor ${aa+1}:`,{name:(sa=kn.status)==null?void 0:sa.name,type:kn.sensor_type,config_type:kn.config_type,value:(Da=kn.status)==null?void 0:Da.value,unit:(Un=kn.status)==null?void 0:Un.unit,range:(ba=kn.status)==null?void 0:ba.range}),this.matchesFilters(It,kn)){const za=this.transformGasSensorData(It,kn);Array.isArray(za)&&za.forEach(dr=>Ot.push(dr))}else console.log("❌ Sensor filtered out")}),It.status&&It.sensorList&&It.sensorList.airflow_sensors&&(console.log("Has airflow_sensors:",!!((vn=It.sensorList)!=null&&vn.airflow_sensors)),console.log("Airflow sensors count:",((ga=(Xt=It.sensorList)==null?void 0:Xt.airflow_sensors)==null?void 0:ga.length)||0),It.sensorList.airflow_sensors.forEach((kn,aa)=>{var sa,Da,Un,ba,za,dr,Va;if(console.log(`  Airflow Sensor ${aa+1}:`,{name:(sa=kn.status)==null?void 0:sa.name,type:kn.sensor_type,config_type:kn.config_type,value:(Da=kn.status)==null?void 0:Da.value,unit:(Un=kn.status)==null?void 0:Un.unit,mFlow:(ba=kn.status)==null?void 0:ba.mFlow,mFlow_units:(za=kn.status)==null?void 0:za.mFlow_units,lFlow:(dr=kn.status)==null?void 0:dr.lFlow,lFlow_units:(Va=kn.status)==null?void 0:Va.lFlow_units}),this.matchesFilters(It,kn)){const Ca=this.transformAirflowSensorData(It,kn);Array.isArray(Ca)&&Ca.forEach(Za=>Ot.push(Za))}else console.log("❌ Airflow sensor filtered out")})),It.status&&It.sensorList&&It.sensorList.climate_sensors&&(console.log("Has climate_sensors:",!!((wa=It.sensorList)!=null&&wa.climate_sensors)),console.log("Climate sensors count:",((Ka=(ka=It.sensorList)==null?void 0:ka.climate_sensors)==null?void 0:Ka.length)||0),It.sensorList.climate_sensors.forEach((kn,aa)=>{var sa;if(console.log(`  Climate Sensor ${aa+1}:`,{name:(sa=kn.status)==null?void 0:sa.name,type:kn.sensor_type,config_type:kn.config_type,temperature:kn.temperature,humidity:kn.humidity,wbt:kn.wbt,wbgt:kn.wbgt,selected_items:kn.selected_items}),this.matchesFilters(It,kn)){const Da=this.transformClimateSensorData(It,kn);Array.isArray(Da)&&Da.forEach(Un=>Ot.push(Un))}else console.log("❌ Climate sensor filtered out")})),It.status&&It.sensorList&&It.sensorList.pressure_sensors?(console.log("Has pressure_sensors:",!!((on=It.sensorList)!=null&&on.pressure_sensors)),console.log("Pressure sensors count:",((Pn=(Gn=It.sensorList)==null?void 0:Gn.pressure_sensors)==null?void 0:Pn.length)||0),It.sensorList.pressure_sensors.forEach((kn,aa)=>{var sa,Da,Un;if(console.log(`  Pressure Sensor ${aa+1}:`,{name:(sa=kn.status)==null?void 0:sa.name,type:kn.sensor_type,config_type:kn.config_type,value:(Da=kn.status)==null?void 0:Da.value,unit:(Un=kn.status)==null?void 0:Un.unit}),this.matchesFilters(It,kn)){const ba=this.transformPressureSensorData(It,kn);Array.isArray(ba)&&ba.forEach(za=>Ot.push(za))}else console.log("❌ Pressure sensor filtered out")})):console.log("❌ Device offline or no sensors")}),console.log(`
=== FINAL RESULTS ===`),console.log(`Filtered ${Ot.length} sensor data points (gas + airflow + climate + pressure) from MQTT`),this.messageHandlers.forEach((It,Jt)=>{try{It(Ot,"AIRQUALITY",at)}catch(ye){console.error("Error in message handler:",ye)}})}}catch(Lt){console.error("Failed to parse MQTT message:",Lt)}}transformGasSensorData(at,tt){var Xt,ga,wa,ka,Ka,on,Gn,Pn,kn,aa;if(!tt.status)return[];const Lt=new Date().toISOString(),Ot=Nc.find(sa=>sa.sensor_type_id===tt.sensor_type),It=at.device_type_id==3?(Xt=tt.status.name)==null?void 0:Xt.replace(/<[^>]*>/g,"").trim():tt.name,Jt=tt.status.range||(Ot?Ot.range:""),ye=tt.status.unit||(Ot?Ot.unit:"ppm"),Kt=`${It}${Jt?` - ${Jt}`:""}`,wt=Ot?Ot.screen_name.trim():It;let Yt=this.filters.measurementTypes&&this.filters.measurementTypes.length>0?this.filters.measurementTypes.map(sa=>sa.toLowerCase()):["concentration","twa","stel"];Yt.length===0&&(Yt=["concentration","twa","stel"]);const vn=[];return Yt.includes("concentration")&&tt.status.value!==void 0&&vn.push({_time:Lt,_measurement:"gas_sensor_data",_field:"value",_value:parseFloat(tt.status.value)||0,device_name:at.device_name,device_location:((ga=at.device_config)==null?void 0:ga.location)||tt.location||"Unknown",sensor_name:Kt,gas_type:wt,measurement_type:"Concentration",type:wt,sensor_unit:ye,unit:ye,device_type:this.getDeviceTypeName(at.device_type_id),sensor_location:tt.location,status:tt.status.state||"Unknown",data_source:"MQTT",stel:tt.status.stel||0,twa:tt.status.twa||0,range:tt.status.range||"",calibrated:((wa=tt.calibration)==null?void 0:wa.calibrated)||!1,last_cal_date:((ka=tt.calibration)==null?void 0:ka.last_cal_date)||"",priority:tt.priority||0}),Yt.includes("twa")&&tt.status.twa!==void 0&&vn.push({_time:Lt,_measurement:"gas_sensor_data",_field:"twa",_value:parseFloat(tt.status.twa)||0,device_name:at.device_name,device_location:((Ka=at.device_config)==null?void 0:Ka.location)||tt.location||"Unknown",sensor_name:Kt,gas_type:wt,measurement_type:"TWA",type:wt,sensor_unit:ye,unit:ye,device_type:this.getDeviceTypeName(at.device_type_id),sensor_location:tt.location,status:tt.status.state||"Unknown",data_source:"MQTT",stel:tt.status.stel||0,twa:tt.status.twa||0,range:tt.status.range||"",calibrated:((on=tt.calibration)==null?void 0:on.calibrated)||!1,last_cal_date:((Gn=tt.calibration)==null?void 0:Gn.last_cal_date)||"",priority:tt.priority||0}),Yt.includes("stel")&&tt.status.stel!==void 0&&vn.push({_time:Lt,_measurement:"gas_sensor_data",_field:"stel",_value:parseFloat(tt.status.stel)||0,device_name:at.device_name,device_location:((Pn=at.device_config)==null?void 0:Pn.location)||tt.location||"Unknown",sensor_name:Kt,gas_type:wt,measurement_type:"STEL",type:wt,sensor_unit:ye,unit:ye,device_type:this.getDeviceTypeName(at.device_type_id),sensor_location:tt.location,status:tt.status.state||"Unknown",data_source:"MQTT",stel:tt.status.stel||0,twa:tt.status.twa||0,range:tt.status.range||"",calibrated:((kn=tt.calibration)==null?void 0:kn.calibrated)||!1,last_cal_date:((aa=tt.calibration)==null?void 0:aa.last_cal_date)||"",priority:tt.priority||0}),vn}transformAirflowSensorData(at,tt){var Kt;if(!tt.status)return[];console.log("sensor----->",tt);const Lt=new Date().toISOString(),Ot=tt.status.name||"Airflow Sensor",It=tt.location||((Kt=at.device_config)==null?void 0:Kt.location)||"Unknown";let Jt=this.filters.measurementTypes&&this.filters.measurementTypes.length>0?this.filters.measurementTypes.map(wt=>wt.toLowerCase()):["mass","velocity","volumetric"];Jt.length===0&&(Jt=["mass","velocity","volumetric"]);const ye=[];return Jt.includes("mass")&&tt.status.mFlow!==void 0&&ye.push({_time:Lt,_measurement:"airflow_sensor_data",_field:"mFlow",_value:parseFloat(tt.status.mFlow)||0,device_name:at.device_name,device_location:It,sensor_name:Ot,measurement_type:"Mass",type:"Airflow",sensor_unit:tt.status.mFlow_units||"kg/s",unit:tt.status.mFlow_units||"kg/s",device_type:this.getDeviceTypeName(at.device_type_id),sensor_location:tt.location,status:tt.status.state||"Unknown",data_source:"MQTT",priority:tt.priority||0}),Jt.includes("velocity")&&tt.status.lFlow!==void 0&&ye.push({_time:Lt,_measurement:"airflow_sensor_data",_field:"velocity",_value:parseFloat(tt.status.lFlow)||0,device_name:at.device_name,device_location:It,sensor_name:Ot,measurement_type:"Velocity",type:"Airflow",sensor_unit:tt.status.lFlow_units||"m/s",unit:tt.status.lFlow_units||"m/s",device_type:this.getDeviceTypeName(at.device_type_id),sensor_location:tt.location,status:tt.status.state||"Unknown",data_source:"MQTT",priority:tt.priority||0}),Jt.includes("volumetric")&&tt.status.vFlow!==void 0&&ye.push({_time:Lt,_measurement:"airflow_sensor_data",_field:"volumetric",_value:parseFloat(tt.status.vFlow)||0,device_name:at.device_name,device_location:It,sensor_name:Ot,measurement_type:"Volumetric",type:"Airflow",sensor_unit:tt.status.vFlow_units||"kcfm",unit:tt.status.vFlow_units||"kcfm",device_type:this.getDeviceTypeName(at.device_type_id),sensor_location:tt.location,status:tt.status.state||"Unknown",data_source:"MQTT",priority:tt.priority||0}),ye}transformClimateSensorData(at,tt){var ye,Kt,wt,Yt,vn,Xt,ga,wa,ka,Ka,on,Gn,Pn,kn;if(!tt)return[];console.log("sensor----->",tt),console.log("device----->",at);const Lt=new Date().toISOString(),Ot=((ye=tt.config)==null?void 0:ye.location)||tt.location||((Kt=at.device_config)==null?void 0:Kt.location)||"Unknown";let It=this.filters.measurementTypes&&this.filters.measurementTypes.length>0?this.filters.measurementTypes.map(aa=>aa.toLowerCase()):["dry bulb","relative humidity"];const Jt=[];return It.includes("dry bulb")&&tt.temperature&&tt.temperature.value!==void 0&&Jt.push({_time:Lt,_measurement:"Dry Bulb",_field:"value",_value:parseFloat(tt.temperature.value)||0,device_name:at.device_name,device_location:((wt=at.device_config)==null?void 0:wt.location)||at.device_name,sensor_name:"Climate",sensor_location:Ot,measurement_type:"Dry Bulb",sensor_unit:tt.temperature.unit||"°C",device_type:this.getDeviceTypeName(at.device_type_id),status:((Yt=tt.status)==null?void 0:Yt.state)||"Unknown",data_source:"MQTT",priority:tt.priority||0}),It.includes("wet bulb")&&tt.temperature&&tt.temperature.wet_bulb_value!==void 0&&Jt.push({_time:Lt,_measurement:"Wet Bulb",_field:"value",_value:parseFloat(tt.temperature.wet_bulb_value)||0,device_name:at.device_name,device_location:((vn=at.device_config)==null?void 0:vn.location)||at.device_name,sensor_name:"Climate",sensor_location:Ot,measurement_type:"Wet Bulb",sensor_unit:tt.temperature.wet_bulb_unit||"°C",device_type:this.getDeviceTypeName(at.device_type_id),status:((Xt=tt.status)==null?void 0:Xt.state)||"Unknown",data_source:"MQTT",priority:tt.priority||0}),It.includes("wbgt")&&tt.temperature&&tt.temperature.wbgt_value!==void 0&&Jt.push({_time:Lt,_measurement:"WBGT",_field:"value",_value:parseFloat(tt.temperature.wbgt_value)||0,device_name:at.device_name,device_location:((ga=at.device_config)==null?void 0:ga.location)||at.device_name,sensor_name:"Climate",sensor_location:Ot,measurement_type:"WBGT",sensor_unit:tt.temperature.wbgt_unit||"°C",device_type:this.getDeviceTypeName(at.device_type_id),status:((wa=tt.status)==null?void 0:wa.state)||"Unknown",data_source:"MQTT",priority:tt.priority||0}),It.includes("heat stress")&&tt.temperature&&tt.temperature.heat_stress_value!==void 0&&Jt.push({_time:Lt,_measurement:"Heat Stress",_field:"value",_value:parseFloat(tt.temperature.heat_stress_value)||0,device_name:at.device_name,device_location:((ka=at.device_config)==null?void 0:ka.location)||at.device_name,sensor_name:"Climate",sensor_location:Ot,measurement_type:"Heat Stress",sensor_unit:tt.temperature.heat_stress_unit||"°C",device_type:this.getDeviceTypeName(at.device_type_id),status:((Ka=tt.status)==null?void 0:Ka.state)||"Unknown",data_source:"MQTT",priority:tt.priority||0}),It.includes("relative humidity")&&tt.humidity&&tt.humidity.value!==void 0&&Jt.push({_time:Lt,_measurement:"Relative Humidity",_field:"value",_value:parseFloat(tt.humidity.value)||0,device_name:at.device_name,device_location:((on=at.device_config)==null?void 0:on.location)||at.device_name,sensor_name:"Climate",sensor_location:Ot,measurement_type:"Relative Humidity",sensor_unit:tt.humidity.unit||"%",device_type:this.getDeviceTypeName(at.device_type_id),status:((Gn=tt.status)==null?void 0:Gn.state)||"Unknown",data_source:"MQTT",priority:tt.priority||0}),It.includes("barometric pressure")&&tt.pressure&&tt.pressure.value!==void 0&&Jt.push({_time:Lt,_measurement:"Barometric Pressure",_field:"value",_value:parseFloat(tt.pressure.value)||0,device_name:at.device_name,device_location:((Pn=at.device_config)==null?void 0:Pn.location)||at.device_name,sensor_name:"Climate",sensor_location:Ot,measurement_type:"Barometric Pressure",sensor_unit:tt.pressure.unit||"hPa",device_type:this.getDeviceTypeName(at.device_type_id),status:((kn=tt.status)==null?void 0:kn.state)||"Unknown",data_source:"MQTT",priority:tt.priority||0}),Jt}transformPressureSensorData(at,tt){var Kt,wt;if(!tt||!tt.status)return[];const Lt=new Date().toISOString(),Ot=tt.status.name||"Pressure Sensor",It=tt.location||((Kt=at.device_config)==null?void 0:Kt.location)||"Unknown";let Jt=this.filters.measurementTypes&&this.filters.measurementTypes.length>0?this.filters.measurementTypes.map(Yt=>Yt.toLowerCase()):["pressure"];Jt.length===0&&(Jt=["pressure"]);const ye=[];return Jt.includes("pressure")&&tt.status.value!==void 0&&ye.push({_time:Lt,_measurement:"pressure_sensor_data",_field:"value",_value:parseFloat(tt.status.value)||0,device_name:at.device_name,device_location:((wt=at.device_config)==null?void 0:wt.location)||"Unknown",sensor_name:Ot,sensor_location:It,measurement_type:"Pressure",type:"Pressure",sensor_unit:tt.status.unit||"Pa",unit:tt.status.unit||"Pa",device_type:this.getDeviceTypeName(at.device_type_id),status:tt.status.state||"Unknown",data_source:"MQTT",priority:tt.priority||0}),ye}onMessage(at,tt){this.messageHandlers.set(at,tt),console.log(`Message handler registered: ${at}`)}offMessage(at){this.messageHandlers.delete(at),console.log(`Message handler unregistered: ${at}`)}onConnectionChange(at){this.connectionCallbacks.push(at)}onError(at){this.errorCallbacks.push(at)}isConnectedStatus(){return this.isConnected}}const Qp=new Jp,gi=Qp,Kp={VIEW_DATA:!0,QUERY_DATA:!0,VIEW_QUERY_PREVIEW:!1,EDIT_FLUX_SCRIPT:!1,CREATE_DASHBOARD:!1,SHARE_QUERY:!1,EXPORT_DATA:!1,MANAGE_BUCKETS:!1,MANAGE_USERS:!1},ws={USER:"user",DEVELOPER:"developer",ADMIN:"admin"},ev=()=>ws.USER,tv=ct=>{const at={...Kp};switch(ct){case ws.DEVELOPER:at.VIEW_QUERY_PREVIEW=!0,at.EDIT_FLUX_SCRIPT=!0,at.CREATE_DASHBOARD=!0,at.SHARE_QUERY=!0,at.EXPORT_DATA=!0;break;case ws.ADMIN:Object.keys(at).forEach(tt=>{at[tt]=!0});break}return at},nv=async ct=>{const at=ev(),tt=tv(at);return Promise.resolve(tt[ct]||!1)},av=ct=>ct*1e4,Xc=ct=>ct/1e4,xs=[{key:"OSHA",label:"OSHA (USA)",isStandard:!0},{key:"MSHA",label:"MSHA (USA)",isStandard:!0},{key:"NIOSH",label:"NIOSH (USA)",isStandard:!0},{key:"ACGIH",label:"ACGIH (USA)",isStandard:!0}],Jc={1:"CO",2:"CO",3:"CO",19:"CH4",8:"O2",9:"H2S",10:"H2S",11:"SO2",12:"SO2",22:"SO2",25:"SO2",26:"SO2",28:"SO2",4:"NO2",24:"NO2",27:"NO2",5:"NO",6:"NO",7:"NO",16:"CO2",17:"CO2",18:"CO2",15:"NH3"},tu=async()=>{try{const ct=await op(),at=Array.isArray(ct)?ct:[];return[...xs,...at.filter(Lt=>!xs.find(Ot=>Ot.key===Lt.key)).map(Lt=>({key:Lt.key,label:Lt.name,isStandard:!1,id:Lt.id}))]}catch(ct){return console.error("Error loading regulatory bodies:",ct),xs}},rv=async ct=>{try{const tt=(await tu()).find(Lt=>Lt.key===ct);if(!tt)return[];if(tt.isStandard){const Lt=[];return Object.entries(lp).forEach(([Ot,It])=>{if(It[ct]){const Jt=It[ct];Lt.push({gasType:Ot,gasName:It.name,ceiling:Jt.ceiling==="N/A"?null:parseFloat(Jt.ceiling),twa:Jt.twa==="N/A"?null:parseFloat(Jt.twa),stel:Jt.stel==="N/A"?null:parseFloat(Jt.stel),notes:Jt.notes,isStandard:!0})}}),Lt}else return(await sp(tt.id)).map(Ot=>({gasType:Jc[Ot.fk_sensor_type_id],gasName:ov(Jc[Ot.fk_sensor_type_id]),ceiling:Ot.value1||null,twa:Ot.value2||null,stel:Ot.value3||null,notes:Ot.notes||"",isStandard:!1}))}catch(at){return console.error("Error getting all regulation limits:",at),[]}},iv=(ct,at,tt,Lt,Ot=null)=>{if(!Lt||!(ct!=null&&ct.length))return[];const It=Lt.find(ye=>ye.gasType===at);if(!It)return[];const Jt=[];return ct.forEach(ye=>{let Kt=parseFloat(ye.value||ye._value);const wt=ye.time||ye._time;at==="CO2"&&Ot==="%"&&(Kt=av(Kt)),It.ceiling&&Kt>It.ceiling?Jt.push({type:"ceiling",time:wt,value:Kt,limit:It.ceiling,severity:"error",originalValue:ye.value||ye._value,unit:Ot}):It.stel&&Kt>It.stel?Jt.push({type:"stel",time:wt,value:Kt,limit:It.stel,severity:"warning",originalValue:ye.value||ye._value,unit:Ot}):It.twa&&Kt>It.twa&&Jt.push({type:"twa",time:wt,value:Kt,limit:It.twa,severity:"info",originalValue:ye.value||ye._value,unit:Ot})}),Jt},bs=(ct,at,tt=null)=>{if(!(at!=null&&at.length))return[];const Lt=at.find(ye=>ye.gasType===ct);if(!Lt)return[];const Ot=[],It=(ye,Kt)=>{if(ct==="CO2"){const wt=Xc(Kt);return`${ct} ${ye}: ${wt.toFixed(3)}%`}return`${ct} ${ye}: ${Kt} ppm`},Jt=ye=>ct==="CO2"?Xc(ye):ye;return Lt.ceiling&&Ot.push({type:"ceiling",value:Jt(Lt.ceiling),originalValue:Lt.ceiling,color:"#E91E63",label:It("Ceiling",Lt.ceiling),strokeWidth:2,strokeDasharray:"8,4"}),Lt.stel&&Ot.push({type:"stel",value:Jt(Lt.stel),originalValue:Lt.stel,color:"#FF6B35",label:It("STEL",Lt.stel),strokeWidth:2,strokeDasharray:"12,4"}),Lt.twa&&Ot.push({type:"twa",value:Jt(Lt.twa),originalValue:Lt.twa,color:"#00BCD4",label:It("TWA",Lt.twa),strokeWidth:2,strokeDasharray:"16,4"}),Ot},ov=ct=>({CO:"Carbon Monoxide",CH4:"Methane",O2:"Oxygen",H2S:"Hydrogen Sulfide",SO2:"Sulfur Dioxide",NO2:"Nitrogen Dioxide",NO:"Nitric Oxide",CO2:"Carbon Dioxide",NH3:"Ammonia",H2:"Hydrogen"})[ct]||"Unknown Gas";function lv(){const ct=cp(),[at,tt]=Vt.useState(!1),[Lt,Ot]=Vt.useState(!1),[It,Jt]=Vt.useState(!1);Vt.useEffect(()=>{async function ra(){try{const ma=await mp();if(ma&&ma.length>0){const Fn=ma[0].is_demo_mode||!1;Ot(Fn)}}catch(ma){console.error("Failed to fetch demo mode setting:",ma)}}ra()},[]);const[ye,Kt]=Vt.useState({timeFormat:"MM-DD HH:mm:ss",geom:"line",hoverDimension:"auto",shadeBelow:!1,position:"overlaid",fontSize:"medium",axes:{x:{label:"",bounds:null},y:{label:"",prefix:"",suffix:"",base:"",bounds:null}},colors:[{type:"scale",name:"distinctive",value:""}]}),[wt,Yt]=Vt.useState("maestro"),[vn,Xt]=Vt.useState([]),[ga,wa]=Vt.useState(["value"]),[ka,Ka]=Vt.useState(["location","gas_type","device_location"]),[on,Gn]=Vt.useState({location:[],gas_type:["CO"],device:[],device_location:[],sensor_name:[],sensor_id:[]}),[Pn,kn]=Vt.useState("-6h"),[aa,sa]=Vt.useState("line"),[Da,Un]=Vt.useState(""),[ba,za]=Vt.useState([]),[dr,Va]=Vt.useState(!1),[Ca,Za]=Vt.useState(!1),[zr,Hr]=Vt.useState(new Date),[li,Er]=Vt.useState(new Date),[pr,kr]=Vt.useState("mean"),[$n,Ir]=Vt.useState("auto"),[Yr,qa]=Vt.useState(!1),[Ya,si]=Vt.useState(!1),[Fr,mi]=Vt.useState(!0),[cn,Sn]=Vt.useState(null),[La,zn]=Vt.useState(!1),[Xn,Ln]=Vt.useState(!1),[Rn,qt]=Vt.useState("auto"),[An,Hn]=Vt.useState("1m"),[Aa,Wn]=Vt.useState("1m"),[Rt,un]=Vt.useState(!1),fn=ms;Vt.useState(null);const[Jn,ya]=Vt.useState(!1),[ta,Sa]=Vt.useState(1e3),[Qt,oa]=Vt.useState("historical");Vt.useEffect(()=>{oa(Jn?"realtime":"historical")},[Jn]),Vt.useState(null);const mn=Vt.useCallback(ra=>{switch(ra){case"-5m":case"-15m":return"10s";case"-1h":return"30s";case"-6h":return"2m";case"-24h":return"5m";case"-7d":return"30m";case"-30d":return"2h";default:return"1m"}},[]),[En,Vn]=Vt.useState("OSHA"),[ar,Yn]=Vt.useState([]),[Mn,ca]=Vt.useState([]),[$a,_n]=Vt.useState(!0),[Xa,Ar]=Vt.useState([]),[vr,gr]=Vt.useState([]),[Tr,Rr]=Vt.useState(!1),ua={background:ct.palette.grey[900],paper:ct.palette.grey[800],border:ct.palette.divider,text:ct.palette.text.primary,textSecondary:ct.palette.text.secondary,primary:ct.palette.primary.main,secondary:ct.palette.secondary.main,success:ct.palette.success.main,error:ct.palette.error.main,warning:ct.palette.warning.main},Sr={container:{backgroundColor:ua.background,color:ua.text,padding:0,maxWidth:"100%",height:"100vh",display:"flex",flexDirection:"column"},header:{backgroundColor:ua.background,color:ua.text,padding:"12px 24px",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:`1px solid ${ua.border}`,height:56},title:{fontSize:20,fontWeight:"bold",color:ua.text},toolbarContainer:{padding:0,height:48},button:{textTransform:"none",borderRadius:4,fontWeight:500},primaryButton:{backgroundColor:ua.primary,color:ua.text,"&:hover":{backgroundColor:ua.primary,opacity:.9}},secondaryButton:{backgroundColor:"transparent",color:ua.text,border:`1px solid ${ua.border}`,"&:hover":{backgroundColor:ua.border}},checkbox:{color:ua.textSecondary,"&.Mui-checked":{color:ua.primary}},emptyState:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",color:ua.textSecondary},queryBuilderContainer:{display:"flex",flexDirection:"column",height:"45vh",overflow:"visible",minHeight:0},mainContent:{display:"flex",flexDirection:"column",flex:1,overflow:"visible"},visualizationArea:{flex:1,backgroundColor:ua.background,padding:0,display:"flex",minHeight:"60vh",flexDirection:"column",overflowY:"auto"}},go=vn&&vn.length>0?vn.reduce((ra,ma)=>{const Fn=ms.find(rr=>rr.name===ma),da=(Fn==null?void 0:Fn.tags)||[];return[...new Set([...ra,...da])]},[]):[],sl=vn&&vn.length>0?vn.reduce((ra,ma)=>{const Fn=ms.find(rr=>rr.name===ma),da=(Fn==null?void 0:Fn.fields)||[];return[...new Set([...ra,...da])]},[]):[],cl=ra=>({location:Vc,gas_type:Bc.map(Fn=>Fn.name),device:Sp,device_location:Vc,unit:Bc.map(Fn=>Fn.unit)})[ra]||[];Vt.useEffect(()=>{const ra=async()=>{const Fn=await nv("VIEW_QUERY_PREVIEW");tt(Fn)},ma=async()=>{try{const Fn=await yp(1);Fn&&Fn.is_demo_mode!==void 0&&Ot(Fn.is_demo_mode)}catch{}};ra(),ma()},[]),Vt.useEffect(()=>{if(wt&&vn&&vn.length>0){const ra=["measurement_type","type","device_unique_ids","deviceOptions","sensorOptions"],ma=Object.entries(on).filter(([Ia,ni])=>!ra.includes(Ia)&&ni&&ni.length>0).map(([Ia,ni])=>Array.isArray(ni)&&ni.length>0?`
  |> filter(fn: (r) => ${ni.map(zt=>`r["${Ia}"] == "${zt}"`).join(" or ")})`:"").join("");let Fn="";on.measurement_type&&on.measurement_type.length>0?Fn=`
  |> filter(fn: (r) => ${on.measurement_type.map(Ia=>`r["measurement_type"] == "${Ia}"`).join(" or ")})`:on.type&&on.type.length>0&&(Fn=`
  |> filter(fn: (r) => ${on.type.map(Ia=>`r["type"] == "${Ia}"`).join(" or ")})`);const da=ga.length?`
  |> filter(fn: (r) => ${ga.map(Ia=>`r._field == "${Ia}"`).join(" or ")})`:"",rr=vn.length===1?`r._measurement == "${vn[0]}"`:vn.map(Ia=>`r._measurement == "${Ia}"`).join(" or "),$i=`
  |> group(columns: [${(vn.length>1?["_measurement","measurement_type","type","device_name","device_location","sensor_unit","mac_id","sensor_id"]:["measurement_type","type","device_name","device_location","sensor_unit","mac_id","sensor_id"]).map(Ia=>`"${Ia}"`).join(", ")}])`;let Ui="";if(pr&&$n){const Ia=$n==="auto"?mn(Pn):$n;console.log("Query preview - Adding aggregation:",{aggregateFunction:pr,aggregateWindow:$n,windowPeriod:Ia,fillMissingValues:Fr}),Ui=`
  |> aggregateWindow(
    every: ${Ia},
    fn: ${pr},
    createEmpty: ${Fr}
  )`}else console.log("Query preview - Skipping aggregation:",{aggregateFunction:pr,aggregateWindow:$n});const Gi=`from(bucket: "${wt}")
    |> range(start: ${Pn})
    |> filter(fn: (r) => ${rr})${da}${ma}${Fn}${$i}${Ui}
    |> yield(name: "result")`;Un(Gi)}},[wt,vn,ga,on,Pn,pr,$n,Fr,mn]),Vt.useEffect(()=>{const ra=mn(Pn);console.log("Auto window period calculated:",{timeRange:Pn,optimalPeriod:ra}),Wn(ra)},[Pn,mn]);const mo=ra=>{const ma=ra.target.value;if(Xt(ma),za([]),un(!1),ma.length===0)wa([]),Ka([]),Gn({});else if(ma.length===1){const Fn=ma[0];Fn==="gas_sensor_data"?(wa(["value"]),Ka(["location","gas_type","device_location"]),Gn(da=>({deviceOptions:da.deviceOptions||[],device_location:da.device_location||[],device_name:da.device_name||[],sensorOptions:da.sensorOptions||[],sensor_name:da.sensor_name||[],sensor_location:da.sensor_location||[],sensor_id:da.sensor_id||[],location:[],gas_type:["CO"],measurement_type:[],type:[]}))):Fn==="system_metrics"?(wa(["cpu_usage","memory_usage"]),Ka(["device"]),Gn(da=>({deviceOptions:da.deviceOptions||[],device_location:da.device_location||[],device_name:da.device_name||[],sensorOptions:da.sensorOptions||[],sensor_name:da.sensor_name||[],sensor_location:da.sensor_location||[],sensor_id:da.sensor_id||[],device:[],measurement_type:[],type:[]}))):(wa(["value"]),Ka([]),Gn(da=>({deviceOptions:da.deviceOptions||[],device_location:da.device_location||[],device_name:da.device_name||[],sensorOptions:da.sensorOptions||[],sensor_name:da.sensor_name||[],sensor_location:da.sensor_location||[],sensor_id:da.sensor_id||[],measurement_type:[],type:[]})))}else wa(["value"]),Ka([]),Gn(Fn=>({deviceOptions:Fn.deviceOptions||[],device_location:Fn.device_location||[],device_name:Fn.device_name||[],sensorOptions:Fn.sensorOptions||[],sensor_name:Fn.sensor_name||[],sensor_location:Fn.sensor_location||[],sensor_id:Fn.sensor_id||[],measurement_type:[],type:[]}))},Vi=(ra,ma)=>{Gn(Fn=>({...Fn,[ra]:ma}))},ul=ra=>{const ma=ra.target.value;ma==="custom"?Ln(!0):(kn(ma),Za(!1))},dl=()=>{qa(!Yr)},fl=()=>{si(!Ya)},Kn=async ra=>{const ma=ra||(Jn?"realtime":"historical");if(Lt){console.log("Demo mode active - using demo data"),Va(!0),un(!0),za([]),Jt(!0),setTimeout(()=>{Va(!1),console.log("Demo mode data ready")},500);return}if(Jt(!1),!(!wt||!vn||vn.length===0)){if(ma==="realtime"){console.log("Real-time mode active - skipping InfluxDB query, waiting for MQTT data"),Va(!1),un(!0),za([]);return}Va(!0),un(!0);try{let Fn;if(Yr){Fn=Da;const rr=await di(Fn,{timeRangeStart:Pn==="custom"?zr:Pn,timeRangeStop:Pn==="custom"?li:"",windowPeriod:$n});za(rr)}else{const da=vn.length===1?`r._measurement == "${vn[0]}"`:vn.map(Ia=>`r._measurement == "${Ia}"`).join(" or "),rr=Pn==="custom"?zr.toISOString():Pn,Yi=Pn==="custom"?li.toISOString():"now()";Fn=`from(bucket: "${wt}")
    |> range(start: ${Pn==="custom"?`time(v: "${rr}")`:rr}${Pn==="custom"?`, stop: time(v: "${Yi}")`:""})
    |> filter(fn: (r) => ${da})
    |> filter(fn: (r) => ${ga.map(Ia=>`r._field == "${Ia}"`).join(" or ")})`;const $i=["measurement_type","type","deviceOptions","sensorOptions","sensor_name","device_unique_ids"];Object.entries(on).forEach(([Ia,ni])=>{!$i.includes(Ia)&&ni&&ni.length>0&&(Fn+=`
  |> filter(fn: (r) => ${ni.map(zt=>`r["${Ia}"] == "${zt.toString().trim()}"`).join(" or ")})`)}),on.measurement_type&&on.measurement_type.length>0?Fn+=`
  |> filter(fn: (r) => ${on.measurement_type.map(Ia=>`r["measurement_type"] == "${Ia}"`).join(" or ")})`:on.type&&on.type.length>0&&(Fn+=`
  |> filter(fn: (r) => ${on.type.map(Ia=>`r["type"] == "${Ia}"`).join(" or ")})`),Fn+=`
  |> map(fn: (r) => ({r with 
          device_location: if exists r.device_location and r.device_location != "" then r.device_location else "Unknown",
          sensor_name: if exists r.sensor_name and r.sensor_name != "" then r.sensor_name else "Unknown"
        }))`;const Ui=vn.length>1?["_measurement","measurement_type","type","device_name","device_location","sensor_name","sensor_unit","mac_id","sensor_id"]:["measurement_type","type","device_name","device_location","sensor_name","sensor_unit","mac_id","sensor_id"];if(Fn+=`
  |> group(columns: [${Ui.map(Ia=>`"${Ia}"`).join(", ")}])`,pr&&$n){const Ia=$n==="auto"?mn(Pn):$n;console.log("Adding aggregation to query:",{aggregateFunction:pr,aggregateWindow:$n,windowPeriod:Ia,fillMissingValues:Fr}),Fn+=`
  |> aggregateWindow(every: ${Ia}, fn: ${pr}, createEmpty: ${Fr})`}else console.log("Skipping aggregation:",{aggregateFunction:pr,aggregateWindow:$n});Fn+=`
  |> yield(name: "result")`,console.log("query----->",Fn);const Gi=await di(Fn);za(Gi)}}catch(Fn){Sn(Fn.message||"Error fetching data"),zn(!0)}finally{Va(!1)}}},hl=Vt.useCallback(async()=>{},[Jn]),Oo=()=>{Yt("maestro"),Xt(["gas_sensor_data"]),wa(["value"]),Ka(["location","gas_type","device_location"]),Gn({location:[],gas_type:["CO"],device_location:[],sensor_name:[],sensor_id:[]}),kn("-6h"),kr("mean"),Ir("auto"),Un(""),za([]),un(!1)},Do=ra=>{},Co=ra=>{sa(ra)},oo=Vt.useCallback(async ra=>{if(console.log("Real-time toggle changed to:",ra),ya(ra),ra){console.log("Real-time mode enabled - clearing all existing data and starting fresh"),za([]),un(!0);const ma=Pn;(ma==="-7d"||ma==="-30d")&&kn("-1h");try{await gi.connect(),gi.subscribe(),gi.updateFilters({deviceLocations:on.device_location||[],deviceNames:on.device_name||[],sensorNames:on.sensor_name||[],sensorIds:on.sensor_id||[],gasTypes:on.gas_type||[],measurementTypes:on.measurement_type||on.type||[]}),gi.onMessage("trending-view",(Fn,da,rr)=>{console.log("=== MQTT HANDLER CALLED ==="),console.log("MQTT data received:",Fn==null?void 0:Fn.length,"points from",da,rr),Fn&&Fn.length>0&&za(Yi=>{const $i=new Date(Date.now()-36e5).toISOString(),Gi=[...Yi.filter(yi=>yi._time>=$i),...Fn],Ia=[],ni=new Set;Gi.forEach(yi=>{const Wi=`${yi._time}_${yi.device_name}_${yi.sensor_name}_${yi.measurement_type}`;ni.has(Wi)||(ni.add(Wi),Ia.push(yi))}),Ia.sort((yi,Wi)=>new Date(yi._time)-new Date(Wi._time));const zt=Ia.slice(-1e3);return console.log(`Real-time update: ${zt.length} total points (${Fn.length} new)`),zt})})}catch(Fn){console.error("Failed to connect to MQTT for real-time data:",Fn),ya(!1)}}else console.log("Disabling real-time mode, cleaning up MQTT connection"),gi.offMessage("trending-view"),gi.unsubscribeFromAll(),gi.disconnect(),za([]),un(!1)},[Pn,on]);Vt.useEffect(()=>{Jn&&gi.isConnectedStatus()&&gi.updateFilters({deviceLocations:on.device_location||[],deviceNames:on.device_name||[],sensorNames:on.sensor_name||[],sensorIds:on.sensor_id||[],gasTypes:on.gas_type||[],measurementTypes:on.measurement_type||on.type||[]})},[Jn,on]),Vt.useEffect(()=>{},[Jn]),Vt.useEffect(()=>()=>{gi.isConnectedStatus()&&(gi.offMessage("trending-view"),gi.disconnect())},[]);const Pi=Vt.useCallback(()=>{const ra=Fn=>{if(!Fn)return null;const da=Fn.match(/^[^\s\-\(]+/);return da?da[0]:Fn},ma=new Set;return on.sensor_name&&on.sensor_name.length>0?on.sensor_name.forEach(Fn=>{const da=_p(Fn),rr=ra(da);rr&&ma.add(rr)}):on.gas_type&&on.gas_type.length>0&&on.gas_type.forEach(Fn=>{const da=ra(Fn);da&&ma.add(da)}),Array.from(ma)},[on]),pl=Vt.useCallback(()=>{if(!$a||!Mn.length)return[];const ra=Pi();if(ra.length===0)return[];let ma="ppm";if(ba&&ba.length>0){const da=ba.find(rr=>rr._field==="CO2"||rr.gas_type==="CO2"||rr.type==="CO2"||rr._measurement&&rr._measurement.includes("CO2"));if(da){const rr=da.sensor_unit||da.unit||da._unit;(rr==="%"||rr==="percent"||rr==="percentage")&&(ma="%")}}const Fn=[];return ra.forEach(da=>{const rr=bs(da,Mn,da==="CO2"?ma:"ppm");Fn.push(...rr)}),Fn},[$a,Mn,En,Pi,ba]);return Vt.useEffect(()=>{async function ra(){try{const ma=await tu();Yn(ma)}catch{Yn([{key:"OSHA",label:"OSHA (USA)",isStandard:!0},{key:"MSHA",label:"MSHA (USA)",isStandard:!0},{key:"NIOSH",label:"NIOSH (USA)",isStandard:!0},{key:"ACGIH",label:"ACGIH (USA)",isStandard:!0}])}}ra()},[]),Vt.useEffect(()=>{Lt&&(console.log("Demo mode enabled - auto-submitting"),Kn())},[Lt]),Vt.useEffect(()=>{async function ra(){try{const ma=await rv(En);ca(ma||[]);const Fn=Pi();if(Fn.length>0&&ma&&ma.length>0){const da=bs(Fn,ma);gr(da)}else gr([])}catch{ca([]),gr([])}}En&&ra()},[En,on.gas_type]),Vt.useEffect(()=>{if(Mn.length>0){const ra=Pi();if(ra.length>0){const ma=bs(ra,Mn);gr(ma)}else gr([])}},[on.gas_type,Mn,Pi]),Vt.useEffect(()=>{if(ba.length>0&&Mn.length>0){const ra=Pi();if(ra.length>0){const ma=iv(ba,ra,En,Mn);Ar(ma)}}},[ba,Mn,En,Pi]),Fe.jsxs(up,{maxWidth:!1,disableGutters:!0,sx:Sr.container,children:[Fe.jsxs(gn,{sx:{backgroundColor:ua.background,color:ua.text,padding:"0px",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:`1px solid ${ua.border}`,height:56},children:[Fe.jsx(qn,{variant:"h5",sx:Sr.title,children:"Data Explorer"}),Fe.jsx(Zp,{visualizationType:aa,onVisualizationTypeChange:Co,onSave:Do,themeColors:ua,isDataLoaded:ba.length>0,properties:ye,results:ba,update:Kt})]}),Fe.jsxs(gn,{sx:Sr.mainContent,children:[Fe.jsx(gn,{sx:Sr.visualizationArea,children:dr?Fe.jsx(gn,{display:"flex",justifyContent:"center",p:5,children:Fe.jsx(il,{sx:{color:ua.primary}})}):Rt?ba.length===0&&!Lt?Fe.jsxs(gn,{sx:Sr.emptyState,children:[Fe.jsx(gn,{sx:{width:200,height:150,display:"flex",alignItems:"center",justifyContent:"center",backgroundImage:"url(/assets/illustrations/data_visualization.svg)",backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat",mb:2}}),Fe.jsx(qn,{variant:"h6",gutterBottom:!0,children:"No results found."}),Fe.jsx(qn,{variant:"body2",color:ua.textSecondary,children:"Try adjusting your query filters or time range"}),Jn&&Fe.jsx(qr,{variant:"outlined",color:"primary",sx:{mt:2},onClick:()=>{oo(!1)},children:"Turn off Real-time Mode"})]}):aa==="line"?Fe.jsxs(gn,{sx:{width:"100%",height:"100%",position:"relative",p:0,backgroundColor:ct.palette.mode==="dark"?"rgba(16, 22, 26, 1)":ct.palette.grey[100]},children:[Fe.jsx(_s,{elevation:0,sx:{width:"100%",height:"100%",backgroundColor:ct.palette.mode==="dark"?"rgba(22, 28, 36, 0.95)":"#FFFFFF",borderRadius:0,border:ct.palette.mode==="dark"?"1px solid rgba(255, 255, 255, 0.08)":"1px solid rgba(0, 0, 0, 0.08)",overflow:"hidden",display:"flex",flexDirection:"column",boxShadow:ct.palette.mode==="dark"?"0 0 40px rgba(0, 0, 0, 0.4), 0 0 80px rgba(0, 0, 0, 0.2)":"0 1px 3px rgba(0, 0, 0, 0.05), 0 20px 40px rgba(0, 0, 0, 0.05)",transition:"all 0.3s ease","&:hover":{boxShadow:ct.palette.mode==="dark"?"0 0 60px rgba(0, 0, 0, 0.5), 0 0 100px rgba(0, 0, 0, 0.3)":"0 1px 3px rgba(0, 0, 0, 0.1), 0 30px 60px rgba(0, 0, 0, 0.1)"}},children:Fe.jsxs(gn,{sx:{flex:1,position:"relative",p:1,minHeight:0},children:[Fe.jsxs(gn,{sx:{position:"absolute",top:Tr?50:16,left:16,zIndex:1e3,display:"flex",alignItems:"center",gap:1},children:[vn.includes("Gas")&&En&&Fe.jsx(qn,{variant:"caption",sx:{px:1.5,py:.5,borderRadius:1,backgroundColor:xn(ct.palette.info.main,.1),color:ct.palette.info.main,fontWeight:500,backdropFilter:"blur(8px)",border:`1px solid ${xn(ct.palette.info.main,.2)}`},children:En}),Jn&&Fe.jsxs(gn,{sx:{display:"flex",alignItems:"center",gap:.5,px:1.5,py:.5,borderRadius:20,backgroundColor:xn(ct.palette.success.main,.1),border:`1px solid ${xn(ct.palette.success.main,.3)}`,backdropFilter:"blur(8px)"},children:[Fe.jsx(gn,{sx:{width:6,height:6,borderRadius:"50%",backgroundColor:ct.palette.success.main,animation:"pulse 2s infinite"}}),Fe.jsx(qn,{variant:"caption",sx:{color:ct.palette.success.main,fontWeight:600,fontSize:"0.75rem"},children:"LIVE"})]})]}),Fe.jsx(Pp,{data:ba,themeColors:{background:"transparent",paper:"transparent",text:ct.palette.text.primary,textSecondary:ct.palette.text.secondary,border:ct.palette.divider,primary:ct.palette.primary.main},height:"100%",properties:ye,isPolling:Jn,isRealTime:Jn,pollingInterval:ta,onPoll:hl,regulatoryLine:vn.includes("Gas")?pl():null,demoMode:It,selectedMeasurement:vn,showLegend:Tr},`line-chart-${It?"demo":"normal"}`)]})}),vn.includes("Gas")&&Fe.jsx(Xp,{violations:Xa,currentRegulations:Mn,selectedRegulatoryTemplate:En,themeColors:ua,isVisible:Xa.length>0})]}):aa==="table"?Fe.jsx(Tp,{data:ba,themeColors:ua}):Fe.jsx(gn,{sx:{height:300,backgroundColor:ua.background,display:"flex",alignItems:"center",justifyContent:"center",border:`1px solid ${ua.border}`,borderRadius:1,color:ua.textSecondary},children:Fe.jsxs(qn,{children:[aa," visualization would appear here in a real implementation"]})}):Fe.jsxs(gn,{sx:Sr.emptyState,children:[Fe.jsx(gn,{sx:{width:200,height:150,display:"flex",alignItems:"center",justifyContent:"center",backgroundImage:"url(/assets/illustrations/data_visualization.svg)",backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat",mb:2}}),Fe.jsx(qn,{variant:"h6",gutterBottom:!0,children:"Create a query."}),Fe.jsx(qn,{variant:"body2",color:ua.textSecondary,children:"Select a measurement to get started"})]})}),Fe.jsxs(gn,{sx:{borderTop:`1px solid ${ua.border}`,backgroundColor:ua.background},children:[Fe.jsx(Fp,{queryResults:ba,viewRawData:Ya,handleToggleRawData:fl,showScriptEditor:Yr,handleToggleScriptEditor:dl,handleRunQuery:Kn,selectedBucket:wt,selectedMeasurement:vn,themeColors:ua,styles:Sr,selectedRegulatoryTemplate:En,onRegulatoryTemplateChange:ra=>Vn(ra.target.value),regulatoryBodies:ar,showRegulationLines:$a,onToggleRegulationLines:ra=>_n(ra.target.checked),showLegend:Tr,onToggleLegend:ra=>Rr(ra.target.checked),regulationViolations:Xa,currentRegulations:Mn,tagFilterValues:on,selectedDataMode:Qt,isRealTime:Jn,onApplyDataMode:ra=>{oo(ra==="realtime")}}),Yr?Fe.jsxs(gn,{sx:{p:2,backgroundColor:ua.paper,color:ua.text,border:`1px solid ${ua.border}`,borderRadius:1,m:2,maxHeight:"30vh",overflow:"auto"},children:[Fe.jsx(qn,{sx:{mb:1,fontSize:14,fontWeight:600,color:ua.textSecondary},children:"Flux Script Editor"}),Fe.jsx(Bi,{multiline:!0,fullWidth:!0,rows:8,value:Da,onChange:ra=>Un(ra.target.value),sx:{backgroundColor:ua.background,borderRadius:1,"& .MuiOutlinedInput-root":{color:ua.text,fontFamily:"monospace",fontSize:14,"& fieldset":{borderColor:ua.border},"&:hover fieldset":{borderColor:ua.primary},"&.Mui-focused fieldset":{borderColor:ua.primary}}}}),Fe.jsxs(gn,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:[Fe.jsx(qr,{variant:"contained",sx:{...Sr.button,...Sr.secondaryButton,mr:1},onClick:Oo,children:"RESET"}),Fe.jsx(qr,{variant:"contained",sx:{...Sr.button,...Sr.primaryButton},onClick:Kn,children:"RUN SCRIPT"})]})]}):Fe.jsx(gn,{sx:Sr.queryBuilderContainer,children:Fe.jsx(Up,{selectedBucket:wt,setSelectedBucket:Yt,REAL_BUCKETS:kp,availableMeasurements:fn,selectedMeasurement:vn,handleMeasurementChange:mo,fieldOptions:sl,selectedFields:ga,setSelectedFields:wa,tagFilterValues:on,handleTagFilterValueChange:Vi,generateTagFilterOptions:cl,selectedMeasurementTags:go,themeColors:ua,styles:Sr,windowPeriodMode:Rn,setWindowPeriodMode:qt,customWindowPeriod:An,setCustomWindowPeriod:Hn,calculatedAutoWindowPeriod:Aa,fillMissingValues:Fr,setFillMissingValues:mi,aggregateFunction:pr,setAggregateFunction:kr,aggregateWindow:$n,setAggregateWindow:Ir,isRealTime:Jn,onRealTimeToggle:oo,pollingInterval:ta,selectedDataMode:Qt,onSelectedDataModeChange:oa,timeRange:Pn,handleTimeRangeChange:ul})})]})]}),Fe.jsxs(dp,{open:Xn,onClose:()=>Ln(!1),children:[Fe.jsx(fp,{children:"Custom Time Range"}),Fe.jsx(hp,{children:Fe.jsxs(pp,{dateAdapter:vp,children:[Fe.jsx(zc,{label:"Start",value:zr,onChange:Hr,slotProps:{textField:{fullWidth:!0,margin:"normal"},actionBar:{actions:["cancel","accept"]},desktopPaper:{sx:{"& .MuiButton-root":{color:ua.primary}}}}}),Fe.jsx(zc,{label:"Stop",value:li,onChange:Er,slotProps:{textField:{fullWidth:!0,margin:"normal"},actionBar:{actions:["cancel","accept"]},desktopPaper:{sx:{"& .MuiButton-root":{color:ua.primary}}}}})]})}),Fe.jsxs(gp,{children:[Fe.jsx(qr,{onClick:()=>Ln(!1),children:"Cancel"}),Fe.jsx(qr,{onClick:()=>{kn("custom"),Ln(!1)},variant:"contained",color:"primary",children:"Apply Time Range"})]})]})]})}function fv(){return Fe.jsxs(Fe.Fragment,{children:[Fe.jsx(xp,{children:Fe.jsx("title",{children:" Trending"})}),Fe.jsx(lv,{})]})}export{fv as default};
